var TF=Object.defineProperty;var IF=(Ve,Wt,wt)=>Wt in Ve?TF(Ve,Wt,{enumerable:!0,configurable:!0,writable:!0,value:wt}):Ve[Wt]=wt;var DF=(Ve,Wt)=>()=>(Wt||Ve((Wt={exports:{}}).exports,Wt),Wt.exports);var qi=(Ve,Wt,wt)=>(IF(Ve,typeof Wt!="symbol"?Wt+"":Wt,wt),wt);import"./bootstrap.bundle.min-aa36eb42.js";var LF=DF((bh,Xl)=>{/*!
 * ApexCharts v3.37.1
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */(function(Ve,Wt){typeof bh=="object"&&typeof Xl<"u"?Xl.exports=Wt():typeof define=="function"&&define.amd?define(Wt):(Ve=typeof globalThis<"u"?globalThis:Ve||self).ApexCharts=Wt()})(globalThis,function(){function Ve($t,h){var d=Object.keys($t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols($t);h&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor($t,C).enumerable})),d.push.apply(d,y)}return d}function Wt($t){for(var h=1;h<arguments.length;h++){var d=arguments[h]!=null?arguments[h]:{};h%2?Ve(Object(d),!0).forEach(function(y){re($t,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties($t,Object.getOwnPropertyDescriptors(d)):Ve(Object(d)).forEach(function(y){Object.defineProperty($t,y,Object.getOwnPropertyDescriptor(d,y))})}return $t}function wt($t){return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},wt($t)}function qt($t,h){if(!($t instanceof h))throw new TypeError("Cannot call a class as a function")}function ke($t,h){for(var d=0;d<h.length;d++){var y=h[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty($t,y.key,y)}}function Jt($t,h,d){return h&&ke($t.prototype,h),d&&ke($t,d),$t}function re($t,h,d){return h in $t?Object.defineProperty($t,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):$t[h]=d,$t}function Zt($t,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");$t.prototype=Object.create(h&&h.prototype,{constructor:{value:$t,writable:!0,configurable:!0}}),h&&yt($t,h)}function Bt($t){return Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},Bt($t)}function yt($t,h){return yt=Object.setPrototypeOf||function(d,y){return d.__proto__=y,d},yt($t,h)}function pt($t,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}($t)}function gt($t){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,y=Bt($t);if(h){var C=Bt(this).constructor;d=Reflect.construct(y,arguments,C)}else d=y.apply(this,arguments);return pt(this,d)}}function ft($t,h){return function(d){if(Array.isArray(d))return d}($t)||function(d,y){var C=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(C!=null){var M,N,P=[],V=!0,G=!1;try{for(C=C.call(d);!(V=(M=C.next()).done)&&(P.push(M.value),!y||P.length!==y);V=!0);}catch(K){G=!0,N=K}finally{try{V||C.return==null||C.return()}finally{if(G)throw N}}return P}}($t,h)||Mt($t,h)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function It($t){return function(h){if(Array.isArray(h))return Ct(h)}($t)||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}($t)||Mt($t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mt($t,h){if($t){if(typeof $t=="string")return Ct($t,h);var d=Object.prototype.toString.call($t).slice(8,-1);return d==="Object"&&$t.constructor&&(d=$t.constructor.name),d==="Map"||d==="Set"?Array.from($t):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Ct($t,h):void 0}}function Ct($t,h){(h==null||h>$t.length)&&(h=$t.length);for(var d=0,y=new Array(h);d<h;d++)y[d]=$t[d];return y}var ct=function(){function $t(){qt(this,$t)}return Jt($t,[{key:"shadeRGBColor",value:function(h,d){var y=d.split(","),C=h<0?0:255,M=h<0?-1*h:h,N=parseInt(y[0].slice(4),10),P=parseInt(y[1],10),V=parseInt(y[2],10);return"rgb("+(Math.round((C-N)*M)+N)+","+(Math.round((C-P)*M)+P)+","+(Math.round((C-V)*M)+V)+")"}},{key:"shadeHexColor",value:function(h,d){var y=parseInt(d.slice(1),16),C=h<0?0:255,M=h<0?-1*h:h,N=y>>16,P=y>>8&255,V=255&y;return"#"+(16777216+65536*(Math.round((C-N)*M)+N)+256*(Math.round((C-P)*M)+P)+(Math.round((C-V)*M)+V)).toString(16).slice(1)}},{key:"shadeColor",value:function(h,d){return $t.isColorHex(d)?this.shadeHexColor(h,d):this.shadeRGBColor(h,d)}}],[{key:"bind",value:function(h,d){return function(){return h.apply(d,arguments)}}},{key:"isObject",value:function(h){return h&&wt(h)==="object"&&!Array.isArray(h)&&h!=null}},{key:"is",value:function(h,d){return Object.prototype.toString.call(d)==="[object "+h+"]"}},{key:"listToArray",value:function(h){var d,y=[];for(d=0;d<h.length;d++)y[d]=h[d];return y}},{key:"extend",value:function(h,d){var y=this;typeof Object.assign!="function"&&(Object.assign=function(M){if(M==null)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(M),P=1;P<arguments.length;P++){var V=arguments[P];if(V!=null)for(var G in V)V.hasOwnProperty(G)&&(N[G]=V[G])}return N});var C=Object.assign({},h);return this.isObject(h)&&this.isObject(d)&&Object.keys(d).forEach(function(M){y.isObject(d[M])&&M in h?C[M]=y.extend(h[M],d[M]):Object.assign(C,re({},M,d[M]))}),C}},{key:"extendArray",value:function(h,d){var y=[];return h.map(function(C){y.push($t.extend(d,C))}),h=y}},{key:"monthMod",value:function(h){return h%12}},{key:"clone",value:function(h){if($t.is("Array",h)){for(var d=[],y=0;y<h.length;y++)d[y]=this.clone(h[y]);return d}if($t.is("Null",h))return null;if($t.is("Date",h))return h;if(wt(h)==="object"){var C={};for(var M in h)h.hasOwnProperty(M)&&(C[M]=this.clone(h[M]));return C}return h}},{key:"log10",value:function(h){return Math.log(h)/Math.LN10}},{key:"roundToBase10",value:function(h){return Math.pow(10,Math.floor(Math.log10(h)))}},{key:"roundToBase",value:function(h,d){return Math.pow(d,Math.floor(Math.log(h)/Math.log(d)))}},{key:"parseNumber",value:function(h){return h===null?h:parseFloat(h)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(h){var d=String(h).split(/[eE]/);if(d.length===1)return d[0];var y="",C=h<0?"-":"",M=d[0].replace(".",""),N=Number(d[1])+1;if(N<0){for(y=C+"0.";N++;)y+="0";return y+M.replace(/^-/,"")}for(N-=M.length;N--;)y+="0";return M+y}},{key:"getDimensions",value:function(h){var d=getComputedStyle(h,null),y=h.clientHeight,C=h.clientWidth;return y-=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),[C-=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),y]}},{key:"getBoundingClientRect",value:function(h){var d=h.getBoundingClientRect();return{top:d.top,right:d.right,bottom:d.bottom,left:d.left,width:h.clientWidth,height:h.clientHeight,x:d.left,y:d.top}}},{key:"getLargestStringFromArr",value:function(h){return h.reduce(function(d,y){return Array.isArray(y)&&(y=y.reduce(function(C,M){return C.length>M.length?C:M})),d.length>y.length?d:y},0)}},{key:"hexToRgba",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;h.substring(0,1)!=="#"&&(h="#999999");var y=h.replace("#","");y=y.match(new RegExp("(.{"+y.length/3+"})","g"));for(var C=0;C<y.length;C++)y[C]=parseInt(y[C].length===1?y[C]+y[C]:y[C],16);return d!==void 0&&y.push(d),"rgba("+y.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(h){return parseFloat(h.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(h){return(h=h.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&h.length===4?"#"+("0"+parseInt(h[1],10).toString(16)).slice(-2)+("0"+parseInt(h[2],10).toString(16)).slice(-2)+("0"+parseInt(h[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(h){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(h)}},{key:"getPolygonPos",value:function(h,d){for(var y=[],C=2*Math.PI/d,M=0;M<d;M++){var N={};N.x=h*Math.sin(M*C),N.y=-h*Math.cos(M*C),y.push(N)}return y}},{key:"polarToCartesian",value:function(h,d,y,C){var M=(C-90)*Math.PI/180;return{x:h+y*Math.cos(M),y:d+y*Math.sin(M)}}},{key:"escapeString",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",y=h.toString().slice();return y=y.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,d)}},{key:"negToZero",value:function(h){return h<0?0:h}},{key:"moveIndexInArray",value:function(h,d,y){if(y>=h.length)for(var C=y-h.length+1;C--;)h.push(void 0);return h.splice(y,0,h.splice(d,1)[0]),h}},{key:"extractNumber",value:function(h){return parseFloat(h.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(h,d){for(;(h=h.parentElement)&&!h.classList.contains(d););return h}},{key:"setELstyles",value:function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h.style.key=d[y])}},{key:"isNumber",value:function(h){return!isNaN(h)&&parseFloat(Number(h))===h&&!isNaN(parseInt(h,10))}},{key:"isFloat",value:function(h){return Number(h)===h&&h%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var h=window.navigator.userAgent,d=h.indexOf("MSIE ");if(d>0)return parseInt(h.substring(d+5,h.indexOf(".",d)),10);if(h.indexOf("Trident/")>0){var y=h.indexOf("rv:");return parseInt(h.substring(y+3,h.indexOf(".",y)),10)}var C=h.indexOf("Edge/");return C>0&&parseInt(h.substring(C+5,h.indexOf(".",C)),10)}}]),$t}(),te=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.setEasingFunctions()}return Jt($t,[{key:"setEasingFunctions",value:function(){var h;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":h="-";break;case"easein":h="<";break;case"easeout":h=">";break;case"easeinout":default:h="<>";break;case"swing":h=function(d){var y=1.70158;return(d-=1)*d*((y+1)*d+y)+1};break;case"bounce":h=function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375};break;case"elastic":h=function(d){return d===!!d?d:Math.pow(2,-10*d)*Math.sin((d-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=h}}},{key:"animateLine",value:function(h,d,y,C){h.attr(d).animate(C).attr(y)}},{key:"animateMarker",value:function(h,d,y,C,M,N){d||(d=0),h.attr({r:d,width:d,height:d}).animate(C,M).attr({r:y,width:y.width,height:y.height}).afterAll(function(){N()})}},{key:"animateCircle",value:function(h,d,y,C,M){h.attr({r:d.r,cx:d.cx,cy:d.cy}).animate(C,M).attr({r:y.r,cx:y.cx,cy:y.cy})}},{key:"animateRect",value:function(h,d,y,C,M){h.attr(d).animate(C).attr(y).afterAll(function(){return M()})}},{key:"animatePathsGradually",value:function(h){var d=h.el,y=h.realIndex,C=h.j,M=h.fill,N=h.pathFrom,P=h.pathTo,V=h.speed,G=h.delay,K=this.w,J=0;K.config.chart.animations.animateGradually.enabled&&(J=K.config.chart.animations.animateGradually.delay),K.config.chart.animations.dynamicAnimation.enabled&&K.globals.dataChanged&&K.config.chart.type!=="bar"&&(J=0),this.morphSVG(d,y,C,K.config.chart.type!=="line"||K.globals.comboCharts?M:"stroke",N,P,V,G*J)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(h){h.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(h){var d=this.w;d.globals.animationEnded||(d.globals.animationEnded=!0,this.showDelayedElements(),typeof d.config.chart.events.animationEnd=="function"&&d.config.chart.events.animationEnd(this.ctx,{el:h,w:d}))}},{key:"morphSVG",value:function(h,d,y,C,M,N,P,V){var G=this,K=this.w;M||(M=h.attr("pathFrom")),N||(N=h.attr("pathTo"));var J=function(rt){return K.config.chart.type==="radar"&&(P=1),"M 0 ".concat(K.globals.gridHeight)};(!M||M.indexOf("undefined")>-1||M.indexOf("NaN")>-1)&&(M=J()),(!N||N.indexOf("undefined")>-1||N.indexOf("NaN")>-1)&&(N=J()),K.globals.shouldAnimate||(P=1),h.plot(M).animate(1,K.globals.easing,V).plot(M).animate(P,K.globals.easing,V).plot(N).afterAll(function(){ct.isNumber(y)?y===K.globals.series[K.globals.maxValsInArrayIndex].length-2&&K.globals.shouldAnimate&&G.animationCompleted(h):C!=="none"&&K.globals.shouldAnimate&&(!K.globals.comboCharts&&d===K.globals.series.length-1||K.globals.comboCharts)&&G.animationCompleted(h),G.showDelayedElements()})}}]),$t}(),At=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"getDefaultFilter",value:function(h,d){var y=this.w;h.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),y.config.states.normal.filter!=="none"?this.applyFilter(h,d,y.config.states.normal.filter.type,y.config.states.normal.filter.value):y.config.chart.dropShadow.enabled&&this.dropShadow(h,y.config.chart.dropShadow,d)}},{key:"addNormalFilter",value:function(h,d){var y=this.w;y.config.chart.dropShadow.enabled&&!h.node.classList.contains("apexcharts-marker")&&this.dropShadow(h,y.config.chart.dropShadow,d)}},{key:"addLightenFilter",value:function(h,d,y){var C=this,M=this.w,N=y.intensity;h.unfilter(!0),new window.SVG.Filter,h.filter(function(P){var V=M.config.chart.dropShadow;(V.enabled?C.addShadow(P,d,V):P).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:N}})}),h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)}},{key:"addDarkenFilter",value:function(h,d,y){var C=this,M=this.w,N=y.intensity;h.unfilter(!0),new window.SVG.Filter,h.filter(function(P){var V=M.config.chart.dropShadow;(V.enabled?C.addShadow(P,d,V):P).componentTransfer({rgb:{type:"linear",slope:N}})}),h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)}},{key:"applyFilter",value:function(h,d,y){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(y){case"none":this.addNormalFilter(h,d);break;case"lighten":this.addLightenFilter(h,d,{intensity:C});break;case"darken":this.addDarkenFilter(h,d,{intensity:C})}}},{key:"addShadow",value:function(h,d,y){var C=y.blur,M=y.top,N=y.left,P=y.color,V=y.opacity,G=h.flood(Array.isArray(P)?P[d]:P,V).composite(h.sourceAlpha,"in").offset(N,M).gaussianBlur(C).merge(h.source);return h.blend(h.source,G)}},{key:"dropShadow",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=d.top,M=d.left,N=d.blur,P=d.color,V=d.opacity,G=d.noUserSpaceOnUse,K=this.w;return h.unfilter(!0),ct.isIE()&&K.config.chart.type==="radialBar"||(P=Array.isArray(P)?P[y]:P,h.filter(function(J){var rt=null;rt=ct.isSafari()||ct.isFirefox()||ct.isIE()?J.flood(P,V).composite(J.sourceAlpha,"in").offset(M,C).gaussianBlur(N):J.flood(P,V).composite(J.sourceAlpha,"in").offset(M,C).gaussianBlur(N).merge(J.source),J.blend(J.source,rt)}),G||h.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(h.filterer.node)),h}},{key:"setSelectionFilter",value:function(h,d,y){var C=this.w;if(C.globals.selectedDataPoints[d]!==void 0&&C.globals.selectedDataPoints[d].indexOf(y)>-1){h.node.setAttribute("selected",!0);var M=C.config.states.active.filter;M!=="none"&&this.applyFilter(h,d,M.type,M.value)}}},{key:"_scaleFilterSize",value:function(h){(function(d){for(var y in d)d.hasOwnProperty(y)&&h.setAttribute(y,d[y])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),$t}(),Ft=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"roundPathCorners",value:function(h,d){function y(xe,an,Qe){var On=an.x-xe.x,Pn=an.y-xe.y,ii=Math.sqrt(On*On+Pn*Pn);return C(xe,an,Math.min(1,Qe/ii))}function C(xe,an,Qe){return{x:xe.x+(an.x-xe.x)*Qe,y:xe.y+(an.y-xe.y)*Qe}}function M(xe,an){xe.length>2&&(xe[xe.length-2]=an.x,xe[xe.length-1]=an.y)}function N(xe){return{x:parseFloat(xe[xe.length-2]),y:parseFloat(xe[xe.length-1])}}var P=h.split(/[,\s]/).reduce(function(xe,an){var Qe=an.match("([a-zA-Z])(.+)");return Qe?(xe.push(Qe[1]),xe.push(Qe[2])):xe.push(an),xe},[]).reduce(function(xe,an){return parseFloat(an)==an&&xe.length?xe[xe.length-1].push(an):xe.push([an]),xe},[]),V=[];if(P.length>1){var G=N(P[0]),K=null;P[P.length-1][0]=="Z"&&P[0].length>2&&(K=["L",G.x,G.y],P[P.length-1]=K),V.push(P[0]);for(var J=1;J<P.length;J++){var rt=V[V.length-1],vt=P[J],Lt=vt==K?P[1]:P[J+1];if(Lt&&rt&&rt.length>2&&vt[0]=="L"&&Lt.length>2&&Lt[0]=="L"){var Et,Qt,ue=N(rt),Ce=N(vt),de=N(Lt);Et=y(Ce,ue,d),Qt=y(Ce,de,d),M(vt,Et),vt.origPoint=Ce,V.push(vt);var Y=C(Et,Ce,.5),ot=C(Ce,Qt,.5),zt=["C",Y.x,Y.y,ot.x,ot.y,Qt.x,Qt.y];zt.origPoint=Ce,V.push(zt)}else V.push(vt)}if(K){var jt=N(V[V.length-1]);V.push(["Z"]),M(V[0],jt)}}else V=P;return V.reduce(function(xe,an){return xe+an.join(" ")+" "},"")}},{key:"drawLine",value:function(h,d,y,C){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",N=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,P=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,V=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt",G=this.w,K=G.globals.dom.Paper.line().attr({x1:h,y1:d,x2:y,y2:C,stroke:M,"stroke-dasharray":N,"stroke-width":P,"stroke-linecap":V});return K}},{key:"drawRect",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,N=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",P=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,V=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,G=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,K=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,J=this.w,rt=J.globals.dom.Paper.rect();return rt.attr({x:h,y:d,width:y>0?y:0,height:C>0?C:0,rx:M,ry:M,opacity:P,"stroke-width":V!==null?V:0,stroke:G!==null?G:"none","stroke-dasharray":K}),rt.node.setAttribute("fill",N),rt}},{key:"drawPolygon",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",M=this.w,N=M.globals.dom.Paper.polygon(h).attr({fill:C,stroke:d,"stroke-width":y});return N}},{key:"drawCircle",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=this.w;h<0&&(h=0);var C=y.globals.dom.Paper.circle(2*h);return d!==null&&C.attr(d),C}},{key:"drawPath",value:function(h){var d=h.d,y=d===void 0?"":d,C=h.stroke,M=C===void 0?"#a8a8a8":C,N=h.strokeWidth,P=N===void 0?1:N,V=h.fill,G=h.fillOpacity,K=G===void 0?1:G,J=h.strokeOpacity,rt=J===void 0?1:J,vt=h.classes,Lt=h.strokeLinecap,Et=Lt===void 0?null:Lt,Qt=h.strokeDashArray,ue=Qt===void 0?0:Qt,Ce=this.w;return Et===null&&(Et=Ce.config.stroke.lineCap),(y.indexOf("undefined")>-1||y.indexOf("NaN")>-1)&&(y="M 0 ".concat(Ce.globals.gridHeight)),Ce.globals.dom.Paper.path(y).attr({fill:V,"fill-opacity":K,stroke:M,"stroke-opacity":rt,"stroke-linecap":Et,"stroke-width":P,"stroke-dasharray":ue,class:vt})}},{key:"group",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=this.w,y=d.globals.dom.Paper.group();return h!==null&&y.attr(h),y}},{key:"move",value:function(h,d){var y=["M",h,d].join(" ");return y}},{key:"line",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=null;return y===null?C=[" L",h,d].join(" "):y==="H"?C=[" H",h].join(" "):y==="V"&&(C=[" V",d].join(" ")),C}},{key:"curve",value:function(h,d,y,C,M,N){var P=["C",h,d,y,C,M,N].join(" ");return P}},{key:"quadraticCurve",value:function(h,d,y,C){return["Q",h,d,y,C].join(" ")}},{key:"arc",value:function(h,d,y,C,M,N,P){var V=arguments.length>7&&arguments[7]!==void 0&&arguments[7],G="A";V&&(G="a");var K=[G,h,d,y,C,M,N,P].join(" ");return K}},{key:"renderPaths",value:function(h){var d,y=h.j,C=h.realIndex,M=h.pathFrom,N=h.pathTo,P=h.stroke,V=h.strokeWidth,G=h.strokeLinecap,K=h.fill,J=h.animationDelay,rt=h.initialSpeed,vt=h.dataChangeSpeed,Lt=h.className,Et=h.shouldClipToGrid,Qt=Et===void 0||Et,ue=h.bindEventsOnPaths,Ce=ue===void 0||ue,de=h.drawShadow,Y=de===void 0||de,ot=this.w,zt=new At(this.ctx),jt=new te(this.ctx),xe=this.w.config.chart.animations.enabled,an=xe&&this.w.config.chart.animations.dynamicAnimation.enabled,Qe=!!(xe&&!ot.globals.resized||an&&ot.globals.dataChanged&&ot.globals.shouldAnimate);Qe?d=M:(d=N,ot.globals.animationEnded=!0);var On=ot.config.stroke.dashArray,Pn=0;Pn=Array.isArray(On)?On[C]:ot.config.stroke.dashArray;var ii=this.drawPath({d,stroke:P,strokeWidth:V,fill:K,fillOpacity:1,classes:Lt,strokeLinecap:G,strokeDashArray:Pn});if(ii.attr("index",C),Qt&&ii.attr({"clip-path":"url(#gridRectMask".concat(ot.globals.cuid,")")}),ot.config.states.normal.filter.type!=="none")zt.getDefaultFilter(ii,C);else if(ot.config.chart.dropShadow.enabled&&Y&&(!ot.config.chart.dropShadow.enabledOnSeries||ot.config.chart.dropShadow.enabledOnSeries&&ot.config.chart.dropShadow.enabledOnSeries.indexOf(C)!==-1)){var ri=ot.config.chart.dropShadow;zt.dropShadow(ii,ri,C)}Ce&&(ii.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ii)),ii.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ii)),ii.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ii))),ii.attr({pathTo:N,pathFrom:M});var Wi={el:ii,j:y,realIndex:C,pathFrom:M,pathTo:N,fill:K,strokeWidth:V,delay:J};return!xe||ot.globals.resized||ot.globals.dataChanged?!ot.globals.resized&&ot.globals.dataChanged||jt.showDelayedElements():jt.animatePathsGradually(Wt(Wt({},Wi),{},{speed:rt})),ot.globals.dataChanged&&an&&Qe&&jt.animatePathsGradually(Wt(Wt({},Wi),{},{speed:vt})),ii}},{key:"drawPattern",value:function(h,d,y){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,N=this.w,P=N.globals.dom.Paper.pattern(d,y,function(V){h==="horizontalLines"?V.line(0,0,y,0).stroke({color:C,width:M+1}):h==="verticalLines"?V.line(0,0,0,d).stroke({color:C,width:M+1}):h==="slantedLines"?V.line(0,0,d,y).stroke({color:C,width:M}):h==="squares"?V.rect(d,y).fill("none").stroke({color:C,width:M}):h==="circles"&&V.circle(d).fill("none").stroke({color:C,width:M})});return P}},{key:"drawGradient",value:function(h,d,y,C,M){var N,P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,V=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,G=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,K=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,J=this.w;d.length<9&&d.indexOf("#")===0&&(d=ct.hexToRgba(d,C)),y.length<9&&y.indexOf("#")===0&&(y=ct.hexToRgba(y,M));var rt=0,vt=1,Lt=1,Et=null;V!==null&&(rt=V[0]!==void 0?V[0]/100:0,vt=V[1]!==void 0?V[1]/100:1,Lt=V[2]!==void 0?V[2]/100:1,Et=V[3]!==void 0?V[3]/100:null);var Qt=!(J.config.chart.type!=="donut"&&J.config.chart.type!=="pie"&&J.config.chart.type!=="polarArea"&&J.config.chart.type!=="bubble");if(N=G===null||G.length===0?J.globals.dom.Paper.gradient(Qt?"radial":"linear",function(de){de.at(rt,d,C),de.at(vt,y,M),de.at(Lt,y,M),Et!==null&&de.at(Et,d,C)}):J.globals.dom.Paper.gradient(Qt?"radial":"linear",function(de){(Array.isArray(G[K])?G[K]:G).forEach(function(Y){de.at(Y.offset/100,Y.color,Y.opacity)})}),Qt){var ue=J.globals.gridWidth/2,Ce=J.globals.gridHeight/2;J.config.chart.type!=="bubble"?N.attr({gradientUnits:"userSpaceOnUse",cx:ue,cy:Ce,r:P}):N.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else h==="vertical"?N.from(0,0).to(0,1):h==="diagonal"?N.from(0,0).to(1,1):h==="horizontal"?N.from(0,1).to(1,1):h==="diagonal2"&&N.from(1,0).to(0,1);return N}},{key:"getTextBasedOnMaxWidth",value:function(h){var d=h.text,y=h.maxWidth,C=h.fontSize,M=h.fontFamily,N=this.getTextRects(d,C,M),P=N.width/d.length,V=Math.floor(y/P);return y<N.width?d.slice(0,V-3)+"...":d}},{key:"drawText",value:function(h){var d=this,y=h.x,C=h.y,M=h.text,N=h.textAnchor,P=h.fontSize,V=h.fontFamily,G=h.fontWeight,K=h.foreColor,J=h.opacity,rt=h.maxWidth,vt=h.cssClass,Lt=vt===void 0?"":vt,Et=h.isPlainText,Qt=Et===void 0||Et,ue=this.w;M===void 0&&(M="");var Ce=M;N||(N="start"),K&&K.length||(K=ue.config.chart.foreColor),V=V||ue.config.chart.fontFamily,G=G||"regular";var de,Y={maxWidth:rt,fontSize:P=P||"11px",fontFamily:V};return Array.isArray(M)?de=ue.globals.dom.Paper.text(function(ot){for(var zt=0;zt<M.length;zt++)Ce=M[zt],rt&&(Ce=d.getTextBasedOnMaxWidth(Wt({text:M[zt]},Y))),zt===0?ot.tspan(Ce):ot.tspan(Ce).newLine()}):(rt&&(Ce=this.getTextBasedOnMaxWidth(Wt({text:M},Y))),de=Qt?ue.globals.dom.Paper.plain(M):ue.globals.dom.Paper.text(function(ot){return ot.tspan(Ce)})),de.attr({x:y,y:C,"text-anchor":N,"dominant-baseline":"auto","font-size":P,"font-family":V,"font-weight":G,fill:K,class:"apexcharts-text "+Lt}),de.node.style.fontFamily=V,de.node.style.opacity=J,de}},{key:"drawMarker",value:function(h,d,y){h=h||0;var C=y.pSize||0,M=null;if(y.shape==="square"||y.shape==="rect"){var N=y.pRadius===void 0?C/2:y.pRadius;d!==null&&C||(C=0,N=0);var P=1.2*C+N,V=this.drawRect(P,P,P,P,N);V.attr({x:h-P/2,y:d-P/2,cx:h,cy:d,class:y.class?y.class:"",fill:y.pointFillColor,"fill-opacity":y.pointFillOpacity?y.pointFillOpacity:1,stroke:y.pointStrokeColor,"stroke-width":y.pointStrokeWidth?y.pointStrokeWidth:0,"stroke-opacity":y.pointStrokeOpacity?y.pointStrokeOpacity:1}),M=V}else y.shape!=="circle"&&y.shape||(ct.isNumber(d)||(C=0,d=0),M=this.drawCircle(C,{cx:h,cy:d,class:y.class?y.class:"",stroke:y.pointStrokeColor,fill:y.pointFillColor,"fill-opacity":y.pointFillOpacity?y.pointFillOpacity:1,"stroke-width":y.pointStrokeWidth?y.pointStrokeWidth:0,"stroke-opacity":y.pointStrokeOpacity?y.pointStrokeOpacity:1}));return M}},{key:"pathMouseEnter",value:function(h,d){var y=this.w,C=new At(this.ctx),M=parseInt(h.node.getAttribute("index"),10),N=parseInt(h.node.getAttribute("j"),10);if(typeof y.config.chart.events.dataPointMouseEnter=="function"&&y.config.chart.events.dataPointMouseEnter(d,this.ctx,{seriesIndex:M,dataPointIndex:N,w:y}),this.ctx.events.fireEvent("dataPointMouseEnter",[d,this.ctx,{seriesIndex:M,dataPointIndex:N,w:y}]),(y.config.states.active.filter.type==="none"||h.node.getAttribute("selected")!=="true")&&y.config.states.hover.filter.type!=="none"&&!y.globals.isTouchDevice){var P=y.config.states.hover.filter;C.applyFilter(h,M,P.type,P.value)}}},{key:"pathMouseLeave",value:function(h,d){var y=this.w,C=new At(this.ctx),M=parseInt(h.node.getAttribute("index"),10),N=parseInt(h.node.getAttribute("j"),10);typeof y.config.chart.events.dataPointMouseLeave=="function"&&y.config.chart.events.dataPointMouseLeave(d,this.ctx,{seriesIndex:M,dataPointIndex:N,w:y}),this.ctx.events.fireEvent("dataPointMouseLeave",[d,this.ctx,{seriesIndex:M,dataPointIndex:N,w:y}]),y.config.states.active.filter.type!=="none"&&h.node.getAttribute("selected")==="true"||y.config.states.hover.filter.type!=="none"&&C.getDefaultFilter(h,M)}},{key:"pathMouseDown",value:function(h,d){var y=this.w,C=new At(this.ctx),M=parseInt(h.node.getAttribute("index"),10),N=parseInt(h.node.getAttribute("j"),10),P="false";if(h.node.getAttribute("selected")==="true"){if(h.node.setAttribute("selected","false"),y.globals.selectedDataPoints[M].indexOf(N)>-1){var V=y.globals.selectedDataPoints[M].indexOf(N);y.globals.selectedDataPoints[M].splice(V,1)}}else{if(!y.config.states.active.allowMultipleDataPointsSelection&&y.globals.selectedDataPoints.length>0){y.globals.selectedDataPoints=[];var G=y.globals.dom.Paper.select(".apexcharts-series path").members,K=y.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,J=function(Lt){Array.prototype.forEach.call(Lt,function(Et){Et.node.setAttribute("selected","false"),C.getDefaultFilter(Et,M)})};J(G),J(K)}h.node.setAttribute("selected","true"),P="true",y.globals.selectedDataPoints[M]===void 0&&(y.globals.selectedDataPoints[M]=[]),y.globals.selectedDataPoints[M].push(N)}if(P==="true"){var rt=y.config.states.active.filter;if(rt!=="none")C.applyFilter(h,M,rt.type,rt.value);else if(y.config.states.hover.filter!=="none"&&!y.globals.isTouchDevice){var vt=y.config.states.hover.filter;C.applyFilter(h,M,vt.type,vt.value)}}else y.config.states.active.filter.type!=="none"&&(y.config.states.hover.filter.type==="none"||y.globals.isTouchDevice?C.getDefaultFilter(h,M):(vt=y.config.states.hover.filter,C.applyFilter(h,M,vt.type,vt.value)));typeof y.config.chart.events.dataPointSelection=="function"&&y.config.chart.events.dataPointSelection(d,this.ctx,{selectedDataPoints:y.globals.selectedDataPoints,seriesIndex:M,dataPointIndex:N,w:y}),d&&this.ctx.events.fireEvent("dataPointSelection",[d,this.ctx,{selectedDataPoints:y.globals.selectedDataPoints,seriesIndex:M,dataPointIndex:N,w:y}])}},{key:"rotateAroundCenter",value:function(h){var d={};return h&&typeof h.getBBox=="function"&&(d=h.getBBox()),{x:d.x+d.width/2,y:d.y+d.height/2}}},{key:"getTextRects",value:function(h,d,y,C){var M=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],N=this.w,P=this.drawText({x:-200,y:-200,text:h,textAnchor:"start",fontSize:d,fontFamily:y,foreColor:"#fff",opacity:0});C&&P.attr("transform",C),N.globals.dom.Paper.add(P);var V=P.bbox();return M||(V=P.node.getBoundingClientRect()),P.remove(),{width:V.width,height:V.height}}},{key:"placeTextWithEllipsis",value:function(h,d,y){if(typeof h.getComputedTextLength=="function"&&(h.textContent=d,d.length>0&&h.getComputedTextLength()>=y/1.1)){for(var C=d.length-3;C>0;C-=3)if(h.getSubStringLength(0,C)<=y/1.1)return void(h.textContent=d.substring(0,C)+"...");h.textContent="."}}}],[{key:"setAttrs",value:function(h,d){for(var y in d)d.hasOwnProperty(y)&&h.setAttribute(y,d[y])}}]),$t}(),Kt=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"getStackedSeriesTotals",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=this.w,y=[];if(d.globals.series.length===0)return y;for(var C=0;C<d.globals.series[d.globals.maxValsInArrayIndex].length;C++){for(var M=0,N=0;N<d.globals.series.length;N++)d.globals.series[N][C]!==void 0&&h.indexOf(N)===-1&&(M+=d.globals.series[N][C]);y.push(M)}return y}},{key:"getSeriesTotalByIndex",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return h===null?this.w.config.series.reduce(function(d,y){return d+y},0):this.w.globals.series[h].reduce(function(d,y){return d+y},0)}},{key:"isSeriesNull",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(h===null?this.w.config.series.filter(function(d){return d!==null}):this.w.config.series[h].data.filter(function(d){return d!==null})).length===0}},{key:"seriesHaveSameValues",value:function(h){return this.w.globals.series[h].every(function(d,y,C){return d===C[0]})}},{key:"getCategoryLabels",value:function(h){var d=this.w,y=h.slice();return d.config.xaxis.convertedCatToNumeric&&(y=h.map(function(C,M){return d.config.xaxis.labels.formatter(C-d.globals.minX+1)})),y}},{key:"getLargestSeries",value:function(){var h=this.w;h.globals.maxValsInArrayIndex=h.globals.series.map(function(d){return d.length}).indexOf(Math.max.apply(Math,h.globals.series.map(function(d){return d.length})))}},{key:"getLargestMarkerSize",value:function(){var h=this.w,d=0;return h.globals.markers.size.forEach(function(y){d=Math.max(d,y)}),h.config.markers.discrete&&h.config.markers.discrete.length&&h.config.markers.discrete.forEach(function(y){d=Math.max(d,y.size)}),d>0&&(d+=h.config.markers.hover.sizeOffset+1),h.globals.markers.largestSize=d,d}},{key:"getSeriesTotals",value:function(){var h=this.w;h.globals.seriesTotals=h.globals.series.map(function(d,y){var C=0;if(Array.isArray(d))for(var M=0;M<d.length;M++)C+=d[M];else C+=d;return C})}},{key:"getSeriesTotalsXRange",value:function(h,d){var y=this.w;return y.globals.series.map(function(C,M){for(var N=0,P=0;P<C.length;P++)y.globals.seriesX[M][P]>h&&y.globals.seriesX[M][P]<d&&(N+=C[P]);return N})}},{key:"getPercentSeries",value:function(){var h=this.w;h.globals.seriesPercent=h.globals.series.map(function(d,y){var C=[];if(Array.isArray(d))for(var M=0;M<d.length;M++){var N=h.globals.stackedSeriesTotals[M],P=0;N&&(P=100*d[M]/N),C.push(P)}else{var V=100*d/h.globals.seriesTotals.reduce(function(G,K){return G+K},0);C.push(V)}return C})}},{key:"getCalculatedRatios",value:function(){var h,d,y,C,M=this.w.globals,N=[],P=0,V=[],G=.1,K=0;if(M.yRange=[],M.isMultipleYAxis)for(var J=0;J<M.minYArr.length;J++)M.yRange.push(Math.abs(M.minYArr[J]-M.maxYArr[J])),V.push(0);else M.yRange.push(Math.abs(M.minY-M.maxY));M.xRange=Math.abs(M.maxX-M.minX),M.zRange=Math.abs(M.maxZ-M.minZ);for(var rt=0;rt<M.yRange.length;rt++)N.push(M.yRange[rt]/M.gridHeight);if(d=M.xRange/M.gridWidth,y=Math.abs(M.initialMaxX-M.initialMinX)/M.gridWidth,h=M.yRange/M.gridWidth,C=M.xRange/M.gridHeight,(P=M.zRange/M.gridHeight*16)||(P=1),M.minY!==Number.MIN_VALUE&&Math.abs(M.minY)!==0&&(M.hasNegs=!0),M.isMultipleYAxis){V=[];for(var vt=0;vt<N.length;vt++)V.push(-M.minYArr[vt]/N[vt])}else V.push(-M.minY/N[0]),M.minY!==Number.MIN_VALUE&&Math.abs(M.minY)!==0&&(G=-M.minY/h,K=M.minX/d);return{yRatio:N,invertedYRatio:h,zRatio:P,xRatio:d,initialXRatio:y,invertedXRatio:C,baseLineInvertedY:G,baseLineY:V,baseLineX:K}}},{key:"getLogSeries",value:function(h){var d=this,y=this.w;return y.globals.seriesLog=h.map(function(C,M){return y.config.yaxis[M]&&y.config.yaxis[M].logarithmic?C.map(function(N){return N===null?null:d.getLogVal(y.config.yaxis[M].logBase,N,M)}):C}),y.globals.invalidLogScale?h:y.globals.seriesLog}},{key:"getBaseLog",value:function(h,d){return Math.log(d)/Math.log(h)}},{key:"getLogVal",value:function(h,d,y){if(d===0)return 0;var C=this.w,M=C.globals.minYArr[y]===0?-1:this.getBaseLog(h,C.globals.minYArr[y]),N=(C.globals.maxYArr[y]===0?0:this.getBaseLog(h,C.globals.maxYArr[y]))-M;return d<1?d/N:(this.getBaseLog(h,d)-M)/N}},{key:"getLogYRatios",value:function(h){var d=this,y=this.w,C=this.w.globals;return C.yLogRatio=h.slice(),C.logYRange=C.yRange.map(function(M,N){if(y.config.yaxis[N]&&d.w.config.yaxis[N].logarithmic){var P,V=-Number.MAX_VALUE,G=Number.MIN_VALUE;return C.seriesLog.forEach(function(K,J){K.forEach(function(rt){y.config.yaxis[J]&&y.config.yaxis[J].logarithmic&&(V=Math.max(rt,V),G=Math.min(rt,G))})}),P=Math.pow(C.yRange[N],Math.abs(G-V)/C.yRange[N]),C.yLogRatio[N]=P/C.gridHeight,P}}),C.invalidLogScale?h.slice():C.yLogRatio}}],[{key:"checkComboSeries",value:function(h){var d=!1,y=0,C=0;return h.length&&h[0].type!==void 0&&h.forEach(function(M){M.type!=="bar"&&M.type!=="column"&&M.type!=="candlestick"&&M.type!=="boxPlot"||y++,M.type!==void 0&&C++}),C>0&&(d=!0),{comboBarCount:y,comboCharts:d}}},{key:"extendArrayProps",value:function(h,d,y){return d.yaxis&&(d=h.extendYAxis(d,y)),d.annotations&&(d.annotations.yaxis&&(d=h.extendYAxisAnnotations(d)),d.annotations.xaxis&&(d=h.extendXAxisAnnotations(d)),d.annotations.points&&(d=h.extendPointAnnotations(d))),d}}]),$t}(),se=function(){function $t(h){qt(this,$t),this.w=h.w,this.annoCtx=h}return Jt($t,[{key:"setOrientations",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=this.w;if(h.label.orientation==="vertical"){var C=d!==null?d:0,M=y.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(C,"']"));if(M!==null){var N=M.getBoundingClientRect();M.setAttribute("x",parseFloat(M.getAttribute("x"))-N.height+4),h.label.position==="top"?M.setAttribute("y",parseFloat(M.getAttribute("y"))+N.width):M.setAttribute("y",parseFloat(M.getAttribute("y"))-N.width);var P=this.annoCtx.graphics.rotateAroundCenter(M),V=P.x,G=P.y;M.setAttribute("transform","rotate(-90 ".concat(V," ").concat(G,")"))}}}},{key:"addBackgroundToAnno",value:function(h,d){var y=this.w;if(!h||d.label.text===void 0||d.label.text!==void 0&&!String(d.label.text).trim())return null;var C=y.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),M=h.getBoundingClientRect(),N=d.label.style.padding.left,P=d.label.style.padding.right,V=d.label.style.padding.top,G=d.label.style.padding.bottom;d.label.orientation==="vertical"&&(V=d.label.style.padding.left,G=d.label.style.padding.right,N=d.label.style.padding.top,P=d.label.style.padding.bottom);var K=M.left-C.left-N,J=M.top-C.top-V,rt=this.annoCtx.graphics.drawRect(K-y.globals.barPadForNumericAxis,J,M.width+N+P,M.height+V+G,d.label.borderRadius,d.label.style.background,1,d.label.borderWidth,d.label.borderColor,0);return d.id&&rt.node.classList.add(d.id),rt}},{key:"annotationsBackground",value:function(){var h=this,d=this.w,y=function(C,M,N){var P=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(N,"-annotations .apexcharts-").concat(N,"-annotation-label[rel='").concat(M,"']"));if(P){var V=P.parentNode,G=h.addBackgroundToAnno(P,C);G&&(V.insertBefore(G.node,P),C.label.mouseEnter&&G.node.addEventListener("mouseenter",C.label.mouseEnter.bind(h,C)),C.label.mouseLeave&&G.node.addEventListener("mouseleave",C.label.mouseLeave.bind(h,C)),C.label.click&&G.node.addEventListener("click",C.label.click.bind(h,C)))}};d.config.annotations.xaxis.map(function(C,M){y(C,M,"xaxis")}),d.config.annotations.yaxis.map(function(C,M){y(C,M,"yaxis")}),d.config.annotations.points.map(function(C,M){y(C,M,"point")})}},{key:"getY1Y2",value:function(h,d){var y,C=h==="y1"?d.y:d.y2,M=this.w;if(this.annoCtx.invertAxis){var N=M.globals.labels.indexOf(C);M.config.xaxis.convertedCatToNumeric&&(N=M.globals.categoryLabels.indexOf(C));var P=M.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(N+1)+")");P&&(y=parseFloat(P.getAttribute("y")))}else{var V;M.config.yaxis[d.yAxisIndex].logarithmic?V=(C=new Kt(this.annoCtx.ctx).getLogVal(C,d.yAxisIndex))/M.globals.yLogRatio[d.yAxisIndex]:V=(C-M.globals.minYArr[d.yAxisIndex])/(M.globals.yRange[d.yAxisIndex]/M.globals.gridHeight),y=M.globals.gridHeight-V,!d.marker||d.y!==void 0&&d.y!==null||(y=0),M.config.yaxis[d.yAxisIndex]&&M.config.yaxis[d.yAxisIndex].reversed&&(y=V)}return typeof C=="string"&&C.indexOf("px")>-1&&(y=parseFloat(C)),y}},{key:"getX1X2",value:function(h,d){var y=this.w,C=this.annoCtx.invertAxis?y.globals.minY:y.globals.minX,M=this.annoCtx.invertAxis?y.globals.maxY:y.globals.maxX,N=this.annoCtx.invertAxis?y.globals.yRange[0]:y.globals.xRange,P=(d.x-C)/(N/y.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(P=(M-d.x)/(N/y.globals.gridWidth)),y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||y.globals.dataFormatXNumeric||(P=this.getStringX(d.x));var V=(d.x2-C)/(N/y.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(V=(M-d.x2)/(N/y.globals.gridWidth)),y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||y.globals.dataFormatXNumeric||(V=this.getStringX(d.x2)),d.x!==void 0&&d.x!==null||!d.marker||(P=y.globals.gridWidth),h==="x1"&&typeof d.x=="string"&&d.x.indexOf("px")>-1&&(P=parseFloat(d.x)),h==="x2"&&typeof d.x2=="string"&&d.x2.indexOf("px")>-1&&(V=parseFloat(d.x2)),h==="x1"?P:V}},{key:"getStringX",value:function(h){var d=this.w,y=h;d.config.xaxis.convertedCatToNumeric&&d.globals.categoryLabels.length&&(h=d.globals.categoryLabels.indexOf(h)+1);var C=d.globals.labels.indexOf(h),M=d.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(C+1)+")");return M&&(y=parseFloat(M.getAttribute("x"))),y}}]),$t}(),Me=function(){function $t(h){qt(this,$t),this.w=h.w,this.annoCtx=h,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new se(this.annoCtx)}return Jt($t,[{key:"addXaxisAnnotation",value:function(h,d,y){var C,M=this.w,N=this.helpers.getX1X2("x1",h),P=h.label.text,V=h.strokeDashArray;if(ct.isNumber(N)){if(h.x2===null||h.x2===void 0){var G=this.annoCtx.graphics.drawLine(N+h.offsetX,0+h.offsetY,N+h.offsetX,M.globals.gridHeight+h.offsetY,h.borderColor,V,h.borderWidth);d.appendChild(G.node),h.id&&G.node.classList.add(h.id)}else{if((C=this.helpers.getX1X2("x2",h))<N){var K=N;N=C,C=K}var J=this.annoCtx.graphics.drawRect(N+h.offsetX,0+h.offsetY,C-N,M.globals.gridHeight+h.offsetY,0,h.fillColor,h.opacity,1,h.borderColor,V);J.node.classList.add("apexcharts-annotation-rect"),J.attr("clip-path","url(#gridRectMask".concat(M.globals.cuid,")")),d.appendChild(J.node),h.id&&J.node.classList.add(h.id)}var rt=this.annoCtx.graphics.getTextRects(P,parseFloat(h.label.style.fontSize)),vt=h.label.position==="top"?4:h.label.position==="center"?M.globals.gridHeight/2+(h.label.orientation==="vertical"?rt.width/2:0):M.globals.gridHeight,Lt=this.annoCtx.graphics.drawText({x:N+h.label.offsetX,y:vt+h.label.offsetY-(h.label.orientation==="vertical"?h.label.position==="top"?rt.width/2-12:-rt.width/2:0),text:P,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});Lt.attr({rel:y}),d.appendChild(Lt.node),this.annoCtx.helpers.setOrientations(h,y)}}},{key:"drawXAxisAnnotations",value:function(){var h=this,d=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return d.config.annotations.xaxis.map(function(C,M){h.addXaxisAnnotation(C,y.node,M)}),y}}]),$t}(),fe=function(){function $t(h){qt(this,$t),this.w=h.w,this.annoCtx=h,this.helpers=new se(this.annoCtx)}return Jt($t,[{key:"addYaxisAnnotation",value:function(h,d,y){var C,M=this.w,N=h.strokeDashArray,P=this.helpers.getY1Y2("y1",h),V=h.label.text;if(h.y2===null||h.y2===void 0){var G=this.annoCtx.graphics.drawLine(0+h.offsetX,P+h.offsetY,this._getYAxisAnnotationWidth(h),P+h.offsetY,h.borderColor,N,h.borderWidth);d.appendChild(G.node),h.id&&G.node.classList.add(h.id)}else{if((C=this.helpers.getY1Y2("y2",h))>P){var K=P;P=C,C=K}var J=this.annoCtx.graphics.drawRect(0+h.offsetX,C+h.offsetY,this._getYAxisAnnotationWidth(h),P-C,0,h.fillColor,h.opacity,1,h.borderColor,N);J.node.classList.add("apexcharts-annotation-rect"),J.attr("clip-path","url(#gridRectMask".concat(M.globals.cuid,")")),d.appendChild(J.node),h.id&&J.node.classList.add(h.id)}var rt=h.label.position==="right"?M.globals.gridWidth:h.label.position==="center"?M.globals.gridWidth/2:0,vt=this.annoCtx.graphics.drawText({x:rt+h.label.offsetX,y:(C??P)+h.label.offsetY-3,text:V,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});vt.attr({rel:y}),d.appendChild(vt.node)}},{key:"_getYAxisAnnotationWidth",value:function(h){var d=this.w;return d.globals.gridWidth,(h.width.indexOf("%")>-1?d.globals.gridWidth*parseInt(h.width,10)/100:parseInt(h.width,10))+h.offsetX}},{key:"drawYAxisAnnotations",value:function(){var h=this,d=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return d.config.annotations.yaxis.map(function(C,M){h.addYaxisAnnotation(C,y.node,M)}),y}}]),$t}(),ne=function(){function $t(h){qt(this,$t),this.w=h.w,this.annoCtx=h,this.helpers=new se(this.annoCtx)}return Jt($t,[{key:"addPointAnnotation",value:function(h,d,y){this.w;var C=this.helpers.getX1X2("x1",h),M=this.helpers.getY1Y2("y1",h);if(ct.isNumber(C)){var N={pSize:h.marker.size,pointStrokeWidth:h.marker.strokeWidth,pointFillColor:h.marker.fillColor,pointStrokeColor:h.marker.strokeColor,shape:h.marker.shape,pRadius:h.marker.radius,class:"apexcharts-point-annotation-marker ".concat(h.marker.cssClass," ").concat(h.id?h.id:"")},P=this.annoCtx.graphics.drawMarker(C+h.marker.offsetX,M+h.marker.offsetY,N);d.appendChild(P.node);var V=h.label.text?h.label.text:"",G=this.annoCtx.graphics.drawText({x:C+h.label.offsetX,y:M+h.label.offsetY-h.marker.size-parseFloat(h.label.style.fontSize)/1.6,text:V,textAnchor:h.label.textAnchor,fontSize:h.label.style.fontSize,fontFamily:h.label.style.fontFamily,fontWeight:h.label.style.fontWeight,foreColor:h.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(h.label.style.cssClass," ").concat(h.id?h.id:"")});if(G.attr({rel:y}),d.appendChild(G.node),h.customSVG.SVG){var K=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+h.customSVG.cssClass});K.attr({transform:"translate(".concat(C+h.customSVG.offsetX,", ").concat(M+h.customSVG.offsetY,")")}),K.node.innerHTML=h.customSVG.SVG,d.appendChild(K.node)}if(h.image.path){var J=h.image.width?h.image.width:20,rt=h.image.height?h.image.height:20;P=this.annoCtx.addImage({x:C+h.image.offsetX-J/2,y:M+h.image.offsetY-rt/2,width:J,height:rt,path:h.image.path,appendTo:".apexcharts-point-annotations"})}h.mouseEnter&&P.node.addEventListener("mouseenter",h.mouseEnter.bind(this,h)),h.mouseLeave&&P.node.addEventListener("mouseleave",h.mouseLeave.bind(this,h)),h.click&&P.node.addEventListener("click",h.click.bind(this,h))}}},{key:"drawPointAnnotations",value:function(){var h=this,d=this.w,y=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return d.config.annotations.points.map(function(C,M){h.addPointAnnotation(C,y.node,M)}),y}}]),$t}(),Ht={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Gt=function(){function $t(){qt(this,$t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Jt($t,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Ht],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(h){return new Date(h).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(h){return h}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(h){return h+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(h){return h.globals.seriesTotals.reduce(function(d,y){return d+y},0)/h.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(h){return h}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(h){return h}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(h){return h.globals.seriesTotals.reduce(function(d,y){return d+y},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(h){return h!==null?h:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(h){return h?h+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),$t}(),ie=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.graphics=new Ft(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new se(this),this.xAxisAnnotations=new Me(this),this.yAxisAnnotations=new fe(this),this.pointsAnnotations=new ne(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Jt($t,[{key:"drawAxesAnnotations",value:function(){var h=this.w;if(h.globals.axisCharts){for(var d=this.yAxisAnnotations.drawYAxisAnnotations(),y=this.xAxisAnnotations.drawXAxisAnnotations(),C=this.pointsAnnotations.drawPointAnnotations(),M=h.config.chart.animations.enabled,N=[d,y,C],P=[y.node,d.node,C.node],V=0;V<3;V++)h.globals.dom.elGraphical.add(N[V]),!M||h.globals.resized||h.globals.dataChanged||h.config.chart.type!=="scatter"&&h.config.chart.type!=="bubble"&&h.globals.dataPoints>1&&P[V].classList.add("apexcharts-element-hidden"),h.globals.delayedElements.push({el:P[V],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var h=this;this.w.config.annotations.images.map(function(d,y){h.addImage(d,y)})}},{key:"drawTextAnnos",value:function(){var h=this;this.w.config.annotations.texts.map(function(d,y){h.addText(d,y)})}},{key:"addXaxisAnnotation",value:function(h,d,y){this.xAxisAnnotations.addXaxisAnnotation(h,d,y)}},{key:"addYaxisAnnotation",value:function(h,d,y){this.yAxisAnnotations.addYaxisAnnotation(h,d,y)}},{key:"addPointAnnotation",value:function(h,d,y){this.pointsAnnotations.addPointAnnotation(h,d,y)}},{key:"addText",value:function(h,d){var y=h.x,C=h.y,M=h.text,N=h.textAnchor,P=h.foreColor,V=h.fontSize,G=h.fontFamily,K=h.fontWeight,J=h.cssClass,rt=h.backgroundColor,vt=h.borderWidth,Lt=h.strokeDashArray,Et=h.borderRadius,Qt=h.borderColor,ue=h.appendTo,Ce=ue===void 0?".apexcharts-annotations":ue,de=h.paddingLeft,Y=de===void 0?4:de,ot=h.paddingRight,zt=ot===void 0?4:ot,jt=h.paddingBottom,xe=jt===void 0?2:jt,an=h.paddingTop,Qe=an===void 0?2:an,On=this.w,Pn=this.graphics.drawText({x:y,y:C,text:M,textAnchor:N||"start",fontSize:V||"12px",fontWeight:K||"regular",fontFamily:G||On.config.chart.fontFamily,foreColor:P||On.config.chart.foreColor,cssClass:J}),ii=On.globals.dom.baseEl.querySelector(Ce);ii&&ii.appendChild(Pn.node);var ri=Pn.bbox();if(M){var Wi=this.graphics.drawRect(ri.x-Y,ri.y-Qe,ri.width+Y+zt,ri.height+xe+Qe,Et,rt||"transparent",1,vt,Qt,Lt);ii.insertBefore(Wi.node,Pn.node)}}},{key:"addImage",value:function(h,d){var y=this.w,C=h.path,M=h.x,N=M===void 0?0:M,P=h.y,V=P===void 0?0:P,G=h.width,K=G===void 0?20:G,J=h.height,rt=J===void 0?20:J,vt=h.appendTo,Lt=vt===void 0?".apexcharts-annotations":vt,Et=y.globals.dom.Paper.image(C);Et.size(K,rt).move(N,V);var Qt=y.globals.dom.baseEl.querySelector(Lt);return Qt&&Qt.appendChild(Et.node),Et}},{key:"addXaxisAnnotationExternal",value:function(h,d,y){return this.addAnnotationExternal({params:h,pushToMemory:d,context:y,type:"xaxis",contextMethod:y.addXaxisAnnotation}),y}},{key:"addYaxisAnnotationExternal",value:function(h,d,y){return this.addAnnotationExternal({params:h,pushToMemory:d,context:y,type:"yaxis",contextMethod:y.addYaxisAnnotation}),y}},{key:"addPointAnnotationExternal",value:function(h,d,y){return this.invertAxis===void 0&&(this.invertAxis=y.w.globals.isBarHorizontal),this.addAnnotationExternal({params:h,pushToMemory:d,context:y,type:"point",contextMethod:y.addPointAnnotation}),y}},{key:"addAnnotationExternal",value:function(h){var d=h.params,y=h.pushToMemory,C=h.context,M=h.type,N=h.contextMethod,P=C,V=P.w,G=V.globals.dom.baseEl.querySelector(".apexcharts-".concat(M,"-annotations")),K=G.childNodes.length+1,J=new Gt,rt=Object.assign({},M==="xaxis"?J.xAxisAnnotation:M==="yaxis"?J.yAxisAnnotation:J.pointAnnotation),vt=ct.extend(rt,d);switch(M){case"xaxis":this.addXaxisAnnotation(vt,G,K);break;case"yaxis":this.addYaxisAnnotation(vt,G,K);break;case"point":this.addPointAnnotation(vt,G,K)}var Lt=V.globals.dom.baseEl.querySelector(".apexcharts-".concat(M,"-annotations .apexcharts-").concat(M,"-annotation-label[rel='").concat(K,"']")),Et=this.helpers.addBackgroundToAnno(Lt,vt);return Et&&G.insertBefore(Et.node,Lt),y&&V.globals.memory.methodsToExec.push({context:P,id:vt.id?vt.id:ct.randomId(),method:N,label:"addAnnotation",params:d}),C}},{key:"clearAnnotations",value:function(h){var d=h.w,y=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");d.globals.memory.methodsToExec.map(function(C,M){C.label!=="addText"&&C.label!=="addAnnotation"||d.globals.memory.methodsToExec.splice(M,1)}),y=ct.listToArray(y),Array.prototype.forEach.call(y,function(C){for(;C.firstChild;)C.removeChild(C.firstChild)})}},{key:"removeAnnotation",value:function(h,d){var y=h.w,C=y.globals.dom.baseEl.querySelectorAll(".".concat(d));C&&(y.globals.memory.methodsToExec.map(function(M,N){M.id===d&&y.globals.memory.methodsToExec.splice(N,1)}),Array.prototype.forEach.call(C,function(M){M.parentElement.removeChild(M)}))}}]),$t}(),Le=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Jt($t,[{key:"isValidDate",value:function(h){return!isNaN(this.parseDate(h))}},{key:"getTimeStamp",value:function(h){return Date.parse(h)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(h).toISOString().substr(0,25)).getTime():new Date(h).getTime():h}},{key:"getDate",value:function(h){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(h).toUTCString()):new Date(h)}},{key:"parseDate",value:function(h){var d=Date.parse(h);if(!isNaN(d))return this.getTimeStamp(h);var y=Date.parse(h.replace(/-/g,"/").replace(/[a-z]+/gi," "));return y=this.getTimeStamp(y)}},{key:"parseDateWithTimezone",value:function(h){return Date.parse(h.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(h,d){var y=this.w.globals.locale,C=this.w.config.xaxis.labels.datetimeUTC,M=["\0"].concat(It(y.months)),N=[""].concat(It(y.shortMonths)),P=[""].concat(It(y.days)),V=[""].concat(It(y.shortDays));function G(xe,an){var Qe=xe+"";for(an=an||2;Qe.length<an;)Qe="0"+Qe;return Qe}var K=C?h.getUTCFullYear():h.getFullYear();d=(d=(d=d.replace(/(^|[^\\])yyyy+/g,"$1"+K)).replace(/(^|[^\\])yy/g,"$1"+K.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+K);var J=(C?h.getUTCMonth():h.getMonth())+1;d=(d=(d=(d=d.replace(/(^|[^\\])MMMM+/g,"$1"+M[0])).replace(/(^|[^\\])MMM/g,"$1"+N[0])).replace(/(^|[^\\])MM/g,"$1"+G(J))).replace(/(^|[^\\])M/g,"$1"+J);var rt=C?h.getUTCDate():h.getDate();d=(d=(d=(d=d.replace(/(^|[^\\])dddd+/g,"$1"+P[0])).replace(/(^|[^\\])ddd/g,"$1"+V[0])).replace(/(^|[^\\])dd/g,"$1"+G(rt))).replace(/(^|[^\\])d/g,"$1"+rt);var vt=C?h.getUTCHours():h.getHours(),Lt=vt>12?vt-12:vt===0?12:vt;d=(d=(d=(d=d.replace(/(^|[^\\])HH+/g,"$1"+G(vt))).replace(/(^|[^\\])H/g,"$1"+vt)).replace(/(^|[^\\])hh+/g,"$1"+G(Lt))).replace(/(^|[^\\])h/g,"$1"+Lt);var Et=C?h.getUTCMinutes():h.getMinutes();d=(d=d.replace(/(^|[^\\])mm+/g,"$1"+G(Et))).replace(/(^|[^\\])m/g,"$1"+Et);var Qt=C?h.getUTCSeconds():h.getSeconds();d=(d=d.replace(/(^|[^\\])ss+/g,"$1"+G(Qt))).replace(/(^|[^\\])s/g,"$1"+Qt);var ue=C?h.getUTCMilliseconds():h.getMilliseconds();d=d.replace(/(^|[^\\])fff+/g,"$1"+G(ue,3)),ue=Math.round(ue/10),d=d.replace(/(^|[^\\])ff/g,"$1"+G(ue)),ue=Math.round(ue/10);var Ce=vt<12?"AM":"PM";d=(d=(d=d.replace(/(^|[^\\])f/g,"$1"+ue)).replace(/(^|[^\\])TT+/g,"$1"+Ce)).replace(/(^|[^\\])T/g,"$1"+Ce.charAt(0));var de=Ce.toLowerCase();d=(d=d.replace(/(^|[^\\])tt+/g,"$1"+de)).replace(/(^|[^\\])t/g,"$1"+de.charAt(0));var Y=-h.getTimezoneOffset(),ot=C||!Y?"Z":Y>0?"+":"-";if(!C){var zt=(Y=Math.abs(Y))%60;ot+=G(Math.floor(Y/60))+":"+G(zt)}d=d.replace(/(^|[^\\])K/g,"$1"+ot);var jt=(C?h.getUTCDay():h.getDay())+1;return d=(d=(d=(d=(d=d.replace(new RegExp(P[0],"g"),P[jt])).replace(new RegExp(V[0],"g"),V[jt])).replace(new RegExp(M[0],"g"),M[J])).replace(new RegExp(N[0],"g"),N[J])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(h,d,y){var C=this.w;C.config.xaxis.min!==void 0&&(h=C.config.xaxis.min),C.config.xaxis.max!==void 0&&(d=C.config.xaxis.max);var M=this.getDate(h),N=this.getDate(d),P=this.formatDate(M,"yyyy MM dd HH mm ss fff").split(" "),V=this.formatDate(N,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(P[6],10),maxMillisecond:parseInt(V[6],10),minSecond:parseInt(P[5],10),maxSecond:parseInt(V[5],10),minMinute:parseInt(P[4],10),maxMinute:parseInt(V[4],10),minHour:parseInt(P[3],10),maxHour:parseInt(V[3],10),minDate:parseInt(P[2],10),maxDate:parseInt(V[2],10),minMonth:parseInt(P[1],10)-1,maxMonth:parseInt(V[1],10)-1,minYear:parseInt(P[0],10),maxYear:parseInt(V[0],10)}}},{key:"isLeapYear",value:function(h){return h%4==0&&h%100!=0||h%400==0}},{key:"calculcateLastDaysOfMonth",value:function(h,d,y){return this.determineDaysOfMonths(h,d)-y}},{key:"determineDaysOfYear",value:function(h){var d=365;return this.isLeapYear(h)&&(d=366),d}},{key:"determineRemainingDaysOfYear",value:function(h,d,y){var C=this.daysCntOfYear[d]+y;return d>1&&this.isLeapYear()&&C++,C}},{key:"determineDaysOfMonths",value:function(h,d){var y=30;switch(h=ct.monthMod(h),!0){case this.months30.indexOf(h)>-1:h===2&&(y=this.isLeapYear(d)?29:28);break;case this.months31.indexOf(h)>-1:default:y=31}return y}}]),$t}(),pe=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.tooltipKeyFormat="dd MMM"}return Jt($t,[{key:"xLabelFormat",value:function(h,d,y,C){var M=this.w;if(M.config.xaxis.type==="datetime"&&M.config.xaxis.labels.formatter===void 0&&M.config.tooltip.x.formatter===void 0){var N=new Le(this.ctx);return N.formatDate(N.getDate(d),M.config.tooltip.x.format)}return h(d,y,C)}},{key:"defaultGeneralFormatter",value:function(h){return Array.isArray(h)?h.map(function(d){return d}):h}},{key:"defaultYFormatter",value:function(h,d,y){var C=this.w;return ct.isNumber(h)&&(h=C.globals.yValueDecimal!==0?h.toFixed(d.decimalsInFloat!==void 0?d.decimalsInFloat:C.globals.yValueDecimal):C.globals.maxYArr[y]-C.globals.minYArr[y]<5?h.toFixed(1):h.toFixed(0)),h}},{key:"setLabelFormatters",value:function(){var h=this,d=this.w;return d.globals.xaxisTooltipFormatter=function(y){return h.defaultGeneralFormatter(y)},d.globals.ttKeyFormatter=function(y){return h.defaultGeneralFormatter(y)},d.globals.ttZFormatter=function(y){return y},d.globals.legendFormatter=function(y){return h.defaultGeneralFormatter(y)},d.config.xaxis.labels.formatter!==void 0?d.globals.xLabelFormatter=d.config.xaxis.labels.formatter:d.globals.xLabelFormatter=function(y){if(ct.isNumber(y)){if(!d.config.xaxis.convertedCatToNumeric&&d.config.xaxis.type==="numeric"){if(ct.isNumber(d.config.xaxis.decimalsInFloat))return y.toFixed(d.config.xaxis.decimalsInFloat);var C=d.globals.maxX-d.globals.minX;return C>0&&C<100?y.toFixed(1):y.toFixed(0)}return d.globals.isBarHorizontal&&d.globals.maxY-d.globals.minYArr<4?y.toFixed(1):y.toFixed(0)}return y},typeof d.config.tooltip.x.formatter=="function"?d.globals.ttKeyFormatter=d.config.tooltip.x.formatter:d.globals.ttKeyFormatter=d.globals.xLabelFormatter,typeof d.config.xaxis.tooltip.formatter=="function"&&(d.globals.xaxisTooltipFormatter=d.config.xaxis.tooltip.formatter),(Array.isArray(d.config.tooltip.y)||d.config.tooltip.y.formatter!==void 0)&&(d.globals.ttVal=d.config.tooltip.y),d.config.tooltip.z.formatter!==void 0&&(d.globals.ttZFormatter=d.config.tooltip.z.formatter),d.config.legend.formatter!==void 0&&(d.globals.legendFormatter=d.config.legend.formatter),d.config.yaxis.forEach(function(y,C){y.labels.formatter!==void 0?d.globals.yLabelFormatters[C]=y.labels.formatter:d.globals.yLabelFormatters[C]=function(M){return d.globals.xyCharts?Array.isArray(M)?M.map(function(N){return h.defaultYFormatter(N,y,C)}):h.defaultYFormatter(M,y,C):M}}),d.globals}},{key:"heatmapLabelFormatters",value:function(){var h=this.w;if(h.config.chart.type==="heatmap"){h.globals.yAxisScale[0].result=h.globals.seriesNames.slice();var d=h.globals.seriesNames.reduce(function(y,C){return y.length>C.length?y:C},0);h.globals.yAxisScale[0].niceMax=d,h.globals.yAxisScale[0].niceMin=d}}}]),$t}(),De=function($t){var h,d=$t.isTimeline,y=$t.ctx,C=$t.seriesIndex,M=$t.dataPointIndex,N=$t.y1,P=$t.y2,V=$t.w,G=V.globals.seriesRangeStart[C][M],K=V.globals.seriesRangeEnd[C][M],J=V.globals.labels[M],rt=V.config.series[C].name?V.config.series[C].name:"",vt=V.globals.ttKeyFormatter,Lt=V.config.tooltip.y.title.formatter,Et={w:V,seriesIndex:C,dataPointIndex:M,start:G,end:K};typeof Lt=="function"&&(rt=Lt(rt,Et)),(h=V.config.series[C].data[M])!==null&&h!==void 0&&h.x&&(J=V.config.series[C].data[M].x),d||V.config.xaxis.type==="datetime"&&(J=new pe(y).xLabelFormat(V.globals.ttKeyFormatter,J,J,{i:void 0,dateFormatter:new Le(y).formatDate,w:V})),typeof vt=="function"&&(J=vt(J,Et)),Number.isFinite(N)&&Number.isFinite(P)&&(G=N,K=P);var Qt="",ue="",Ce=V.globals.colors[C];if(V.config.tooltip.x.formatter===void 0)if(V.config.xaxis.type==="datetime"){var de=new Le(y);Qt=de.formatDate(de.getDate(G),V.config.tooltip.x.format),ue=de.formatDate(de.getDate(K),V.config.tooltip.x.format)}else Qt=G,ue=K;else Qt=V.config.tooltip.x.formatter(G),ue=V.config.tooltip.x.formatter(K);return{start:G,end:K,startVal:Qt,endVal:ue,ylabel:J,color:Ce,seriesName:rt}},Bn=function($t){var h=$t.color,d=$t.seriesName,y=$t.ylabel,C=$t.start,M=$t.end,N=$t.seriesIndex,P=$t.dataPointIndex,V=$t.ctx.tooltip.tooltipLabels.getFormatters(N);C=V.yLbFormatter(C),M=V.yLbFormatter(M);var G=V.yLbFormatter($t.w.globals.series[N][P]),K=`<span class="value start-value">
  `.concat(C,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(M,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+h+'">'+(d||"")+'</span></div><div> <span class="category">'+y+": </span> "+($t.w.globals.comboCharts?$t.w.config.series[N].type==="rangeArea"||$t.w.config.series[N].type==="rangeBar"?K:"<span>".concat(G,"</span>"):K)+" </div></div>"},rn=function(){function $t(h){qt(this,$t),this.opts=h}return Jt($t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(h){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,ct.extend(h,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var h=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(d){var y=d.seriesIndex,C=d.dataPointIndex,M=d.w;return h._getBoxTooltip(M,y,C,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var h=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(d){var y=d.seriesIndex,C=d.dataPointIndex,M=d.w;return h._getBoxTooltip(M,y,C,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(h,d){d.ctx;var y=d.seriesIndex,C=d.dataPointIndex,M=d.w,N=function(){var P=M.globals.seriesRangeStart[y][C];return M.globals.seriesRangeEnd[y][C]-P};return M.globals.comboCharts?M.config.series[y].type==="rangeBar"||M.config.series[y].type==="rangeArea"?N():h:N()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(h){return h.w.config.plotOptions&&h.w.config.plotOptions.bar&&h.w.config.plotOptions.bar.horizontal?function(d){var y=De(Wt(Wt({},d),{},{isTimeline:!0})),C=y.color,M=y.seriesName,N=y.ylabel,P=y.startVal,V=y.endVal;return Bn(Wt(Wt({},d),{},{color:C,seriesName:M,ylabel:N,start:P,end:V}))}(h):function(d){var y=De(d),C=y.color,M=y.seriesName,N=y.ylabel,P=y.start,V=y.end;return Bn(Wt(Wt({},d),{},{color:C,seriesName:M,ylabel:N,start:P,end:V}))}(h)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(h){return function(d){var y=De(d),C=y.color,M=y.seriesName,N=y.ylabel,P=y.start,V=y.end;return Bn(Wt(Wt({},d),{},{color:C,seriesName:M,ylabel:N,start:P,end:V}))}(h)}}}}},{key:"brush",value:function(h){return ct.extend(h,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(h){h.dataLabels=h.dataLabels||{},h.dataLabels.formatter=h.dataLabels.formatter||void 0;var d=h.dataLabels.formatter;return h.yaxis.forEach(function(y,C){h.yaxis[C].min=0,h.yaxis[C].max=100}),h.chart.type==="bar"&&(h.dataLabels.formatter=d||function(y){return typeof y=="number"&&y?y.toFixed(0)+"%":y}),h}},{key:"stackedBars",value:function(){var h=this.bar();return Wt(Wt({},h),{},{plotOptions:Wt(Wt({},h.plotOptions),{},{bar:Wt(Wt({},h.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(h){return h.xaxis.convertedCatToNumeric=!0,h}},{key:"convertCatToNumericXaxis",value:function(h,d,y){h.xaxis.type="numeric",h.xaxis.labels=h.xaxis.labels||{},h.xaxis.labels.formatter=h.xaxis.labels.formatter||function(N){return ct.isNumber(N)?Math.floor(N):N};var C=h.xaxis.labels.formatter,M=h.xaxis.categories&&h.xaxis.categories.length?h.xaxis.categories:h.labels;return y&&y.length&&(M=y.map(function(N){return Array.isArray(N)?N:String(N)})),M&&M.length&&(h.xaxis.labels.formatter=function(N){return ct.isNumber(N)?C(M[Math.floor(N)-1]):C(N)}),h.xaxis.categories=[],h.labels=[],h.xaxis.tickAmount=h.xaxis.tickAmount||"dataPoints",h}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(h){return h.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(h){return h},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(h,d,y,C,M){var N=h.globals.seriesCandleO[d][y],P=h.globals.seriesCandleH[d][y],V=h.globals.seriesCandleM[d][y],G=h.globals.seriesCandleL[d][y],K=h.globals.seriesCandleC[d][y];return h.config.series[d].type&&h.config.series[d].type!==M?`<div class="apexcharts-custom-tooltip">
          `.concat(h.config.series[d].name?h.config.series[d].name:"series-"+(d+1),": <strong>").concat(h.globals.series[d][y],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(h.config.chart.type,'">')+"<div>".concat(C[0],': <span class="value">')+N+"</span></div>"+"<div>".concat(C[1],': <span class="value">')+P+"</span></div>"+(V?"<div>".concat(C[2],': <span class="value">')+V+"</span></div>":"")+"<div>".concat(C[3],': <span class="value">')+G+"</span></div>"+"<div>".concat(C[4],': <span class="value">')+K+"</span></div></div>"}}]),$t}(),ln=function(){function $t(h){qt(this,$t),this.opts=h}return Jt($t,[{key:"init",value:function(h){var d=h.responsiveOverride,y=this.opts,C=new Gt,M=new rn(y);this.chartType=y.chart.type,y=this.extendYAxis(y),y=this.extendAnnotations(y);var N=C.init(),P={};if(y&&wt(y)==="object"){var V={};V=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(y.chart.type)!==-1?M[y.chart.type]():M.line(),y.chart.stacked&&y.chart.type==="bar"&&(V=M.stackedBars()),y.chart.brush&&y.chart.brush.enabled&&(V=M.brush(V)),y.chart.stacked&&y.chart.stackType==="100%"&&(y=M.stacked100(y)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(y),y.xaxis=y.xaxis||window.Apex.xaxis||{},d||(y.xaxis.convertedCatToNumeric=!1),((y=this.checkForCatToNumericXAxis(this.chartType,V,y)).chart.sparkline&&y.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(V=M.sparkline(V)),P=ct.extend(N,V)}var G=ct.extend(P,window.Apex);return N=ct.extend(G,y),N=this.handleUserInputErrors(N)}},{key:"checkForCatToNumericXAxis",value:function(h,d,y){var C=new rn(y),M=(h==="bar"||h==="boxPlot")&&y.plotOptions&&y.plotOptions.bar&&y.plotOptions.bar.horizontal,N=h==="pie"||h==="polarArea"||h==="donut"||h==="radar"||h==="radialBar"||h==="heatmap",P=y.xaxis.type!=="datetime"&&y.xaxis.type!=="numeric",V=y.xaxis.tickPlacement?y.xaxis.tickPlacement:d.xaxis&&d.xaxis.tickPlacement;return M||N||!P||V==="between"||(y=C.convertCatToNumeric(y)),y}},{key:"extendYAxis",value:function(h,d){var y=new Gt;(h.yaxis===void 0||!h.yaxis||Array.isArray(h.yaxis)&&h.yaxis.length===0)&&(h.yaxis={}),h.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(h.yaxis=ct.extend(h.yaxis,window.Apex.yaxis)),h.yaxis.constructor!==Array?h.yaxis=[ct.extend(y.yAxis,h.yaxis)]:h.yaxis=ct.extendArray(h.yaxis,y.yAxis);var C=!1;h.yaxis.forEach(function(N){N.logarithmic&&(C=!0)});var M=h.series;return d&&!M&&(M=d.config.series),C&&M.length!==h.yaxis.length&&M.length&&(h.yaxis=M.map(function(N,P){if(N.name||(M[P].name="series-".concat(P+1)),h.yaxis[P])return h.yaxis[P].seriesName=M[P].name,h.yaxis[P];var V=ct.extend(y.yAxis,h.yaxis[0]);return V.show=!1,V})),C&&M.length>1&&M.length!==h.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),h}},{key:"extendAnnotations",value:function(h){return h.annotations===void 0&&(h.annotations={},h.annotations.yaxis=[],h.annotations.xaxis=[],h.annotations.points=[]),h=this.extendYAxisAnnotations(h),h=this.extendXAxisAnnotations(h),h=this.extendPointAnnotations(h)}},{key:"extendYAxisAnnotations",value:function(h){var d=new Gt;return h.annotations.yaxis=ct.extendArray(h.annotations.yaxis!==void 0?h.annotations.yaxis:[],d.yAxisAnnotation),h}},{key:"extendXAxisAnnotations",value:function(h){var d=new Gt;return h.annotations.xaxis=ct.extendArray(h.annotations.xaxis!==void 0?h.annotations.xaxis:[],d.xAxisAnnotation),h}},{key:"extendPointAnnotations",value:function(h){var d=new Gt;return h.annotations.points=ct.extendArray(h.annotations.points!==void 0?h.annotations.points:[],d.pointAnnotation),h}},{key:"checkForDarkTheme",value:function(h){h.theme&&h.theme.mode==="dark"&&(h.tooltip||(h.tooltip={}),h.tooltip.theme!=="light"&&(h.tooltip.theme="dark"),h.chart.foreColor||(h.chart.foreColor="#f6f7f8"),h.chart.background||(h.chart.background="#424242"),h.theme.palette||(h.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(h){var d=h;if(d.tooltip.shared&&d.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(d.chart.type==="bar"&&d.plotOptions.bar.horizontal){if(d.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");d.yaxis[0].reversed&&(d.yaxis[0].opposite=!0),d.xaxis.tooltip.enabled=!1,d.yaxis[0].tooltip.enabled=!1,d.chart.zoom.enabled=!1}return d.chart.type!=="bar"&&d.chart.type!=="rangeBar"||d.tooltip.shared&&d.xaxis.crosshairs.width==="barWidth"&&d.series.length>1&&(d.xaxis.crosshairs.width="tickWidth"),d.chart.type!=="candlestick"&&d.chart.type!=="boxPlot"||d.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(d.chart.type," chart is not supported.")),d.yaxis[0].reversed=!1),d}}]),$t}(),oe=function(){function $t(){qt(this,$t)}return Jt($t,[{key:"initGlobalVars",value:function(h){h.series=[],h.seriesCandleO=[],h.seriesCandleH=[],h.seriesCandleM=[],h.seriesCandleL=[],h.seriesCandleC=[],h.seriesRangeStart=[],h.seriesRangeEnd=[],h.seriesRange=[],h.seriesPercent=[],h.seriesGoals=[],h.seriesX=[],h.seriesZ=[],h.seriesNames=[],h.seriesTotals=[],h.seriesLog=[],h.seriesColors=[],h.stackedSeriesTotals=[],h.seriesXvalues=[],h.seriesYvalues=[],h.labels=[],h.hasGroups=!1,h.groups=[],h.categoryLabels=[],h.timescaleLabels=[],h.noLabelsProvided=!1,h.resizeTimer=null,h.selectionResizeTimer=null,h.delayedElements=[],h.pointsArray=[],h.dataLabelsRects=[],h.isXNumeric=!1,h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1,h.isDataXYZ=!1,h.isMultiLineX=!1,h.isMultipleYAxis=!1,h.maxY=-Number.MAX_VALUE,h.minY=Number.MIN_VALUE,h.minYArr=[],h.maxYArr=[],h.maxX=-Number.MAX_VALUE,h.minX=Number.MAX_VALUE,h.initialMaxX=-Number.MAX_VALUE,h.initialMinX=Number.MAX_VALUE,h.maxDate=0,h.minDate=Number.MAX_VALUE,h.minZ=Number.MAX_VALUE,h.maxZ=-Number.MAX_VALUE,h.minXDiff=Number.MAX_VALUE,h.yAxisScale=[],h.xAxisScale=null,h.xAxisTicksPositions=[],h.yLabelsCoords=[],h.yTitleCoords=[],h.barPadForNumericAxis=0,h.padHorizontal=0,h.xRange=0,h.yRange=[],h.zRange=0,h.dataPoints=0,h.xTickAmount=0}},{key:"globalVars",value:function(h){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:h.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:h.chart.toolbar.autoSelected==="zoom"&&h.chart.toolbar.tools.zoom&&h.chart.zoom.enabled,panEnabled:h.chart.toolbar.autoSelected==="pan"&&h.chart.toolbar.tools.pan,selectionEnabled:h.chart.toolbar.autoSelected==="selection"&&h.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(h){var d=this.globalVars(h);return this.initGlobalVars(d),d.initialConfig=ct.extend({},h),d.initialSeries=ct.clone(h.series),d.lastXAxis=ct.clone(d.initialConfig.xaxis),d.lastYAxis=ct.clone(d.initialConfig.yaxis),d}}]),$t}(),Oe=function(){function $t(h){qt(this,$t),this.opts=h}return Jt($t,[{key:"init",value:function(){var h=new ln(this.opts).init({responsiveOverride:!1});return{config:h,globals:new oe().init(h)}}}]),$t}(),U=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.opts=null,this.seriesIndex=0}return Jt($t,[{key:"clippedImgArea",value:function(h){var d=this.w,y=d.config,C=parseInt(d.globals.gridWidth,10),M=parseInt(d.globals.gridHeight,10),N=C>M?C:M,P=h.image,V=0,G=0;h.width===void 0&&h.height===void 0?y.fill.image.width!==void 0&&y.fill.image.height!==void 0?(V=y.fill.image.width+1,G=y.fill.image.height):(V=N+1,G=N):(V=h.width,G=h.height);var K=document.createElementNS(d.globals.SVGNS,"pattern");Ft.setAttrs(K,{id:h.patternID,patternUnits:h.patternUnits?h.patternUnits:"userSpaceOnUse",width:V+"px",height:G+"px"});var J=document.createElementNS(d.globals.SVGNS,"image");K.appendChild(J),J.setAttributeNS(window.SVG.xlink,"href",P),Ft.setAttrs(J,{x:0,y:0,preserveAspectRatio:"none",width:V+"px",height:G+"px"}),J.style.opacity=h.opacity,d.globals.dom.elDefs.node.appendChild(K)}},{key:"getSeriesIndex",value:function(h){var d=this.w;return(d.config.chart.type==="bar"||d.config.chart.type==="rangeBar")&&d.config.plotOptions.bar.distributed||d.config.chart.type==="heatmap"||d.config.chart.type==="treemap"?this.seriesIndex=h.seriesNumber:this.seriesIndex=h.seriesNumber%d.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(h){var d=this.w;this.opts=h;var y,C,M,N=this.w.config;this.seriesIndex=this.getSeriesIndex(h);var P=this.getFillColors()[this.seriesIndex];d.globals.seriesColors[this.seriesIndex]!==void 0&&(P=d.globals.seriesColors[this.seriesIndex]),typeof P=="function"&&(P=P({seriesIndex:this.seriesIndex,dataPointIndex:h.dataPointIndex,value:h.value,w:d}));var V=h.fillType?h.fillType:this.getFillType(this.seriesIndex),G=Array.isArray(N.fill.opacity)?N.fill.opacity[this.seriesIndex]:N.fill.opacity;h.color&&(P=h.color);var K=P;if(P.indexOf("rgb")===-1?P.length<9&&(K=ct.hexToRgba(P,G)):P.indexOf("rgba")>-1&&(G=ct.getOpacityFromRGBA(P)),h.opacity&&(G=h.opacity),V==="pattern"&&(C=this.handlePatternFill({fillConfig:h.fillConfig,patternFill:C,fillColor:P,fillOpacity:G,defaultColor:K})),V==="gradient"&&(M=this.handleGradientFill({fillConfig:h.fillConfig,fillColor:P,fillOpacity:G,i:this.seriesIndex})),V==="image"){var J=N.fill.image.src,rt=h.patternID?h.patternID:"";this.clippedImgArea({opacity:G,image:Array.isArray(J)?h.seriesNumber<J.length?J[h.seriesNumber]:J[0]:J,width:h.width?h.width:void 0,height:h.height?h.height:void 0,patternUnits:h.patternUnits,patternID:"pattern".concat(d.globals.cuid).concat(h.seriesNumber+1).concat(rt)}),y="url(#pattern".concat(d.globals.cuid).concat(h.seriesNumber+1).concat(rt,")")}else y=V==="gradient"?M:V==="pattern"?C:K;return h.solid&&(y=K),y}},{key:"getFillType",value:function(h){var d=this.w;return Array.isArray(d.config.fill.type)?d.config.fill.type[h]:d.config.fill.type}},{key:"getFillColors",value:function(){var h=this.w,d=h.config,y=this.opts,C=[];return h.globals.comboCharts?h.config.series[this.seriesIndex].type==="line"?Array.isArray(h.globals.stroke.colors)?C=h.globals.stroke.colors:C.push(h.globals.stroke.colors):Array.isArray(h.globals.fill.colors)?C=h.globals.fill.colors:C.push(h.globals.fill.colors):d.chart.type==="line"?Array.isArray(h.globals.stroke.colors)?C=h.globals.stroke.colors:C.push(h.globals.stroke.colors):Array.isArray(h.globals.fill.colors)?C=h.globals.fill.colors:C.push(h.globals.fill.colors),y.fillColors!==void 0&&(C=[],Array.isArray(y.fillColors)?C=y.fillColors.slice():C.push(y.fillColors)),C}},{key:"handlePatternFill",value:function(h){var d=h.fillConfig,y=h.patternFill,C=h.fillColor,M=h.fillOpacity,N=h.defaultColor,P=this.w.config.fill;d&&(P=d);var V=this.opts,G=new Ft(this.ctx),K=Array.isArray(P.pattern.strokeWidth)?P.pattern.strokeWidth[this.seriesIndex]:P.pattern.strokeWidth,J=C;return Array.isArray(P.pattern.style)?y=P.pattern.style[V.seriesNumber]!==void 0?G.drawPattern(P.pattern.style[V.seriesNumber],P.pattern.width,P.pattern.height,J,K,M):N:y=G.drawPattern(P.pattern.style,P.pattern.width,P.pattern.height,J,K,M),y}},{key:"handleGradientFill",value:function(h){var d=h.fillColor,y=h.fillOpacity,C=h.fillConfig,M=h.i,N=this.w.config.fill;C&&(N=Wt(Wt({},N),C));var P,V=this.opts,G=new Ft(this.ctx),K=new ct,J=N.gradient.type,rt=d,vt=N.gradient.opacityFrom===void 0?y:Array.isArray(N.gradient.opacityFrom)?N.gradient.opacityFrom[M]:N.gradient.opacityFrom;rt.indexOf("rgba")>-1&&(vt=ct.getOpacityFromRGBA(rt));var Lt=N.gradient.opacityTo===void 0?y:Array.isArray(N.gradient.opacityTo)?N.gradient.opacityTo[M]:N.gradient.opacityTo;if(N.gradient.gradientToColors===void 0||N.gradient.gradientToColors.length===0)P=N.gradient.shade==="dark"?K.shadeColor(-1*parseFloat(N.gradient.shadeIntensity),d.indexOf("rgb")>-1?ct.rgb2hex(d):d):K.shadeColor(parseFloat(N.gradient.shadeIntensity),d.indexOf("rgb")>-1?ct.rgb2hex(d):d);else if(N.gradient.gradientToColors[V.seriesNumber]){var Et=N.gradient.gradientToColors[V.seriesNumber];P=Et,Et.indexOf("rgba")>-1&&(Lt=ct.getOpacityFromRGBA(Et))}else P=d;if(N.gradient.gradientFrom&&(rt=N.gradient.gradientFrom),N.gradient.gradientTo&&(P=N.gradient.gradientTo),N.gradient.inverseColors){var Qt=rt;rt=P,P=Qt}return rt.indexOf("rgb")>-1&&(rt=ct.rgb2hex(rt)),P.indexOf("rgb")>-1&&(P=ct.rgb2hex(P)),G.drawGradient(J,rt,P,vt,Lt,V.size,N.gradient.stops,N.gradient.colorStops,M)}}]),$t}(),ye=function(){function $t(h,d){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"setGlobalMarkerSize",value:function(){var h=this.w;if(h.globals.markers.size=Array.isArray(h.config.markers.size)?h.config.markers.size:[h.config.markers.size],h.globals.markers.size.length>0){if(h.globals.markers.size.length<h.globals.series.length+1)for(var d=0;d<=h.globals.series.length;d++)h.globals.markers.size[d]===void 0&&h.globals.markers.size.push(h.globals.markers.size[0])}else h.globals.markers.size=h.config.series.map(function(y){return h.config.markers.size})}},{key:"plotChartMarkers",value:function(h,d,y,C){var M,N=arguments.length>4&&arguments[4]!==void 0&&arguments[4],P=this.w,V=d,G=h,K=null,J=new Ft(this.ctx),rt=P.config.markers.discrete&&P.config.markers.discrete.length;if((P.globals.markers.size[d]>0||N||rt)&&(K=J.group({class:N||rt?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(P.globals.cuid,")")),Array.isArray(G.x))for(var vt=0;vt<G.x.length;vt++){var Lt=y;y===1&&vt===0&&(Lt=0),y===1&&vt===1&&(Lt=1);var Et="apexcharts-marker";P.config.chart.type!=="line"&&P.config.chart.type!=="area"||P.globals.comboCharts||P.config.tooltip.intersect||(Et+=" no-pointer-events");var Qt=Array.isArray(P.config.markers.size)?P.globals.markers.size[d]>0:P.config.markers.size>0;if(Qt||N||rt){ct.isNumber(G.y[vt])?Et+=" w".concat(ct.randomId()):Et="apexcharts-nullpoint";var ue=this.getMarkerConfig({cssClass:Et,seriesIndex:d,dataPointIndex:Lt});P.config.series[V].data[Lt]&&(P.config.series[V].data[Lt].fillColor&&(ue.pointFillColor=P.config.series[V].data[Lt].fillColor),P.config.series[V].data[Lt].strokeColor&&(ue.pointStrokeColor=P.config.series[V].data[Lt].strokeColor)),C&&(ue.pSize=C),(M=J.drawMarker(G.x[vt],G.y[vt],ue)).attr("rel",Lt),M.attr("j",Lt),M.attr("index",d),M.node.setAttribute("default-marker-size",ue.pSize);var Ce=new At(this.ctx);Ce.setSelectionFilter(M,d,Lt),this.addEvents(M),K&&K.add(M)}else P.globals.pointsArray[d]===void 0&&(P.globals.pointsArray[d]=[]),P.globals.pointsArray[d].push([G.x[vt],G.y[vt]])}return K}},{key:"getMarkerConfig",value:function(h){var d=h.cssClass,y=h.seriesIndex,C=h.dataPointIndex,M=C===void 0?null:C,N=h.finishRadius,P=N===void 0?null:N,V=this.w,G=this.getMarkerStyle(y),K=V.globals.markers.size[y],J=V.config.markers;return M!==null&&J.discrete.length&&J.discrete.map(function(rt){rt.seriesIndex===y&&rt.dataPointIndex===M&&(G.pointStrokeColor=rt.strokeColor,G.pointFillColor=rt.fillColor,K=rt.size,G.pointShape=rt.shape)}),{pSize:P===null?K:P,pRadius:J.radius,width:Array.isArray(J.width)?J.width[y]:J.width,height:Array.isArray(J.height)?J.height[y]:J.height,pointStrokeWidth:Array.isArray(J.strokeWidth)?J.strokeWidth[y]:J.strokeWidth,pointStrokeColor:G.pointStrokeColor,pointFillColor:G.pointFillColor,shape:G.pointShape||(Array.isArray(J.shape)?J.shape[y]:J.shape),class:d,pointStrokeOpacity:Array.isArray(J.strokeOpacity)?J.strokeOpacity[y]:J.strokeOpacity,pointStrokeDashArray:Array.isArray(J.strokeDashArray)?J.strokeDashArray[y]:J.strokeDashArray,pointFillOpacity:Array.isArray(J.fillOpacity)?J.fillOpacity[y]:J.fillOpacity,seriesIndex:y}}},{key:"addEvents",value:function(h){var d=this.w,y=new Ft(this.ctx);h.node.addEventListener("mouseenter",y.pathMouseEnter.bind(this.ctx,h)),h.node.addEventListener("mouseleave",y.pathMouseLeave.bind(this.ctx,h)),h.node.addEventListener("mousedown",y.pathMouseDown.bind(this.ctx,h)),h.node.addEventListener("click",d.config.markers.onClick),h.node.addEventListener("dblclick",d.config.markers.onDblClick),h.node.addEventListener("touchstart",y.pathMouseDown.bind(this.ctx,h),{passive:!0})}},{key:"getMarkerStyle",value:function(h){var d=this.w,y=d.globals.markers.colors,C=d.config.markers.strokeColor||d.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(C)?C[h]:C,pointFillColor:Array.isArray(y)?y[h]:y}}}]),$t}(),cn=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return Jt($t,[{key:"draw",value:function(h,d,y){var C=this.w,M=new Ft(this.ctx),N=y.realIndex,P=y.pointsPos,V=y.zRatio,G=y.elParent,K=M.group({class:"apexcharts-series-markers apexcharts-series-".concat(C.config.chart.type)});if(K.attr("clip-path","url(#gridRectMarkerMask".concat(C.globals.cuid,")")),Array.isArray(P.x))for(var J=0;J<P.x.length;J++){var rt=d+1,vt=!0;d===0&&J===0&&(rt=0),d===0&&J===1&&(rt=1);var Lt=0,Et=C.globals.markers.size[N];if(V!==1/0){var Qt=C.config.plotOptions.bubble;Et=C.globals.seriesZ[N][rt],Qt.zScaling&&(Et/=V),Qt.minBubbleRadius&&Et<Qt.minBubbleRadius&&(Et=Qt.minBubbleRadius),Qt.maxBubbleRadius&&Et>Qt.maxBubbleRadius&&(Et=Qt.maxBubbleRadius)}C.config.chart.animations.enabled||(Lt=Et);var ue=P.x[J],Ce=P.y[J];if(Lt=Lt||0,Ce!==null&&C.globals.series[N][rt]!==void 0||(vt=!1),vt){var de=this.drawPoint(ue,Ce,Lt,Et,N,rt,d);K.add(de)}G.add(K)}}},{key:"drawPoint",value:function(h,d,y,C,M,N,P){var V=this.w,G=M,K=new te(this.ctx),J=new At(this.ctx),rt=new U(this.ctx),vt=new ye(this.ctx),Lt=new Ft(this.ctx),Et=vt.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:G,dataPointIndex:N,finishRadius:V.config.chart.type==="bubble"||V.globals.comboCharts&&V.config.series[M]&&V.config.series[M].type==="bubble"?C:null});C=Et.pSize;var Qt,ue=rt.fillPath({seriesNumber:M,dataPointIndex:N,color:Et.pointFillColor,patternUnits:"objectBoundingBox",value:V.globals.series[M][P]});if(Et.shape==="circle"?Qt=Lt.drawCircle(y):Et.shape!=="square"&&Et.shape!=="rect"||(Qt=Lt.drawRect(0,0,Et.width-Et.pointStrokeWidth/2,Et.height-Et.pointStrokeWidth/2,Et.pRadius)),V.config.series[G].data[N]&&V.config.series[G].data[N].fillColor&&(ue=V.config.series[G].data[N].fillColor),Qt.attr({x:h-Et.width/2-Et.pointStrokeWidth/2,y:d-Et.height/2-Et.pointStrokeWidth/2,cx:h,cy:d,fill:ue,"fill-opacity":Et.pointFillOpacity,stroke:Et.pointStrokeColor,r:C,"stroke-width":Et.pointStrokeWidth,"stroke-dasharray":Et.pointStrokeDashArray,"stroke-opacity":Et.pointStrokeOpacity}),V.config.chart.dropShadow.enabled){var Ce=V.config.chart.dropShadow;J.dropShadow(Qt,Ce,M)}if(!this.initialAnim||V.globals.dataChanged||V.globals.resized)V.globals.animationEnded=!0;else{var de=V.config.chart.animations.speed;K.animateMarker(Qt,0,Et.shape==="circle"?C:{width:Et.width,height:Et.height},de,V.globals.easing,function(){window.setTimeout(function(){K.animationCompleted(Qt)},100)})}if(V.globals.dataChanged&&Et.shape==="circle")if(this.dynamicAnim){var Y,ot,zt,jt,xe=V.config.chart.animations.dynamicAnimation.speed;(jt=V.globals.previousPaths[M]&&V.globals.previousPaths[M][P])!=null&&(Y=jt.x,ot=jt.y,zt=jt.r!==void 0?jt.r:C);for(var an=0;an<V.globals.collapsedSeries.length;an++)V.globals.collapsedSeries[an].index===M&&(xe=1,C=0);h===0&&d===0&&(C=0),K.animateCircle(Qt,{cx:Y,cy:ot,r:zt},{cx:h,cy:d,r:C},xe,V.globals.easing)}else Qt.attr({r:C});return Qt.attr({rel:N,j:N,index:M,"default-marker-size":C}),J.setSelectionFilter(Qt,M,N),vt.addEvents(Qt),Qt.node.classList.add("apexcharts-marker"),Qt}},{key:"centerTextInBubble",value:function(h){var d=this.w;return{y:h+=parseInt(d.config.dataLabels.style.fontSize,10)/4}}}]),$t}(),$e=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"dataLabelsCorrection",value:function(h,d,y,C,M,N,P){var V=this.w,G=!1,K=new Ft(this.ctx).getTextRects(y,P),J=K.width,rt=K.height;d<0&&(d=0),d>V.globals.gridHeight+rt&&(d=V.globals.gridHeight+rt/2),V.globals.dataLabelsRects[C]===void 0&&(V.globals.dataLabelsRects[C]=[]),V.globals.dataLabelsRects[C].push({x:h,y:d,width:J,height:rt});var vt=V.globals.dataLabelsRects[C].length-2,Lt=V.globals.lastDrawnDataLabelsIndexes[C]!==void 0?V.globals.lastDrawnDataLabelsIndexes[C][V.globals.lastDrawnDataLabelsIndexes[C].length-1]:0;if(V.globals.dataLabelsRects[C][vt]!==void 0){var Et=V.globals.dataLabelsRects[C][Lt];(h>Et.x+Et.width+2||d>Et.y+Et.height+2||h+J<Et.x)&&(G=!0)}return(M===0||N)&&(G=!0),{x:h,y:d,textRects:K,drawnextLabel:G}}},{key:"drawDataLabel",value:function(h){var d=this,y=h.type,C=h.pos,M=h.i,N=h.j,P=h.isRangeStart,V=h.strokeWidth,G=V===void 0?2:V,K=this.w,J=new Ft(this.ctx),rt=K.config.dataLabels,vt=0,Lt=0,Et=N,Qt=null;if(!rt.enabled||!Array.isArray(C.x))return Qt;Qt=J.group({class:"apexcharts-data-labels"});for(var ue=0;ue<C.x.length;ue++)if(vt=C.x[ue]+rt.offsetX,Lt=C.y[ue]+rt.offsetY+G,!isNaN(vt)){N===1&&ue===0&&(Et=0),N===1&&ue===1&&(Et=1);var Ce=K.globals.series[M][Et];y==="rangeArea"&&(Ce=P?K.globals.seriesRangeStart[M][Et]:K.globals.seriesRangeEnd[M][Et]);var de="",Y=function(ot){return K.config.dataLabels.formatter(ot,{ctx:d.ctx,seriesIndex:M,dataPointIndex:Et,w:K})};K.config.chart.type==="bubble"?(de=Y(Ce=K.globals.seriesZ[M][Et]),Lt=C.y[ue],Lt=new cn(this.ctx).centerTextInBubble(Lt,M,Et).y):Ce!==void 0&&(de=Y(Ce)),this.plotDataLabelsText({x:vt,y:Lt,text:de,i:M,j:Et,parent:Qt,offsetCorrection:!0,dataLabelsConfig:K.config.dataLabels})}return Qt}},{key:"plotDataLabelsText",value:function(h){var d=this.w,y=new Ft(this.ctx),C=h.x,M=h.y,N=h.i,P=h.j,V=h.text,G=h.textAnchor,K=h.fontSize,J=h.parent,rt=h.dataLabelsConfig,vt=h.color,Lt=h.alwaysDrawDataLabel,Et=h.offsetCorrection;if(!(Array.isArray(d.config.dataLabels.enabledOnSeries)&&d.config.dataLabels.enabledOnSeries.indexOf(N)<0)){var Qt={x:C,y:M,drawnextLabel:!0,textRects:null};Et&&(Qt=this.dataLabelsCorrection(C,M,V,N,P,Lt,parseInt(rt.style.fontSize,10))),d.globals.zoomed||(C=Qt.x,M=Qt.y),Qt.textRects&&(C<-10-Qt.textRects.width||C>d.globals.gridWidth+Qt.textRects.width+10)&&(V="");var ue=d.globals.dataLabels.style.colors[N];((d.config.chart.type==="bar"||d.config.chart.type==="rangeBar")&&d.config.plotOptions.bar.distributed||d.config.dataLabels.distributed)&&(ue=d.globals.dataLabels.style.colors[P]),typeof ue=="function"&&(ue=ue({series:d.globals.series,seriesIndex:N,dataPointIndex:P,w:d})),vt&&(ue=vt);var Ce=rt.offsetX,de=rt.offsetY;if(d.config.chart.type!=="bar"&&d.config.chart.type!=="rangeBar"||(Ce=0,de=0),Qt.drawnextLabel){var Y=y.drawText({width:100,height:parseInt(rt.style.fontSize,10),x:C+Ce,y:M+de,foreColor:ue,textAnchor:G||rt.textAnchor,text:V,fontSize:K||rt.style.fontSize,fontFamily:rt.style.fontFamily,fontWeight:rt.style.fontWeight||"normal"});if(Y.attr({class:"apexcharts-datalabel",cx:C,cy:M}),rt.dropShadow.enabled){var ot=rt.dropShadow;new At(this.ctx).dropShadow(Y,ot)}J.add(Y),d.globals.lastDrawnDataLabelsIndexes[N]===void 0&&(d.globals.lastDrawnDataLabelsIndexes[N]=[]),d.globals.lastDrawnDataLabelsIndexes[N].push(P)}}}},{key:"addBackgroundToDataLabel",value:function(h,d){var y=this.w,C=y.config.dataLabels.background,M=C.padding,N=C.padding/2,P=d.width,V=d.height,G=new Ft(this.ctx).drawRect(d.x-M,d.y-N/2,P+2*M,V+N,C.borderRadius,y.config.chart.background==="transparent"?"#fff":y.config.chart.background,C.opacity,C.borderWidth,C.borderColor);return C.dropShadow.enabled&&new At(this.ctx).dropShadow(G,C.dropShadow),G}},{key:"dataLabelsBackground",value:function(){var h=this.w;if(h.config.chart.type!=="bubble")for(var d=h.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),y=0;y<d.length;y++){var C=d[y],M=C.getBBox(),N=null;if(M.width&&M.height&&(N=this.addBackgroundToDataLabel(C,M)),N){C.parentNode.insertBefore(N.node,C);var P=C.getAttribute("fill");h.config.chart.animations.enabled&&!h.globals.resized&&!h.globals.dataChanged?N.animate().attr({fill:P}):N.attr({fill:P}),C.setAttribute("fill",h.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var h=this.w,d=h.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),y=h.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),C=0;C<d.length;C++)y&&y.insertBefore(d[C],y.nextSibling)}}]),$t}(),We=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.legendInactiveClass="legend-mouseover-inactive"}return Jt($t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(h){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ct.escapeString(h),"']"))}},{key:"isSeriesHidden",value:function(h){var d=this.getSeriesByName(h),y=parseInt(d.getAttribute("data:realIndex"),10);return{isHidden:d.classList.contains("apexcharts-series-collapsed"),realIndex:y}}},{key:"addCollapsedClassToSeries",value:function(h,d){var y=this.w;function C(M){for(var N=0;N<M.length;N++)M[N].index===d&&h.node.classList.add("apexcharts-series-collapsed")}C(y.globals.collapsedSeries),C(y.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(h){var d=this.isSeriesHidden(h);return this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,d.isHidden),d.isHidden}},{key:"showSeries",value:function(h){var d=this.isSeriesHidden(h);d.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,!0)}},{key:"hideSeries",value:function(h){var d=this.isSeriesHidden(h);d.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,!1)}},{key:"resetSeries",value:function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],C=this.w,M=ct.clone(C.globals.initialSeries);C.globals.previousPaths=[],y?(C.globals.collapsedSeries=[],C.globals.ancillaryCollapsedSeries=[],C.globals.collapsedSeriesIndices=[],C.globals.ancillaryCollapsedSeriesIndices=[]):M=this.emptyCollapsedSeries(M),C.config.series=M,h&&(d&&(C.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(M,C.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(h){for(var d=this.w,y=0;y<h.length;y++)d.globals.collapsedSeriesIndices.indexOf(y)>-1&&(h[y].data=[]);return h}},{key:"toggleSeriesOnHover",value:function(h,d){var y=this.w;d||(d=h.target);var C=y.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(h.type==="mousemove"){var M=parseInt(d.getAttribute("rel"),10)-1,N=null,P=null;y.globals.axisCharts||y.config.chart.type==="radialBar"?y.globals.axisCharts?(N=y.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(M,"']")),P=y.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(M,"']"))):N=y.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(M+1,"']")):N=y.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(M+1,"'] path"));for(var V=0;V<C.length;V++)C[V].classList.add(this.legendInactiveClass);N!==null&&(y.globals.axisCharts||N.parentNode.classList.remove(this.legendInactiveClass),N.classList.remove(this.legendInactiveClass),P!==null&&P.classList.remove(this.legendInactiveClass))}else if(h.type==="mouseout")for(var G=0;G<C.length;G++)C[G].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(h,d){var y=this,C=this.w,M=C.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),N=function(V){for(var G=0;G<M.length;G++)M[G].classList[V](y.legendInactiveClass)};if(h.type==="mousemove"){var P=parseInt(d.getAttribute("rel"),10)-1;N("add"),function(V){for(var G=0;G<M.length;G++){var K=parseInt(M[G].getAttribute("val"),10);K>=V.from&&K<=V.to&&M[G].classList.remove(y.legendInactiveClass)}}(C.config.plotOptions.heatmap.colorScale.ranges[P])}else h.type==="mouseout"&&N("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=this.w,C=0;if(y.config.series.length>1){for(var M=y.config.series.map(function(P,V){return P.data&&P.data.length>0&&y.globals.collapsedSeriesIndices.indexOf(V)===-1&&(!y.globals.comboCharts||d.length===0||d.length&&d.indexOf(y.config.series[V].type)>-1)?V:-1}),N=h==="asc"?0:M.length-1;h==="asc"?N<M.length:N>=0;h==="asc"?N++:N--)if(M[N]!==-1){C=M[N];break}}return C}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(h,d){return h.type==="bar"||h.type==="column"?d:-1}).filter(function(h){return h!==-1}):this.w.config.series.map(function(h,d){return d})}},{key:"getPreviousPaths",value:function(){var h=this.w;function d(N,P,V){for(var G=N[P].childNodes,K={type:V,paths:[],realIndex:N[P].getAttribute("data:realIndex")},J=0;J<G.length;J++)if(G[J].hasAttribute("pathTo")){var rt=G[J].getAttribute("pathTo");K.paths.push({d:rt})}h.globals.previousPaths.push(K)}h.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(N){for(var P,V=(P=N,h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(P,"-series .apexcharts-series"))),G=0;G<V.length;G++)d(V,G,N)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var y=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h.config.chart.type," .apexcharts-series"));if(y.length>0)for(var C=function(N){for(var P=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(N,"'] rect")),V=[],G=function(J){var rt=function(Lt){return P[J].getAttribute(Lt)},vt={x:parseFloat(rt("x")),y:parseFloat(rt("y")),width:parseFloat(rt("width")),height:parseFloat(rt("height"))};V.push({rect:vt,color:P[J].getAttribute("color")})},K=0;K<P.length;K++)G(K);h.globals.previousPaths.push(V)},M=0;M<y.length;M++)C(M);h.globals.axisCharts||(h.globals.previousPaths=h.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(h){var d=this.w,y=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series"));if(y.length>0)for(var C=0;C<y.length;C++){for(var M=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series[data\\:realIndex='").concat(C,"'] circle")),N=[],P=0;P<M.length;P++)N.push({x:M[P].getAttribute("cx"),y:M[P].getAttribute("cy"),r:M[P].getAttribute("r")});d.globals.previousPaths.push(N)}}},{key:"clearPreviousPaths",value:function(){var h=this.w;h.globals.previousPaths=[],h.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var h=this.w,d=h.config.noData,y=new Ft(this.ctx),C=h.globals.svgWidth/2,M=h.globals.svgHeight/2,N="middle";if(h.globals.noData=!0,h.globals.animationEnded=!0,d.align==="left"?(C=10,N="start"):d.align==="right"&&(C=h.globals.svgWidth-10,N="end"),d.verticalAlign==="top"?M=50:d.verticalAlign==="bottom"&&(M=h.globals.svgHeight-50),C+=d.offsetX,M=M+parseInt(d.style.fontSize,10)+2+d.offsetY,d.text!==void 0&&d.text!==""){var P=y.drawText({x:C,y:M,text:d.text,textAnchor:N,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,foreColor:d.style.color,opacity:1,class:"apexcharts-text-nodata"});h.globals.dom.Paper.add(P)}}},{key:"setNullSeriesToZeroValues",value:function(h){for(var d=this.w,y=0;y<h.length;y++)if(h[y].length===0)for(var C=0;C<h[d.globals.maxValsInArrayIndex].length;C++)h[y].push(0);return h}},{key:"hasAllSeriesEqualX",value:function(){for(var h=!0,d=this.w,y=this.filteredSeriesX(),C=0;C<y.length-1;C++)if(y[C][0]!==y[C+1][0]){h=!1;break}return d.globals.allSeriesHasEqualX=h,h}},{key:"filteredSeriesX",value:function(){var h=this.w.globals.seriesX.map(function(d){return d.length>0?d:[]});return h}}]),$t}(),Re=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Kt(this.ctx)}return Jt($t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var h=this.w.config.series.slice(),d=new We(this.ctx);if(this.activeSeriesIndex=d.getActiveConfigSeriesIndex(),h[this.activeSeriesIndex].data!==void 0&&h[this.activeSeriesIndex].data.length>0&&h[this.activeSeriesIndex].data[0]!==null&&h[this.activeSeriesIndex].data[0].x!==void 0&&h[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var h=this.w.config.series.slice(),d=new We(this.ctx);if(this.activeSeriesIndex=d.getActiveConfigSeriesIndex(),h[this.activeSeriesIndex].data!==void 0&&h[this.activeSeriesIndex].data.length>0&&h[this.activeSeriesIndex].data[0]!==void 0&&h[this.activeSeriesIndex].data[0]!==null&&h[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(h,d){for(var y=this.w.config,C=this.w.globals,M=y.chart.type==="boxPlot"||y.series[d].type==="boxPlot",N=0;N<h[d].data.length;N++)if(h[d].data[N][1]!==void 0&&(Array.isArray(h[d].data[N][1])&&h[d].data[N][1].length===4&&!M?this.twoDSeries.push(ct.parseNumber(h[d].data[N][1][3])):h[d].data[N].length>=5?this.twoDSeries.push(ct.parseNumber(h[d].data[N][4])):this.twoDSeries.push(ct.parseNumber(h[d].data[N][1])),C.dataFormatXNumeric=!0),y.xaxis.type==="datetime"){var P=new Date(h[d].data[N][0]);P=new Date(P).getTime(),this.twoDSeriesX.push(P)}else this.twoDSeriesX.push(h[d].data[N][0]);for(var V=0;V<h[d].data.length;V++)h[d].data[V][2]!==void 0&&(this.threeDSeries.push(h[d].data[V][2]),C.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(h,d){var y=this.w.config,C=this.w.globals,M=new Le(this.ctx),N=d;C.collapsedSeriesIndices.indexOf(d)>-1&&(N=this.activeSeriesIndex);for(var P=0;P<h[d].data.length;P++)h[d].data[P].y!==void 0&&(Array.isArray(h[d].data[P].y)?this.twoDSeries.push(ct.parseNumber(h[d].data[P].y[h[d].data[P].y.length-1])):this.twoDSeries.push(ct.parseNumber(h[d].data[P].y))),h[d].data[P].goals!==void 0&&Array.isArray(h[d].data[P].goals)?(this.seriesGoals[d]===void 0&&(this.seriesGoals[d]=[]),this.seriesGoals[d].push(h[d].data[P].goals)):(this.seriesGoals[d]===void 0&&(this.seriesGoals[d]=[]),this.seriesGoals[d].push(null));for(var V=0;V<h[N].data.length;V++){var G=typeof h[N].data[V].x=="string",K=Array.isArray(h[N].data[V].x),J=!K&&!!M.isValidDate(h[N].data[V].x.toString());if(G||J)if(G||y.xaxis.convertedCatToNumeric){var rt=C.isBarHorizontal&&C.isRangeData;y.xaxis.type!=="datetime"||rt?(this.fallbackToCategory=!0,this.twoDSeriesX.push(h[N].data[V].x)):this.twoDSeriesX.push(M.parseDate(h[N].data[V].x))}else y.xaxis.type==="datetime"?this.twoDSeriesX.push(M.parseDate(h[N].data[V].x.toString())):(C.dataFormatXNumeric=!0,C.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(h[N].data[V].x)));else K?(this.fallbackToCategory=!0,this.twoDSeriesX.push(h[N].data[V].x)):(C.isXNumeric=!0,C.dataFormatXNumeric=!0,this.twoDSeriesX.push(h[N].data[V].x))}if(h[d].data[0]&&h[d].data[0].z!==void 0){for(var vt=0;vt<h[d].data.length;vt++)this.threeDSeries.push(h[d].data[vt].z);C.isDataXYZ=!0}}},{key:"handleRangeData",value:function(h,d){var y=this.w.globals,C={};return this.isFormat2DArray()?C=this.handleRangeDataFormat("array",h,d):this.isFormatXY()&&(C=this.handleRangeDataFormat("xy",h,d)),y.seriesRangeStart.push(C.start),y.seriesRangeEnd.push(C.end),y.seriesRange.push(C.rangeUniques),y.seriesRange.forEach(function(M,N){M&&M.forEach(function(P,V){P.y.forEach(function(G,K){for(var J=0;J<P.y.length;J++)if(K!==J){var rt=G.y1,vt=G.y2,Lt=P.y[J].y1;rt<=P.y[J].y2&&Lt<=vt&&(P.overlaps.indexOf(G.rangeName)<0&&P.overlaps.push(G.rangeName),P.overlaps.indexOf(P.y[J].rangeName)<0&&P.overlaps.push(P.y[J].rangeName))}})})}),C}},{key:"handleCandleStickBoxData",value:function(h,d){var y=this.w.globals,C={};return this.isFormat2DArray()?C=this.handleCandleStickBoxDataFormat("array",h,d):this.isFormatXY()&&(C=this.handleCandleStickBoxDataFormat("xy",h,d)),y.seriesCandleO[d]=C.o,y.seriesCandleH[d]=C.h,y.seriesCandleM[d]=C.m,y.seriesCandleL[d]=C.l,y.seriesCandleC[d]=C.c,C}},{key:"handleRangeDataFormat",value:function(h,d,y){var C=[],M=[],N=d[y].data.filter(function(K,J,rt){return J===rt.findIndex(function(vt){return vt.x===K.x})}).map(function(K,J){return{x:K.x,overlaps:[],y:[]}});if(h==="array")for(var P=0;P<d[y].data.length;P++)Array.isArray(d[y].data[P])?(C.push(d[y].data[P][1][0]),M.push(d[y].data[P][1][1])):(C.push(d[y].data[P]),M.push(d[y].data[P]));else if(h==="xy")for(var V=function(K){var J=Array.isArray(d[y].data[K].y),rt=ct.randomId(),vt=d[y].data[K].x,Lt={y1:J?d[y].data[K].y[0]:d[y].data[K].y,y2:J?d[y].data[K].y[1]:d[y].data[K].y,rangeName:rt};d[y].data[K].rangeName=rt;var Et=N.findIndex(function(Qt){return Qt.x===vt});N[Et].y.push(Lt),C.push(Lt.y1),M.push(Lt.y2)},G=0;G<d[y].data.length;G++)V(G);return{start:C,end:M,rangeUniques:N}}},{key:"handleCandleStickBoxDataFormat",value:function(h,d,y){var C=this.w,M=C.config.chart.type==="boxPlot"||C.config.series[y].type==="boxPlot",N=[],P=[],V=[],G=[],K=[];if(h==="array")if(M&&d[y].data[0].length===6||!M&&d[y].data[0].length===5)for(var J=0;J<d[y].data.length;J++)N.push(d[y].data[J][1]),P.push(d[y].data[J][2]),M?(V.push(d[y].data[J][3]),G.push(d[y].data[J][4]),K.push(d[y].data[J][5])):(G.push(d[y].data[J][3]),K.push(d[y].data[J][4]));else for(var rt=0;rt<d[y].data.length;rt++)Array.isArray(d[y].data[rt][1])&&(N.push(d[y].data[rt][1][0]),P.push(d[y].data[rt][1][1]),M?(V.push(d[y].data[rt][1][2]),G.push(d[y].data[rt][1][3]),K.push(d[y].data[rt][1][4])):(G.push(d[y].data[rt][1][2]),K.push(d[y].data[rt][1][3])));else if(h==="xy")for(var vt=0;vt<d[y].data.length;vt++)Array.isArray(d[y].data[vt].y)&&(N.push(d[y].data[vt].y[0]),P.push(d[y].data[vt].y[1]),M?(V.push(d[y].data[vt].y[2]),G.push(d[y].data[vt].y[3]),K.push(d[y].data[vt].y[4])):(G.push(d[y].data[vt].y[2]),K.push(d[y].data[vt].y[3])));return{o:N,h:P,m:V,l:G,c:K}}},{key:"parseDataAxisCharts",value:function(h){var d=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,C=this.w.config,M=this.w.globals,N=new Le(y),P=C.labels.length>0?C.labels.slice():C.xaxis.categories.slice();M.isRangeBar=C.chart.type==="rangeBar"&&M.isBarHorizontal,M.hasGroups=C.xaxis.type==="category"&&C.xaxis.group.groups.length>0,M.hasGroups&&(M.groups=C.xaxis.group.groups);for(var V=function(){for(var J=0;J<P.length;J++)if(typeof P[J]=="string"){if(!N.isValidDate(P[J]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");d.twoDSeriesX.push(N.parseDate(P[J]))}else d.twoDSeriesX.push(P[J])},G=0;G<h.length;G++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],h[G].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(C.chart.type!=="rangeBar"&&C.chart.type!=="rangeArea"&&h[G].type!=="rangeBar"&&h[G].type!=="rangeArea"||(M.isRangeData=!0,M.isComboCharts?h[G].type!=="rangeBar"&&h[G].type!=="rangeArea"||this.handleRangeData(h,G):C.chart.type!=="rangeBar"&&C.chart.type!=="rangeArea"||this.handleRangeData(h,G)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(h,G):this.isFormatXY()&&this.handleFormatXY(h,G),C.chart.type!=="candlestick"&&h[G].type!=="candlestick"&&C.chart.type!=="boxPlot"&&h[G].type!=="boxPlot"||this.handleCandleStickBoxData(h,G),M.series.push(this.twoDSeries),M.labels.push(this.twoDSeriesX),M.seriesX.push(this.twoDSeriesX),M.seriesGoals=this.seriesGoals,G!==this.activeSeriesIndex||this.fallbackToCategory||(M.isXNumeric=!0);else{C.xaxis.type==="datetime"?(M.isXNumeric=!0,V(),M.seriesX.push(this.twoDSeriesX)):C.xaxis.type==="numeric"&&(M.isXNumeric=!0,P.length>0&&(this.twoDSeriesX=P,M.seriesX.push(this.twoDSeriesX))),M.labels.push(this.twoDSeriesX);var K=h[G].data.map(function(J){return ct.parseNumber(J)});M.series.push(K)}M.seriesZ.push(this.threeDSeries),h[G].name!==void 0?M.seriesNames.push(h[G].name):M.seriesNames.push("series-"+parseInt(G+1,10)),h[G].color!==void 0?M.seriesColors.push(h[G].color):M.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(h){var d=this.w.globals,y=this.w.config;d.series=h.slice(),d.seriesNames=y.labels.slice();for(var C=0;C<d.series.length;C++)d.seriesNames[C]===void 0&&d.seriesNames.push("series-"+(C+1));return this.w}},{key:"handleExternalLabelsData",value:function(h){var d=this.w.config,y=this.w.globals;d.xaxis.categories.length>0?y.labels=d.xaxis.categories:d.labels.length>0?y.labels=d.labels.slice():this.fallbackToCategory?(y.labels=y.labels[0],y.seriesRange.length&&(y.seriesRange.map(function(C){C.forEach(function(M){y.labels.indexOf(M.x)<0&&M.x&&y.labels.push(M.x)})}),y.labels=y.labels.filter(function(C,M,N){return N.indexOf(C)===M})),d.xaxis.convertedCatToNumeric&&(new rn(d).convertCatToNumericXaxis(d,this.ctx,y.seriesX[0]),this._generateExternalLabels(h))):this._generateExternalLabels(h)}},{key:"_generateExternalLabels",value:function(h){var d=this.w.globals,y=this.w.config,C=[];if(d.axisCharts){if(d.series.length>0)if(this.isFormatXY())for(var M=y.series.map(function(J,rt){return J.data.filter(function(vt,Lt,Et){return Et.findIndex(function(Qt){return Qt.x===vt.x})===Lt})}),N=M.reduce(function(J,rt,vt,Lt){return Lt[J].length>rt.length?J:vt},0),P=0;P<M[N].length;P++)C.push(P+1);else for(var V=0;V<d.series[d.maxValsInArrayIndex].length;V++)C.push(V+1);d.seriesX=[];for(var G=0;G<h.length;G++)d.seriesX.push(C);d.isXNumeric=!0}if(C.length===0){C=d.axisCharts?[]:d.series.map(function(J,rt){return rt+1});for(var K=0;K<h.length;K++)d.seriesX.push(C)}d.labels=C,y.xaxis.convertedCatToNumeric&&(d.categoryLabels=C.map(function(J){return y.xaxis.labels.formatter(J)})),d.noLabelsProvided=!0}},{key:"parseData",value:function(h){var d=this.w,y=d.config,C=d.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),C.axisCharts?(this.parseDataAxisCharts(h),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(h),y.chart.type==="bar"&&y.chart.stacked){var M=new We(this.ctx);C.series=M.setNullSeriesToZeroValues(C.series)}this.coreUtils.getSeriesTotals(),C.axisCharts&&(C.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),C.dataFormatXNumeric||C.isXNumeric&&(y.xaxis.type!=="numeric"||y.labels.length!==0||y.xaxis.categories.length!==0)||this.handleExternalLabelsData(h);for(var N=this.coreUtils.getCategoryLabels(C.labels),P=0;P<N.length;P++)if(Array.isArray(N[P])){C.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var h=this,d=this.w;d.globals.ignoreYAxisIndexes=d.globals.collapsedSeries.map(function(y,C){if(h.w.globals.isMultipleYAxis&&!d.config.chart.stacked)return y.index})}}]),$t}(),Be=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"getLabel",value:function(h,d,y,C){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],N=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",P=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],V=this.w,G=h[C]===void 0?"":h[C],K=G,J=V.globals.xLabelFormatter,rt=V.config.xaxis.labels.formatter,vt=!1,Lt=new pe(this.ctx),Et=G;P&&(K=Lt.xLabelFormat(J,G,Et,{i:C,dateFormatter:new Le(this.ctx).formatDate,w:V}),rt!==void 0&&(K=rt(G,h[C],{i:C,dateFormatter:new Le(this.ctx).formatDate,w:V})));var Qt=function(Y){var ot=null;return d.forEach(function(zt){zt.unit==="month"?ot="year":zt.unit==="day"?ot="month":zt.unit==="hour"?ot="day":zt.unit==="minute"&&(ot="hour")}),ot===Y};d.length>0?(vt=Qt(d[C].unit),y=d[C].position,K=d[C].value):V.config.xaxis.type==="datetime"&&rt===void 0&&(K=""),K===void 0&&(K=""),K=Array.isArray(K)?K:K.toString();var ue=new Ft(this.ctx),Ce={};Ce=V.globals.rotateXLabels&&P?ue.getTextRects(K,parseInt(N,10),null,"rotate(".concat(V.config.xaxis.labels.rotate," 0 0)"),!1):ue.getTextRects(K,parseInt(N,10));var de=!V.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(K)&&(K.indexOf("NaN")===0||K.toLowerCase().indexOf("invalid")===0||K.toLowerCase().indexOf("infinity")>=0||M.indexOf(K)>=0&&de)&&(K=""),{x:y,text:K,textRect:Ce,isBold:vt}}},{key:"checkLabelBasedOnTickamount",value:function(h,d,y){var C=this.w,M=C.config.xaxis.tickAmount;return M==="dataPoints"&&(M=Math.round(C.globals.gridWidth/120)),M>y||h%Math.round(y/(M+1))==0||(d.text=""),d}},{key:"checkForOverflowingLabels",value:function(h,d,y,C,M){var N=this.w;if(h===0&&N.globals.skipFirstTimelinelabel&&(d.text=""),h===y-1&&N.globals.skipLastTimelinelabel&&(d.text=""),N.config.xaxis.labels.hideOverlappingLabels&&C.length>0){var P=M[M.length-1];d.x<P.textRect.width/(N.globals.rotateXLabels?Math.abs(N.config.xaxis.labels.rotate)/12:1.01)+P.x&&(d.text="")}return d}},{key:"checkForReversedLabels",value:function(h,d){var y=this.w;return y.config.yaxis[h]&&y.config.yaxis[h].reversed&&d.reverse(),d}},{key:"isYAxisHidden",value:function(h){var d=this.w,y=new Kt(this.ctx);return!d.config.yaxis[h].show||!d.config.yaxis[h].showForNullSeries&&y.isSeriesNull(h)&&d.globals.collapsedSeriesIndices.indexOf(h)===-1}},{key:"getYAxisForeColor",value:function(h,d){var y=this.w;return Array.isArray(h)&&y.globals.yAxisScale[d]&&this.ctx.theme.pushExtraColors(h,y.globals.yAxisScale[d].result.length,!1),h}},{key:"drawYAxisTicks",value:function(h,d,y,C,M,N,P){var V=this.w,G=new Ft(this.ctx),K=V.globals.translateY;if(C.show&&d>0){V.config.yaxis[M].opposite===!0&&(h+=C.width);for(var J=d;J>=0;J--){var rt=K+d/10+V.config.yaxis[M].labels.offsetY-1;V.globals.isBarHorizontal&&(rt=N*J),V.config.chart.type==="heatmap"&&(rt+=N/2);var vt=G.drawLine(h+y.offsetX-C.width+C.offsetX,rt+C.offsetY,h+y.offsetX+C.offsetX,rt+C.offsetY,C.color);P.add(vt),K+=N}}}}]),$t}(),un=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"scaleSvgNode",value:function(h,d){var y=parseFloat(h.getAttributeNS(null,"width")),C=parseFloat(h.getAttributeNS(null,"height"));h.setAttributeNS(null,"width",y*d),h.setAttributeNS(null,"height",C*d),h.setAttributeNS(null,"viewBox","0 0 "+y+" "+C)}},{key:"fixSvgStringForIe11",value:function(h){if(!ct.isIE11())return h.replace(/&nbsp;/g,"&#160;");var d=0,y=h.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(C){return++d===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':C});return y=(y=y.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(h){h==null&&(h=1);var d=this.w.globals.dom.Paper.svg();if(h!==1){var y=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(y,h),d=new XMLSerializer().serializeToString(y)}return this.fixSvgStringForIe11(d)}},{key:"cleanup",value:function(){var h=this.w,d=h.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),y=h.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),C=h.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(C,function(M){M.setAttribute("width",0)}),d&&d[0]&&(d[0].setAttribute("x",-500),d[0].setAttribute("x1",-500),d[0].setAttribute("x2",-500)),y&&y[0]&&(y[0].setAttribute("y",-100),y[0].setAttribute("y1",-100),y[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var h=this.getSvgString(),d=new Blob([h],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(d)}},{key:"dataURI",value:function(h){var d=this;return new Promise(function(y){var C=d.w,M=h?h.scale||h.width/C.globals.svgWidth:1;d.cleanup();var N=document.createElement("canvas");N.width=C.globals.svgWidth*M,N.height=parseInt(C.globals.dom.elWrap.style.height,10)*M;var P=C.config.chart.background==="transparent"?"#fff":C.config.chart.background,V=N.getContext("2d");V.fillStyle=P,V.fillRect(0,0,N.width*M,N.height*M);var G=d.getSvgString(M);if(window.canvg&&ct.isIE11()){var K=window.canvg.Canvg.fromString(V,G,{ignoreClear:!0,ignoreDimensions:!0});K.start();var J=N.msToBlob();K.stop(),y({blob:J})}else{var rt="data:image/svg+xml,"+encodeURIComponent(G),vt=new Image;vt.crossOrigin="anonymous",vt.onload=function(){if(V.drawImage(vt,0,0),N.msToBlob){var Lt=N.msToBlob();y({blob:Lt})}else{var Et=N.toDataURL("image/png");y({imgURI:Et})}},vt.src=rt}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var h=this;this.dataURI().then(function(d){var y=d.imgURI,C=d.blob;C?navigator.msSaveOrOpenBlob(C,h.w.globals.chartID+".png"):h.triggerDownload(y,h.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(h){var d=this,y=h.series,C=h.fileName,M=h.columnDelimiter,N=M===void 0?",":M,P=h.lineDelimiter,V=P===void 0?`
`:P,G=this.w;y||(y=G.config.series);var K=[],J=[],rt="",vt=G.globals.series.map(function(de,Y){return G.globals.collapsedSeriesIndices.indexOf(Y)===-1?de:[]}),Lt=Math.max.apply(Math,It(y.map(function(de){return de.data?de.data.length:0}))),Et=new Re(this.ctx),Qt=new Be(this.ctx),ue=function(de){var Y="";if(G.globals.axisCharts){if(G.config.xaxis.type==="category"||G.config.xaxis.convertedCatToNumeric)if(G.globals.isBarHorizontal){var ot=G.globals.yLabelFormatters[0],zt=new We(d.ctx).getActiveConfigSeriesIndex();Y=ot(G.globals.labels[de],{seriesIndex:zt,dataPointIndex:de,w:G})}else Y=Qt.getLabel(G.globals.labels,G.globals.timescaleLabels,0,de).text;G.config.xaxis.type==="datetime"&&(G.config.xaxis.categories.length?Y=G.config.xaxis.categories[de]:G.config.labels.length&&(Y=G.config.labels[de]))}else Y=G.config.labels[de];return Array.isArray(Y)&&(Y=Y.join(" ")),ct.isNumber(Y)?Y:Y.split(N).join("")},Ce=function(de,Y){if(K.length&&Y===0&&J.push(K.join(N)),de.data){de.data=de.data.length&&de.data||It(Array(Lt)).map(function(){return""});for(var ot=0;ot<de.data.length;ot++){K=[];var zt=ue(ot);if(zt||(Et.isFormatXY()?zt=y[Y].data[ot].x:Et.isFormat2DArray()&&(zt=y[Y].data[ot]?y[Y].data[ot][0]:"")),Y===0){K.push((xe=zt,G.config.xaxis.type==="datetime"&&String(xe).length>=10?G.config.chart.toolbar.export.csv.dateFormatter(zt):ct.isNumber(zt)?zt:zt.split(N).join("")));for(var jt=0;jt<G.globals.series.length;jt++)Et.isFormatXY()?K.push(y[jt].data[ot].y):K.push(vt[jt][ot])}(G.config.chart.type==="candlestick"||de.type&&de.type==="candlestick")&&(K.pop(),K.push(G.globals.seriesCandleO[Y][ot]),K.push(G.globals.seriesCandleH[Y][ot]),K.push(G.globals.seriesCandleL[Y][ot]),K.push(G.globals.seriesCandleC[Y][ot])),(G.config.chart.type==="boxPlot"||de.type&&de.type==="boxPlot")&&(K.pop(),K.push(G.globals.seriesCandleO[Y][ot]),K.push(G.globals.seriesCandleH[Y][ot]),K.push(G.globals.seriesCandleM[Y][ot]),K.push(G.globals.seriesCandleL[Y][ot]),K.push(G.globals.seriesCandleC[Y][ot])),G.config.chart.type==="rangeBar"&&(K.pop(),K.push(G.globals.seriesRangeStart[Y][ot]),K.push(G.globals.seriesRangeEnd[Y][ot])),K.length&&J.push(K.join(N))}}var xe};K.push(G.config.chart.toolbar.export.csv.headerCategory),G.config.chart.type==="boxPlot"?(K.push("minimum"),K.push("q1"),K.push("median"),K.push("q3"),K.push("maximum")):G.config.chart.type==="candlestick"?(K.push("open"),K.push("high"),K.push("low"),K.push("close")):G.config.chart.type==="rangeBar"?(K.push("minimum"),K.push("maximum")):y.map(function(de,Y){var ot=de.name?de.name:"series-".concat(Y);G.globals.axisCharts&&K.push(ot.split(N).join("")?ot.split(N).join(""):"series-".concat(Y))}),G.globals.axisCharts||(K.push(G.config.chart.toolbar.export.csv.headerValue),J.push(K.join(N))),y.map(function(de,Y){G.globals.axisCharts?Ce(de,Y):((K=[]).push(G.globals.labels[Y].split(N).join("")),K.push(vt[Y]),J.push(K.join(N)))}),rt+=J.join(V),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+rt),C||G.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(h,d,y){var C=document.createElement("a");C.href=h,C.download=(d||this.w.globals.chartID)+y,document.body.appendChild(C),C.click(),document.body.removeChild(C)}}]),$t}(),he=function(){function $t(h,d){qt(this,$t),this.ctx=h,this.elgrid=d,this.w=h.w;var y=this.w;this.axesUtils=new Be(h),this.xaxisLabels=y.globals.labels.slice(),y.globals.timescaleLabels.length>0&&!y.globals.isBarHorizontal&&(this.xaxisLabels=y.globals.timescaleLabels.slice()),y.config.xaxis.overwriteCategories&&(this.xaxisLabels=y.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],y.config.xaxis.position==="top"?this.offY=0:this.offY=y.globals.gridHeight+1,this.offY=this.offY+y.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=y.config.chart.type==="bar"&&y.config.plotOptions.bar.horizontal,this.xaxisFontSize=y.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=y.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=y.config.xaxis.labels.style.colors,this.xaxisBorderWidth=y.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=y.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=y.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=y.config.xaxis.axisBorder.height,this.yaxis=y.config.yaxis[0]}return Jt($t,[{key:"drawXaxis",value:function(){var h=this.w,d=new Ft(this.ctx),y=d.group({class:"apexcharts-xaxis",transform:"translate(".concat(h.config.xaxis.offsetX,", ").concat(h.config.xaxis.offsetY,")")}),C=d.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(h.globals.translateXAxisX,", ").concat(h.globals.translateXAxisY,")")});y.add(C);for(var M=[],N=0;N<this.xaxisLabels.length;N++)M.push(this.xaxisLabels[N]);if(this.drawXAxisLabelAndGroup(!0,d,C,M,h.globals.isXNumeric,function(Lt,Et){return Et}),h.globals.hasGroups){var P=h.globals.groups;M=[];for(var V=0;V<P.length;V++)M.push(P[V].title);var G={};h.config.xaxis.group.style&&(G.xaxisFontSize=h.config.xaxis.group.style.fontSize,G.xaxisFontFamily=h.config.xaxis.group.style.fontFamily,G.xaxisForeColors=h.config.xaxis.group.style.colors,G.fontWeight=h.config.xaxis.group.style.fontWeight,G.cssClass=h.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,d,C,M,!1,function(Lt,Et){return P[Lt].cols*Et},G)}if(h.config.xaxis.title.text!==void 0){var K=d.group({class:"apexcharts-xaxis-title"}),J=d.drawText({x:h.globals.gridWidth/2+h.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(h.config.xaxis.position==="bottom"?h.globals.xAxisLabelsHeight:-h.globals.xAxisLabelsHeight-10)+h.config.xaxis.title.offsetY,text:h.config.xaxis.title.text,textAnchor:"middle",fontSize:h.config.xaxis.title.style.fontSize,fontFamily:h.config.xaxis.title.style.fontFamily,fontWeight:h.config.xaxis.title.style.fontWeight,foreColor:h.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+h.config.xaxis.title.style.cssClass});K.add(J),y.add(K)}if(h.config.xaxis.axisBorder.show){var rt=h.globals.barPadForNumericAxis,vt=d.drawLine(h.globals.padHorizontal+h.config.xaxis.axisBorder.offsetX-rt,this.offY,this.xaxisBorderWidth+rt,this.offY,h.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(vt):y.add(vt)}return y}},{key:"drawXAxisLabelAndGroup",value:function(h,d,y,C,M,N){var P,V=this,G=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},K=[],J=[],rt=this.w,vt=G.xaxisFontSize||this.xaxisFontSize,Lt=G.xaxisFontFamily||this.xaxisFontFamily,Et=G.xaxisForeColors||this.xaxisForeColors,Qt=G.fontWeight||rt.config.xaxis.labels.style.fontWeight,ue=G.cssClass||rt.config.xaxis.labels.style.cssClass,Ce=rt.globals.padHorizontal,de=C.length,Y=rt.config.xaxis.type==="category"?rt.globals.dataPoints:de;if(Y===0&&de>Y&&(Y=de),M){var ot=Y>1?Y-1:Y;P=rt.globals.gridWidth/ot,Ce=Ce+N(0,P)/2+rt.config.xaxis.labels.offsetX}else P=rt.globals.gridWidth/Y,Ce=Ce+N(0,P)+rt.config.xaxis.labels.offsetX;for(var zt=function(xe){var an=Ce-N(xe,P)/2+rt.config.xaxis.labels.offsetX;xe===0&&de===1&&P/2===Ce&&Y===1&&(an=rt.globals.gridWidth/2);var Qe=V.axesUtils.getLabel(C,rt.globals.timescaleLabels,an,xe,K,vt,h),On=28;if(rt.globals.rotateXLabels&&h&&(On=22),rt.config.xaxis.title.text&&rt.config.xaxis.position==="top"&&(On+=parseFloat(rt.config.xaxis.title.style.fontSize)+2),h||(On=On+parseFloat(vt)+(rt.globals.xAxisLabelsHeight-rt.globals.xAxisGroupLabelsHeight)+(rt.globals.rotateXLabels?10:0)),Qe=rt.config.xaxis.tickAmount!==void 0&&rt.config.xaxis.tickAmount!=="dataPoints"&&rt.config.xaxis.type!=="datetime"?V.axesUtils.checkLabelBasedOnTickamount(xe,Qe,de):V.axesUtils.checkForOverflowingLabels(xe,Qe,de,K,J),rt.config.xaxis.labels.show){var Pn=d.drawText({x:Qe.x,y:V.offY+rt.config.xaxis.labels.offsetY+On-(rt.config.xaxis.position==="top"?rt.globals.xAxisHeight+rt.config.xaxis.axisTicks.height-2:0),text:Qe.text,textAnchor:"middle",fontWeight:Qe.isBold?600:Qt,fontSize:vt,fontFamily:Lt,foreColor:Array.isArray(Et)?h&&rt.config.xaxis.convertedCatToNumeric?Et[rt.globals.minX+xe-1]:Et[xe]:Et,isPlainText:!1,cssClass:(h?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+ue});if(y.add(Pn),Pn.on("click",function(ri){if(typeof rt.config.chart.events.xAxisLabelClick=="function"){var Wi=Object.assign({},rt,{labelIndex:xe});rt.config.chart.events.xAxisLabelClick(ri,V.ctx,Wi)}}),h){var ii=document.createElementNS(rt.globals.SVGNS,"title");ii.textContent=Array.isArray(Qe.text)?Qe.text.join(" "):Qe.text,Pn.node.appendChild(ii),Qe.text!==""&&(K.push(Qe.text),J.push(Qe))}}xe<de-1&&(Ce+=N(xe+1,P))},jt=0;jt<=de-1;jt++)zt(jt)}},{key:"drawXaxisInversed",value:function(h){var d,y,C=this,M=this.w,N=new Ft(this.ctx),P=M.config.yaxis[0].opposite?M.globals.translateYAxisX[h]:0,V=N.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:h}),G=N.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+P+", 0)"});V.add(G);var K=[];if(M.config.yaxis[h].show)for(var J=0;J<this.xaxisLabels.length;J++)K.push(this.xaxisLabels[J]);d=M.globals.gridHeight/K.length,y=-d/2.2;var rt=M.globals.yLabelFormatters[0],vt=M.config.yaxis[0].labels;if(vt.show)for(var Lt=function(ot){var zt=K[ot]===void 0?"":K[ot];zt=rt(zt,{seriesIndex:h,dataPointIndex:ot,w:M});var jt=C.axesUtils.getYAxisForeColor(vt.style.colors,h),xe=0;Array.isArray(zt)&&(xe=zt.length/2*parseInt(vt.style.fontSize,10));var an=vt.offsetX-15,Qe="end";C.yaxis.opposite&&(Qe="start"),M.config.yaxis[0].labels.align==="left"?(an=vt.offsetX,Qe="start"):M.config.yaxis[0].labels.align==="center"?(an=vt.offsetX,Qe="middle"):M.config.yaxis[0].labels.align==="right"&&(Qe="end");var On=N.drawText({x:an,y:y+d+vt.offsetY-xe,text:zt,textAnchor:Qe,foreColor:Array.isArray(jt)?jt[ot]:jt,fontSize:vt.style.fontSize,fontFamily:vt.style.fontFamily,fontWeight:vt.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+vt.style.cssClass,maxWidth:vt.maxWidth});G.add(On),On.on("click",function(ri){if(typeof M.config.chart.events.xAxisLabelClick=="function"){var Wi=Object.assign({},M,{labelIndex:ot});M.config.chart.events.xAxisLabelClick(ri,C.ctx,Wi)}});var Pn=document.createElementNS(M.globals.SVGNS,"title");if(Pn.textContent=Array.isArray(zt)?zt.join(" "):zt,On.node.appendChild(Pn),M.config.yaxis[h].labels.rotate!==0){var ii=N.rotateAroundCenter(On.node);On.node.setAttribute("transform","rotate(".concat(M.config.yaxis[h].labels.rotate," 0 ").concat(ii.y,")"))}y+=d},Et=0;Et<=K.length-1;Et++)Lt(Et);if(M.config.yaxis[0].title.text!==void 0){var Qt=N.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+P+", 0)"}),ue=N.drawText({x:M.config.yaxis[0].title.offsetX,y:M.globals.gridHeight/2+M.config.yaxis[0].title.offsetY,text:M.config.yaxis[0].title.text,textAnchor:"middle",foreColor:M.config.yaxis[0].title.style.color,fontSize:M.config.yaxis[0].title.style.fontSize,fontWeight:M.config.yaxis[0].title.style.fontWeight,fontFamily:M.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+M.config.yaxis[0].title.style.cssClass});Qt.add(ue),V.add(Qt)}var Ce=0;this.isCategoryBarHorizontal&&M.config.yaxis[0].opposite&&(Ce=M.globals.gridWidth);var de=M.config.xaxis.axisBorder;if(de.show){var Y=N.drawLine(M.globals.padHorizontal+de.offsetX+Ce,1+de.offsetY,M.globals.padHorizontal+de.offsetX+Ce,M.globals.gridHeight+de.offsetY,de.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(Y):V.add(Y)}return M.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Ce,K.length,M.config.yaxis[0].axisBorder,M.config.yaxis[0].axisTicks,0,d,V),V}},{key:"drawXaxisTicks",value:function(h,d,y){var C=this.w,M=h;if(!(h<0||h-2>C.globals.gridWidth)){var N=this.offY+C.config.xaxis.axisTicks.offsetY;if(d=d+N+C.config.xaxis.axisTicks.height,C.config.xaxis.position==="top"&&(d=N-C.config.xaxis.axisTicks.height),C.config.xaxis.axisTicks.show){var P=new Ft(this.ctx).drawLine(h+C.config.xaxis.axisTicks.offsetX,N+C.config.xaxis.offsetY,M+C.config.xaxis.axisTicks.offsetX,d+C.config.xaxis.offsetY,C.config.xaxis.axisTicks.color);y.add(P),P.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var h=this.w,d=[],y=this.xaxisLabels.length,C=h.globals.padHorizontal;if(h.globals.timescaleLabels.length>0)for(var M=0;M<y;M++)C=this.xaxisLabels[M].position,d.push(C);else for(var N=y,P=0;P<N;P++){var V=N;h.globals.isXNumeric&&h.config.chart.type!=="bar"&&(V-=1),C+=h.globals.gridWidth/V,d.push(C)}return d}},{key:"xAxisLabelCorrections",value:function(){var h=this.w,d=new Ft(this.ctx),y=h.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),C=h.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),M=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),N=h.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(h.globals.rotateXLabels||h.config.xaxis.labels.rotateAlways)for(var P=0;P<C.length;P++){var V=d.rotateAroundCenter(C[P]);V.y=V.y-1,V.x=V.x+1,C[P].setAttribute("transform","rotate(".concat(h.config.xaxis.labels.rotate," ").concat(V.x," ").concat(V.y,")")),C[P].setAttribute("text-anchor","end"),y.setAttribute("transform","translate(0, ".concat(-10,")"));var G=C[P].childNodes;h.config.xaxis.labels.trim&&Array.prototype.forEach.call(G,function(vt){d.placeTextWithEllipsis(vt,vt.textContent,h.globals.xAxisLabelsHeight-(h.config.legend.position==="bottom"?20:10))})}else(function(){for(var vt=h.globals.gridWidth/(h.globals.labels.length+1),Lt=0;Lt<C.length;Lt++){var Et=C[Lt].childNodes;h.config.xaxis.labels.trim&&h.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(Et,function(Qt){d.placeTextWithEllipsis(Qt,Qt.textContent,vt)})}})();if(M.length>0){var K=M[M.length-1].getBBox(),J=M[0].getBBox();K.x<-20&&M[M.length-1].parentNode.removeChild(M[M.length-1]),J.x+J.width>h.globals.gridWidth&&!h.globals.isBarHorizontal&&M[0].parentNode.removeChild(M[0]);for(var rt=0;rt<N.length;rt++)d.placeTextWithEllipsis(N[rt],N[rt].textContent,h.config.yaxis[0].labels.maxWidth-(h.config.yaxis[0].title.text?2*parseFloat(h.config.yaxis[0].title.style.fontSize):0)-15)}}}]),$t}(),In=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w;var d=this.w;this.xaxisLabels=d.globals.labels.slice(),this.axesUtils=new Be(h),this.isRangeBar=d.globals.seriesRange.length,d.globals.timescaleLabels.length>0&&(this.xaxisLabels=d.globals.timescaleLabels.slice())}return Jt($t,[{key:"drawGridArea",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=this.w,y=new Ft(this.ctx);h===null&&(h=y.group({class:"apexcharts-grid"}));var C=y.drawLine(d.globals.padHorizontal,1,d.globals.padHorizontal,d.globals.gridHeight,"transparent"),M=y.drawLine(d.globals.padHorizontal,d.globals.gridHeight,d.globals.gridWidth,d.globals.gridHeight,"transparent");return h.add(M),h.add(C),h}},{key:"drawGrid",value:function(){var h=null;return this.w.globals.axisCharts&&(h=this.renderGrid(),this.drawGridArea(h.el)),h}},{key:"createGridMask",value:function(){var h=this.w,d=h.globals,y=new Ft(this.ctx),C=Array.isArray(h.config.stroke.width)?0:h.config.stroke.width;if(Array.isArray(h.config.stroke.width)){var M=0;h.config.stroke.width.forEach(function(J){M=Math.max(M,J)}),C=M}d.dom.elGridRectMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(d.cuid)),d.dom.elGridRectMarkerMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(d.cuid)),d.dom.elForecastMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elForecastMask.setAttribute("id","forecastMask".concat(d.cuid)),d.dom.elNonForecastMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(d.cuid));var N=h.config.chart.type,P=0,V=0;(N==="bar"||N==="rangeBar"||N==="candlestick"||N==="boxPlot"||h.globals.comboBarCount>0)&&h.globals.isXNumeric&&!h.globals.isBarHorizontal&&(P=h.config.grid.padding.left,V=h.config.grid.padding.right,d.barPadForNumericAxis>P&&(P=d.barPadForNumericAxis,V=d.barPadForNumericAxis)),d.dom.elGridRect=y.drawRect(-C/2-P-2,-C/2,d.gridWidth+C+V+P+4,d.gridHeight+C,0,"#fff");var G=h.globals.markers.largestSize+1;d.dom.elGridRectMarker=y.drawRect(2*-G,2*-G,d.gridWidth+4*G,d.gridHeight+4*G,0,"#fff"),d.dom.elGridRectMask.appendChild(d.dom.elGridRect.node),d.dom.elGridRectMarkerMask.appendChild(d.dom.elGridRectMarker.node);var K=d.dom.baseEl.querySelector("defs");K.appendChild(d.dom.elGridRectMask),K.appendChild(d.dom.elForecastMask),K.appendChild(d.dom.elNonForecastMask),K.appendChild(d.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(h){var d=h.i,y=h.x1,C=h.y1,M=h.x2,N=h.y2,P=h.xCount,V=h.parent,G=this.w;if(!(d===0&&G.globals.skipFirstTimelinelabel||d===P-1&&G.globals.skipLastTimelinelabel&&!G.config.xaxis.labels.formatter||G.config.chart.type==="radar")){G.config.grid.xaxis.lines.show&&this._drawGridLine({i:d,x1:y,y1:C,x2:M,y2:N,xCount:P,parent:V});var K=0;if(G.globals.hasGroups&&G.config.xaxis.tickPlacement==="between"){var J=G.globals.groups;if(J){for(var rt=0,vt=0;rt<d&&vt<J.length;vt++)rt+=J[vt].cols;rt===d&&(K=.6*G.globals.xAxisLabelsHeight)}}new he(this.ctx).drawXaxisTicks(y,K,G.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(h){var d=h.i,y=h.x1,C=h.y1,M=h.x2,N=h.y2,P=h.xCount,V=h.parent,G=this.w,K=!1,J=V.node.classList.contains("apexcharts-gridlines-horizontal"),rt=G.config.grid.strokeDashArray,vt=G.globals.barPadForNumericAxis;(C===0&&N===0||y===0&&M===0)&&(K=!0),C===G.globals.gridHeight&&N===G.globals.gridHeight&&(K=!0),!G.globals.isBarHorizontal||d!==0&&d!==P-1||(K=!0);var Lt=new Ft(this).drawLine(y-(J?vt:0),C,M+(J?vt:0),N,G.config.grid.borderColor,rt);Lt.node.classList.add("apexcharts-gridline"),K?this.elGridBorders.add(Lt):V.add(Lt)}},{key:"_drawGridBandRect",value:function(h){var d=h.c,y=h.x1,C=h.y1,M=h.x2,N=h.y2,P=h.type,V=this.w,G=new Ft(this.ctx),K=V.globals.barPadForNumericAxis;if(P!=="column"||V.config.xaxis.type!=="datetime"){var J=V.config.grid[P].colors[d],rt=G.drawRect(y-(P==="row"?K:0),C,M+(P==="row"?2*K:0),N,0,J,V.config.grid[P].opacity);this.elg.add(rt),rt.attr("clip-path","url(#gridRectMask".concat(V.globals.cuid,")")),rt.node.classList.add("apexcharts-grid-".concat(P))}}},{key:"_drawXYLines",value:function(h){var d=this,y=h.xCount,C=h.tickAmount,M=this.w;if(M.config.grid.xaxis.lines.show||M.config.xaxis.axisTicks.show){var N,P=M.globals.padHorizontal,V=M.globals.gridHeight;M.globals.timescaleLabels.length?function(Lt){for(var Et=Lt.xC,Qt=Lt.x1,ue=Lt.y1,Ce=Lt.x2,de=Lt.y2,Y=0;Y<Et;Y++)Qt=d.xaxisLabels[Y].position,Ce=d.xaxisLabels[Y].position,d._drawGridLines({i:Y,x1:Qt,y1:ue,x2:Ce,y2:de,xCount:y,parent:d.elgridLinesV})}({xC:y,x1:P,y1:0,x2:N,y2:V}):(M.globals.isXNumeric&&(y=M.globals.xAxisScale.result.length),function(Lt){for(var Et=Lt.xC,Qt=Lt.x1,ue=Lt.y1,Ce=Lt.x2,de=Lt.y2,Y=0;Y<Et+(M.globals.isXNumeric?0:1);Y++)Y===0&&Et===1&&M.globals.dataPoints===1&&(Ce=Qt=M.globals.gridWidth/2),d._drawGridLines({i:Y,x1:Qt,y1:ue,x2:Ce,y2:de,xCount:y,parent:d.elgridLinesV}),Ce=Qt+=M.globals.gridWidth/(M.globals.isXNumeric?Et-1:Et)}({xC:y,x1:P,y1:0,x2:N,y2:V}))}if(M.config.grid.yaxis.lines.show){var G=0,K=0,J=M.globals.gridWidth,rt=C+1;this.isRangeBar&&(rt=M.globals.labels.length);for(var vt=0;vt<rt+(this.isRangeBar?1:0);vt++)this._drawGridLine({i:vt,xCount:rt+(this.isRangeBar?1:0),x1:0,y1:G,x2:J,y2:K,parent:this.elgridLinesH}),K=G+=M.globals.gridHeight/(this.isRangeBar?rt:C)}}},{key:"_drawInvertedXYLines",value:function(h){var d=h.xCount,y=this.w;if(y.config.grid.xaxis.lines.show||y.config.xaxis.axisTicks.show)for(var C,M=y.globals.padHorizontal,N=y.globals.gridHeight,P=0;P<d+1;P++)y.config.grid.xaxis.lines.show&&this._drawGridLine({i:P,xCount:d+1,x1:M,y1:0,x2:C,y2:N,parent:this.elgridLinesV}),new he(this.ctx).drawXaxisTicks(M,0,y.globals.dom.elGraphical),C=M=M+y.globals.gridWidth/d+.3;if(y.config.grid.yaxis.lines.show)for(var V=0,G=0,K=y.globals.gridWidth,J=0;J<y.globals.dataPoints+1;J++)this._drawGridLine({i:J,xCount:y.globals.dataPoints+1,x1:0,y1:V,x2:K,y2:G,parent:this.elgridLinesH}),G=V+=y.globals.gridHeight/y.globals.dataPoints}},{key:"renderGrid",value:function(){var h=this.w,d=new Ft(this.ctx);this.elg=d.group({class:"apexcharts-grid"}),this.elgridLinesH=d.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=d.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=d.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),h.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var y,C=h.globals.yAxisScale.length?h.globals.yAxisScale[0].result.length-1:5,M=0;M<h.globals.series.length&&(h.globals.yAxisScale[M]!==void 0&&(C=h.globals.yAxisScale[M].result.length-1),!(C>2));M++);return!h.globals.isBarHorizontal||this.isRangeBar?(y=this.xaxisLabels.length,this.isRangeBar&&(C=h.globals.labels.length,h.config.xaxis.tickAmount&&h.config.xaxis.labels.formatter&&(y=h.config.xaxis.tickAmount)),this._drawXYLines({xCount:y,tickAmount:C})):(y=C,C=h.globals.xTickAmount,this._drawInvertedXYLines({xCount:y,tickAmount:C})),this.drawGridBands(y,C),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:h.globals.gridWidth/y}}},{key:"drawGridBands",value:function(h,d){var y=this.w;if(y.config.grid.row.colors!==void 0&&y.config.grid.row.colors.length>0)for(var C=0,M=y.globals.gridHeight/d,N=y.globals.gridWidth,P=0,V=0;P<d;P++,V++)V>=y.config.grid.row.colors.length&&(V=0),this._drawGridBandRect({c:V,x1:0,y1:C,x2:N,y2:M,type:"row"}),C+=y.globals.gridHeight/d;if(y.config.grid.column.colors!==void 0&&y.config.grid.column.colors.length>0)for(var G=y.globals.isBarHorizontal||y.config.xaxis.type!=="category"&&!y.config.xaxis.convertedCatToNumeric?h:h-1,K=y.globals.padHorizontal,J=y.globals.padHorizontal+y.globals.gridWidth/G,rt=y.globals.gridHeight,vt=0,Lt=0;vt<h;vt++,Lt++)Lt>=y.config.grid.column.colors.length&&(Lt=0),this._drawGridBandRect({c:Lt,x1:K,y1:0,x2:J,y2:rt,type:"column"}),K+=y.globals.gridWidth/G}}]),$t}(),kn=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"niceScale",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,M=arguments.length>4?arguments[4]:void 0,N=this.w,P=Math.abs(d-h);if((y=this._adjustTicksForSmallRange(y,C,P))==="dataPoints"&&(y=N.globals.dataPoints-1),h===Number.MIN_VALUE&&d===0||!ct.isNumber(h)&&!ct.isNumber(d)||h===Number.MIN_VALUE&&d===-Number.MAX_VALUE){h=0,d=y;var V=this.linearScale(h,d,y);return V}h>d?(console.warn("axis.min cannot be greater than axis.max"),d=h+.1):h===d&&(h=h===0?0:h-.5,d=d===0?2:d+.5);var G=[];P<1&&M&&(N.config.chart.type==="candlestick"||N.config.series[C].type==="candlestick"||N.config.chart.type==="boxPlot"||N.config.series[C].type==="boxPlot"||N.globals.isRangeData)&&(d*=1.01);var K=y+1;K<2?K=2:K>2&&(K-=2);var J=P/K,rt=Math.floor(ct.log10(J)),vt=Math.pow(10,rt),Lt=Math.round(J/vt);Lt<1&&(Lt=1);var Et=Lt*vt,Qt=Et*Math.floor(h/Et),ue=Et*Math.ceil(d/Et),Ce=Qt;if(M&&P>2){for(;G.push(Ce),!((Ce+=Et)>ue););return{result:G,niceMin:G[0],niceMax:G[G.length-1]}}var de=h;(G=[]).push(de);for(var Y=Math.abs(d-h)/y,ot=0;ot<=y;ot++)de+=Y,G.push(de);return G[G.length-2]>=d&&G.pop(),{result:G,niceMin:G[0],niceMax:G[G.length-1]}}},{key:"linearScale",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,C=arguments.length>3?arguments[3]:void 0,M=Math.abs(d-h);(y=this._adjustTicksForSmallRange(y,C,M))==="dataPoints"&&(y=this.w.globals.dataPoints-1);var N=M/y;y===Number.MAX_VALUE&&(y=10,N=1);for(var P=[],V=h;y>=0;)P.push(V),V+=N,y-=1;return{result:P,niceMin:P[0],niceMax:P[P.length-1]}}},{key:"logarithmicScaleNice",value:function(h,d,y){d<=0&&(d=Math.max(h,y)),h<=0&&(h=Math.min(d,y));for(var C=[],M=Math.ceil(Math.log(d)/Math.log(y)+1),N=Math.floor(Math.log(h)/Math.log(y));N<M;N++)C.push(Math.pow(y,N));return{result:C,niceMin:C[0],niceMax:C[C.length-1]}}},{key:"logarithmicScale",value:function(h,d,y){d<=0&&(d=Math.max(h,y)),h<=0&&(h=Math.min(d,y));for(var C=[],M=Math.log(d)/Math.log(y),N=Math.log(h)/Math.log(y),P=M-N,V=Math.round(P),G=P/V,K=0,J=N;K<V;K++,J+=G)C.push(Math.pow(y,J));return C.push(Math.pow(y,M)),{result:C,niceMin:h,niceMax:d}}},{key:"_adjustTicksForSmallRange",value:function(h,d,y){var C=h;if(d!==void 0&&this.w.config.yaxis[d].labels.formatter&&this.w.config.yaxis[d].tickAmount===void 0){var M=Number(this.w.config.yaxis[d].labels.formatter(1));ct.isNumber(M)&&this.w.globals.yValueDecimal===0&&(C=Math.ceil(y))}return C<h?C:h}},{key:"setYScaleForIndex",value:function(h,d,y){var C=this.w.globals,M=this.w.config,N=C.isBarHorizontal?M.xaxis:M.yaxis[h];C.yAxisScale[h]===void 0&&(C.yAxisScale[h]=[]);var P=Math.abs(y-d);if(N.logarithmic&&P<=5&&(C.invalidLogScale=!0),N.logarithmic&&P>5)C.allSeriesCollapsed=!1,C.yAxisScale[h]=this.logarithmicScale(d,y,N.logBase),C.yAxisScale[h]=N.forceNiceScale?this.logarithmicScaleNice(d,y,N.logBase):this.logarithmicScale(d,y,N.logBase);else if(y!==-Number.MAX_VALUE&&ct.isNumber(y))if(C.allSeriesCollapsed=!1,N.min===void 0&&N.max===void 0||N.forceNiceScale){var V=M.yaxis[h].max===void 0&&M.yaxis[h].min===void 0||M.yaxis[h].forceNiceScale;C.yAxisScale[h]=this.niceScale(d,y,N.tickAmount?N.tickAmount:P<5&&P>1?P+1:5,h,V)}else C.yAxisScale[h]=this.linearScale(d,y,N.tickAmount,h);else C.yAxisScale[h]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(h,d){var y=this.w,C=y.globals,M=y.config.xaxis,N=Math.abs(d-h);return d!==-Number.MAX_VALUE&&ct.isNumber(d)?C.xAxisScale=this.linearScale(h,d,M.tickAmount?M.tickAmount:N<5&&N>1?N+1:5,0):C.xAxisScale=this.linearScale(0,5,5),C.xAxisScale}},{key:"setMultipleYScales",value:function(){var h=this,d=this.w.globals,y=this.w.config,C=d.minYArr.concat([]),M=d.maxYArr.concat([]),N=[];y.yaxis.forEach(function(P,V){var G=V;y.series.forEach(function(rt,vt){rt.name===P.seriesName&&(G=vt,V!==vt?N.push({index:vt,similarIndex:V,alreadyExists:!0}):N.push({index:vt}))});var K=C[G],J=M[G];h.setYScaleForIndex(V,K,J)}),this.sameScaleInMultipleAxes(C,M,N)}},{key:"sameScaleInMultipleAxes",value:function(h,d,y){var C=this,M=this.w.config,N=this.w.globals,P=[];y.forEach(function(Et){Et.alreadyExists&&(P[Et.index]===void 0&&(P[Et.index]=[]),P[Et.index].push(Et.index),P[Et.index].push(Et.similarIndex))}),N.yAxisSameScaleIndices=P,P.forEach(function(Et,Qt){P.forEach(function(ue,Ce){var de,Y;Qt!==Ce&&(de=Et,Y=ue,de.filter(function(ot){return Y.indexOf(ot)!==-1})).length>0&&(P[Qt]=P[Qt].concat(P[Ce]))})});var V=P.map(function(Et){return Et.filter(function(Qt,ue){return Et.indexOf(Qt)===ue})}).map(function(Et){return Et.sort()});P=P.filter(function(Et){return!!Et});var G=V.slice(),K=G.map(function(Et){return JSON.stringify(Et)});G=G.filter(function(Et,Qt){return K.indexOf(JSON.stringify(Et))===Qt});var J=[],rt=[];h.forEach(function(Et,Qt){G.forEach(function(ue,Ce){ue.indexOf(Qt)>-1&&(J[Ce]===void 0&&(J[Ce]=[],rt[Ce]=[]),J[Ce].push({key:Qt,value:Et}),rt[Ce].push({key:Qt,value:d[Qt]}))})});var vt=Array.apply(null,Array(G.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),Lt=Array.apply(null,Array(G.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);J.forEach(function(Et,Qt){Et.forEach(function(ue,Ce){vt[Qt]=Math.min(ue.value,vt[Qt])})}),rt.forEach(function(Et,Qt){Et.forEach(function(ue,Ce){Lt[Qt]=Math.max(ue.value,Lt[Qt])})}),h.forEach(function(Et,Qt){rt.forEach(function(ue,Ce){var de=vt[Ce],Y=Lt[Ce];M.chart.stacked&&(Y=0,ue.forEach(function(ot,zt){ot.value!==-Number.MAX_VALUE&&(Y+=ot.value),de!==Number.MIN_VALUE&&(de+=J[Ce][zt].value)})),ue.forEach(function(ot,zt){ue[zt].key===Qt&&(M.yaxis[Qt].min!==void 0&&(de=typeof M.yaxis[Qt].min=="function"?M.yaxis[Qt].min(N.minY):M.yaxis[Qt].min),M.yaxis[Qt].max!==void 0&&(Y=typeof M.yaxis[Qt].max=="function"?M.yaxis[Qt].max(N.maxY):M.yaxis[Qt].max),C.setYScaleForIndex(Qt,de,Y))})})})}},{key:"autoScaleY",value:function(h,d,y){h||(h=this);var C=h.w;if(C.globals.isMultipleYAxis||C.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),d;var M=C.globals.seriesX[0],N=C.config.chart.stacked;return d.forEach(function(P,V){for(var G=0,K=0;K<M.length;K++)if(M[K]>=y.xaxis.min){G=K;break}var J,rt,vt=C.globals.minYArr[V],Lt=C.globals.maxYArr[V],Et=C.globals.stackedSeriesTotals;C.globals.series.forEach(function(Qt,ue){var Ce=Qt[G];N?(Ce=Et[G],J=rt=Ce,Et.forEach(function(de,Y){M[Y]<=y.xaxis.max&&M[Y]>=y.xaxis.min&&(de>rt&&de!==null&&(rt=de),Qt[Y]<J&&Qt[Y]!==null&&(J=Qt[Y]))})):(J=rt=Ce,Qt.forEach(function(de,Y){if(M[Y]<=y.xaxis.max&&M[Y]>=y.xaxis.min){var ot=de,zt=de;C.globals.series.forEach(function(jt,xe){de!==null&&(ot=Math.min(jt[Y],ot),zt=Math.max(jt[Y],zt))}),zt>rt&&zt!==null&&(rt=zt),ot<J&&ot!==null&&(J=ot)}})),J===void 0&&rt===void 0&&(J=vt,rt=Lt),rt*=rt<0?.9:1.1,(J*=J<0?1.1:.9)===0&&rt===0&&(J=-1,rt=1),rt<0&&rt<Lt&&(rt=Lt),J<0&&J>vt&&(J=vt),d.length>1?(d[ue].min=P.min===void 0?J:P.min,d[ue].max=P.max===void 0?rt:P.max):(d[0].min=P.min===void 0?J:P.min,d[0].max=P.max===void 0?rt:P.max)})}),d}}]),$t}(),Gn=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.scales=new kn(h)}return Jt($t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,M=this.w.config,N=this.w.globals,P=-Number.MAX_VALUE,V=Number.MIN_VALUE;C===null&&(C=h+1);var G=N.series,K=G,J=G;M.chart.type==="candlestick"?(K=N.seriesCandleL,J=N.seriesCandleH):M.chart.type==="boxPlot"?(K=N.seriesCandleO,J=N.seriesCandleC):N.isRangeData&&(K=N.seriesRangeStart,J=N.seriesRangeEnd);for(var rt=h;rt<C;rt++){N.dataPoints=Math.max(N.dataPoints,G[rt].length),N.categoryLabels.length&&(N.dataPoints=N.categoryLabels.filter(function(Et){return Et!==void 0}).length);for(var vt=0;vt<N.series[rt].length;vt++){var Lt=G[rt][vt];Lt!==null&&ct.isNumber(Lt)?(J[rt][vt]!==void 0&&(P=Math.max(P,J[rt][vt]),d=Math.min(d,J[rt][vt])),K[rt][vt]!==void 0&&(d=Math.min(d,K[rt][vt]),y=Math.max(y,K[rt][vt])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||N.seriesCandleC[rt][vt]!==void 0&&(P=Math.max(P,N.seriesCandleO[rt][vt]),P=Math.max(P,N.seriesCandleH[rt][vt]),P=Math.max(P,N.seriesCandleL[rt][vt]),P=Math.max(P,N.seriesCandleC[rt][vt]),this.w.config.chart.type==="boxPlot"&&(P=Math.max(P,N.seriesCandleM[rt][vt]))),!M.series[rt].type||M.series[rt].type==="candlestick"&&M.series[rt].type==="boxPlot"&&M.series[rt].type==="rangeArea"&&M.series[rt].type==="rangeBar"||(P=Math.max(P,N.series[rt][vt]),d=Math.min(d,N.series[rt][vt])),y=P),N.seriesGoals[rt]&&N.seriesGoals[rt][vt]&&Array.isArray(N.seriesGoals[rt][vt])&&N.seriesGoals[rt][vt].forEach(function(Et){V!==Number.MIN_VALUE&&(V=Math.min(V,Et.value),d=V),P=Math.max(P,Et.value),y=P}),ct.isFloat(Lt)&&(Lt=ct.noExponents(Lt),N.yValueDecimal=Math.max(N.yValueDecimal,Lt.toString().split(".")[1].length)),V>K[rt][vt]&&K[rt][vt]<0&&(V=K[rt][vt])):N.hasNullValues=!0}}return M.chart.type==="rangeBar"&&N.seriesRangeStart.length&&N.isBarHorizontal&&(V=d),M.chart.type==="bar"&&(V<0&&P<0&&(P=0),V===Number.MIN_VALUE&&(V=0)),{minY:V,maxY:P,lowestY:d,highestY:y}}},{key:"setYRange",value:function(){var h=this.w.globals,d=this.w.config;h.maxY=-Number.MAX_VALUE,h.minY=Number.MIN_VALUE;var y=Number.MAX_VALUE;if(h.isMultipleYAxis)for(var C=0;C<h.series.length;C++){var M=this.getMinYMaxY(C,y,null,C+1);h.minYArr.push(M.minY),h.maxYArr.push(M.maxY),y=M.lowestY}var N=this.getMinYMaxY(0,y,null,h.series.length);if(h.minY=N.minY,h.maxY=N.maxY,y=N.lowestY,d.chart.stacked&&this._setStackedMinMax(),(d.chart.type==="line"||d.chart.type==="area"||d.chart.type==="candlestick"||d.chart.type==="boxPlot"||d.chart.type==="rangeBar"&&!h.isBarHorizontal)&&h.minY===Number.MIN_VALUE&&y!==-Number.MAX_VALUE&&y!==h.maxY){var P=h.maxY-y;(y>=0&&y<=10||d.yaxis[0].min!==void 0||d.yaxis[0].max!==void 0)&&(P=0),h.minY=y-5*P/100,y>0&&h.minY<0&&(h.minY=0),h.maxY=h.maxY+5*P/100}return d.yaxis.forEach(function(V,G){V.max!==void 0&&(typeof V.max=="number"?h.maxYArr[G]=V.max:typeof V.max=="function"&&(h.maxYArr[G]=V.max(h.isMultipleYAxis?h.maxYArr[G]:h.maxY)),h.maxY=h.maxYArr[G]),V.min!==void 0&&(typeof V.min=="number"?h.minYArr[G]=V.min:typeof V.min=="function"&&(h.minYArr[G]=V.min(h.isMultipleYAxis?h.minYArr[G]===Number.MIN_VALUE?0:h.minYArr[G]:h.minY)),h.minY=h.minYArr[G])}),h.isBarHorizontal&&["min","max"].forEach(function(V){d.xaxis[V]!==void 0&&typeof d.xaxis[V]=="number"&&(V==="min"?h.minY=d.xaxis[V]:h.maxY=d.xaxis[V])}),h.isMultipleYAxis?(this.scales.setMultipleYScales(),h.minY=y,h.yAxisScale.forEach(function(V,G){h.minYArr[G]=V.niceMin,h.maxYArr[G]=V.niceMax})):(this.scales.setYScaleForIndex(0,h.minY,h.maxY),h.minY=h.yAxisScale[0].niceMin,h.maxY=h.yAxisScale[0].niceMax,h.minYArr[0]=h.yAxisScale[0].niceMin,h.maxYArr[0]=h.yAxisScale[0].niceMax),{minY:h.minY,maxY:h.maxY,minYArr:h.minYArr,maxYArr:h.maxYArr,yAxisScale:h.yAxisScale}}},{key:"setXRange",value:function(){var h=this.w.globals,d=this.w.config,y=d.xaxis.type==="numeric"||d.xaxis.type==="datetime"||d.xaxis.type==="category"&&!h.noLabelsProvided||h.noLabelsProvided||h.isXNumeric;if(h.isXNumeric&&function(){for(var P=0;P<h.series.length;P++)if(h.labels[P])for(var V=0;V<h.labels[P].length;V++)h.labels[P][V]!==null&&ct.isNumber(h.labels[P][V])&&(h.maxX=Math.max(h.maxX,h.labels[P][V]),h.initialMaxX=Math.max(h.maxX,h.labels[P][V]),h.minX=Math.min(h.minX,h.labels[P][V]),h.initialMinX=Math.min(h.minX,h.labels[P][V]))}(),h.noLabelsProvided&&d.xaxis.categories.length===0&&(h.maxX=h.labels[h.labels.length-1],h.initialMaxX=h.labels[h.labels.length-1],h.minX=1,h.initialMinX=1),h.isXNumeric||h.noLabelsProvided||h.dataFormatXNumeric){var C;if(d.xaxis.tickAmount===void 0?(C=Math.round(h.svgWidth/150),d.xaxis.type==="numeric"&&h.dataPoints<30&&(C=h.dataPoints-1),C>h.dataPoints&&h.dataPoints!==0&&(C=h.dataPoints-1)):d.xaxis.tickAmount==="dataPoints"?(h.series.length>1&&(C=h.series[h.maxValsInArrayIndex].length-1),h.isXNumeric&&(C=h.maxX-h.minX-1)):C=d.xaxis.tickAmount,h.xTickAmount=C,d.xaxis.max!==void 0&&typeof d.xaxis.max=="number"&&(h.maxX=d.xaxis.max),d.xaxis.min!==void 0&&typeof d.xaxis.min=="number"&&(h.minX=d.xaxis.min),d.xaxis.range!==void 0&&(h.minX=h.maxX-d.xaxis.range),h.minX!==Number.MAX_VALUE&&h.maxX!==-Number.MAX_VALUE)if(d.xaxis.convertedCatToNumeric&&!h.dataFormatXNumeric){for(var M=[],N=h.minX-1;N<h.maxX;N++)M.push(N+1);h.xAxisScale={result:M,niceMin:M[0],niceMax:M[M.length-1]}}else h.xAxisScale=this.scales.setXScale(h.minX,h.maxX);else h.xAxisScale=this.scales.linearScale(1,C,C),h.noLabelsProvided&&h.labels.length>0&&(h.xAxisScale=this.scales.linearScale(1,h.labels.length,C-1),h.seriesX=h.labels.slice());y&&(h.labels=h.xAxisScale.result.slice())}return h.isBarHorizontal&&h.labels.length&&(h.xTickAmount=h.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:h.minX,maxX:h.maxX}}},{key:"setZRange",value:function(){var h=this.w.globals;if(h.isDataXYZ){for(var d=0;d<h.series.length;d++)if(h.seriesZ[d]!==void 0)for(var y=0;y<h.seriesZ[d].length;y++)h.seriesZ[d][y]!==null&&ct.isNumber(h.seriesZ[d][y])&&(h.maxZ=Math.max(h.maxZ,h.seriesZ[d][y]),h.minZ=Math.min(h.minZ,h.seriesZ[d][y]))}}},{key:"_handleSingleDataPoint",value:function(){var h=this.w.globals,d=this.w.config;if(h.minX===h.maxX){var y=new Le(this.ctx);if(d.xaxis.type==="datetime"){var C=y.getDate(h.minX);d.xaxis.labels.datetimeUTC?C.setUTCDate(C.getUTCDate()-2):C.setDate(C.getDate()-2),h.minX=new Date(C).getTime();var M=y.getDate(h.maxX);d.xaxis.labels.datetimeUTC?M.setUTCDate(M.getUTCDate()+2):M.setDate(M.getDate()+2),h.maxX=new Date(M).getTime()}else(d.xaxis.type==="numeric"||d.xaxis.type==="category"&&!h.noLabelsProvided)&&(h.minX=h.minX-2,h.initialMinX=h.minX,h.maxX=h.maxX+2,h.initialMaxX=h.maxX)}}},{key:"_getMinXDiff",value:function(){var h=this.w.globals;h.isXNumeric&&h.seriesX.forEach(function(d,y){d.length===1&&d.push(h.seriesX[h.maxValsInArrayIndex][h.seriesX[h.maxValsInArrayIndex].length-1]);var C=d.slice();C.sort(function(M,N){return M-N}),C.forEach(function(M,N){if(N>0){var P=M-C[N-1];P>0&&(h.minXDiff=Math.min(P,h.minXDiff))}}),h.dataPoints!==1&&h.minXDiff!==Number.MAX_VALUE||(h.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var h=this.w.globals,d=[],y=[];if(h.series.length)for(var C=0;C<h.series[h.maxValsInArrayIndex].length;C++)for(var M=0,N=0,P=0;P<h.series.length;P++)h.series[P][C]!==null&&ct.isNumber(h.series[P][C])&&(h.series[P][C]>0?M=M+parseFloat(h.series[P][C])+1e-4:N+=parseFloat(h.series[P][C])),P===h.series.length-1&&(d.push(M),y.push(N));for(var V=0;V<d.length;V++)h.maxY=Math.max(h.maxY,d[V]),h.minY=Math.min(h.minY,y[V])}}]),$t}(),fi=function(){function $t(h,d){qt(this,$t),this.ctx=h,this.elgrid=d,this.w=h.w;var y=this.w;this.xaxisFontSize=y.config.xaxis.labels.style.fontSize,this.axisFontFamily=y.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=y.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=y.config.chart.type==="bar"&&y.config.plotOptions.bar.horizontal,this.xAxisoffX=0,y.config.xaxis.position==="bottom"&&(this.xAxisoffX=y.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Be(h)}return Jt($t,[{key:"drawYaxis",value:function(h){var d=this,y=this.w,C=new Ft(this.ctx),M=y.config.yaxis[h].labels.style,N=M.fontSize,P=M.fontFamily,V=M.fontWeight,G=C.group({class:"apexcharts-yaxis",rel:h,transform:"translate("+y.globals.translateYAxisX[h]+", 0)"});if(this.axesUtils.isYAxisHidden(h))return G;var K=C.group({class:"apexcharts-yaxis-texts-g"});G.add(K);var J=y.globals.yAxisScale[h].result.length-1,rt=y.globals.gridHeight/J,vt=y.globals.translateY,Lt=y.globals.yLabelFormatters[h],Et=y.globals.yAxisScale[h].result.slice();Et=this.axesUtils.checkForReversedLabels(h,Et);var Qt="";if(y.config.yaxis[h].labels.show)for(var ue=function(an){var Qe=Et[an];Qe=Lt(Qe,an,y);var On=y.config.yaxis[h].labels.padding;y.config.yaxis[h].opposite&&y.config.yaxis.length!==0&&(On*=-1);var Pn="end";y.config.yaxis[h].opposite&&(Pn="start"),y.config.yaxis[h].labels.align==="left"?Pn="start":y.config.yaxis[h].labels.align==="center"?Pn="middle":y.config.yaxis[h].labels.align==="right"&&(Pn="end");var ii=d.axesUtils.getYAxisForeColor(M.colors,h),ri=C.drawText({x:On,y:vt+J/10+y.config.yaxis[h].labels.offsetY+1,text:Qe,textAnchor:Pn,fontSize:N,fontFamily:P,fontWeight:V,maxWidth:y.config.yaxis[h].labels.maxWidth,foreColor:Array.isArray(ii)?ii[an]:ii,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+M.cssClass});an===J&&(Qt=ri),K.add(ri);var Wi=document.createElementNS(y.globals.SVGNS,"title");if(Wi.textContent=Array.isArray(Qe)?Qe.join(" "):Qe,ri.node.appendChild(Wi),y.config.yaxis[h].labels.rotate!==0){var lr=C.rotateAroundCenter(Qt.node),xr=C.rotateAroundCenter(ri.node);ri.node.setAttribute("transform","rotate(".concat(y.config.yaxis[h].labels.rotate," ").concat(lr.x," ").concat(xr.y,")"))}vt+=rt},Ce=J;Ce>=0;Ce--)ue(Ce);if(y.config.yaxis[h].title.text!==void 0){var de=C.group({class:"apexcharts-yaxis-title"}),Y=0;y.config.yaxis[h].opposite&&(Y=y.globals.translateYAxisX[h]);var ot=C.drawText({x:Y,y:y.globals.gridHeight/2+y.globals.translateY+y.config.yaxis[h].title.offsetY,text:y.config.yaxis[h].title.text,textAnchor:"end",foreColor:y.config.yaxis[h].title.style.color,fontSize:y.config.yaxis[h].title.style.fontSize,fontWeight:y.config.yaxis[h].title.style.fontWeight,fontFamily:y.config.yaxis[h].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+y.config.yaxis[h].title.style.cssClass});de.add(ot),G.add(de)}var zt=y.config.yaxis[h].axisBorder,jt=31+zt.offsetX;if(y.config.yaxis[h].opposite&&(jt=-31-zt.offsetX),zt.show){var xe=C.drawLine(jt,y.globals.translateY+zt.offsetY-2,jt,y.globals.gridHeight+y.globals.translateY+zt.offsetY+2,zt.color,0,zt.width);G.add(xe)}return y.config.yaxis[h].axisTicks.show&&this.axesUtils.drawYAxisTicks(jt,J,zt,y.config.yaxis[h].axisTicks,h,rt,G),G}},{key:"drawYaxisInversed",value:function(h){var d=this.w,y=new Ft(this.ctx),C=y.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),M=y.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(d.globals.translateXAxisX,", ").concat(d.globals.translateXAxisY,")")});C.add(M);var N=d.globals.yAxisScale[h].result.length-1,P=d.globals.gridWidth/N+.1,V=P+d.config.xaxis.labels.offsetX,G=d.globals.xLabelFormatter,K=d.globals.yAxisScale[h].result.slice(),J=d.globals.timescaleLabels;J.length>0&&(this.xaxisLabels=J.slice(),N=(K=J.slice()).length),K=this.axesUtils.checkForReversedLabels(h,K);var rt=J.length;if(d.config.xaxis.labels.show)for(var vt=rt?0:N;rt?vt<rt:vt>=0;rt?vt++:vt--){var Lt=K[vt];Lt=G(Lt,vt,d);var Et=d.globals.gridWidth+d.globals.padHorizontal-(V-P+d.config.xaxis.labels.offsetX);if(J.length){var Qt=this.axesUtils.getLabel(K,J,Et,vt,this.drawnLabels,this.xaxisFontSize);Et=Qt.x,Lt=Qt.text,this.drawnLabels.push(Qt.text),vt===0&&d.globals.skipFirstTimelinelabel&&(Lt=""),vt===K.length-1&&d.globals.skipLastTimelinelabel&&(Lt="")}var ue=y.drawText({x:Et,y:this.xAxisoffX+d.config.xaxis.labels.offsetY+30-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:Lt,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[h]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:d.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+d.config.xaxis.labels.style.cssClass});M.add(ue),ue.tspan(Lt);var Ce=document.createElementNS(d.globals.SVGNS,"title");Ce.textContent=Lt,ue.node.appendChild(Ce),V+=P}return this.inversedYAxisTitleText(C),this.inversedYAxisBorder(C),C}},{key:"inversedYAxisBorder",value:function(h){var d=this.w,y=new Ft(this.ctx),C=d.config.xaxis.axisBorder;if(C.show){var M=0;d.config.chart.type==="bar"&&d.globals.isXNumeric&&(M-=15);var N=y.drawLine(d.globals.padHorizontal+M+C.offsetX,this.xAxisoffX,d.globals.gridWidth,this.xAxisoffX,C.color,0,C.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(N):h.add(N)}}},{key:"inversedYAxisTitleText",value:function(h){var d=this.w,y=new Ft(this.ctx);if(d.config.xaxis.title.text!==void 0){var C=y.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),M=y.drawText({x:d.globals.gridWidth/2+d.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(d.config.xaxis.title.style.fontSize)+d.config.xaxis.title.offsetY+20,text:d.config.xaxis.title.text,textAnchor:"middle",fontSize:d.config.xaxis.title.style.fontSize,fontFamily:d.config.xaxis.title.style.fontFamily,fontWeight:d.config.xaxis.title.style.fontWeight,foreColor:d.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+d.config.xaxis.title.style.cssClass});C.add(M),h.add(C)}}},{key:"yAxisTitleRotate",value:function(h,d){var y=this.w,C=new Ft(this.ctx),M={width:0,height:0},N={width:0,height:0},P=y.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g"));P!==null&&(M=P.getBoundingClientRect());var V=y.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-title text"));if(V!==null&&(N=V.getBoundingClientRect()),V!==null){var G=this.xPaddingForYAxisTitle(h,M,N,d);V.setAttribute("x",G.xPos-(d?10:0))}if(V!==null){var K=C.rotateAroundCenter(V);V.setAttribute("transform","rotate(".concat(d?-1*y.config.yaxis[h].title.rotate:y.config.yaxis[h].title.rotate," ").concat(K.x," ").concat(K.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(h,d,y,C){var M=this.w,N=0,P=0,V=10;return M.config.yaxis[h].title.text===void 0||h<0?{xPos:P,padd:0}:(C?(P=d.width+M.config.yaxis[h].title.offsetX+y.width/2+V/2,(N+=1)===0&&(P-=V/2)):(P=-1*d.width+M.config.yaxis[h].title.offsetX+V/2+y.width/2,M.globals.isBarHorizontal&&(V=25,P=-1*d.width-M.config.yaxis[h].title.offsetX-V)),{xPos:P,padd:V})}},{key:"setYAxisXPosition",value:function(h,d){var y=this.w,C=0,M=0,N=18,P=1;y.config.yaxis.length>1&&(this.multipleYs=!0),y.config.yaxis.map(function(V,G){var K=y.globals.ignoreYAxisIndexes.indexOf(G)>-1||!V.show||V.floating||h[G].width===0,J=h[G].width+d[G].width;V.opposite?y.globals.isBarHorizontal?(M=y.globals.gridWidth+y.globals.translateX-1,y.globals.translateYAxisX[G]=M-V.labels.offsetX):(M=y.globals.gridWidth+y.globals.translateX+P,K||(P=P+J+20),y.globals.translateYAxisX[G]=M-V.labels.offsetX+20):(C=y.globals.translateX-N,K||(N=N+J+20),y.globals.translateYAxisX[G]=C+V.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var h=this.w,d=h.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(d=ct.listToArray(d)).forEach(function(y,C){var M=h.config.yaxis[C];if(M&&!M.floating&&M.labels.align!==void 0){var N=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(C,"'] .apexcharts-yaxis-texts-g")),P=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(C,"'] .apexcharts-yaxis-label"));P=ct.listToArray(P);var V=N.getBoundingClientRect();M.labels.align==="left"?(P.forEach(function(G,K){G.setAttribute("text-anchor","start")}),M.opposite||N.setAttribute("transform","translate(-".concat(V.width,", 0)"))):M.labels.align==="center"?(P.forEach(function(G,K){G.setAttribute("text-anchor","middle")}),N.setAttribute("transform","translate(".concat(V.width/2*(M.opposite?1:-1),", 0)"))):M.labels.align==="right"&&(P.forEach(function(G,K){G.setAttribute("text-anchor","end")}),M.opposite&&N.setAttribute("transform","translate(".concat(V.width,", 0)")))}})}}]),$t}(),Zn=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.documentEvent=ct.bind(this.documentEvent,this)}return Jt($t,[{key:"addEventListener",value:function(h,d){var y=this.w;y.globals.events.hasOwnProperty(h)?y.globals.events[h].push(d):y.globals.events[h]=[d]}},{key:"removeEventListener",value:function(h,d){var y=this.w;if(y.globals.events.hasOwnProperty(h)){var C=y.globals.events[h].indexOf(d);C!==-1&&y.globals.events[h].splice(C,1)}}},{key:"fireEvent",value:function(h,d){var y=this.w;if(y.globals.events.hasOwnProperty(h)){d&&d.length||(d=[]);for(var C=y.globals.events[h],M=C.length,N=0;N<M;N++)C[N].apply(null,d)}}},{key:"setupEventHandlers",value:function(){var h=this,d=this.w,y=this.ctx,C=d.globals.dom.baseEl.querySelector(d.globals.chartClass);this.ctx.eventList.forEach(function(M){C.addEventListener(M,function(N){var P=Object.assign({},d,{seriesIndex:d.globals.capturedSeriesIndex,dataPointIndex:d.globals.capturedDataPointIndex});N.type==="mousemove"||N.type==="touchmove"?typeof d.config.chart.events.mouseMove=="function"&&d.config.chart.events.mouseMove(N,y,P):N.type==="mouseleave"||N.type==="touchleave"?typeof d.config.chart.events.mouseLeave=="function"&&d.config.chart.events.mouseLeave(N,y,P):(N.type==="mouseup"&&N.which===1||N.type==="touchend")&&(typeof d.config.chart.events.click=="function"&&d.config.chart.events.click(N,y,P),y.ctx.events.fireEvent("click",[N,y,P]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(M){d.globals.dom.baseEl.addEventListener(M,h.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(h){var d=this.w,y=h.target.className;if(h.type==="click"){var C=d.globals.dom.baseEl.querySelector(".apexcharts-menu");C&&C.classList.contains("apexcharts-menu-open")&&y!=="apexcharts-menu-icon"&&C.classList.remove("apexcharts-menu-open")}d.globals.clientX=h.type==="touchmove"?h.touches[0].clientX:h.clientX,d.globals.clientY=h.type==="touchmove"?h.touches[0].clientY:h.clientY}}]),$t}(),Cr=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"setCurrentLocaleValues",value:function(h){var d=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(d=this.w.config.chart.locales.concat(window.Apex.chart.locales));var y=d.filter(function(M){return M.name===h})[0];if(!y)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var C=ct.extend(Ht,y);this.w.globals.locale=C.options}}]),$t}(),Yi=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"drawAxis",value:function(h,d){var y,C,M=this,N=this.w.globals,P=this.w.config,V=new he(this.ctx,d),G=new fi(this.ctx,d);N.axisCharts&&h!=="radar"&&(N.isBarHorizontal?(C=G.drawYaxisInversed(0),y=V.drawXaxisInversed(0),N.dom.elGraphical.add(y),N.dom.elGraphical.add(C)):(y=V.drawXaxis(),N.dom.elGraphical.add(y),P.yaxis.map(function(K,J){if(N.ignoreYAxisIndexes.indexOf(J)===-1&&(C=G.drawYaxis(J),N.dom.Paper.add(C),M.w.config.grid.position==="back")){var rt=N.dom.Paper.children()[1];rt.remove(),N.dom.Paper.add(rt)}})))}}]),$t}(),wn=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"drawXCrosshairs",value:function(){var h=this.w,d=new Ft(this.ctx),y=new At(this.ctx),C=h.config.xaxis.crosshairs.fill.gradient,M=h.config.xaxis.crosshairs.dropShadow,N=h.config.xaxis.crosshairs.fill.type,P=C.colorFrom,V=C.colorTo,G=C.opacityFrom,K=C.opacityTo,J=C.stops,rt=M.enabled,vt=M.left,Lt=M.top,Et=M.blur,Qt=M.color,ue=M.opacity,Ce=h.config.xaxis.crosshairs.fill.color;if(h.config.xaxis.crosshairs.show){N==="gradient"&&(Ce=d.drawGradient("vertical",P,V,G,K,null,J,null));var de=d.drawRect();h.config.xaxis.crosshairs.width===1&&(de=d.drawLine());var Y=h.globals.gridHeight;(!ct.isNumber(Y)||Y<0)&&(Y=0);var ot=h.config.xaxis.crosshairs.width;(!ct.isNumber(ot)||ot<0)&&(ot=0),de.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:Y,width:ot,height:Y,fill:Ce,filter:"none","fill-opacity":h.config.xaxis.crosshairs.opacity,stroke:h.config.xaxis.crosshairs.stroke.color,"stroke-width":h.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":h.config.xaxis.crosshairs.stroke.dashArray}),rt&&(de=y.dropShadow(de,{left:vt,top:Lt,blur:Et,color:Qt,opacity:ue})),h.globals.dom.elGraphical.add(de)}}},{key:"drawYCrosshairs",value:function(){var h=this.w,d=new Ft(this.ctx),y=h.config.yaxis[0].crosshairs,C=h.globals.barPadForNumericAxis;if(h.config.yaxis[0].crosshairs.show){var M=d.drawLine(-C,0,h.globals.gridWidth+C,0,y.stroke.color,y.stroke.dashArray,y.stroke.width);M.attr({class:"apexcharts-ycrosshairs"}),h.globals.dom.elGraphical.add(M)}var N=d.drawLine(-C,0,h.globals.gridWidth+C,0,y.stroke.color,0,0);N.attr({class:"apexcharts-ycrosshairs-hidden"}),h.globals.dom.elGraphical.add(N)}}]),$t}(),zn=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"checkResponsiveConfig",value:function(h){var d=this,y=this.w,C=y.config;if(C.responsive.length!==0){var M=C.responsive.slice();M.sort(function(G,K){return G.breakpoint>K.breakpoint?1:K.breakpoint>G.breakpoint?-1:0}).reverse();var N=new ln({}),P=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=M[0].breakpoint,J=window.innerWidth>0?window.innerWidth:screen.width;if(J>K){var rt=Kt.extendArrayProps(N,y.globals.initialConfig,y);G=ct.extend(rt,G),G=ct.extend(y.config,G),d.overrideResponsiveOptions(G)}else for(var vt=0;vt<M.length;vt++)J<M[vt].breakpoint&&(G=Kt.extendArrayProps(N,M[vt].options,y),G=ct.extend(y.config,G),d.overrideResponsiveOptions(G))};if(h){var V=Kt.extendArrayProps(N,h,y);V=ct.extend(y.config,V),P(V=ct.extend(V,h))}else P({})}}},{key:"overrideResponsiveOptions",value:function(h){var d=new ln(h).init({responsiveOverride:!0});this.w.config=d}}]),$t}(),Un=function(){function $t(h){qt(this,$t),this.ctx=h,this.colors=[],this.w=h.w;var d=this.w;this.isColorFn=!1,this.isHeatmapDistributed=d.config.chart.type==="treemap"&&d.config.plotOptions.treemap.distributed||d.config.chart.type==="heatmap"&&d.config.plotOptions.heatmap.distributed,this.isBarDistributed=d.config.plotOptions.bar.distributed&&(d.config.chart.type==="bar"||d.config.chart.type==="rangeBar")}return Jt($t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var h=this,d=this.w,y=new ct;if(d.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(d.config.theme.mode)),d.config.colors===void 0?d.globals.colors=this.predefined():(d.globals.colors=d.config.colors,Array.isArray(d.config.colors)&&d.config.colors.length>0&&typeof d.config.colors[0]=="function"&&(d.globals.colors=d.config.series.map(function(vt,Lt){var Et=d.config.colors[Lt];return Et||(Et=d.config.colors[0]),typeof Et=="function"?(h.isColorFn=!0,Et({value:d.globals.axisCharts?d.globals.series[Lt][0]?d.globals.series[Lt][0]:0:d.globals.series[Lt],seriesIndex:Lt,dataPointIndex:Lt,w:d})):Et}))),d.globals.seriesColors.map(function(vt,Lt){vt&&(d.globals.colors[Lt]=vt)}),d.config.theme.monochrome.enabled){var C=[],M=d.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(M=d.globals.series[0].length*d.globals.series.length);for(var N=d.config.theme.monochrome.color,P=1/(M/d.config.theme.monochrome.shadeIntensity),V=d.config.theme.monochrome.shadeTo,G=0,K=0;K<M;K++){var J=void 0;V==="dark"?(J=y.shadeColor(-1*G,N),G+=P):(J=y.shadeColor(G,N),G+=P),C.push(J)}d.globals.colors=C.slice()}var rt=d.globals.colors.slice();this.pushExtraColors(d.globals.colors),["fill","stroke"].forEach(function(vt){d.config[vt].colors===void 0?d.globals[vt].colors=h.isColorFn?d.config.colors:rt:d.globals[vt].colors=d.config[vt].colors.slice(),h.pushExtraColors(d.globals[vt].colors)}),d.config.dataLabels.style.colors===void 0?d.globals.dataLabels.style.colors=rt:d.globals.dataLabels.style.colors=d.config.dataLabels.style.colors.slice(),this.pushExtraColors(d.globals.dataLabels.style.colors,50),d.config.plotOptions.radar.polygons.fill.colors===void 0?d.globals.radarPolygons.fill.colors=[d.config.theme.mode==="dark"?"#424242":"none"]:d.globals.radarPolygons.fill.colors=d.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(d.globals.radarPolygons.fill.colors,20),d.config.markers.colors===void 0?d.globals.markers.colors=rt:d.globals.markers.colors=d.config.markers.colors.slice(),this.pushExtraColors(d.globals.markers.colors)}},{key:"pushExtraColors",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=this.w,M=d||C.globals.series.length;if(y===null&&(y=this.isBarDistributed||this.isHeatmapDistributed||C.config.chart.type==="heatmap"&&C.config.plotOptions.heatmap.colorScale.inverse),y&&C.globals.series.length&&(M=C.globals.series[C.globals.maxValsInArrayIndex].length*C.globals.series.length),h.length<M)for(var N=M-h.length,P=0;P<N;P++)h.push(h[P])}},{key:"updateThemeOptions",value:function(h){h.chart=h.chart||{},h.tooltip=h.tooltip||{};var d=h.theme.mode||"light",y=h.theme.palette?h.theme.palette:d==="dark"?"palette4":"palette1",C=h.chart.foreColor?h.chart.foreColor:d==="dark"?"#f6f7f8":"#373d3f";return h.tooltip.theme=d,h.chart.foreColor=C,h.theme.palette=y,h}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),$t}(),_i=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(h){var d=this.w,y=h==="title"?d.config.title:d.config.subtitle,C=d.globals.svgWidth/2,M=y.offsetY,N="middle";if(y.align==="left"?(C=10,N="start"):y.align==="right"&&(C=d.globals.svgWidth-10,N="end"),C+=y.offsetX,M=M+parseInt(y.style.fontSize,10)+y.margin/2,y.text!==void 0){var P=new Ft(this.ctx).drawText({x:C,y:M,text:y.text,textAnchor:N,fontSize:y.style.fontSize,fontFamily:y.style.fontFamily,fontWeight:y.style.fontWeight,foreColor:y.style.color,opacity:1});P.node.setAttribute("class","apexcharts-".concat(h,"-text")),d.globals.dom.Paper.add(P)}}}]),$t}(),ui=function(){function $t(h){qt(this,$t),this.w=h.w,this.dCtx=h}return Jt($t,[{key:"getTitleSubtitleCoords",value:function(h){var d=this.w,y=0,C=0,M=h==="title"?d.config.title.floating:d.config.subtitle.floating,N=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-text"));if(N!==null&&!M){var P=N.getBoundingClientRect();y=P.width,C=d.globals.axisCharts?P.height+5:P.height}return{width:y,height:C}}},{key:"getLegendsRect",value:function(){var h=this.w,d=h.globals.dom.baseEl.querySelector(".apexcharts-legend");h.config.legend.height||h.config.legend.position!=="top"&&h.config.legend.position!=="bottom"||(d.style.maxHeight=h.globals.svgHeight/2+"px");var y=Object.assign({},ct.getBoundingClientRect(d));return d!==null&&!h.config.legend.floating&&h.config.legend.show?this.dCtx.lgRect={x:y.x,y:y.y,height:y.height,width:y.height===0?0:y.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},h.config.legend.position!=="left"&&h.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>h.globals.svgWidth&&(this.dCtx.lgRect.width=h.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(h,d){var y=h;if(this.w.globals.isMultiLineX){var C=d.map(function(N,P){return Array.isArray(N)?N.length:1}),M=Math.max.apply(Math,It(C));y=d[C.indexOf(M)]}return y}}]),$t}(),Ri=function(){function $t(h){qt(this,$t),this.w=h.w,this.dCtx=h}return Jt($t,[{key:"getxAxisLabelsCoords",value:function(){var h,d=this.w,y=d.globals.labels.slice();if(d.config.xaxis.convertedCatToNumeric&&y.length===0&&(y=d.globals.categoryLabels),d.globals.timescaleLabels.length>0){var C=this.getxAxisTimeScaleLabelsCoords();h={width:C.width,height:C.height},d.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=d.config.legend.position!=="left"&&d.config.legend.position!=="right"||d.config.legend.floating?0:this.dCtx.lgRect.width;var M=d.globals.xLabelFormatter,N=ct.getLargestStringFromArr(y),P=this.dCtx.dimHelpers.getLargestStringFromMultiArr(N,y);d.globals.isBarHorizontal&&(P=N=d.globals.yAxisScale[0].result.reduce(function(Lt,Et){return Lt.length>Et.length?Lt:Et},0));var V=new pe(this.dCtx.ctx),G=N;N=V.xLabelFormat(M,N,G,{i:void 0,dateFormatter:new Le(this.dCtx.ctx).formatDate,w:d}),P=V.xLabelFormat(M,P,G,{i:void 0,dateFormatter:new Le(this.dCtx.ctx).formatDate,w:d}),(d.config.xaxis.convertedCatToNumeric&&N===void 0||String(N).trim()==="")&&(P=N="1");var K=new Ft(this.dCtx.ctx),J=K.getTextRects(N,d.config.xaxis.labels.style.fontSize),rt=J;if(N!==P&&(rt=K.getTextRects(P,d.config.xaxis.labels.style.fontSize)),(h={width:J.width>=rt.width?J.width:rt.width,height:J.height>=rt.height?J.height:rt.height}).width*y.length>d.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&d.config.xaxis.labels.rotate!==0||d.config.xaxis.labels.rotateAlways){if(!d.globals.isBarHorizontal){d.globals.rotateXLabels=!0;var vt=function(Lt){return K.getTextRects(Lt,d.config.xaxis.labels.style.fontSize,d.config.xaxis.labels.style.fontFamily,"rotate(".concat(d.config.xaxis.labels.rotate," 0 0)"),!1)};J=vt(N),N!==P&&(rt=vt(P)),h.height=(J.height>rt.height?J.height:rt.height)/1.5,h.width=J.width>rt.width?J.width:rt.width}}else d.globals.rotateXLabels=!1}return d.config.xaxis.labels.show||(h={width:0,height:0}),{width:h.width,height:h.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var h,d=this.w;if(!d.globals.hasGroups)return{width:0,height:0};var y,C=((h=d.config.xaxis.group.style)===null||h===void 0?void 0:h.fontSize)||d.config.xaxis.labels.style.fontSize,M=d.globals.groups.map(function(J){return J.title}),N=ct.getLargestStringFromArr(M),P=this.dCtx.dimHelpers.getLargestStringFromMultiArr(N,M),V=new Ft(this.dCtx.ctx),G=V.getTextRects(N,C),K=G;return N!==P&&(K=V.getTextRects(P,C)),y={width:G.width>=K.width?G.width:K.width,height:G.height>=K.height?G.height:K.height},d.config.xaxis.labels.show||(y={width:0,height:0}),{width:y.width,height:y.height}}},{key:"getxAxisTitleCoords",value:function(){var h=this.w,d=0,y=0;if(h.config.xaxis.title.text!==void 0){var C=new Ft(this.dCtx.ctx).getTextRects(h.config.xaxis.title.text,h.config.xaxis.title.style.fontSize);d=C.width,y=C.height}return{width:d,height:y}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var h,d=this.w;this.dCtx.timescaleLabels=d.globals.timescaleLabels.slice();var y=this.dCtx.timescaleLabels.map(function(M){return M.value}),C=y.reduce(function(M,N){return M===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):M.length>N.length?M:N},0);return 1.05*(h=new Ft(this.dCtx.ctx).getTextRects(C,d.config.xaxis.labels.style.fontSize)).width*y.length>d.globals.gridWidth&&d.config.xaxis.labels.rotate!==0&&(d.globals.overlappingXLabels=!0),h}},{key:"additionalPaddingXLabels",value:function(h){var d=this,y=this.w,C=y.globals,M=y.config,N=M.xaxis.type,P=h.width;C.skipLastTimelinelabel=!1,C.skipFirstTimelinelabel=!1;var V=y.config.yaxis[0].opposite&&y.globals.isBarHorizontal,G=function(K,J){(function(rt){return C.collapsedSeriesIndices.indexOf(rt)!==-1})(J)||function(rt){if(d.dCtx.timescaleLabels&&d.dCtx.timescaleLabels.length){var vt=d.dCtx.timescaleLabels[0],Lt=d.dCtx.timescaleLabels[d.dCtx.timescaleLabels.length-1].position+P/1.75-d.dCtx.yAxisWidthRight,Et=vt.position-P/1.75+d.dCtx.yAxisWidthLeft,Qt=y.config.legend.position==="right"&&d.dCtx.lgRect.width>0?d.dCtx.lgRect.width:0;Lt>C.svgWidth-C.translateX-Qt&&(C.skipLastTimelinelabel=!0),Et<-(rt.show&&!rt.floating||M.chart.type!=="bar"&&M.chart.type!=="candlestick"&&M.chart.type!=="rangeBar"&&M.chart.type!=="boxPlot"?10:P/1.75)&&(C.skipFirstTimelinelabel=!0)}else N==="datetime"?d.dCtx.gridPad.right<P&&!C.rotateXLabels&&(C.skipLastTimelinelabel=!0):N!=="datetime"&&d.dCtx.gridPad.right<P/2-d.dCtx.yAxisWidthRight&&!C.rotateXLabels&&!y.config.xaxis.labels.trim&&(y.config.xaxis.tickPlacement!=="between"||y.globals.isBarHorizontal)&&(d.dCtx.xPadRight=P/2+1)}(K)};M.yaxis.forEach(function(K,J){V?(d.dCtx.gridPad.left<P&&(d.dCtx.xPadLeft=P/2+1),d.dCtx.xPadRight=P/2+1):G(K,J)})}}]),$t}(),Rt=function(){function $t(h){qt(this,$t),this.w=h.w,this.dCtx=h}return Jt($t,[{key:"getyAxisLabelsCoords",value:function(){var h=this,d=this.w,y=[],C=10,M=new Be(this.dCtx.ctx);return d.config.yaxis.map(function(N,P){var V=d.globals.yAxisScale[P],G=0;if(!M.isYAxisHidden(P)&&N.labels.show&&N.labels.minWidth!==void 0&&(G=N.labels.minWidth),!M.isYAxisHidden(P)&&N.labels.show&&V.result.length){var K=d.globals.yLabelFormatters[P],J=V.niceMin===Number.MIN_VALUE?0:V.niceMin,rt=String(J).length>String(V.niceMax).length?J:V.niceMax,vt=K(rt,{seriesIndex:P,dataPointIndex:-1,w:d}),Lt=vt;if(vt!==void 0&&vt.length!==0||(vt=rt),d.globals.isBarHorizontal){C=0;var Et=d.globals.labels.slice();vt=K(vt=ct.getLargestStringFromArr(Et),{seriesIndex:P,dataPointIndex:-1,w:d}),Lt=h.dCtx.dimHelpers.getLargestStringFromMultiArr(vt,Et)}var Qt=new Ft(h.dCtx.ctx),ue="rotate(".concat(N.labels.rotate," 0 0)"),Ce=Qt.getTextRects(vt,N.labels.style.fontSize,N.labels.style.fontFamily,ue,!1),de=Ce;vt!==Lt&&(de=Qt.getTextRects(Lt,N.labels.style.fontSize,N.labels.style.fontFamily,ue,!1)),y.push({width:(G>de.width||G>Ce.width?G:de.width>Ce.width?de.width:Ce.width)+C,height:de.height>Ce.height?de.height:Ce.height})}else y.push({width:0,height:0})}),y}},{key:"getyAxisTitleCoords",value:function(){var h=this,d=this.w,y=[];return d.config.yaxis.map(function(C,M){if(C.show&&C.title.text!==void 0){var N=new Ft(h.dCtx.ctx),P="rotate(".concat(C.title.rotate," 0 0)"),V=N.getTextRects(C.title.text,C.title.style.fontSize,C.title.style.fontFamily,P,!1);y.push({width:V.width,height:V.height})}else y.push({width:0,height:0})}),y}},{key:"getTotalYAxisWidth",value:function(){var h=this.w,d=0,y=0,C=0,M=h.globals.yAxisScale.length>1?10:0,N=new Be(this.dCtx.ctx),P=function(V,G){var K=h.config.yaxis[G].floating,J=0;V.width>0&&!K?(J=V.width+M,function(rt){return h.globals.ignoreYAxisIndexes.indexOf(rt)>-1}(G)&&(J=J-V.width-M)):J=K||N.isYAxisHidden(G)?0:5,h.config.yaxis[G].opposite?C+=J:y+=J,d+=J};return h.globals.yLabelsCoords.map(function(V,G){P(V,G)}),h.globals.yTitleCoords.map(function(V,G){P(V,G)}),h.globals.isBarHorizontal&&!h.config.yaxis[0].floating&&(d=h.globals.yLabelsCoords[0].width+h.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=y,this.dCtx.yAxisWidthRight=C,d}}]),$t}(),kt=function(){function $t(h){qt(this,$t),this.w=h.w,this.dCtx=h}return Jt($t,[{key:"gridPadForColumnsInNumericAxis",value:function(h){var d=this.w;if(d.globals.noData||d.globals.allSeriesCollapsed)return 0;var y=function(K){return K==="bar"||K==="rangeBar"||K==="candlestick"||K==="boxPlot"},C=d.config.chart.type,M=0,N=y(C)?d.config.series.length:1;if(d.globals.comboBarCount>0&&(N=d.globals.comboBarCount),d.globals.collapsedSeries.forEach(function(K){y(K.type)&&(N-=1)}),d.config.chart.stacked&&(N=1),(y(C)||d.globals.comboBarCount>0)&&d.globals.isXNumeric&&!d.globals.isBarHorizontal&&N>0){var P,V,G=Math.abs(d.globals.initialMaxX-d.globals.initialMinX);G<=3&&(G=d.globals.dataPoints),P=G/h,d.globals.minXDiff&&d.globals.minXDiff/P>0&&(V=d.globals.minXDiff/P),V>h/2&&(V/=2),(M=V/N*parseInt(d.config.plotOptions.bar.columnWidth,10)/100)<1&&(M=1),M=M/(N>1?1:1.5)+5,d.globals.barPadForNumericAxis=M}return M}},{key:"gridPadFortitleSubtitle",value:function(){var h=this,d=this.w,y=d.globals,C=this.dCtx.isSparkline||!d.globals.axisCharts?0:10;["title","subtitle"].forEach(function(P){d.config[P].text!==void 0?C+=d.config[P].margin:C+=h.dCtx.isSparkline||!d.globals.axisCharts?0:5}),!d.config.legend.show||d.config.legend.position!=="bottom"||d.config.legend.floating||d.globals.axisCharts||(C+=10);var M=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),N=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");y.gridHeight=y.gridHeight-M.height-N.height-C,y.translateY=y.translateY+M.height+N.height+C}},{key:"setGridXPosForDualYAxis",value:function(h,d){var y=this.w,C=new Be(this.dCtx.ctx);y.config.yaxis.map(function(M,N){y.globals.ignoreYAxisIndexes.indexOf(N)!==-1||M.floating||C.isYAxisHidden(N)||(M.opposite&&(y.globals.translateX=y.globals.translateX-(d[N].width+h[N].width)-parseInt(y.config.yaxis[N].labels.style.fontSize,10)/1.2-12),y.globals.translateX<2&&(y.globals.translateX=2))})}}]),$t}(),Tt=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ui(this),this.dimYAxis=new Rt(this),this.dimXAxis=new Ri(this),this.dimGrid=new kt(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Jt($t,[{key:"plotCoords",value:function(){var h=this,d=this.w,y=d.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(d.config.markers.discrete.length>0||d.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(M){var N=ft(M,2),P=N[0],V=N[1];h.gridPad[P]=Math.max(V,h.w.globals.markers.largestSize/1.5)}),y.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),y.gridHeight=y.gridHeight-this.gridPad.top-this.gridPad.bottom,y.gridWidth=y.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var C=this.dimGrid.gridPadForColumnsInNumericAxis(y.gridWidth);y.gridWidth=y.gridWidth-2*C,y.translateX=y.translateX+this.gridPad.left+this.xPadLeft+(C>0?C+4:0),y.translateY=y.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var h=this,d=this.w,y=d.globals,C=this.dimYAxis.getyAxisLabelsCoords(),M=this.dimYAxis.getyAxisTitleCoords();d.globals.yLabelsCoords=[],d.globals.yTitleCoords=[],d.config.yaxis.map(function(vt,Lt){d.globals.yLabelsCoords.push({width:C[Lt].width,index:Lt}),d.globals.yTitleCoords.push({width:M[Lt].width,index:Lt})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var N=this.dimXAxis.getxAxisLabelsCoords(),P=this.dimXAxis.getxAxisGroupLabelsCoords(),V=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(N,V,P),y.translateXAxisY=d.globals.rotateXLabels?this.xAxisHeight/8:-4,y.translateXAxisX=d.globals.rotateXLabels&&d.globals.isXNumeric&&d.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,d.globals.isBarHorizontal&&(y.rotateXLabels=!1,y.translateXAxisY=parseInt(d.config.xaxis.labels.style.fontSize,10)/1.5*-1),y.translateXAxisY=y.translateXAxisY+d.config.xaxis.labels.offsetY,y.translateXAxisX=y.translateXAxisX+d.config.xaxis.labels.offsetX;var G=this.yAxisWidth,K=this.xAxisHeight;y.xAxisLabelsHeight=this.xAxisHeight-V.height,y.xAxisGroupLabelsHeight=y.xAxisLabelsHeight-N.height,y.xAxisLabelsWidth=this.xAxisWidth,y.xAxisHeight=this.xAxisHeight;var J=10;(d.config.chart.type==="radar"||this.isSparkline)&&(G=0,K=y.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||d.config.chart.type==="treemap")&&(G=0,K=0,J=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(N);var rt=function(){y.translateX=G,y.gridHeight=y.svgHeight-h.lgRect.height-K-(h.isSparkline||d.config.chart.type==="treemap"?0:d.globals.rotateXLabels?10:15),y.gridWidth=y.svgWidth-G};switch(d.config.xaxis.position==="top"&&(J=y.xAxisHeight-d.config.xaxis.axisTicks.height-5),d.config.legend.position){case"bottom":y.translateY=J,rt();break;case"top":y.translateY=this.lgRect.height+J,rt();break;case"left":y.translateY=J,y.translateX=this.lgRect.width+G,y.gridHeight=y.svgHeight-K-12,y.gridWidth=y.svgWidth-this.lgRect.width-G;break;case"right":y.translateY=J,y.translateX=G,y.gridHeight=y.svgHeight-K-12,y.gridWidth=y.svgWidth-this.lgRect.width-G-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(M,C),new fi(this.ctx).setYAxisXPosition(C,M)}},{key:"setDimensionsForNonAxisCharts",value:function(){var h=this.w,d=h.globals,y=h.config,C=0;h.config.legend.show&&!h.config.legend.floating&&(C=20);var M=y.chart.type==="pie"||y.chart.type==="polarArea"||y.chart.type==="donut"?"pie":"radialBar",N=y.plotOptions[M].offsetY,P=y.plotOptions[M].offsetX;if(!y.legend.show||y.legend.floating)return d.gridHeight=d.svgHeight-y.grid.padding.left+y.grid.padding.right,d.gridWidth=d.gridHeight,d.translateY=N,void(d.translateX=P+(d.svgWidth-d.gridWidth)/2);switch(y.legend.position){case"bottom":d.gridHeight=d.svgHeight-this.lgRect.height-d.goldenPadding,d.gridWidth=d.svgWidth,d.translateY=N-10,d.translateX=P+(d.svgWidth-d.gridWidth)/2;break;case"top":d.gridHeight=d.svgHeight-this.lgRect.height-d.goldenPadding,d.gridWidth=d.svgWidth,d.translateY=this.lgRect.height+N+10,d.translateX=P+(d.svgWidth-d.gridWidth)/2;break;case"left":d.gridWidth=d.svgWidth-this.lgRect.width-C,d.gridHeight=y.chart.height!=="auto"?d.svgHeight:d.gridWidth,d.translateY=N,d.translateX=P+this.lgRect.width+C;break;case"right":d.gridWidth=d.svgWidth-this.lgRect.width-C-5,d.gridHeight=y.chart.height!=="auto"?d.svgHeight:d.gridWidth,d.translateY=N,d.translateX=P+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(h,d,y){var C=this.w,M=C.globals.hasGroups?2:1,N=y.height+h.height+d.height,P=C.globals.isMultiLineX?1.2:C.globals.LINE_HEIGHT_RATIO,V=C.globals.rotateXLabels?22:10,G=C.globals.rotateXLabels&&C.config.legend.position==="bottom"?10:0;this.xAxisHeight=N*P+M*V+G,this.xAxisWidth=h.width,this.xAxisHeight-d.height>C.config.xaxis.labels.maxHeight&&(this.xAxisHeight=C.config.xaxis.labels.maxHeight),C.config.xaxis.labels.minHeight&&this.xAxisHeight<C.config.xaxis.labels.minHeight&&(this.xAxisHeight=C.config.xaxis.labels.minHeight),C.config.xaxis.floating&&(this.xAxisHeight=0);var K=0,J=0;C.config.yaxis.forEach(function(rt){K+=rt.labels.minWidth,J+=rt.labels.maxWidth}),this.yAxisWidth<K&&(this.yAxisWidth=K),this.yAxisWidth>J&&(this.yAxisWidth=J)}}]),$t}(),Ut=function(){function $t(h){qt(this,$t),this.w=h.w,this.lgCtx=h}return Jt($t,[{key:"getLegendBBox",value:function(){var h=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),d=h.width;return{clwh:h.height,clww:d}}},{key:"toggleDataSeries",value:function(h,d){var y=this,C=this.w;if(C.globals.axisCharts||C.config.chart.type==="radialBar"){C.globals.resized=!0;var M=null,N=null;C.globals.risingSeries=[],C.globals.axisCharts?(M=C.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"']")),N=parseInt(M.getAttribute("data:realIndex"),10)):(M=C.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"']")),N=parseInt(M.getAttribute("rel"),10)-1),d?[{cs:C.globals.collapsedSeries,csi:C.globals.collapsedSeriesIndices},{cs:C.globals.ancillaryCollapsedSeries,csi:C.globals.ancillaryCollapsedSeriesIndices}].forEach(function(K){y.riseCollapsedSeries(K.cs,K.csi,N)}):this.hideSeries({seriesEl:M,realIndex:N})}else{var P=C.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(h+1,"'] path")),V=C.config.chart.type;if(V==="pie"||V==="polarArea"||V==="donut"){var G=C.config.plotOptions.pie.donut.labels;new Ft(this.lgCtx.ctx).pathMouseDown(P.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(P.members[0].node,G)}P.fire("click")}}},{key:"hideSeries",value:function(h){var d=h.seriesEl,y=h.realIndex,C=this.w,M=ct.clone(C.config.series);if(C.globals.axisCharts){var N=!1;if(C.config.yaxis[y]&&C.config.yaxis[y].show&&C.config.yaxis[y].showAlways&&(N=!0,C.globals.ancillaryCollapsedSeriesIndices.indexOf(y)<0&&(C.globals.ancillaryCollapsedSeries.push({index:y,data:M[y].data.slice(),type:d.parentNode.className.baseVal.split("-")[1]}),C.globals.ancillaryCollapsedSeriesIndices.push(y))),!N){C.globals.collapsedSeries.push({index:y,data:M[y].data.slice(),type:d.parentNode.className.baseVal.split("-")[1]}),C.globals.collapsedSeriesIndices.push(y);var P=C.globals.risingSeries.indexOf(y);C.globals.risingSeries.splice(P,1)}}else C.globals.collapsedSeries.push({index:y,data:M[y]}),C.globals.collapsedSeriesIndices.push(y);for(var V=d.childNodes,G=0;G<V.length;G++)V[G].classList.contains("apexcharts-series-markers-wrap")&&(V[G].classList.contains("apexcharts-hide")?V[G].classList.remove("apexcharts-hide"):V[G].classList.add("apexcharts-hide"));C.globals.allSeriesCollapsed=C.globals.collapsedSeries.length===C.config.series.length,M=this._getSeriesBasedOnCollapsedState(M),this.lgCtx.ctx.updateHelpers._updateSeries(M,C.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(h,d,y){var C=this.w,M=ct.clone(C.config.series);if(h.length>0){for(var N=0;N<h.length;N++)h[N].index===y&&(C.globals.axisCharts?(M[y].data=h[N].data.slice(),h.splice(N,1),d.splice(N,1),C.globals.risingSeries.push(y)):(M[y]=h[N].data,h.splice(N,1),d.splice(N,1),C.globals.risingSeries.push(y)));M=this._getSeriesBasedOnCollapsedState(M),this.lgCtx.ctx.updateHelpers._updateSeries(M,C.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(h){var d=this.w;return d.globals.axisCharts?h.forEach(function(y,C){d.globals.collapsedSeriesIndices.indexOf(C)>-1&&(h[C].data=[])}):h.forEach(function(y,C){d.globals.collapsedSeriesIndices.indexOf(C)>-1&&(h[C]=0)}),h}}]),$t}(),ve=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Ut(this)}return Jt($t,[{key:"init",value:function(){var h=this.w,d=h.globals,y=h.config;if((y.legend.showForSingleSeries&&d.series.length===1||this.isBarsDistributed||d.series.length>1||!d.axisCharts)&&y.legend.show){for(;d.dom.elLegendWrap.firstChild;)d.dom.elLegendWrap.removeChild(d.dom.elLegendWrap.firstChild);this.drawLegends(),y.legend.position==="bottom"||y.legend.position==="top"?this.legendAlignHorizontal():y.legend.position!=="right"&&y.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var h=this,d=this.w,y=d.config.legend.fontFamily,C=d.globals.seriesNames,M=d.globals.colors.slice();if(d.config.chart.type==="heatmap"){var N=d.config.plotOptions.heatmap.colorScale.ranges;C=N.map(function(Pn){return Pn.name?Pn.name:Pn.from+" - "+Pn.to}),M=N.map(function(Pn){return Pn.color})}else this.isBarsDistributed&&(C=d.globals.labels.slice());d.config.legend.customLegendItems.length&&(C=d.config.legend.customLegendItems);for(var P=d.globals.legendFormatter,V=d.config.legend.inverseOrder,G=V?C.length-1:0;V?G>=0:G<=C.length-1;V?G--:G++){var K=P(C[G],{seriesIndex:G,w:d}),J=!1,rt=!1;if(d.globals.collapsedSeries.length>0)for(var vt=0;vt<d.globals.collapsedSeries.length;vt++)d.globals.collapsedSeries[vt].index===G&&(J=!0);if(d.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Lt=0;Lt<d.globals.ancillaryCollapsedSeriesIndices.length;Lt++)d.globals.ancillaryCollapsedSeriesIndices[Lt]===G&&(rt=!0);var Et=document.createElement("span");Et.classList.add("apexcharts-legend-marker");var Qt=d.config.legend.markers.offsetX,ue=d.config.legend.markers.offsetY,Ce=d.config.legend.markers.height,de=d.config.legend.markers.width,Y=d.config.legend.markers.strokeWidth,ot=d.config.legend.markers.strokeColor,zt=d.config.legend.markers.radius,jt=Et.style;jt.background=M[G],jt.color=M[G],jt.setProperty("background",M[G],"important"),d.config.legend.markers.fillColors&&d.config.legend.markers.fillColors[G]&&(jt.background=d.config.legend.markers.fillColors[G]),d.globals.seriesColors[G]!==void 0&&(jt.background=d.globals.seriesColors[G],jt.color=d.globals.seriesColors[G]),jt.height=Array.isArray(Ce)?parseFloat(Ce[G])+"px":parseFloat(Ce)+"px",jt.width=Array.isArray(de)?parseFloat(de[G])+"px":parseFloat(de)+"px",jt.left=(Array.isArray(Qt)?parseFloat(Qt[G]):parseFloat(Qt))+"px",jt.top=(Array.isArray(ue)?parseFloat(ue[G]):parseFloat(ue))+"px",jt.borderWidth=Array.isArray(Y)?Y[G]:Y,jt.borderColor=Array.isArray(ot)?ot[G]:ot,jt.borderRadius=Array.isArray(zt)?parseFloat(zt[G])+"px":parseFloat(zt)+"px",d.config.legend.markers.customHTML&&(Array.isArray(d.config.legend.markers.customHTML)?d.config.legend.markers.customHTML[G]&&(Et.innerHTML=d.config.legend.markers.customHTML[G]()):Et.innerHTML=d.config.legend.markers.customHTML()),Ft.setAttrs(Et,{rel:G+1,"data:collapsed":J||rt}),(J||rt)&&Et.classList.add("apexcharts-inactive-legend");var xe=document.createElement("div"),an=document.createElement("span");an.classList.add("apexcharts-legend-text"),an.innerHTML=Array.isArray(K)?K.join(" "):K;var Qe=d.config.legend.labels.useSeriesColors?d.globals.colors[G]:d.config.legend.labels.colors;Qe||(Qe=d.config.chart.foreColor),an.style.color=Qe,an.style.fontSize=parseFloat(d.config.legend.fontSize)+"px",an.style.fontWeight=d.config.legend.fontWeight,an.style.fontFamily=y||d.config.chart.fontFamily,Ft.setAttrs(an,{rel:G+1,i:G,"data:default-text":encodeURIComponent(K),"data:collapsed":J||rt}),xe.appendChild(Et),xe.appendChild(an);var On=new Kt(this.ctx);d.config.legend.showForZeroSeries||On.getSeriesTotalByIndex(G)===0&&On.seriesHaveSameValues(G)&&!On.isSeriesNull(G)&&d.globals.collapsedSeriesIndices.indexOf(G)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(G)===-1&&xe.classList.add("apexcharts-hidden-zero-series"),d.config.legend.showForNullSeries||On.isSeriesNull(G)&&d.globals.collapsedSeriesIndices.indexOf(G)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(G)===-1&&xe.classList.add("apexcharts-hidden-null-series"),d.globals.dom.elLegendWrap.appendChild(xe),d.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(d.config.legend.horizontalAlign)),d.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+d.config.legend.position),xe.classList.add("apexcharts-legend-series"),xe.style.margin="".concat(d.config.legend.itemMargin.vertical,"px ").concat(d.config.legend.itemMargin.horizontal,"px"),d.globals.dom.elLegendWrap.style.width=d.config.legend.width?d.config.legend.width+"px":"",d.globals.dom.elLegendWrap.style.height=d.config.legend.height?d.config.legend.height+"px":"",Ft.setAttrs(xe,{rel:G+1,seriesName:ct.escapeString(C[G]),"data:collapsed":J||rt}),(J||rt)&&xe.classList.add("apexcharts-inactive-legend"),d.config.legend.onItemClick.toggleDataSeries||xe.classList.add("apexcharts-no-click")}d.globals.dom.elWrap.addEventListener("click",h.onLegendClick,!0),d.globals.dom.elWrap.appendChild(d.globals.dom.elLegendWrap),d.config.legend.onItemHover.highlightDataSeries&&d.config.legend.customLegendItems.length===0&&(d.globals.dom.elWrap.addEventListener("mousemove",h.onLegendHovered,!0),d.globals.dom.elWrap.addEventListener("mouseout",h.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(h,d){var y=this.w,C=y.globals.dom.elLegendWrap,M=C.getBoundingClientRect(),N=0,P=0;if(y.config.legend.position==="bottom")P+=y.globals.svgHeight-M.height/2;else if(y.config.legend.position==="top"){var V=new Tt(this.ctx),G=V.dimHelpers.getTitleSubtitleCoords("title").height,K=V.dimHelpers.getTitleSubtitleCoords("subtitle").height;P=P+(G>0?G-10:0)+(K>0?K-10:0)}C.style.position="absolute",N=N+h+y.config.legend.offsetX,P=P+d+y.config.legend.offsetY,C.style.left=N+"px",C.style.top=P+"px",y.config.legend.position==="bottom"?(C.style.top="auto",C.style.bottom=5-y.config.legend.offsetY+"px"):y.config.legend.position==="right"&&(C.style.left="auto",C.style.right=25+y.config.legend.offsetX+"px"),["width","height"].forEach(function(J){C.style[J]&&(C.style[J]=parseInt(y.config.legend[J],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var h=this.w;h.globals.dom.elLegendWrap.style.right=0;var d=this.legendHelpers.getLegendBBox(),y=new Tt(this.ctx),C=y.dimHelpers.getTitleSubtitleCoords("title"),M=y.dimHelpers.getTitleSubtitleCoords("subtitle"),N=0;h.config.legend.position==="bottom"?N=-d.clwh/1.8:h.config.legend.position==="top"&&(N=C.height+M.height+h.config.title.margin+h.config.subtitle.margin-10),this.setLegendWrapXY(20,N)}},{key:"legendAlignVertical",value:function(){var h=this.w,d=this.legendHelpers.getLegendBBox(),y=0;h.config.legend.position==="left"&&(y=20),h.config.legend.position==="right"&&(y=h.globals.svgWidth-d.clww-10),this.setLegendWrapXY(y,20)}},{key:"onLegendHovered",value:function(h){var d=this.w,y=h.target.classList.contains("apexcharts-legend-text")||h.target.classList.contains("apexcharts-legend-marker");if(d.config.chart.type==="heatmap"||this.isBarsDistributed){if(y){var C=parseInt(h.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,C,this.w]),new We(this.ctx).highlightRangeInSeries(h,h.target)}}else!h.target.classList.contains("apexcharts-inactive-legend")&&y&&new We(this.ctx).toggleSeriesOnHover(h,h.target)}},{key:"onLegendClick",value:function(h){var d=this.w;if(!d.config.legend.customLegendItems.length&&(h.target.classList.contains("apexcharts-legend-text")||h.target.classList.contains("apexcharts-legend-marker"))){var y=parseInt(h.target.getAttribute("rel"),10)-1,C=h.target.getAttribute("data:collapsed")==="true",M=this.w.config.chart.events.legendClick;typeof M=="function"&&M(this.ctx,y,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,y,this.w]);var N=this.w.config.legend.markers.onClick;typeof N=="function"&&h.target.classList.contains("apexcharts-legend-marker")&&(N(this.ctx,y,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,y,this.w])),d.config.chart.type!=="treemap"&&d.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&d.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(y,C)}}}]),$t}(),Pe=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w;var d=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=d.globals.minX,this.maxX=d.globals.maxX}return Jt($t,[{key:"createToolbar",value:function(){var h=this,d=this.w,y=function(){return document.createElement("div")},C=y();if(C.setAttribute("class","apexcharts-toolbar"),C.style.top=d.config.chart.toolbar.offsetY+"px",C.style.right=3-d.config.chart.toolbar.offsetX+"px",d.globals.dom.elWrap.appendChild(C),this.elZoom=y(),this.elZoomIn=y(),this.elZoomOut=y(),this.elPan=y(),this.elSelection=y(),this.elZoomReset=y(),this.elMenuIcon=y(),this.elMenu=y(),this.elCustomIcons=[],this.t=d.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var M=0;M<this.t.customIcons.length;M++)this.elCustomIcons.push(y());var N=[],P=function(J,rt,vt){var Lt=J.toLowerCase();h.t[Lt]&&d.config.chart.zoom.enabled&&N.push({el:rt,icon:typeof h.t[Lt]=="string"?h.t[Lt]:vt,title:h.localeValues[J],class:"apexcharts-".concat(Lt,"-icon")})};P("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),P("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var V=function(J){h.t[J]&&d.config.chart[J].enabled&&N.push({el:J==="zoom"?h.elZoom:h.elSelection,icon:typeof h.t[J]=="string"?h.t[J]:J==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:h.localeValues[J==="zoom"?"selectionZoom":"selection"],class:d.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(J,"-icon")})};V("zoom"),V("selection"),this.t.pan&&d.config.chart.zoom.enabled&&N.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:d.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),P("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&N.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var G=0;G<this.elCustomIcons.length;G++)N.push({el:this.elCustomIcons[G],icon:this.t.customIcons[G].icon,title:this.t.customIcons[G].title,index:this.t.customIcons[G].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[G].class});N.forEach(function(J,rt){J.index&&ct.moveIndexInArray(N,rt,J.index)});for(var K=0;K<N.length;K++)Ft.setAttrs(N[K].el,{class:N[K].class,title:N[K].title}),N[K].el.innerHTML=N[K].icon,C.appendChild(N[K].el);this._createHamburgerMenu(C),d.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):d.globals.panEnabled?this.elPan.classList.add(this.selectedClass):d.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(h){this.elMenuItems=[],h.appendChild(this.elMenu),Ft.setAttrs(this.elMenu,{class:"apexcharts-menu"});var d=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||d.splice(2,1);for(var y=0;y<d.length;y++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[y].innerHTML=d[y].title,Ft.setAttrs(this.elMenuItems[y],{class:"apexcharts-menu-item ".concat(d[y].name),title:d[y].title}),this.elMenu.appendChild(this.elMenuItems[y])}},{key:"addToolbarEventListeners",value:function(){var h=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(y){y.classList.contains("exportSVG")?y.addEventListener("click",h.handleDownload.bind(h,"svg")):y.classList.contains("exportPNG")?y.addEventListener("click",h.handleDownload.bind(h,"png")):y.classList.contains("exportCSV")&&y.addEventListener("click",h.handleDownload.bind(h,"csv"))});for(var d=0;d<this.t.customIcons.length;d++)this.elCustomIcons[d].addEventListener("click",this.t.customIcons[d].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(h){this.ctx.getSyncedCharts().forEach(function(d){d.ctx.toolbar.toggleOtherControls();var y=h==="selection"?d.ctx.toolbar.elSelection:d.ctx.toolbar.elZoom,C=h==="selection"?"selectionEnabled":"zoomEnabled";d.w.globals[C]=!d.w.globals[C],y.classList.contains(d.ctx.toolbar.selectedClass)?y.classList.remove(d.ctx.toolbar.selectedClass):y.classList.add(d.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var h=this.w;this.elZoom||(this.elZoom=h.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=h.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=h.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(h){this.toggleOtherControls(),h==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var d=h==="pan"?this.elPan:this.elZoom,y=h==="pan"?this.elZoom:this.elPan;d&&d.classList.add(this.selectedClass),y&&y.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(h){h.ctx.toolbar.toggleOtherControls(),h.w.globals.panEnabled=!h.w.globals.panEnabled,h.ctx.toolbar.elPan.classList.contains(h.ctx.toolbar.selectedClass)?h.ctx.toolbar.elPan.classList.remove(h.ctx.toolbar.selectedClass):h.ctx.toolbar.elPan.classList.add(h.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var h=this,d=this.w;d.globals.panEnabled=!1,d.globals.zoomEnabled=!1,d.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(y){y&&y.classList.remove(h.selectedClass)})}},{key:"handleZoomIn",value:function(){var h=this.w;h.globals.isRangeBar&&(this.minX=h.globals.minY,this.maxX=h.globals.maxY);var d=(this.minX+this.maxX)/2,y=(this.minX+d)/2,C=(this.maxX+d)/2,M=this._getNewMinXMaxX(y,C);h.globals.disableZoomIn||this.zoomUpdateOptions(M.minX,M.maxX)}},{key:"handleZoomOut",value:function(){var h=this.w;if(h.globals.isRangeBar&&(this.minX=h.globals.minY,this.maxX=h.globals.maxY),!(h.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var d=(this.minX+this.maxX)/2,y=this.minX-(d-this.minX),C=this.maxX-(d-this.maxX),M=this._getNewMinXMaxX(y,C);h.globals.disableZoomOut||this.zoomUpdateOptions(M.minX,M.maxX)}}},{key:"_getNewMinXMaxX",value:function(h,d){var y=this.w.config.xaxis.convertedCatToNumeric;return{minX:y?Math.floor(h):h,maxX:y?Math.floor(d):d}}},{key:"zoomUpdateOptions",value:function(h,d){var y=this.w;if(h!==void 0||d!==void 0){if(!(y.config.xaxis.convertedCatToNumeric&&(h<1&&(h=1,d=y.globals.dataPoints),d-h<2))){var C={min:h,max:d},M=this.getBeforeZoomRange(C);M&&(C=M.xaxis);var N={xaxis:C},P=ct.clone(y.globals.initialConfig.yaxis);y.config.chart.zoom.autoScaleYaxis&&(P=new kn(this.ctx).autoScaleY(this.ctx,P,{xaxis:C})),y.config.chart.group||(N.yaxis=P),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(N,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(C,P)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(h,d){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:h,yaxis:d})}},{key:"getBeforeZoomRange",value:function(h,d){var y=null;return typeof this.ev.beforeZoom=="function"&&(y=this.ev.beforeZoom(this,{xaxis:h,yaxis:d})),y}},{key:"toggleMenu",value:function(){var h=this;window.setTimeout(function(){h.elMenu.classList.contains("apexcharts-menu-open")?h.elMenu.classList.remove("apexcharts-menu-open"):h.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(h){var d=this.w,y=new un(this.ctx);switch(h){case"svg":y.exportToSVG(this.ctx);break;case"png":y.exportToPng(this.ctx);break;case"csv":y.exportToCSV({series:d.config.series,columnDelimiter:d.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(h){this.ctx.getSyncedCharts().forEach(function(d){var y=d.w;if(y.globals.lastXAxis.min=void 0,y.globals.lastXAxis.max=void 0,d.updateHelpers.revertDefaultAxisMinMax(),typeof y.config.chart.events.beforeResetZoom=="function"){var C=y.config.chart.events.beforeResetZoom(d,y);C&&d.updateHelpers.revertDefaultAxisMinMax(C)}typeof y.config.chart.events.zoomed=="function"&&d.ctx.toolbar.zoomCallback({min:y.config.xaxis.min,max:y.config.xaxis.max}),y.globals.zoomed=!1;var M=d.ctx.series.emptyCollapsedSeries(ct.clone(y.globals.initialSeries));d.updateHelpers._updateSeries(M,y.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),$t}(),Te=function($t){Zt(d,$t);var h=gt(d);function d(y){var C;return qt(this,d),(C=h.call(this,y)).ctx=y,C.w=y.w,C.dragged=!1,C.graphics=new Ft(C.ctx),C.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],C.clientX=0,C.clientY=0,C.startX=0,C.endX=0,C.dragX=0,C.startY=0,C.endY=0,C.dragY=0,C.moveDirection="none",C}return Jt(d,[{key:"init",value:function(y){var C=this,M=y.xyRatios,N=this.w,P=this;this.xyRatios=M,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=N.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),N.globals.dom.elGraphical.add(this.zoomRect),N.globals.dom.elGraphical.add(this.selectionRect),N.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:N.globals.gridWidth,maxY:N.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):N.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:N.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=N.globals.dom.baseEl.querySelector("".concat(N.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(V){C.hoverArea.addEventListener(V,P.svgMouseEvents.bind(P,M),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(y,C){var M=this.w,N=this,P=this.ctx.toolbar,V=M.globals.zoomEnabled?M.config.chart.zoom.type:M.config.chart.selection.type,G=M.config.chart.toolbar.autoSelected;if(C.shiftKey?(this.shiftWasPressed=!0,P.enableZoomPanFromToolbar(G==="pan"?"zoom":"pan")):this.shiftWasPressed&&(P.enableZoomPanFromToolbar(G),this.shiftWasPressed=!1),C.target){var K,J=C.target.classList;if(C.target.parentNode&&C.target.parentNode!==null&&(K=C.target.parentNode.classList),!(J.contains("apexcharts-selection-rect")||J.contains("apexcharts-legend-marker")||J.contains("apexcharts-legend-text")||K&&K.contains("apexcharts-toolbar"))){if(N.clientX=C.type==="touchmove"||C.type==="touchstart"?C.touches[0].clientX:C.type==="touchend"?C.changedTouches[0].clientX:C.clientX,N.clientY=C.type==="touchmove"||C.type==="touchstart"?C.touches[0].clientY:C.type==="touchend"?C.changedTouches[0].clientY:C.clientY,C.type==="mousedown"&&C.which===1){var rt=N.gridRect.getBoundingClientRect();N.startX=N.clientX-rt.left,N.startY=N.clientY-rt.top,N.dragged=!1,N.w.globals.mousedown=!0}if((C.type==="mousemove"&&C.which===1||C.type==="touchmove")&&(N.dragged=!0,M.globals.panEnabled?(M.globals.selection=null,N.w.globals.mousedown&&N.panDragging({context:N,zoomtype:V,xyRatios:y})):(N.w.globals.mousedown&&M.globals.zoomEnabled||N.w.globals.mousedown&&M.globals.selectionEnabled)&&(N.selection=N.selectionDrawing({context:N,zoomtype:V}))),C.type==="mouseup"||C.type==="touchend"||C.type==="mouseleave"){var vt=N.gridRect.getBoundingClientRect();N.w.globals.mousedown&&(N.endX=N.clientX-vt.left,N.endY=N.clientY-vt.top,N.dragX=Math.abs(N.endX-N.startX),N.dragY=Math.abs(N.endY-N.startY),(M.globals.zoomEnabled||M.globals.selectionEnabled)&&N.selectionDrawn({context:N,zoomtype:V}),M.globals.panEnabled&&M.config.xaxis.convertedCatToNumeric&&N.delayedPanScrolled()),M.globals.zoomEnabled&&N.hideSelectionRect(this.selectionRect),N.dragged=!1,N.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var y=this.w;if(this.selectionRect){var C=this.selectionRect.node.getBoundingClientRect();C.width>0&&C.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:y.globals.gridWidth,maxY:y.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var y=this.w,C=this.xyRatios;if(!y.globals.zoomEnabled){if(y.globals.selection!==void 0&&y.globals.selection!==null)this.drawSelectionRect(y.globals.selection);else if(y.config.chart.selection.xaxis.min!==void 0&&y.config.chart.selection.xaxis.max!==void 0){var M=(y.config.chart.selection.xaxis.min-y.globals.minX)/C.xRatio,N={x:M,y:0,width:y.globals.gridWidth-(y.globals.maxX-y.config.chart.selection.xaxis.max)/C.xRatio-M,height:y.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(N),this.makeSelectionRectDraggable(),typeof y.config.chart.events.selection=="function"&&y.config.chart.events.selection(this.ctx,{xaxis:{min:y.config.chart.selection.xaxis.min,max:y.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(y){var C=y.x,M=y.y,N=y.width,P=y.height,V=y.translateX,G=V===void 0?0:V,K=y.translateY,J=K===void 0?0:K,rt=this.w,vt=this.zoomRect,Lt=this.selectionRect;if(this.dragged||rt.globals.selection!==null){var Et={transform:"translate("+G+", "+J+")"};rt.globals.zoomEnabled&&this.dragged&&(N<0&&(N=1),vt.attr({x:C,y:M,width:N,height:P,fill:rt.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":rt.config.chart.zoom.zoomedArea.fill.opacity,stroke:rt.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":rt.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":rt.config.chart.zoom.zoomedArea.stroke.opacity}),Ft.setAttrs(vt.node,Et)),rt.globals.selectionEnabled&&(Lt.attr({x:C,y:M,width:N>0?N:0,height:P>0?P:0,fill:rt.config.chart.selection.fill.color,"fill-opacity":rt.config.chart.selection.fill.opacity,stroke:rt.config.chart.selection.stroke.color,"stroke-width":rt.config.chart.selection.stroke.width,"stroke-dasharray":rt.config.chart.selection.stroke.dashArray,"stroke-opacity":rt.config.chart.selection.stroke.opacity}),Ft.setAttrs(Lt.node,Et))}}},{key:"hideSelectionRect",value:function(y){y&&y.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(y){var C=y.context,M=y.zoomtype,N=this.w,P=C,V=this.gridRect.getBoundingClientRect(),G=P.startX-1,K=P.startY,J=!1,rt=!1,vt=P.clientX-V.left-G,Lt=P.clientY-V.top-K,Et={};return Math.abs(vt+G)>N.globals.gridWidth?vt=N.globals.gridWidth-G:P.clientX-V.left<0&&(vt=G),G>P.clientX-V.left&&(J=!0,vt=Math.abs(vt)),K>P.clientY-V.top&&(rt=!0,Lt=Math.abs(Lt)),Et=M==="x"?{x:J?G-vt:G,y:0,width:vt,height:N.globals.gridHeight}:M==="y"?{x:0,y:rt?K-Lt:K,width:N.globals.gridWidth,height:Lt}:{x:J?G-vt:G,y:rt?K-Lt:K,width:vt,height:Lt},P.drawSelectionRect(Et),P.selectionDragging("resizing"),Et}},{key:"selectionDragging",value:function(y,C){var M=this,N=this.w,P=this.xyRatios,V=this.selectionRect,G=0;y==="resizing"&&(G=30);var K=function(rt){return parseFloat(V.node.getAttribute(rt))},J={x:K("x"),y:K("y"),width:K("width"),height:K("height")};N.globals.selection=J,typeof N.config.chart.events.selection=="function"&&N.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var rt=M.gridRect.getBoundingClientRect(),vt=V.node.getBoundingClientRect(),Lt={xaxis:{min:N.globals.xAxisScale.niceMin+(vt.left-rt.left)*P.xRatio,max:N.globals.xAxisScale.niceMin+(vt.right-rt.left)*P.xRatio},yaxis:{min:N.globals.yAxisScale[0].niceMin+(rt.bottom-vt.bottom)*P.yRatio[0],max:N.globals.yAxisScale[0].niceMax-(vt.top-rt.top)*P.yRatio[0]}};N.config.chart.events.selection(M.ctx,Lt),N.config.chart.brush.enabled&&N.config.chart.events.brushScrolled!==void 0&&N.config.chart.events.brushScrolled(M.ctx,Lt)},G))}},{key:"selectionDrawn",value:function(y){var C=y.context,M=y.zoomtype,N=this.w,P=C,V=this.xyRatios,G=this.ctx.toolbar;if(P.startX>P.endX){var K=P.startX;P.startX=P.endX,P.endX=K}if(P.startY>P.endY){var J=P.startY;P.startY=P.endY,P.endY=J}var rt=void 0,vt=void 0;N.globals.isRangeBar?(rt=N.globals.yAxisScale[0].niceMin+P.startX*V.invertedYRatio,vt=N.globals.yAxisScale[0].niceMin+P.endX*V.invertedYRatio):(rt=N.globals.xAxisScale.niceMin+P.startX*V.xRatio,vt=N.globals.xAxisScale.niceMin+P.endX*V.xRatio);var Lt=[],Et=[];if(N.config.yaxis.forEach(function(jt,xe){Lt.push(N.globals.yAxisScale[xe].niceMax-V.yRatio[xe]*P.startY),Et.push(N.globals.yAxisScale[xe].niceMax-V.yRatio[xe]*P.endY)}),P.dragged&&(P.dragX>10||P.dragY>10)&&rt!==vt){if(N.globals.zoomEnabled){var Qt=ct.clone(N.globals.initialConfig.yaxis),ue=ct.clone(N.globals.initialConfig.xaxis);if(N.globals.zoomed=!0,N.config.xaxis.convertedCatToNumeric&&(rt=Math.floor(rt),vt=Math.floor(vt),rt<1&&(rt=1,vt=N.globals.dataPoints),vt-rt<2&&(vt=rt+1)),M!=="xy"&&M!=="x"||(ue={min:rt,max:vt}),M!=="xy"&&M!=="y"||Qt.forEach(function(jt,xe){Qt[xe].min=Et[xe],Qt[xe].max=Lt[xe]}),N.config.chart.zoom.autoScaleYaxis){var Ce=new kn(P.ctx);Qt=Ce.autoScaleY(P.ctx,Qt,{xaxis:ue})}if(G){var de=G.getBeforeZoomRange(ue,Qt);de&&(ue=de.xaxis?de.xaxis:ue,Qt=de.yaxis?de.yaxis:Qt)}var Y={xaxis:ue};N.config.chart.group||(Y.yaxis=Qt),P.ctx.updateHelpers._updateOptions(Y,!1,P.w.config.chart.animations.dynamicAnimation.enabled),typeof N.config.chart.events.zoomed=="function"&&G.zoomCallback(ue,Qt)}else if(N.globals.selectionEnabled){var ot,zt=null;ot={min:rt,max:vt},M!=="xy"&&M!=="y"||(zt=ct.clone(N.config.yaxis)).forEach(function(jt,xe){zt[xe].min=Et[xe],zt[xe].max=Lt[xe]}),N.globals.selection=P.selection,typeof N.config.chart.events.selection=="function"&&N.config.chart.events.selection(P.ctx,{xaxis:ot,yaxis:zt})}}}},{key:"panDragging",value:function(y){var C=y.context,M=this.w,N=C;if(M.globals.lastClientPosition.x!==void 0){var P=M.globals.lastClientPosition.x-N.clientX,V=M.globals.lastClientPosition.y-N.clientY;Math.abs(P)>Math.abs(V)&&P>0?this.moveDirection="left":Math.abs(P)>Math.abs(V)&&P<0?this.moveDirection="right":Math.abs(V)>Math.abs(P)&&V>0?this.moveDirection="up":Math.abs(V)>Math.abs(P)&&V<0&&(this.moveDirection="down")}M.globals.lastClientPosition={x:N.clientX,y:N.clientY};var G=M.globals.isRangeBar?M.globals.minY:M.globals.minX,K=M.globals.isRangeBar?M.globals.maxY:M.globals.maxX;M.config.xaxis.convertedCatToNumeric||N.panScrolled(G,K)}},{key:"delayedPanScrolled",value:function(){var y=this.w,C=y.globals.minX,M=y.globals.maxX,N=(y.globals.maxX-y.globals.minX)/2;this.moveDirection==="left"?(C=y.globals.minX+N,M=y.globals.maxX+N):this.moveDirection==="right"&&(C=y.globals.minX-N,M=y.globals.maxX-N),C=Math.floor(C),M=Math.floor(M),this.updateScrolledChart({xaxis:{min:C,max:M}},C,M)}},{key:"panScrolled",value:function(y,C){var M=this.w,N=this.xyRatios,P=ct.clone(M.globals.initialConfig.yaxis),V=N.xRatio,G=M.globals.minX,K=M.globals.maxX;M.globals.isRangeBar&&(V=N.invertedYRatio,G=M.globals.minY,K=M.globals.maxY),this.moveDirection==="left"?(y=G+M.globals.gridWidth/15*V,C=K+M.globals.gridWidth/15*V):this.moveDirection==="right"&&(y=G-M.globals.gridWidth/15*V,C=K-M.globals.gridWidth/15*V),M.globals.isRangeBar||(y<M.globals.initialMinX||C>M.globals.initialMaxX)&&(y=G,C=K);var J={min:y,max:C};M.config.chart.zoom.autoScaleYaxis&&(P=new kn(this.ctx).autoScaleY(this.ctx,P,{xaxis:J}));var rt={xaxis:{min:y,max:C}};M.config.chart.group||(rt.yaxis=P),this.updateScrolledChart(rt,y,C)}},{key:"updateScrolledChart",value:function(y,C,M){var N=this.w;this.ctx.updateHelpers._updateOptions(y,!1,!1),typeof N.config.chart.events.scrolled=="function"&&N.config.chart.events.scrolled(this.ctx,{xaxis:{min:C,max:M}})}}]),d}(Pe),Ee=function(){function $t(h){qt(this,$t),this.w=h.w,this.ttCtx=h,this.ctx=h.ctx}return Jt($t,[{key:"getNearestValues",value:function(h){var d=h.hoverArea,y=h.elGrid,C=h.clientX,M=h.clientY,N=this.w,P=y.getBoundingClientRect(),V=P.width,G=P.height,K=V/(N.globals.dataPoints-1),J=G/N.globals.dataPoints,rt=this.hasBars();!N.globals.comboCharts&&!rt||N.config.xaxis.convertedCatToNumeric||(K=V/N.globals.dataPoints);var vt=C-P.left-N.globals.barPadForNumericAxis,Lt=M-P.top;vt<0||Lt<0||vt>V||Lt>G?(d.classList.remove("hovering-zoom"),d.classList.remove("hovering-pan")):N.globals.zoomEnabled?(d.classList.remove("hovering-pan"),d.classList.add("hovering-zoom")):N.globals.panEnabled&&(d.classList.remove("hovering-zoom"),d.classList.add("hovering-pan"));var Et=Math.round(vt/K),Qt=Math.floor(Lt/J);rt&&!N.config.xaxis.convertedCatToNumeric&&(Et=Math.ceil(vt/K),Et-=1);var ue=null,Ce=null,de=[],Y=[];if(N.globals.seriesXvalues.forEach(function(xe){de.push([xe[0]+1e-6].concat(xe))}),N.globals.seriesYvalues.forEach(function(xe){Y.push([xe[0]+1e-6].concat(xe))}),de=de.map(function(xe){return xe.filter(function(an){return ct.isNumber(an)})}),Y=Y.map(function(xe){return xe.filter(function(an){return ct.isNumber(an)})}),N.globals.isXNumeric){var ot=this.ttCtx.getElGrid().getBoundingClientRect(),zt=vt*(ot.width/V),jt=Lt*(ot.height/G);ue=(Ce=this.closestInMultiArray(zt,jt,de,Y)).index,Et=Ce.j,ue!==null&&(de=N.globals.seriesXvalues[ue],Et=(Ce=this.closestInArray(zt,de)).index)}return N.globals.capturedSeriesIndex=ue===null?-1:ue,(!Et||Et<1)&&(Et=0),N.globals.isBarHorizontal?N.globals.capturedDataPointIndex=Qt:N.globals.capturedDataPointIndex=Et,{capturedSeries:ue,j:N.globals.isBarHorizontal?Qt:Et,hoverX:vt,hoverY:Lt}}},{key:"closestInMultiArray",value:function(h,d,y,C){var M=this.w,N=0,P=null,V=-1;M.globals.series.length>1?N=this.getFirstActiveXArray(y):P=0;var G=y[N][0],K=Math.abs(h-G);if(y.forEach(function(vt){vt.forEach(function(Lt,Et){var Qt=Math.abs(h-Lt);Qt<K&&(K=Qt,V=Et)})}),V!==-1){var J=C[N][V],rt=Math.abs(d-J);P=N,C.forEach(function(vt,Lt){var Et=Math.abs(d-vt[V]);Et<rt&&(rt=Et,P=Lt)})}return{index:P,j:V}}},{key:"getFirstActiveXArray",value:function(h){for(var d=this.w,y=0,C=h.map(function(N,P){return N.length>0?P:-1}),M=0;M<C.length;M++)if(C[M]!==-1&&d.globals.collapsedSeriesIndices.indexOf(M)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(M)===-1){y=C[M];break}return y}},{key:"closestInArray",value:function(h,d){for(var y=d[0],C=null,M=Math.abs(h-y),N=0;N<d.length;N++){var P=Math.abs(h-d[N]);P<M&&(M=P,C=N)}return{index:C}}},{key:"isXoverlap",value:function(h){var d=[],y=this.w.globals.seriesX.filter(function(M){return M[0]!==void 0});if(y.length>0)for(var C=0;C<y.length-1;C++)y[C][h]!==void 0&&y[C+1][h]!==void 0&&y[C][h]!==y[C+1][h]&&d.push("unEqual");return d.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var h=!0,d=this.w.globals.initialSeries,y=0;y<d.length-1;y++)if(d[y].data.length!==d[y+1].data.length){h=!1;break}return h}},{key:"getBarsHeight",value:function(h){return It(h).reduce(function(d,y){return d+y.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(h=It(h)).sort(function(y,C){var M=Number(y.getAttribute("data:realIndex")),N=Number(C.getAttribute("data:realIndex"));return N<M?1:N>M?-1:0});var d=[];return h.forEach(function(y){d.push(y.querySelector(".apexcharts-marker"))}),d}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(h){var d=this.w,y=d.config.markers.hover.size;return y===void 0&&(y=d.globals.markers.size[h]+d.config.markers.hover.sizeOffset),y}},{key:"toggleAllTooltipSeriesGroups",value:function(h){var d=this.w,y=this.ttCtx;y.allTooltipSeriesGroups.length===0&&(y.allTooltipSeriesGroups=d.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var C=y.allTooltipSeriesGroups,M=0;M<C.length;M++)h==="enable"?(C[M].classList.add("apexcharts-active"),C[M].style.display=d.config.tooltip.items.display):(C[M].classList.remove("apexcharts-active"),C[M].style.display="none")}}]),$t}(),Ne=function(){function $t(h){qt(this,$t),this.w=h.w,this.ctx=h.ctx,this.ttCtx=h,this.tooltipUtil=new Ee(h)}return Jt($t,[{key:"drawSeriesTexts",value:function(h){var d=h.shared,y=d===void 0||d,C=h.ttItems,M=h.i,N=M===void 0?0:M,P=h.j,V=P===void 0?null:P,G=h.y1,K=h.y2,J=h.e,rt=this.w;rt.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:N,j:V,y1:G,y2:K,w:rt}):this.toggleActiveInactiveSeries(y);var vt=this.getValuesToPrint({i:N,j:V});this.printLabels({i:N,j:V,values:vt,ttItems:C,shared:y,e:J});var Lt=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=Lt.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=Lt.getBoundingClientRect().height}},{key:"printLabels",value:function(h){var d,y=this,C=h.i,M=h.j,N=h.values,P=h.ttItems,V=h.shared,G=h.e,K=this.w,J=[],rt=function(ot){return K.globals.seriesGoals[ot]&&K.globals.seriesGoals[ot][M]&&Array.isArray(K.globals.seriesGoals[ot][M])},vt=N.xVal,Lt=N.zVal,Et=N.xAxisTTVal,Qt="",ue=K.globals.colors[C];M!==null&&K.config.plotOptions.bar.distributed&&(ue=K.globals.colors[M]);for(var Ce=function(ot,zt){var jt=y.getFormatters(C);Qt=y.getSeriesName({fn:jt.yLbTitleFormatter,index:C,seriesIndex:C,j:M}),K.config.chart.type==="treemap"&&(Qt=jt.yLbTitleFormatter(String(K.config.series[C].data[M].x),{series:K.globals.series,seriesIndex:C,dataPointIndex:M,w:K}));var xe=K.config.tooltip.inverseOrder?zt:ot;if(K.globals.axisCharts){var an=function(Pn){var ii,ri,Wi="";return K.globals.isRangeData&&(Wi+=jt.yLbFormatter((ii=K.globals.seriesRangeStart)===null||ii===void 0||(ri=ii[Pn])===null||ri===void 0?void 0:ri[M],{series:K.globals.seriesRangeStart,seriesIndex:Pn,dataPointIndex:M,w:K})+" - "),Wi+=jt.yLbFormatter(K.globals.series[Pn][M],{series:K.globals.series,seriesIndex:Pn,dataPointIndex:M,w:K})};if(V)jt=y.getFormatters(xe),Qt=y.getSeriesName({fn:jt.yLbTitleFormatter,index:xe,seriesIndex:C,j:M}),ue=K.globals.colors[xe],d=an(xe),rt(xe)&&(J=K.globals.seriesGoals[xe][M].map(function(Pn){return{attrs:Pn,val:jt.yLbFormatter(Pn.value,{seriesIndex:xe,dataPointIndex:M,w:K})}}));else{var Qe,On=G==null||(Qe=G.target)===null||Qe===void 0?void 0:Qe.getAttribute("fill");On&&(ue=On.indexOf("url")!==-1?document.querySelector(On.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):On),d=an(C),rt(C)&&Array.isArray(K.globals.seriesGoals[C][M])&&(J=K.globals.seriesGoals[C][M].map(function(Pn){return{attrs:Pn,val:jt.yLbFormatter(Pn.value,{seriesIndex:C,dataPointIndex:M,w:K})}}))}}M===null&&(d=jt.yLbFormatter(K.globals.series[C],Wt(Wt({},K),{},{seriesIndex:C,dataPointIndex:C}))),y.DOMHandling({i:C,t:xe,j:M,ttItems:P,values:{val:d,goalVals:J,xVal:vt,xAxisTTVal:Et,zVal:Lt},seriesName:Qt,shared:V,pColor:ue})},de=0,Y=K.globals.series.length-1;de<K.globals.series.length;de++,Y--)Ce(de,Y)}},{key:"getFormatters",value:function(h){var d,y=this.w,C=y.globals.yLabelFormatters[h];return y.globals.ttVal!==void 0?Array.isArray(y.globals.ttVal)?(C=y.globals.ttVal[h]&&y.globals.ttVal[h].formatter,d=y.globals.ttVal[h]&&y.globals.ttVal[h].title&&y.globals.ttVal[h].title.formatter):(C=y.globals.ttVal.formatter,typeof y.globals.ttVal.title.formatter=="function"&&(d=y.globals.ttVal.title.formatter)):d=y.config.tooltip.y.title.formatter,typeof C!="function"&&(C=y.globals.yLabelFormatters[0]?y.globals.yLabelFormatters[0]:function(M){return M}),typeof d!="function"&&(d=function(M){return M}),{yLbFormatter:C,yLbTitleFormatter:d}}},{key:"getSeriesName",value:function(h){var d=h.fn,y=h.index,C=h.seriesIndex,M=h.j,N=this.w;return d(String(N.globals.seriesNames[y]),{series:N.globals.series,seriesIndex:C,dataPointIndex:M,w:N})}},{key:"DOMHandling",value:function(h){h.i;var d=h.t,y=h.j,C=h.ttItems,M=h.values,N=h.seriesName,P=h.shared,V=h.pColor,G=this.w,K=this.ttCtx,J=M.val,rt=M.goalVals,vt=M.xVal,Lt=M.xAxisTTVal,Et=M.zVal,Qt=null;Qt=C[d].children,G.config.tooltip.fillSeriesColor&&(C[d].style.backgroundColor=V,Qt[0].style.display="none"),K.showTooltipTitle&&(K.tooltipTitle===null&&(K.tooltipTitle=G.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),K.tooltipTitle.innerHTML=vt),K.isXAxisTooltipEnabled&&(K.xaxisTooltipText.innerHTML=Lt!==""?Lt:vt);var ue=C[d].querySelector(".apexcharts-tooltip-text-y-label");ue&&(ue.innerHTML=N||"");var Ce=C[d].querySelector(".apexcharts-tooltip-text-y-value");Ce&&(Ce.innerHTML=J!==void 0?J:""),Qt[0]&&Qt[0].classList.contains("apexcharts-tooltip-marker")&&(G.config.tooltip.marker.fillColors&&Array.isArray(G.config.tooltip.marker.fillColors)&&(V=G.config.tooltip.marker.fillColors[d]),Qt[0].style.backgroundColor=V),G.config.tooltip.marker.show||(Qt[0].style.display="none");var de=C[d].querySelector(".apexcharts-tooltip-text-goals-label"),Y=C[d].querySelector(".apexcharts-tooltip-text-goals-value");if(rt.length&&G.globals.seriesGoals[d]){var ot=function(){var zt="<div >",jt="<div>";rt.forEach(function(xe,an){zt+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(xe.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(xe.attrs.name,"</div>"),jt+="<div>".concat(xe.val,"</div>")}),de.innerHTML=zt+"</div>",Y.innerHTML=jt+"</div>"};P?G.globals.seriesGoals[d][y]&&Array.isArray(G.globals.seriesGoals[d][y])?ot():(de.innerHTML="",Y.innerHTML=""):ot()}else de.innerHTML="",Y.innerHTML="";Et!==null&&(C[d].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=G.config.tooltip.z.title,C[d].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=Et!==void 0?Et:""),P&&Qt[0]&&(J==null||G.globals.ancillaryCollapsedSeriesIndices.indexOf(d)>-1||G.globals.collapsedSeriesIndices.indexOf(d)>-1?Qt[0].parentNode.style.display="none":Qt[0].parentNode.style.display=G.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(h){var d=this.w;if(h)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var y=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");y&&(y.classList.add("apexcharts-active"),y.style.display=d.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(h){var d=h.i,y=h.j,C=this.w,M=this.ctx.series.filteredSeriesX(),N="",P="",V=null,G=null,K={series:C.globals.series,seriesIndex:d,dataPointIndex:y,w:C},J=C.globals.ttZFormatter;y===null?G=C.globals.series[d]:C.globals.isXNumeric&&C.config.chart.type!=="treemap"?(N=M[d][y],M[d].length===0&&(N=M[this.tooltipUtil.getFirstActiveXArray(M)][y])):N=C.globals.labels[y]!==void 0?C.globals.labels[y]:"";var rt=N;return C.globals.isXNumeric&&C.config.xaxis.type==="datetime"?N=new pe(this.ctx).xLabelFormat(C.globals.ttKeyFormatter,rt,rt,{i:void 0,dateFormatter:new Le(this.ctx).formatDate,w:this.w}):N=C.globals.isBarHorizontal?C.globals.yLabelFormatters[0](rt,K):C.globals.xLabelFormatter(rt,K),C.config.tooltip.x.formatter!==void 0&&(N=C.globals.ttKeyFormatter(rt,K)),C.globals.seriesZ.length>0&&C.globals.seriesZ[d].length>0&&(V=J(C.globals.seriesZ[d][y],C)),P=typeof C.config.xaxis.tooltip.formatter=="function"?C.globals.xaxisTooltipFormatter(rt,K):N,{val:Array.isArray(G)?G.join(" "):G,xVal:Array.isArray(N)?N.join(" "):N,xAxisTTVal:Array.isArray(P)?P.join(" "):P,zVal:V}}},{key:"handleCustomTooltip",value:function(h){var d=h.i,y=h.j,C=h.y1,M=h.y2,N=h.w,P=this.ttCtx.getElTooltip(),V=N.config.tooltip.custom;Array.isArray(V)&&V[d]&&(V=V[d]),P.innerHTML=V({ctx:this.ctx,series:N.globals.series,seriesIndex:d,dataPointIndex:y,y1:C,y2:M,w:N})}}]),$t}(),Fe=function(){function $t(h){qt(this,$t),this.ttCtx=h,this.ctx=h.ctx,this.w=h.w}return Jt($t,[{key:"moveXCrosshairs",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=this.ttCtx,C=this.w,M=y.getElXCrosshairs(),N=h-y.xcrosshairsWidth/2,P=C.globals.labels.slice().length;if(d!==null&&(N=C.globals.gridWidth/P*d),M===null||C.globals.isBarHorizontal||(M.setAttribute("x",N),M.setAttribute("x1",N),M.setAttribute("x2",N),M.setAttribute("y2",C.globals.gridHeight),M.classList.add("apexcharts-active")),N<0&&(N=0),N>C.globals.gridWidth&&(N=C.globals.gridWidth),y.isXAxisTooltipEnabled){var V=N;C.config.xaxis.crosshairs.width!=="tickWidth"&&C.config.xaxis.crosshairs.width!=="barWidth"||(V=N+y.xcrosshairsWidth/2),this.moveXAxisTooltip(V)}}},{key:"moveYCrosshairs",value:function(h){var d=this.ttCtx;d.ycrosshairs!==null&&Ft.setAttrs(d.ycrosshairs,{y1:h,y2:h}),d.ycrosshairsHidden!==null&&Ft.setAttrs(d.ycrosshairsHidden,{y1:h,y2:h})}},{key:"moveXAxisTooltip",value:function(h){var d=this.w,y=this.ttCtx;if(y.xaxisTooltip!==null&&y.xcrosshairsWidth!==0){y.xaxisTooltip.classList.add("apexcharts-active");var C=y.xaxisOffY+d.config.xaxis.tooltip.offsetY+d.globals.translateY+1+d.config.xaxis.offsetY;if(h-=y.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(h)){h+=d.globals.translateX;var M;M=new Ft(this.ctx).getTextRects(y.xaxisTooltipText.innerHTML),y.xaxisTooltipText.style.minWidth=M.width+"px",y.xaxisTooltip.style.left=h+"px",y.xaxisTooltip.style.top=C+"px"}}}},{key:"moveYAxisTooltip",value:function(h){var d=this.w,y=this.ttCtx;y.yaxisTTEls===null&&(y.yaxisTTEls=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var C=parseInt(y.ycrosshairsHidden.getAttribute("y1"),10),M=d.globals.translateY+C,N=y.yaxisTTEls[h].getBoundingClientRect().height,P=d.globals.translateYAxisX[h]-2;d.config.yaxis[h].opposite&&(P-=26),M-=N/2,d.globals.ignoreYAxisIndexes.indexOf(h)===-1?(y.yaxisTTEls[h].classList.add("apexcharts-active"),y.yaxisTTEls[h].style.top=M+"px",y.yaxisTTEls[h].style.left=P+d.config.yaxis[h].tooltip.offsetX+"px"):y.yaxisTTEls[h].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=this.w,M=this.ttCtx,N=M.getElTooltip(),P=M.tooltipRect,V=y!==null?parseFloat(y):1,G=parseFloat(h)+V+5,K=parseFloat(d)+V/2;if(G>C.globals.gridWidth/2&&(G=G-P.ttWidth-V-10),G>C.globals.gridWidth-P.ttWidth-10&&(G=C.globals.gridWidth-P.ttWidth),G<-20&&(G=-20),C.config.tooltip.followCursor){var J=M.getElGrid(),rt=J.getBoundingClientRect();K=M.e.clientY+C.globals.translateY-rt.top-P.ttHeight/2}else C.globals.isBarHorizontal||P.ttHeight/2+K>C.globals.gridHeight&&(K=C.globals.gridHeight-P.ttHeight+C.globals.translateY);isNaN(G)||(G+=C.globals.translateX,N.style.left=G+"px",N.style.top=K+"px")}},{key:"moveMarkers",value:function(h,d){var y=this.w,C=this.ttCtx;if(y.globals.markers.size[h]>0)for(var M=y.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(h,"'] .apexcharts-marker")),N=0;N<M.length;N++)parseInt(M[N].getAttribute("rel"),10)===d&&(C.marker.resetPointsSize(),C.marker.enlargeCurrentPoint(d,M[N]));else C.marker.resetPointsSize(),this.moveDynamicPointOnHover(d,h)}},{key:"moveDynamicPointOnHover",value:function(h,d){var y,C,M=this.w,N=this.ttCtx,P=M.globals.pointsArray,V=N.tooltipUtil.getHoverMarkerSize(d),G=M.config.series[d].type;if(!G||G!=="column"&&G!=="candlestick"&&G!=="boxPlot"){y=P[d][h][0],C=P[d][h][1]?P[d][h][1]:0;var K=M.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(d,"'] .apexcharts-series-markers circle"));K&&C<M.globals.gridHeight&&C>0&&(K.setAttribute("r",V),K.setAttribute("cx",y),K.setAttribute("cy",C)),this.moveXCrosshairs(y),N.fixedTooltip||this.moveTooltip(y,C,V)}}},{key:"moveDynamicPointsOnHover",value:function(h){var d,y=this.ttCtx,C=y.w,M=0,N=0,P=C.globals.pointsArray;d=new We(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var V=y.tooltipUtil.getHoverMarkerSize(d);P[d]&&(M=P[d][h][0],N=P[d][h][1]);var G=y.tooltipUtil.getAllMarkers();if(G!==null)for(var K=0;K<C.globals.series.length;K++){var J=P[K];if(C.globals.comboCharts&&J===void 0&&G.splice(K,0,null),J&&J.length){var rt=P[K][h][1],vt=void 0;if(G[K].setAttribute("cx",M),C.config.chart.type==="rangeArea"&&!C.globals.comboCharts){var Lt=h+C.globals.series[K].length;vt=P[K][Lt][1],rt-=Math.abs(rt-vt)/2}rt!==null&&!isNaN(rt)&&rt<C.globals.gridHeight+V&&rt+V>0?(G[K]&&G[K].setAttribute("r",V),G[K]&&G[K].setAttribute("cy",rt)):G[K]&&G[K].setAttribute("r",0)}}if(this.moveXCrosshairs(M),!y.fixedTooltip){var Et=N||C.globals.gridHeight;this.moveTooltip(M,Et,V)}}},{key:"moveStickyTooltipOverBars",value:function(h){var d=this.w,y=this.ttCtx,C=d.globals.columnSeries?d.globals.columnSeries.length:d.globals.series.length,M=C>=2&&C%2==0?Math.floor(C/2):Math.floor(C/2)+1;d.globals.isBarHorizontal&&(M=new We(this.ctx).getActiveConfigSeriesIndex("desc")+1);var N=d.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(M,"'] path[j='").concat(h,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(M,"'] path[j='").concat(h,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(M,"'] path[j='").concat(h,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(M,"'] path[j='").concat(h,"']")),P=N?parseFloat(N.getAttribute("cx")):0,V=N?parseFloat(N.getAttribute("cy")):0,G=N?parseFloat(N.getAttribute("barWidth")):0,K=y.getElGrid().getBoundingClientRect(),J=N.classList.contains("apexcharts-candlestick-area")||N.classList.contains("apexcharts-boxPlot-area");if(d.globals.isXNumeric?(N&&!J&&(P-=C%2!=0?G/2:0),N&&J&&d.globals.comboCharts&&(P-=G/2)):d.globals.isBarHorizontal||(P=y.xAxisTicksPositions[h-1]+y.dataPointsDividedWidth/2,isNaN(P)&&(P=y.xAxisTicksPositions[h]-y.dataPointsDividedWidth/2)),d.globals.isBarHorizontal?V-=y.tooltipRect.ttHeight:d.config.tooltip.followCursor?V=y.e.clientY-K.top-y.tooltipRect.ttHeight/2:V+y.tooltipRect.ttHeight+15>d.globals.gridHeight&&(V=d.globals.gridHeight),d.globals.isBarHorizontal||this.moveXCrosshairs(P),!y.fixedTooltip){var rt=V||d.globals.gridHeight;this.moveTooltip(P,rt)}}}]),$t}(),Qn=function(){function $t(h){qt(this,$t),this.w=h.w,this.ttCtx=h,this.ctx=h.ctx,this.tooltipPosition=new Fe(h)}return Jt($t,[{key:"drawDynamicPoints",value:function(){var h=this.w,d=new Ft(this.ctx),y=new ye(this.ctx),C=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series");C=It(C),h.config.chart.stacked&&C.sort(function(J,rt){return parseFloat(J.getAttribute("data:realIndex"))-parseFloat(rt.getAttribute("data:realIndex"))});for(var M=0;M<C.length;M++){var N=C[M].querySelector(".apexcharts-series-markers-wrap");if(N!==null){var P=void 0,V="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));h.config.chart.type!=="line"&&h.config.chart.type!=="area"||h.globals.comboCharts||h.config.tooltip.intersect||(V+=" no-pointer-events");var G=y.getMarkerConfig({cssClass:V,seriesIndex:Number(N.getAttribute("data:realIndex"))});(P=d.drawMarker(0,0,G)).node.setAttribute("default-marker-size",0);var K=document.createElementNS(h.globals.SVGNS,"g");K.classList.add("apexcharts-series-markers"),K.appendChild(P.node),N.appendChild(K)}}}},{key:"enlargeCurrentPoint",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,M=this.w;M.config.chart.type!=="bubble"&&this.newPointSize(h,d);var N=d.getAttribute("cx"),P=d.getAttribute("cy");if(y!==null&&C!==null&&(N=y,P=C),this.tooltipPosition.moveXCrosshairs(N),!this.fixedTooltip){if(M.config.chart.type==="radar"){var V=this.ttCtx.getElGrid(),G=V.getBoundingClientRect();N=this.ttCtx.e.clientX-G.left}this.tooltipPosition.moveTooltip(N,P,M.config.markers.hover.size)}}},{key:"enlargePoints",value:function(h){for(var d=this.w,y=this,C=this.ttCtx,M=h,N=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),P=d.config.markers.hover.size,V=0;V<N.length;V++){var G=N[V].getAttribute("rel"),K=N[V].getAttribute("index");if(P===void 0&&(P=d.globals.markers.size[K]+d.config.markers.hover.sizeOffset),M===parseInt(G,10)){y.newPointSize(M,N[V]);var J=N[V].getAttribute("cx"),rt=N[V].getAttribute("cy");y.tooltipPosition.moveXCrosshairs(J),C.fixedTooltip||y.tooltipPosition.moveTooltip(J,rt,P)}else y.oldPointSize(N[V])}}},{key:"newPointSize",value:function(h,d){var y=this.w,C=y.config.markers.hover.size,M=h===0?d.parentNode.firstChild:d.parentNode.lastChild;if(M.getAttribute("default-marker-size")!=="0"){var N=parseInt(M.getAttribute("index"),10);C===void 0&&(C=y.globals.markers.size[N]+y.config.markers.hover.sizeOffset),C<0&&(C=0),M.setAttribute("r",C)}}},{key:"oldPointSize",value:function(h){var d=parseFloat(h.getAttribute("default-marker-size"));h.setAttribute("r",d)}},{key:"resetPointsSize",value:function(){for(var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),d=0;d<h.length;d++){var y=parseFloat(h[d].getAttribute("default-marker-size"));ct.isNumber(y)&&y>=0?h[d].setAttribute("r",y):h[d].setAttribute("r",0)}}}]),$t}(),Si=function(){function $t(h){qt(this,$t),this.w=h.w,this.ttCtx=h}return Jt($t,[{key:"getAttr",value:function(h,d){return parseFloat(h.target.getAttribute(d))}},{key:"handleHeatTreeTooltip",value:function(h){var d=h.e,y=h.opt,C=h.x,M=h.y,N=h.type,P=this.ttCtx,V=this.w;if(d.target.classList.contains("apexcharts-".concat(N,"-rect"))){var G=this.getAttr(d,"i"),K=this.getAttr(d,"j"),J=this.getAttr(d,"cx"),rt=this.getAttr(d,"cy"),vt=this.getAttr(d,"width"),Lt=this.getAttr(d,"height");if(P.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:G,j:K,shared:!1,e:d}),V.globals.capturedSeriesIndex=G,V.globals.capturedDataPointIndex=K,C=J+P.tooltipRect.ttWidth/2+vt,M=rt+P.tooltipRect.ttHeight/2-Lt/2,P.tooltipPosition.moveXCrosshairs(J+vt/2),C>V.globals.gridWidth/2&&(C=J-P.tooltipRect.ttWidth/2+vt),P.w.config.tooltip.followCursor){var Et=V.globals.dom.elWrap.getBoundingClientRect();C=V.globals.clientX-Et.left-(C>V.globals.gridWidth/2?P.tooltipRect.ttWidth:0),M=V.globals.clientY-Et.top-(M>V.globals.gridHeight/2?P.tooltipRect.ttHeight:0)}}return{x:C,y:M}}},{key:"handleMarkerTooltip",value:function(h){var d,y,C=h.e,M=h.opt,N=h.x,P=h.y,V=this.w,G=this.ttCtx;if(C.target.classList.contains("apexcharts-marker")){var K=parseInt(M.paths.getAttribute("cx"),10),J=parseInt(M.paths.getAttribute("cy"),10),rt=parseFloat(M.paths.getAttribute("val"));if(y=parseInt(M.paths.getAttribute("rel"),10),d=parseInt(M.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,G.intersect){var vt=ct.findAncestor(M.paths,"apexcharts-series");vt&&(d=parseInt(vt.getAttribute("data:realIndex"),10))}if(G.tooltipLabels.drawSeriesTexts({ttItems:M.ttItems,i:d,j:y,shared:!G.showOnIntersect&&V.config.tooltip.shared,e:C}),C.type==="mouseup"&&G.markerClick(C,d,y),V.globals.capturedSeriesIndex=d,V.globals.capturedDataPointIndex=y,N=K,P=J+V.globals.translateY-1.4*G.tooltipRect.ttHeight,G.w.config.tooltip.followCursor){var Lt=G.getElGrid().getBoundingClientRect();P=G.e.clientY+V.globals.translateY-Lt.top}rt<0&&(P=J),G.marker.enlargeCurrentPoint(y,M.paths,N,P)}return{x:N,y:P}}},{key:"handleBarTooltip",value:function(h){var d,y,C=h.e,M=h.opt,N=this.w,P=this.ttCtx,V=P.getElTooltip(),G=0,K=0,J=0,rt=this.getBarTooltipXY({e:C,opt:M});d=rt.i;var vt=rt.barHeight,Lt=rt.j;N.globals.capturedSeriesIndex=d,N.globals.capturedDataPointIndex=Lt,N.globals.isBarHorizontal&&P.tooltipUtil.hasBars()||!N.config.tooltip.shared?(K=rt.x,J=rt.y,y=Array.isArray(N.config.stroke.width)?N.config.stroke.width[d]:N.config.stroke.width,G=K):N.globals.comboCharts||N.config.tooltip.shared||(G/=2),isNaN(J)&&(J=N.globals.svgHeight-P.tooltipRect.ttHeight);var Et=parseInt(M.paths.parentNode.getAttribute("data:realIndex"),10),Qt=N.globals.isMultipleYAxis?N.config.yaxis[Et]&&N.config.yaxis[Et].reversed:N.config.yaxis[0].reversed;if(K+P.tooltipRect.ttWidth>N.globals.gridWidth&&!Qt?K-=P.tooltipRect.ttWidth:K<0&&(K=0),P.w.config.tooltip.followCursor){var ue=P.getElGrid().getBoundingClientRect();J=P.e.clientY-ue.top}P.tooltip===null&&(P.tooltip=N.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),N.config.tooltip.shared||(N.globals.comboBarCount>0?P.tooltipPosition.moveXCrosshairs(G+y/2):P.tooltipPosition.moveXCrosshairs(G)),!P.fixedTooltip&&(!N.config.tooltip.shared||N.globals.isBarHorizontal&&P.tooltipUtil.hasBars())&&(Qt&&(K-=P.tooltipRect.ttWidth)<0&&(K=0),!Qt||N.globals.isBarHorizontal&&P.tooltipUtil.hasBars()||(J=J+vt-2*(N.globals.series[d][Lt]<0?vt:0)),J=J+N.globals.translateY-P.tooltipRect.ttHeight/2,V.style.left=K+N.globals.translateX+"px",V.style.top=J+"px")}},{key:"getBarTooltipXY",value:function(h){var d=h.e,y=h.opt,C=this.w,M=null,N=this.ttCtx,P=0,V=0,G=0,K=0,J=0,rt=d.target.classList;if(rt.contains("apexcharts-bar-area")||rt.contains("apexcharts-candlestick-area")||rt.contains("apexcharts-boxPlot-area")||rt.contains("apexcharts-rangebar-area")){var vt=d.target,Lt=vt.getBoundingClientRect(),Et=y.elGrid.getBoundingClientRect(),Qt=Lt.height;J=Lt.height;var ue=Lt.width,Ce=parseInt(vt.getAttribute("cx"),10),de=parseInt(vt.getAttribute("cy"),10);K=parseFloat(vt.getAttribute("barWidth"));var Y=d.type==="touchmove"?d.touches[0].clientX:d.clientX;M=parseInt(vt.getAttribute("j"),10),P=parseInt(vt.parentNode.getAttribute("rel"),10)-1;var ot=vt.getAttribute("data-range-y1"),zt=vt.getAttribute("data-range-y2");C.globals.comboCharts&&(P=parseInt(vt.parentNode.getAttribute("data:realIndex"),10)),N.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:P,j:M,y1:ot?parseInt(ot,10):null,y2:zt?parseInt(zt,10):null,shared:!N.showOnIntersect&&C.config.tooltip.shared,e:d}),C.config.tooltip.followCursor?C.globals.isBarHorizontal?(V=Y-Et.left+15,G=de-N.dataPointsDividedHeight+Qt/2-N.tooltipRect.ttHeight/2):(V=C.globals.isXNumeric?Ce-ue/2:Ce-N.dataPointsDividedWidth+ue/2,G=d.clientY-Et.top-N.tooltipRect.ttHeight/2-15):C.globals.isBarHorizontal?((V=Ce)<N.xyRatios.baseLineInvertedY&&(V=Ce-N.tooltipRect.ttWidth),G=de-N.dataPointsDividedHeight+Qt/2-N.tooltipRect.ttHeight/2):(V=C.globals.isXNumeric?Ce-ue/2:Ce-N.dataPointsDividedWidth+ue/2,G=de)}return{x:V,y:G,barHeight:J,barWidth:K,i:P,j:M}}}]),$t}(),yn=function(){function $t(h){qt(this,$t),this.w=h.w,this.ttCtx=h}return Jt($t,[{key:"drawXaxisTooltip",value:function(){var h=this.w,d=this.ttCtx,y=h.config.xaxis.position==="bottom";d.xaxisOffY=y?h.globals.gridHeight+1:-h.globals.xAxisHeight-h.config.xaxis.axisTicks.height+3;var C=y?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",M=h.globals.dom.elWrap;d.isXAxisTooltipEnabled&&h.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(d.xaxisTooltip=document.createElement("div"),d.xaxisTooltip.setAttribute("class",C+" apexcharts-theme-"+h.config.tooltip.theme),M.appendChild(d.xaxisTooltip),d.xaxisTooltipText=document.createElement("div"),d.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),d.xaxisTooltipText.style.fontFamily=h.config.xaxis.tooltip.style.fontFamily||h.config.chart.fontFamily,d.xaxisTooltipText.style.fontSize=h.config.xaxis.tooltip.style.fontSize,d.xaxisTooltip.appendChild(d.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var h=this.w,d=this.ttCtx,y=function(M){var N=h.config.yaxis[M].opposite||h.config.yaxis[M].crosshairs.opposite;d.yaxisOffX=N?h.globals.gridWidth+1:1;var P="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(M,N?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");h.globals.yAxisSameScaleIndices.map(function(G,K){G.map(function(J,rt){rt===M&&(P+=h.config.yaxis[rt].show?" ":" apexcharts-yaxistooltip-hidden")})});var V=h.globals.dom.elWrap;h.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(M))===null&&(d.yaxisTooltip=document.createElement("div"),d.yaxisTooltip.setAttribute("class",P+" apexcharts-theme-"+h.config.tooltip.theme),V.appendChild(d.yaxisTooltip),M===0&&(d.yaxisTooltipText=[]),d.yaxisTooltipText[M]=document.createElement("div"),d.yaxisTooltipText[M].classList.add("apexcharts-yaxistooltip-text"),d.yaxisTooltip.appendChild(d.yaxisTooltipText[M]))},C=0;C<h.config.yaxis.length;C++)y(C)}},{key:"setXCrosshairWidth",value:function(){var h=this.w,d=this.ttCtx,y=d.getElXCrosshairs();if(d.xcrosshairsWidth=parseInt(h.config.xaxis.crosshairs.width,10),h.globals.comboCharts){var C=h.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(C!==null&&h.config.xaxis.crosshairs.width==="barWidth"){var M=parseFloat(C.getAttribute("barWidth"));d.xcrosshairsWidth=M}else if(h.config.xaxis.crosshairs.width==="tickWidth"){var N=h.globals.labels.length;d.xcrosshairsWidth=h.globals.gridWidth/N}}else if(h.config.xaxis.crosshairs.width==="tickWidth"){var P=h.globals.labels.length;d.xcrosshairsWidth=h.globals.gridWidth/P}else if(h.config.xaxis.crosshairs.width==="barWidth"){var V=h.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(V!==null){var G=parseFloat(V.getAttribute("barWidth"));d.xcrosshairsWidth=G}else d.xcrosshairsWidth=1}h.globals.isBarHorizontal&&(d.xcrosshairsWidth=0),y!==null&&d.xcrosshairsWidth>0&&y.setAttribute("width",d.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var h=this.w,d=this.ttCtx;d.ycrosshairs=h.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),d.ycrosshairsHidden=h.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(h,d,y){var C=this.ttCtx,M=this.w,N=M.globals.yLabelFormatters[h];if(C.yaxisTooltips[h]){var P=C.getElGrid().getBoundingClientRect(),V=(d-P.top)*y.yRatio[h],G=M.globals.maxYArr[h]-M.globals.minYArr[h],K=M.globals.minYArr[h]+(G-V);C.tooltipPosition.moveYCrosshairs(d-P.top),C.yaxisTooltipText[h].innerHTML=N(K),C.tooltipPosition.moveYAxisTooltip(h)}}}]),$t}(),jn=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w;var d=this.w;this.tConfig=d.config.tooltip,this.tooltipUtil=new Ee(this),this.tooltipLabels=new Ne(this),this.tooltipPosition=new Fe(this),this.marker=new Qn(this),this.intersect=new Si(this),this.axesTooltip=new yn(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!d.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Jt($t,[{key:"getElTooltip",value:function(h){return h||(h=this),h.w.globals.dom.baseEl?h.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(h){var d=this.w;this.xyRatios=h,this.isXAxisTooltipEnabled=d.config.xaxis.tooltip.enabled&&d.globals.axisCharts,this.yaxisTooltips=d.config.yaxis.map(function(N,P){return!!(N.show&&N.tooltip.enabled&&d.globals.axisCharts)}),this.allTooltipSeriesGroups=[],d.globals.axisCharts||(this.showTooltipTitle=!1);var y=document.createElement("div");if(y.classList.add("apexcharts-tooltip"),d.config.tooltip.cssClass&&y.classList.add(d.config.tooltip.cssClass),y.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),d.globals.dom.elWrap.appendChild(y),d.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var C=new he(this.ctx);this.xAxisTicksPositions=C.getXAxisTicksPositions()}if(!d.globals.comboCharts&&!this.tConfig.intersect&&d.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),d.config.markers.size!==0&&d.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),d.globals.collapsedSeries.length!==d.globals.series.length){this.dataPointsDividedHeight=d.globals.gridHeight/d.globals.dataPoints,this.dataPointsDividedWidth=d.globals.gridWidth/d.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||d.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,y.appendChild(this.tooltipTitle));var M=d.globals.series.length;(d.globals.xyCharts||d.globals.comboCharts)&&this.tConfig.shared&&(M=this.showOnIntersect?1:d.globals.series.length),this.legendLabels=d.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(M),this.addSVGEvents()}}},{key:"createTTElements",value:function(h){for(var d=this,y=this.w,C=[],M=this.getElTooltip(),N=function(V){var G=document.createElement("div");G.classList.add("apexcharts-tooltip-series-group"),G.style.order=y.config.tooltip.inverseOrder?h-V:V+1,d.tConfig.shared&&d.tConfig.enabledOnSeries&&Array.isArray(d.tConfig.enabledOnSeries)&&d.tConfig.enabledOnSeries.indexOf(V)<0&&G.classList.add("apexcharts-tooltip-series-group-hidden");var K=document.createElement("span");K.classList.add("apexcharts-tooltip-marker"),K.style.backgroundColor=y.globals.colors[V],G.appendChild(K);var J=document.createElement("div");J.classList.add("apexcharts-tooltip-text"),J.style.fontFamily=d.tConfig.style.fontFamily||y.config.chart.fontFamily,J.style.fontSize=d.tConfig.style.fontSize,["y","goals","z"].forEach(function(rt){var vt=document.createElement("div");vt.classList.add("apexcharts-tooltip-".concat(rt,"-group"));var Lt=document.createElement("span");Lt.classList.add("apexcharts-tooltip-text-".concat(rt,"-label")),vt.appendChild(Lt);var Et=document.createElement("span");Et.classList.add("apexcharts-tooltip-text-".concat(rt,"-value")),vt.appendChild(Et),J.appendChild(vt)}),G.appendChild(J),M.appendChild(G),C.push(G)},P=0;P<h;P++)N(P);return C}},{key:"addSVGEvents",value:function(){var h=this.w,d=h.config.chart.type,y=this.getElTooltip(),C=!(d!=="bar"&&d!=="candlestick"&&d!=="boxPlot"&&d!=="rangeBar"),M=d==="area"||d==="line"||d==="scatter"||d==="bubble"||d==="radar",N=h.globals.dom.Paper.node,P=this.getElGrid();P&&(this.seriesBound=P.getBoundingClientRect());var V,G=[],K=[],J={hoverArea:N,elGrid:P,tooltipEl:y,tooltipY:G,tooltipX:K,ttItems:this.ttItems};if(h.globals.axisCharts&&(M?V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):C?V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):d!=="heatmap"&&d!=="treemap"||(V=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),V&&V.length))for(var rt=0;rt<V.length;rt++)G.push(V[rt].getAttribute("cy")),K.push(V[rt].getAttribute("cx"));if(h.globals.xyCharts&&!this.showOnIntersect||h.globals.comboCharts&&!this.showOnIntersect||C&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([N],J);else if(C&&!h.globals.comboCharts||M&&this.showOnIntersect)this.addDatapointEventsListeners(J);else if(!h.globals.axisCharts||d==="heatmap"||d==="treemap"){var vt=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(vt,J)}if(this.showOnIntersect){var Lt=h.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");Lt.length>0&&this.addPathsEventListeners(Lt,J),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(J)}}},{key:"drawFixedTooltipRect",value:function(){var h=this.w,d=this.getElTooltip(),y=d.getBoundingClientRect(),C=y.width+10,M=y.height+10,N=this.tConfig.fixed.offsetX,P=this.tConfig.fixed.offsetY,V=this.tConfig.fixed.position.toLowerCase();return V.indexOf("right")>-1&&(N=N+h.globals.svgWidth-C+10),V.indexOf("bottom")>-1&&(P=P+h.globals.svgHeight-M-10),d.style.left=N+"px",d.style.top=P+"px",{x:N,y:P,ttWidth:C,ttHeight:M}}},{key:"addDatapointEventsListeners",value:function(h){var d=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(d,h)}},{key:"addPathsEventListeners",value:function(h,d){for(var y=this,C=function(N){var P={paths:h[N],tooltipEl:d.tooltipEl,tooltipY:d.tooltipY,tooltipX:d.tooltipX,elGrid:d.elGrid,hoverArea:d.hoverArea,ttItems:d.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(V){return h[N].addEventListener(V,y.onSeriesHover.bind(y,P),{capture:!1,passive:!0})})},M=0;M<h.length;M++)C(M)}},{key:"onSeriesHover",value:function(h,d){var y=this,C=Date.now()-this.lastHoverTime;C>=100?this.seriesHover(h,d):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){y.seriesHover(h,d)},100-C))}},{key:"seriesHover",value:function(h,d){var y=this;this.lastHoverTime=Date.now();var C=[],M=this.w;M.config.chart.group&&(C=this.ctx.getGroupedCharts()),M.globals.axisCharts&&(M.globals.minX===-1/0&&M.globals.maxX===1/0||M.globals.dataPoints===0)||(C.length?C.forEach(function(N){var P=y.getElTooltip(N),V={paths:h.paths,tooltipEl:P,tooltipY:h.tooltipY,tooltipX:h.tooltipX,elGrid:h.elGrid,hoverArea:h.hoverArea,ttItems:N.w.globals.tooltip.ttItems};N.w.globals.minX===y.w.globals.minX&&N.w.globals.maxX===y.w.globals.maxX&&N.w.globals.tooltip.seriesHoverByContext({chartCtx:N,ttCtx:N.w.globals.tooltip,opt:V,e:d})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:h,e:d}))}},{key:"seriesHoverByContext",value:function(h){var d=h.chartCtx,y=h.ttCtx,C=h.opt,M=h.e,N=d.w,P=this.getElTooltip();P&&(y.tooltipRect={x:0,y:0,ttWidth:P.getBoundingClientRect().width,ttHeight:P.getBoundingClientRect().height},y.e=M,y.tooltipUtil.hasBars()&&!N.globals.comboCharts&&!y.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new We(d).toggleSeriesOnHover(M,M.target.parentNode),y.fixedTooltip&&y.drawFixedTooltipRect(),N.globals.axisCharts?y.axisChartsTooltips({e:M,opt:C,tooltipRect:y.tooltipRect}):y.nonAxisChartsTooltips({e:M,opt:C,tooltipRect:y.tooltipRect}))}},{key:"axisChartsTooltips",value:function(h){var d,y,C=h.e,M=h.opt,N=this.w,P=M.elGrid.getBoundingClientRect(),V=C.type==="touchmove"?C.touches[0].clientX:C.clientX,G=C.type==="touchmove"?C.touches[0].clientY:C.clientY;if(this.clientY=G,this.clientX=V,N.globals.capturedSeriesIndex=-1,N.globals.capturedDataPointIndex=-1,G<P.top||G>P.top+P.height)this.handleMouseOut(M);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!N.config.tooltip.shared){var K=parseInt(M.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(K)<0)return void this.handleMouseOut(M)}var J=this.getElTooltip(),rt=this.getElXCrosshairs(),vt=N.globals.xyCharts||N.config.chart.type==="bar"&&!N.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||N.globals.comboCharts&&this.tooltipUtil.hasBars();if(C.type==="mousemove"||C.type==="touchmove"||C.type==="mouseup"){if(N.globals.collapsedSeries.length+N.globals.ancillaryCollapsedSeries.length===N.globals.series.length)return;rt!==null&&rt.classList.add("apexcharts-active");var Lt=this.yaxisTooltips.filter(function(ue){return ue===!0});if(this.ycrosshairs!==null&&Lt.length&&this.ycrosshairs.classList.add("apexcharts-active"),vt&&!this.showOnIntersect)this.handleStickyTooltip(C,V,G,M);else if(N.config.chart.type==="heatmap"||N.config.chart.type==="treemap"){var Et=this.intersect.handleHeatTreeTooltip({e:C,opt:M,x:d,y,type:N.config.chart.type});d=Et.x,y=Et.y,J.style.left=d+"px",J.style.top=y+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:C,opt:M}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:C,opt:M,x:d,y});if(this.yaxisTooltips.length)for(var Qt=0;Qt<N.config.yaxis.length;Qt++)this.axesTooltip.drawYaxisTooltipText(Qt,G,this.xyRatios);M.tooltipEl.classList.add("apexcharts-active")}else C.type!=="mouseout"&&C.type!=="touchend"||this.handleMouseOut(M)}}},{key:"nonAxisChartsTooltips",value:function(h){var d=h.e,y=h.opt,C=h.tooltipRect,M=this.w,N=y.paths.getAttribute("rel"),P=this.getElTooltip(),V=M.globals.dom.elWrap.getBoundingClientRect();if(d.type==="mousemove"||d.type==="touchmove"){P.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:parseInt(N,10)-1,shared:!1});var G=M.globals.clientX-V.left-C.ttWidth/2,K=M.globals.clientY-V.top-C.ttHeight-10;if(P.style.left=G+"px",P.style.top=K+"px",M.config.legend.tooltipHoverFormatter){var J=N-1,rt=(0,M.config.legend.tooltipHoverFormatter)(this.legendLabels[J].getAttribute("data:default-text"),{seriesIndex:J,dataPointIndex:J,w:M});this.legendLabels[J].innerHTML=rt}}else d.type!=="mouseout"&&d.type!=="touchend"||(P.classList.remove("apexcharts-active"),M.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(vt){var Lt=vt.getAttribute("data:default-text");vt.innerHTML=decodeURIComponent(Lt)}))}},{key:"handleStickyTooltip",value:function(h,d,y,C){var M=this.w,N=this.tooltipUtil.getNearestValues({context:this,hoverArea:C.hoverArea,elGrid:C.elGrid,clientX:d,clientY:y}),P=N.j,V=N.capturedSeries,G=C.elGrid.getBoundingClientRect();N.hoverX<0||N.hoverX>G.width?this.handleMouseOut(C):V!==null?this.handleStickyCapturedSeries(h,V,C,P):(this.tooltipUtil.isXoverlap(P)||M.globals.isBarHorizontal)&&this.create(h,this,0,P,C.ttItems)}},{key:"handleStickyCapturedSeries",value:function(h,d,y,C){var M=this.w;if(!this.tConfig.shared&&M.globals.series[d][C]===null)return void this.handleMouseOut(y);M.globals.series[d][C]!==void 0?this.tConfig.shared&&this.tooltipUtil.isXoverlap(C)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(h,this,d,C,y.ttItems):this.create(h,this,d,C,y.ttItems,!1):this.tooltipUtil.isXoverlap(C)&&this.create(h,this,0,C,y.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var h=this.w,d=new Ft(this.ctx),y=h.globals.dom.Paper.select(".apexcharts-bar-area"),C=0;C<y.length;C++)d.pathMouseLeave(y[C])}},{key:"handleMouseOut",value:function(h){var d=this.w,y=this.getElXCrosshairs();if(h.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),d.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),y!==null&&y.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var C=0;C<this.yaxisTTEls.length;C++)this.yaxisTTEls[C].classList.remove("apexcharts-active")}d.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(M){var N=M.getAttribute("data:default-text");M.innerHTML=decodeURIComponent(N)})}},{key:"markerClick",value:function(h,d,y){var C=this.w;typeof C.config.chart.events.markerClick=="function"&&C.config.chart.events.markerClick(h,this.ctx,{seriesIndex:d,dataPointIndex:y,w:C}),this.ctx.events.fireEvent("markerClick",[h,this.ctx,{seriesIndex:d,dataPointIndex:y,w:C}])}},{key:"create",value:function(h,d,y,C,M){var N,P,V,G,K,J,rt,vt,Lt,Et,Qt,ue,Ce,de,Y,ot,zt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,jt=this.w,xe=d;h.type==="mouseup"&&this.markerClick(h,y,C),zt===null&&(zt=this.tConfig.shared);var an=this.tooltipUtil.hasMarkers(),Qe=this.tooltipUtil.getElBars();if(jt.config.legend.tooltipHoverFormatter){var On=jt.config.legend.tooltipHoverFormatter,Pn=Array.from(this.legendLabels);Pn.forEach(function(ti){var Js=ti.getAttribute("data:default-text");ti.innerHTML=decodeURIComponent(Js)});for(var ii=0;ii<Pn.length;ii++){var ri=Pn[ii],Wi=parseInt(ri.getAttribute("i"),10),lr=decodeURIComponent(ri.getAttribute("data:default-text")),xr=On(lr,{seriesIndex:zt?Wi:y,dataPointIndex:C,w:jt});if(zt)ri.innerHTML=jt.globals.collapsedSeriesIndices.indexOf(Wi)<0?xr:lr;else if(ri.innerHTML=Wi===y?xr:lr,y===Wi)break}}var Ar=Wt(Wt({ttItems:M,i:y,j:C},((N=jt.globals.seriesRange)===null||N===void 0||(P=N[y])===null||P===void 0||(V=P[C])===null||V===void 0||(G=V.y[0])===null||G===void 0?void 0:G.y1)!==void 0&&{y1:(K=jt.globals.seriesRange)===null||K===void 0||(J=K[y])===null||J===void 0||(rt=J[C])===null||rt===void 0||(vt=rt.y[0])===null||vt===void 0?void 0:vt.y1}),((Lt=jt.globals.seriesRange)===null||Lt===void 0||(Et=Lt[y])===null||Et===void 0||(Qt=Et[C])===null||Qt===void 0||(ue=Qt.y[0])===null||ue===void 0?void 0:ue.y2)!==void 0&&{y2:(Ce=jt.globals.seriesRange)===null||Ce===void 0||(de=Ce[y])===null||de===void 0||(Y=de[C])===null||Y===void 0||(ot=Y.y[0])===null||ot===void 0?void 0:ot.y2});if(zt){if(xe.tooltipLabels.drawSeriesTexts(Wt(Wt({},Ar),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),an&&(jt.globals.markers.largestSize>0?xe.marker.enlargePoints(C):xe.tooltipPosition.moveDynamicPointsOnHover(C)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Qe),this.barSeriesHeight>0)){var Er=new Ft(this.ctx),Qr=jt.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(C,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(C);for(var ha=0;ha<Qr.length;ha++)Er.pathMouseEnter(Qr[ha])}}else xe.tooltipLabels.drawSeriesTexts(Wt({shared:!1},Ar)),this.tooltipUtil.hasBars()&&xe.tooltipPosition.moveStickyTooltipOverBars(C),an&&xe.tooltipPosition.moveMarkers(y,C)}}]),$t}(),Ln=function(){function $t(h){qt(this,$t),this.w=h.w,this.barCtx=h,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Jt($t,[{key:"handleBarDataLabels",value:function(h){var d=h.x,y=h.y,C=h.y1,M=h.y2,N=h.i,P=h.j,V=h.realIndex,G=h.series,K=h.barHeight,J=h.barWidth,rt=h.barYPosition,vt=h.visibleSeries,Lt=h.renderedPath,Et=this.w,Qt=new Ft(this.barCtx.ctx),ue=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[V]:this.barCtx.strokeWidth,Ce=d+parseFloat(J*vt),de=y+parseFloat(K*vt);Et.globals.isXNumeric&&!Et.globals.isBarHorizontal&&(Ce=d+parseFloat(J*(vt+1)),de=y+parseFloat(K*(vt+1))-ue);var Y,ot=null,zt=d,jt=y,xe={},an=Et.config.dataLabels,Qe=this.barCtx.barOptions.dataLabels,On=this.barCtx.barOptions.dataLabels.total;rt!==void 0&&this.barCtx.isRangeBar&&(de=rt,jt=rt);var Pn=an.offsetX,ii=an.offsetY,ri={width:0,height:0};if(Et.config.dataLabels.enabled){var Wi=this.barCtx.series[N][P];ri=Qt.getTextRects(Et.globals.yLabelFormatters[0](Wi),parseFloat(an.style.fontSize))}var lr={x:d,y,i:N,j:P,realIndex:V,renderedPath:Lt,bcx:Ce,bcy:de,barHeight:K,barWidth:J,textRects:ri,strokeWidth:ue,dataLabelsX:zt,dataLabelsY:jt,dataLabelsConfig:an,barDataLabelsConfig:Qe,barTotalDataLabelsConfig:On,offX:Pn,offY:ii};return xe=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(lr):this.calculateColumnsDataLabelsPosition(lr),Lt.attr({cy:xe.bcy,cx:xe.bcx,j:P,val:G[N][P],barHeight:K,barWidth:J}),Y=this.drawCalculatedDataLabels({x:xe.dataLabelsX,y:xe.dataLabelsY,val:this.barCtx.isRangeBar?[C,M]:G[N][P],i:V,j:P,barWidth:J,barHeight:K,textRects:ri,dataLabelsConfig:an}),Et.config.chart.stacked&&On.enabled&&(ot=this.drawTotalDataLabels({x:xe.totalDataLabelsX,y:xe.totalDataLabelsY,realIndex:V,textAnchor:xe.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:V,j:P}),dataLabelsConfig:an,barTotalDataLabelsConfig:On})),{dataLabels:Y,totalDataLabels:ot}}},{key:"getStackedTotalDataLabel",value:function(h){var d=h.realIndex,y=h.j,C=this.w,M=this.barCtx.stackedSeriesTotals[y];return this.totalFormatter&&(M=this.totalFormatter(M,Wt(Wt({},C),{},{seriesIndex:d,dataPointIndex:y,w:C}))),M}},{key:"calculateColumnsDataLabelsPosition",value:function(h){var d,y,C,M=this.w,N=h.i,P=h.j,V=h.realIndex,G=h.y,K=h.bcx,J=h.barWidth,rt=h.barHeight,vt=h.textRects,Lt=h.dataLabelsY,Et=h.dataLabelsConfig,Qt=h.barDataLabelsConfig,ue=h.barTotalDataLabelsConfig,Ce=h.strokeWidth,de=h.offX,Y=h.offY;rt=Math.abs(rt);var ot=M.config.plotOptions.bar.dataLabels.orientation==="vertical";K-=Ce/2;var zt=M.globals.gridWidth/M.globals.dataPoints;d=M.globals.isXNumeric?K-J/2+de:K-zt+J/2+de,ot&&(d=d+vt.height/2-Ce/2-2);var jt=this.barCtx.series[N][P]<0,xe=G;switch(this.barCtx.isReversed&&(xe=G-rt+(jt?2*rt:0),G-=rt),Qt.position){case"center":Lt=ot?jt?xe+rt/2+Y:xe+rt/2-Y:jt?xe-rt/2+vt.height/2+Y:xe+rt/2+vt.height/2-Y;break;case"bottom":Lt=ot?jt?xe+rt+Y:xe+rt-Y:jt?xe-rt+vt.height+Ce+Y:xe+rt-vt.height/2+Ce-Y;break;case"top":Lt=ot?jt?xe+Y:xe-Y:jt?xe-vt.height/2-Y:xe+vt.height+Y}if(this.barCtx.lastActiveBarSerieIndex===V&&ue.enabled){var an=new Ft(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:V,j:P}),Et.fontSize);y=jt?xe-an.height/2-Y-ue.offsetY+18:xe+an.height+Y+ue.offsetY-18,C=d+ue.offsetX}return M.config.chart.stacked||(Lt<0?Lt=0+Ce:Lt+vt.height/3>M.globals.gridHeight&&(Lt=M.globals.gridHeight-Ce)),{bcx:K,bcy:G,dataLabelsX:d,dataLabelsY:Lt,totalDataLabelsX:C,totalDataLabelsY:y,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(h){var d=this.w,y=h.x,C=h.i,M=h.j,N=h.realIndex,P=h.bcy,V=h.barHeight,G=h.barWidth,K=h.textRects,J=h.dataLabelsX,rt=h.strokeWidth,vt=h.dataLabelsConfig,Lt=h.barDataLabelsConfig,Et=h.barTotalDataLabelsConfig,Qt=h.offX,ue=h.offY,Ce=d.globals.gridHeight/d.globals.dataPoints;G=Math.abs(G);var de,Y,ot=P-(this.barCtx.isRangeBar?0:Ce)+V/2+K.height/2+ue-3,zt="start",jt=this.barCtx.series[C][M]<0,xe=y;switch(this.barCtx.isReversed&&(xe=y+G-(jt?2*G:0),y=d.globals.gridWidth-G),Lt.position){case"center":J=jt?xe+G/2-Qt:Math.max(K.width/2,xe-G/2)+Qt;break;case"bottom":J=jt?xe+G-rt-Math.round(K.width/2)-Qt:xe-G+rt+Math.round(K.width/2)+Qt;break;case"top":J=jt?xe-rt+Math.round(K.width/2)-Qt:xe-rt-Math.round(K.width/2)+Qt}if(this.barCtx.lastActiveBarSerieIndex===N&&Et.enabled){var an=new Ft(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:N,j:M}),vt.fontSize);jt?(de=xe-rt+Math.round(an.width/2)-Qt-Et.offsetX-15,zt="end"):de=xe-rt-Math.round(an.width/2)+Qt+Et.offsetX+15,Y=ot+Et.offsetY}return d.config.chart.stacked||(J<0?J=J+K.width+rt:J+K.width/2>d.globals.gridWidth&&(J=d.globals.gridWidth-K.width-rt)),{bcx:y,bcy:P,dataLabelsX:J,dataLabelsY:ot,totalDataLabelsX:de,totalDataLabelsY:Y,totalDataLabelsAnchor:zt}}},{key:"drawCalculatedDataLabels",value:function(h){var d=h.x,y=h.y,C=h.val,M=h.i,N=h.j,P=h.textRects,V=h.barHeight,G=h.barWidth,K=h.dataLabelsConfig,J=this.w,rt="rotate(0)";J.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(rt="rotate(-90, ".concat(d,", ").concat(y,")"));var vt=new $e(this.barCtx.ctx),Lt=new Ft(this.barCtx.ctx),Et=K.formatter,Qt=null,ue=J.globals.collapsedSeriesIndices.indexOf(M)>-1;if(K.enabled&&!ue){Qt=Lt.group({class:"apexcharts-data-labels",transform:rt});var Ce="";C!==void 0&&(Ce=Et(C,Wt(Wt({},J),{},{seriesIndex:M,dataPointIndex:N,w:J})));var de=J.globals.series[M][N]<0,Y=J.config.plotOptions.bar.dataLabels.position;J.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(Y==="top"&&(K.textAnchor=de?"end":"start"),Y==="center"&&(K.textAnchor="middle"),Y==="bottom"&&(K.textAnchor=de?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&G<Lt.getTextRects(Ce,parseFloat(K.style.fontSize)).width&&(Ce=""),J.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?P.width/1.6>Math.abs(G)&&(Ce=""):P.height/1.6>Math.abs(V)&&(Ce=""));var ot=Wt({},K);this.barCtx.isHorizontal&&C<0&&(K.textAnchor==="start"?ot.textAnchor="end":K.textAnchor==="end"&&(ot.textAnchor="start")),vt.plotDataLabelsText({x:d,y,text:Ce,i:M,j:N,parent:Qt,dataLabelsConfig:ot,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Qt}},{key:"drawTotalDataLabels",value:function(h){var d,y=h.x,C=h.y,M=h.val,N=h.realIndex,P=h.textAnchor,V=h.barTotalDataLabelsConfig,G=new Ft(this.barCtx.ctx);return V.enabled&&y!==void 0&&C!==void 0&&this.barCtx.lastActiveBarSerieIndex===N&&(d=G.drawText({x:y,y:C,foreColor:V.style.color,text:M,textAnchor:P,fontFamily:V.style.fontFamily,fontSize:V.style.fontSize,fontWeight:V.style.fontWeight})),d}}]),$t}(),xi=function(){function $t(h){qt(this,$t),this.w=h.w,this.barCtx=h}return Jt($t,[{key:"initVariables",value:function(h){var d=this.w;this.barCtx.series=h,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var y=0;y<h.length;y++)if(h[y].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=h[y].length),d.globals.isXNumeric)for(var C=0;C<h[y].length;C++)d.globals.seriesX[y][C]>d.globals.minX&&d.globals.seriesX[y][C]<d.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=d.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=h.length-1,d.globals.comboCharts||this.checkZeroSeries({series:h})}},{key:"initialPositions",value:function(){var h,d,y,C,M,N,P,V,G=this.w,K=G.globals.dataPoints;this.barCtx.isRangeBar&&(K=G.globals.labels.length);var J=this.barCtx.seriesLen;if(G.config.plotOptions.bar.rangeBarGroupRows&&(J=1),this.barCtx.isHorizontal)M=(y=G.globals.gridHeight/K)/J,G.globals.isXNumeric&&(M=(y=G.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),M=M*parseInt(this.barCtx.barOptions.barHeight,10)/100,V=this.barCtx.baseLineInvertedY+G.globals.padHorizontal+(this.barCtx.isReversed?G.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),d=(y-M*this.barCtx.seriesLen)/2;else{if(C=G.globals.gridWidth/this.barCtx.visibleItems,G.config.xaxis.convertedCatToNumeric&&(C=G.globals.gridWidth/G.globals.dataPoints),N=C/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,G.globals.isXNumeric){var rt=this.barCtx.xRatio;G.config.xaxis.convertedCatToNumeric&&(rt=this.barCtx.initialXRatio),G.globals.minXDiff&&G.globals.minXDiff!==.5&&G.globals.minXDiff/rt>0&&(C=G.globals.minXDiff/rt),(N=C/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(N=1)}P=G.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?G.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),h=G.globals.padHorizontal+(C-N*this.barCtx.seriesLen)/2}return{x:h,y:d,yDivision:y,xDivision:C,barHeight:M,barWidth:N,zeroH:P,zeroW:V}}},{key:"getPathFillColor",value:function(h,d,y,C){var M,N,P,V,G=this.w,K=new U(this.barCtx.ctx),J=null,rt=this.barCtx.barOptions.distributed?y:d;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(vt){h[d][y]>=vt.from&&h[d][y]<=vt.to&&(J=vt.color)}),G.config.series[d].data[y]&&G.config.series[d].data[y].fillColor&&(J=G.config.series[d].data[y].fillColor),K.fillPath({seriesNumber:this.barCtx.barOptions.distributed?rt:C,dataPointIndex:y,color:J,value:h[d][y],fillConfig:(M=G.config.series[d].data[y])===null||M===void 0?void 0:M.fill,fillType:(N=G.config.series[d].data[y])!==null&&N!==void 0&&(P=N.fill)!==null&&P!==void 0&&P.type?(V=G.config.series[d].data[y])===null||V===void 0?void 0:V.fill.type:G.config.fill.type})}},{key:"getStrokeWidth",value:function(h,d,y){var C=0,M=this.w;return this.barCtx.series[h][d]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,M.config.stroke.show&&(this.barCtx.isNullValue||(C=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[y]:this.barCtx.strokeWidth)),C}},{key:"shouldApplyRadius",value:function(h){var d=this.w,y=!1;return d.config.plotOptions.bar.borderRadius>0&&(d.config.chart.stacked&&d.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===h&&(y=!0):y=!0),y}},{key:"barBackground",value:function(h){var d=h.j,y=h.i,C=h.x1,M=h.x2,N=h.y1,P=h.y2,V=h.elSeries,G=this.w,K=new Ft(this.barCtx.ctx),J=new We(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&J===y){d>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(d%=this.barCtx.barOptions.colors.backgroundBarColors.length);var rt=this.barCtx.barOptions.colors.backgroundBarColors[d],vt=K.drawRect(C!==void 0?C:0,N!==void 0?N:0,M!==void 0?M:G.globals.gridWidth,P!==void 0?P:G.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,rt,this.barCtx.barOptions.colors.backgroundBarOpacity);V.add(vt),vt.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(h){var d,y=h.barWidth,C=h.barXPosition,M=h.y1,N=h.y2,P=h.strokeWidth,V=h.realIndex,G=h.i,K=h.j,J=h.w,rt=new Ft(this.barCtx.ctx);(P=Array.isArray(P)?P[V]:P)||(P=0);var vt=y,Lt=C;(d=J.config.series[V].data[K])!==null&&d!==void 0&&d.columnWidthOffset&&(Lt=C-J.config.series[V].data[K].columnWidthOffset/2,vt=y+J.config.series[V].data[K].columnWidthOffset);var Et=Lt,Qt=Lt+vt;M+=.001,N+=.001;var ue=rt.move(Et,M),Ce=rt.move(Et,M),de=rt.line(Qt-P,M);return J.globals.previousPaths.length>0&&(Ce=this.barCtx.getPreviousPath(V,K,!1)),ue=ue+rt.line(Et,N)+rt.line(Qt-P,N)+rt.line(Qt-P,M)+(J.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),Ce=Ce+rt.line(Et,M)+de+de+de+de+de+rt.line(Et,M)+(J.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(V)&&(ue=rt.roundPathCorners(ue,J.config.plotOptions.bar.borderRadius)),J.config.chart.stacked&&(this.barCtx.yArrj.push(N),this.barCtx.yArrjF.push(Math.abs(M-N)),this.barCtx.yArrjVal.push(this.barCtx.series[G][K])),{pathTo:ue,pathFrom:Ce}}},{key:"getBarpaths",value:function(h){var d,y=h.barYPosition,C=h.barHeight,M=h.x1,N=h.x2,P=h.strokeWidth,V=h.realIndex,G=h.i,K=h.j,J=h.w,rt=new Ft(this.barCtx.ctx);(P=Array.isArray(P)?P[V]:P)||(P=0);var vt=y,Lt=C;(d=J.config.series[V].data[K])!==null&&d!==void 0&&d.barHeightOffset&&(vt=y-J.config.series[V].data[K].barHeightOffset/2,Lt=C+J.config.series[V].data[K].barHeightOffset);var Et=vt,Qt=vt+Lt;M+=.001,N+=.001;var ue=rt.move(M,Et),Ce=rt.move(M,Et);J.globals.previousPaths.length>0&&(Ce=this.barCtx.getPreviousPath(V,K,!1));var de=rt.line(M,Qt-P);return ue=ue+rt.line(N,Et)+rt.line(N,Qt-P)+de+(J.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),Ce=Ce+rt.line(M,Et)+de+de+de+de+de+rt.line(M,Et)+(J.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(V)&&(ue=rt.roundPathCorners(ue,J.config.plotOptions.bar.borderRadius)),J.config.chart.stacked&&(this.barCtx.xArrj.push(N),this.barCtx.xArrjF.push(Math.abs(M-N)),this.barCtx.xArrjVal.push(this.barCtx.series[G][K])),{pathTo:ue,pathFrom:Ce}}},{key:"checkZeroSeries",value:function(h){for(var d=h.series,y=this.w,C=0;C<d.length;C++){for(var M=0,N=0;N<d[y.globals.maxValsInArrayIndex].length;N++)M+=d[C][N];M===0&&this.barCtx.zeroSerieses.push(C)}for(var P=d.length-1;P>=0;P--)this.barCtx.zeroSerieses.indexOf(P)>-1&&P===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var V=d.length-1;V>=0;V--)y.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(h,d){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],C=y?d:null;return h!=null&&(C=d+h/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?h/this.barCtx.invertedYRatio:0)),C}},{key:"getYForValue",value:function(h,d){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],C=y?d:null;return h!=null&&(C=d-h/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?h/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),C}},{key:"getGoalValues",value:function(h,d,y,C,M){var N=this,P=this.w,V=[];return P.globals.seriesGoals[C]&&P.globals.seriesGoals[C][M]&&Array.isArray(P.globals.seriesGoals[C][M])&&P.globals.seriesGoals[C][M].forEach(function(G){var K;V.push((re(K={},h,h==="x"?N.getXForValue(G.value,d,!1):N.getYForValue(G.value,y,!1)),re(K,"attrs",G),K))}),V}},{key:"drawGoalLine",value:function(h){var d=h.barXPosition,y=h.barYPosition,C=h.goalX,M=h.goalY,N=h.barWidth,P=h.barHeight,V=new Ft(this.barCtx.ctx),G=V.group({className:"apexcharts-bar-goals-groups"}),K=null;return this.barCtx.isHorizontal?Array.isArray(C)&&C.forEach(function(J){var rt=J.attrs.strokeHeight!==void 0?J.attrs.strokeHeight:P/2,vt=y+rt+P/2;K=V.drawLine(J.x,vt-2*rt,J.x,vt,J.attrs.strokeColor?J.attrs.strokeColor:void 0,J.attrs.strokeDashArray,J.attrs.strokeWidth?J.attrs.strokeWidth:2,J.attrs.strokeLineCap),G.add(K)}):Array.isArray(M)&&M.forEach(function(J){var rt=J.attrs.strokeWidth!==void 0?J.attrs.strokeWidth:N/2,vt=d+rt+N/2;K=V.drawLine(vt-2*rt,J.y,vt,J.y,J.attrs.strokeColor?J.attrs.strokeColor:void 0,J.attrs.strokeDashArray,J.attrs.strokeHeight?J.attrs.strokeHeight:2,J.attrs.strokeLineCap),G.add(K)}),G}}]),$t}(),vn=function(){function $t(h,d){qt(this,$t),this.ctx=h,this.w=h.w;var y=this.w;this.barOptions=y.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=y.config.stroke.width,this.isNullValue=!1,this.isRangeBar=y.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=d,this.xyRatios!==null&&(this.xRatio=d.xRatio,this.initialXRatio=d.initialXRatio,this.yRatio=d.yRatio,this.invertedXRatio=d.invertedXRatio,this.invertedYRatio=d.invertedYRatio,this.baseLineY=d.baseLineY,this.baseLineInvertedY=d.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var C=new We(this.ctx);this.lastActiveBarSerieIndex=C.getActiveConfigSeriesIndex("desc",["bar","column"]);var M=C.getBarSeriesIndices(),N=new Kt(this.ctx);this.stackedSeriesTotals=N.getStackedSeriesTotals(this.w.config.series.map(function(P,V){return M.indexOf(V)===-1?V:-1}).filter(function(P){return P!==-1})),this.barHelpers=new xi(this)}return Jt($t,[{key:"draw",value:function(h,d){var y=this.w,C=new Ft(this.ctx),M=new Kt(this.ctx,y);h=M.getLogSeries(h),this.series=h,this.yRatio=M.getLogYRatios(this.yRatio),this.barHelpers.initVariables(h);var N=C.group({class:"apexcharts-bar-series apexcharts-plot-series"});y.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var P=0,V=0;P<h.length;P++,V++){var G,K,J,rt,vt=void 0,Lt=void 0,Et=[],Qt=[],ue=y.globals.comboCharts?d[P]:P,Ce=C.group({class:"apexcharts-series",rel:P+1,seriesName:ct.escapeString(y.globals.seriesNames[ue]),"data:realIndex":ue});this.ctx.series.addCollapsedClassToSeries(Ce,ue),h[P].length>0&&(this.visibleI=this.visibleI+1);var de=0,Y=0;this.yRatio.length>1&&(this.yaxisIndex=ue),this.isReversed=y.config.yaxis[this.yaxisIndex]&&y.config.yaxis[this.yaxisIndex].reversed;var ot=this.barHelpers.initialPositions();Lt=ot.y,de=ot.barHeight,K=ot.yDivision,rt=ot.zeroW,vt=ot.x,Y=ot.barWidth,G=ot.xDivision,J=ot.zeroH,this.horizontal||Qt.push(vt+Y/2);for(var zt=C.group({class:"apexcharts-datalabels","data:realIndex":ue}),jt=C.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),xe=0;xe<y.globals.dataPoints;xe++){var an=this.barHelpers.getStrokeWidth(P,xe,ue),Qe=null,On={indexes:{i:P,j:xe,realIndex:ue,bc:V},x:vt,y:Lt,strokeWidth:an,elSeries:Ce};this.isHorizontal?(Qe=this.drawBarPaths(Wt(Wt({},On),{},{barHeight:de,zeroW:rt,yDivision:K})),Y=this.series[P][xe]/this.invertedYRatio):(Qe=this.drawColumnPaths(Wt(Wt({},On),{},{xDivision:G,barWidth:Y,zeroH:J})),de=this.series[P][xe]/this.yRatio[this.yaxisIndex]);var Pn=this.barHelpers.drawGoalLine({barXPosition:Qe.barXPosition,barYPosition:Qe.barYPosition,goalX:Qe.goalX,goalY:Qe.goalY,barHeight:de,barWidth:Y});Pn&&jt.add(Pn),Lt=Qe.y,vt=Qe.x,xe>0&&Qt.push(vt+Y/2),Et.push(Lt);var ii=this.barHelpers.getPathFillColor(h,P,xe,ue);this.renderSeries({realIndex:ue,pathFill:ii,j:xe,i:P,pathFrom:Qe.pathFrom,pathTo:Qe.pathTo,strokeWidth:an,elSeries:Ce,x:vt,y:Lt,series:h,barHeight:de,barWidth:Y,elDataLabelsWrap:zt,elGoalsMarkers:jt,visibleSeries:this.visibleI,type:"bar"})}y.globals.seriesXvalues[ue]=Qt,y.globals.seriesYvalues[ue]=Et,N.add(Ce)}return N}},{key:"renderSeries",value:function(h){var d=h.realIndex,y=h.pathFill,C=h.lineFill,M=h.j,N=h.i,P=h.pathFrom,V=h.pathTo,G=h.strokeWidth,K=h.elSeries,J=h.x,rt=h.y,vt=h.y1,Lt=h.y2,Et=h.series,Qt=h.barHeight,ue=h.barWidth,Ce=h.barYPosition,de=h.elDataLabelsWrap,Y=h.elGoalsMarkers,ot=h.visibleSeries,zt=h.type,jt=this.w,xe=new Ft(this.ctx);C||(C=this.barOptions.distributed?jt.globals.stroke.colors[M]:jt.globals.stroke.colors[d]),jt.config.series[N].data[M]&&jt.config.series[N].data[M].strokeColor&&(C=jt.config.series[N].data[M].strokeColor),this.isNullValue&&(y="none");var an=M/jt.config.chart.animations.animateGradually.delay*(jt.config.chart.animations.speed/jt.globals.dataPoints)/2.4,Qe=xe.renderPaths({i:N,j:M,realIndex:d,pathFrom:P,pathTo:V,stroke:C,strokeWidth:G,strokeLineCap:jt.config.stroke.lineCap,fill:y,animationDelay:an,initialSpeed:jt.config.chart.animations.speed,dataChangeSpeed:jt.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(zt,"-area")});Qe.attr("clip-path","url(#gridRectMask".concat(jt.globals.cuid,")"));var On=jt.config.forecastDataPoints;On.count>0&&M>=jt.globals.dataPoints-On.count&&(Qe.node.setAttribute("stroke-dasharray",On.dashArray),Qe.node.setAttribute("stroke-width",On.strokeWidth),Qe.node.setAttribute("fill-opacity",On.fillOpacity)),vt!==void 0&&Lt!==void 0&&(Qe.attr("data-range-y1",vt),Qe.attr("data-range-y2",Lt)),new At(this.ctx).setSelectionFilter(Qe,d,M),K.add(Qe);var Pn=new Ln(this).handleBarDataLabels({x:J,y:rt,y1:vt,y2:Lt,i:N,j:M,series:Et,realIndex:d,barHeight:Qt,barWidth:ue,barYPosition:Ce,renderedPath:Qe,visibleSeries:ot});return Pn.dataLabels!==null&&de.add(Pn.dataLabels),Pn.totalDataLabels&&de.add(Pn.totalDataLabels),K.add(de),Y&&K.add(Y),K}},{key:"drawBarPaths",value:function(h){var d,y=h.indexes,C=h.barHeight,M=h.strokeWidth,N=h.zeroW,P=h.x,V=h.y,G=h.yDivision,K=h.elSeries,J=this.w,rt=y.i,vt=y.j;if(J.globals.isXNumeric)d=(V=(J.globals.seriesX[rt][vt]-J.globals.minX)/this.invertedXRatio-C)+C*this.visibleI;else if(J.config.plotOptions.bar.hideZeroBarsWhenGrouped){var Lt=0,Et=0;J.globals.seriesPercent.forEach(function(ue,Ce){ue[vt]&&Lt++,Ce<rt&&ue[vt]===0&&Et++}),d=V+(C=this.seriesLen*C/Lt)*this.visibleI,d-=C*Et}P=this.barHelpers.getXForValue(this.series[rt][vt],N);var Qt=this.barHelpers.getBarpaths({barYPosition:d,barHeight:C,x1:N,x2:P,strokeWidth:M,series:this.series,realIndex:y.realIndex,i:rt,j:vt,w:J});return J.globals.isXNumeric||(V+=G),this.barHelpers.barBackground({j:vt,i:rt,y1:d-C*this.visibleI,y2:C*this.seriesLen,elSeries:K}),{pathTo:Qt.pathTo,pathFrom:Qt.pathFrom,x:P,y:V,goalX:this.barHelpers.getGoalValues("x",N,null,rt,vt),barYPosition:d}}},{key:"drawColumnPaths",value:function(h){var d,y=h.indexes,C=h.x,M=h.y,N=h.xDivision,P=h.barWidth,V=h.zeroH,G=h.strokeWidth,K=h.elSeries,J=this.w,rt=y.realIndex,vt=y.i,Lt=y.j,Et=y.bc;if(J.globals.isXNumeric){var Qt=rt;J.globals.seriesX[rt].length||(Qt=J.globals.maxValsInArrayIndex),J.globals.seriesX[Qt][Lt]&&(C=(J.globals.seriesX[Qt][Lt]-J.globals.minX)/this.xRatio-P*this.seriesLen/2),d=C+P*this.visibleI}else if(J.config.plotOptions.bar.hideZeroBarsWhenGrouped){var ue=0,Ce=0;J.globals.seriesPercent.forEach(function(Y,ot){Y[Lt]&&ue++,ot<vt&&Y[Lt]===0&&Ce++}),d=C+(P=this.seriesLen*P/ue)*this.visibleI,d-=P*Ce}M=this.barHelpers.getYForValue(this.series[vt][Lt],V);var de=this.barHelpers.getColumnPaths({barXPosition:d,barWidth:P,y1:V,y2:M,strokeWidth:G,series:this.series,realIndex:y.realIndex,i:vt,j:Lt,w:J});return J.globals.isXNumeric||(C+=N),this.barHelpers.barBackground({bc:Et,j:Lt,i:vt,x1:d-G/2-P*this.visibleI,x2:P*this.seriesLen+G/2,elSeries:K}),{pathTo:de.pathTo,pathFrom:de.pathFrom,x:C,y:M,goalY:this.barHelpers.getGoalValues("y",null,V,vt,Lt),barXPosition:d}}},{key:"getPreviousPath",value:function(h,d){for(var y,C=this.w,M=0;M<C.globals.previousPaths.length;M++){var N=C.globals.previousPaths[M];N.paths&&N.paths.length>0&&parseInt(N.realIndex,10)===parseInt(h,10)&&C.globals.previousPaths[M].paths[d]!==void 0&&(y=C.globals.previousPaths[M].paths[d].d)}return y}}]),$t}(),En=function($t){Zt(d,$t);var h=gt(d);function d(){return qt(this,d),h.apply(this,arguments)}return Jt(d,[{key:"draw",value:function(y,C){var M=this,N=this.w;this.graphics=new Ft(this.ctx),this.bar=new vn(this.ctx,this.xyRatios);var P=new Kt(this.ctx,N);y=P.getLogSeries(y),this.yRatio=P.getLogYRatios(this.yRatio),this.barHelpers.initVariables(y),N.config.chart.stackType==="100%"&&(y=N.globals.seriesPercent.slice()),this.series=y,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var V=0;V<y.length;V++)y[V].length>0&&(this.totalItems+=y[V].length);for(var G=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),K=0,J=0,rt=function(Et,Qt){var ue=void 0,Ce=void 0,de=void 0,Y=void 0,ot=[],zt=[],jt=N.globals.comboCharts?C[Et]:Et;M.yRatio.length>1&&(M.yaxisIndex=jt),M.isReversed=N.config.yaxis[M.yaxisIndex]&&N.config.yaxis[M.yaxisIndex].reversed;var xe=M.graphics.group({class:"apexcharts-series",seriesName:ct.escapeString(N.globals.seriesNames[jt]),rel:Et+1,"data:realIndex":jt});M.ctx.series.addCollapsedClassToSeries(xe,jt);var an=M.graphics.group({class:"apexcharts-datalabels","data:realIndex":jt}),Qe=M.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),On=0,Pn=0,ii=M.initialPositions(K,J,ue,Ce,de,Y);J=ii.y,On=ii.barHeight,Ce=ii.yDivision,Y=ii.zeroW,K=ii.x,Pn=ii.barWidth,ue=ii.xDivision,de=ii.zeroH,M.yArrj=[],M.yArrjF=[],M.yArrjVal=[],M.xArrj=[],M.xArrjF=[],M.xArrjVal=[],M.prevY.length===1&&M.prevY[0].every(function(Qr){return isNaN(Qr)})&&(M.prevY[0]=M.prevY[0].map(function(Qr){return de}),M.prevYF[0]=M.prevYF[0].map(function(Qr){return 0}));for(var ri=0;ri<N.globals.dataPoints;ri++){var Wi=M.barHelpers.getStrokeWidth(Et,ri,jt),lr={indexes:{i:Et,j:ri,realIndex:jt,bc:Qt},strokeWidth:Wi,x:K,y:J,elSeries:xe},xr=null;M.isHorizontal?(xr=M.drawStackedBarPaths(Wt(Wt({},lr),{},{zeroW:Y,barHeight:On,yDivision:Ce})),Pn=M.series[Et][ri]/M.invertedYRatio):(xr=M.drawStackedColumnPaths(Wt(Wt({},lr),{},{xDivision:ue,barWidth:Pn,zeroH:de})),On=M.series[Et][ri]/M.yRatio[M.yaxisIndex]);var Ar=M.barHelpers.drawGoalLine({barXPosition:xr.barXPosition,barYPosition:xr.barYPosition,goalX:xr.goalX,goalY:xr.goalY,barHeight:On,barWidth:Pn});Ar&&Qe.add(Ar),J=xr.y,K=xr.x,ot.push(K),zt.push(J);var Er=M.barHelpers.getPathFillColor(y,Et,ri,jt);xe=M.renderSeries({realIndex:jt,pathFill:Er,j:ri,i:Et,pathFrom:xr.pathFrom,pathTo:xr.pathTo,strokeWidth:Wi,elSeries:xe,x:K,y:J,series:y,barHeight:On,barWidth:Pn,elDataLabelsWrap:an,elGoalsMarkers:Qe,type:"bar",visibleSeries:0})}N.globals.seriesXvalues[jt]=ot,N.globals.seriesYvalues[jt]=zt,M.prevY.push(M.yArrj),M.prevYF.push(M.yArrjF),M.prevYVal.push(M.yArrjVal),M.prevX.push(M.xArrj),M.prevXF.push(M.xArrjF),M.prevXVal.push(M.xArrjVal),G.add(xe)},vt=0,Lt=0;vt<y.length;vt++,Lt++)rt(vt,Lt);return G}},{key:"initialPositions",value:function(y,C,M,N,P,V){var G,K,J=this.w;return this.isHorizontal?(G=(G=N=J.globals.gridHeight/J.globals.dataPoints)*parseInt(J.config.plotOptions.bar.barHeight,10)/100,V=this.baseLineInvertedY+J.globals.padHorizontal+(this.isReversed?J.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),C=(N-G)/2):(K=M=J.globals.gridWidth/J.globals.dataPoints,K=J.globals.isXNumeric&&J.globals.dataPoints>1?(M=J.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:K*parseInt(J.config.plotOptions.bar.columnWidth,10)/100,P=J.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?J.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),y=J.globals.padHorizontal+(M-K)/2),{x:y,y:C,yDivision:N,xDivision:M,barHeight:G,barWidth:K,zeroH:P,zeroW:V}}},{key:"drawStackedBarPaths",value:function(y){for(var C,M=y.indexes,N=y.barHeight,P=y.strokeWidth,V=y.zeroW,G=y.x,K=y.y,J=y.yDivision,rt=y.elSeries,vt=this.w,Lt=K,Et=M.i,Qt=M.j,ue=0,Ce=0;Ce<this.prevXF.length;Ce++)ue+=this.prevXF[Ce][Qt];if(Et>0){var de=V;this.prevXVal[Et-1][Qt]<0?de=this.series[Et][Qt]>=0?this.prevX[Et-1][Qt]+ue-2*(this.isReversed?ue:0):this.prevX[Et-1][Qt]:this.prevXVal[Et-1][Qt]>=0&&(de=this.series[Et][Qt]>=0?this.prevX[Et-1][Qt]:this.prevX[Et-1][Qt]-ue+2*(this.isReversed?ue:0)),C=de}else C=V;G=this.series[Et][Qt]===null?C:C+this.series[Et][Qt]/this.invertedYRatio-2*(this.isReversed?this.series[Et][Qt]/this.invertedYRatio:0);var Y=this.barHelpers.getBarpaths({barYPosition:Lt,barHeight:N,x1:C,x2:G,strokeWidth:P,series:this.series,realIndex:M.realIndex,i:Et,j:Qt,w:vt});return this.barHelpers.barBackground({j:Qt,i:Et,y1:Lt,y2:N,elSeries:rt}),K+=J,{pathTo:Y.pathTo,pathFrom:Y.pathFrom,goalX:this.barHelpers.getGoalValues("x",V,null,Et,Qt),barYPosition:Lt,x:G,y:K}}},{key:"drawStackedColumnPaths",value:function(y){var C=y.indexes,M=y.x,N=y.y,P=y.xDivision,V=y.barWidth,G=y.zeroH;y.strokeWidth;var K=y.elSeries,J=this.w,rt=C.i,vt=C.j,Lt=C.bc;if(J.globals.isXNumeric){var Et=J.globals.seriesX[rt][vt];Et||(Et=0),M=(Et-J.globals.minX)/this.xRatio-V/2}for(var Qt,ue=M,Ce=0,de=0;de<this.prevYF.length;de++)Ce+=isNaN(this.prevYF[de][vt])?0:this.prevYF[de][vt];if(rt>0&&!J.globals.isXNumeric||rt>0&&J.globals.isXNumeric&&J.globals.seriesX[rt-1][vt]===J.globals.seriesX[rt][vt]){var Y,ot,zt=Math.min(this.yRatio.length+1,rt+1);if(this.prevY[rt-1]!==void 0){for(var jt=1;jt<zt;jt++)if(!isNaN(this.prevY[rt-jt][vt])){ot=this.prevY[rt-jt][vt];break}}for(var xe=1;xe<zt;xe++){if(this.prevYVal[rt-xe][vt]<0){Y=this.series[rt][vt]>=0?ot-Ce+2*(this.isReversed?Ce:0):ot;break}if(this.prevYVal[rt-xe][vt]>=0){Y=this.series[rt][vt]>=0?ot:ot+Ce-2*(this.isReversed?Ce:0);break}}Y===void 0&&(Y=J.globals.gridHeight),Qt=this.prevYF[0].every(function(Qe){return Qe===0})&&this.prevYF.slice(1,rt).every(function(Qe){return Qe.every(function(On){return isNaN(On)})})?G:Y}else Qt=G;N=this.series[rt][vt]?Qt-this.series[rt][vt]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[rt][vt]/this.yRatio[this.yaxisIndex]:0):Qt;var an=this.barHelpers.getColumnPaths({barXPosition:ue,barWidth:V,y1:Qt,y2:N,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:C.realIndex,i:rt,j:vt,w:J});return this.barHelpers.barBackground({bc:Lt,j:vt,i:rt,x1:ue,x2:V,elSeries:K}),M+=P,{pathTo:an.pathTo,pathFrom:an.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,G,rt,vt),barXPosition:ue,x:J.globals.isXNumeric?M-P:M,y:N}}}]),d}(vn),gn=function($t){Zt(d,$t);var h=gt(d);function d(){return qt(this,d),h.apply(this,arguments)}return Jt(d,[{key:"draw",value:function(y,C){var M=this,N=this.w,P=new Ft(this.ctx),V=new U(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=N.config.plotOptions.bar.horizontal;var G=new Kt(this.ctx,N);y=G.getLogSeries(y),this.series=y,this.yRatio=G.getLogYRatios(this.yRatio),this.barHelpers.initVariables(y);for(var K=P.group({class:"apexcharts-".concat(N.config.chart.type,"-series apexcharts-plot-series")}),J=function(vt){M.isBoxPlot=N.config.chart.type==="boxPlot"||N.config.series[vt].type==="boxPlot";var Lt,Et,Qt,ue,Ce=void 0,de=void 0,Y=[],ot=[],zt=N.globals.comboCharts?C[vt]:vt,jt=P.group({class:"apexcharts-series",seriesName:ct.escapeString(N.globals.seriesNames[zt]),rel:vt+1,"data:realIndex":zt});M.ctx.series.addCollapsedClassToSeries(jt,zt),y[vt].length>0&&(M.visibleI=M.visibleI+1);var xe,an;M.yRatio.length>1&&(M.yaxisIndex=zt);var Qe=M.barHelpers.initialPositions();de=Qe.y,xe=Qe.barHeight,Et=Qe.yDivision,ue=Qe.zeroW,Ce=Qe.x,an=Qe.barWidth,Lt=Qe.xDivision,Qt=Qe.zeroH,ot.push(Ce+an/2);for(var On=P.group({class:"apexcharts-datalabels","data:realIndex":zt}),Pn=function(ri){var Wi=M.barHelpers.getStrokeWidth(vt,ri,zt),lr=null,xr={indexes:{i:vt,j:ri,realIndex:zt},x:Ce,y:de,strokeWidth:Wi,elSeries:jt};lr=M.isHorizontal?M.drawHorizontalBoxPaths(Wt(Wt({},xr),{},{yDivision:Et,barHeight:xe,zeroW:ue})):M.drawVerticalBoxPaths(Wt(Wt({},xr),{},{xDivision:Lt,barWidth:an,zeroH:Qt})),de=lr.y,Ce=lr.x,ri>0&&ot.push(Ce+an/2),Y.push(de),lr.pathTo.forEach(function(Ar,Er){var Qr=!M.isBoxPlot&&M.candlestickOptions.wick.useFillColor?lr.color[Er]:N.globals.stroke.colors[vt],ha=V.fillPath({seriesNumber:zt,dataPointIndex:ri,color:lr.color[Er],value:y[vt][ri]});M.renderSeries({realIndex:zt,pathFill:ha,lineFill:Qr,j:ri,i:vt,pathFrom:lr.pathFrom,pathTo:Ar,strokeWidth:Wi,elSeries:jt,x:Ce,y:de,series:y,barHeight:xe,barWidth:an,elDataLabelsWrap:On,visibleSeries:M.visibleI,type:N.config.chart.type})})},ii=0;ii<N.globals.dataPoints;ii++)Pn(ii);N.globals.seriesXvalues[zt]=ot,N.globals.seriesYvalues[zt]=Y,K.add(jt)},rt=0;rt<y.length;rt++)J(rt);return K}},{key:"drawVerticalBoxPaths",value:function(y){var C=y.indexes,M=y.x;y.y;var N=y.xDivision,P=y.barWidth,V=y.zeroH,G=y.strokeWidth,K=this.w,J=new Ft(this.ctx),rt=C.i,vt=C.j,Lt=!0,Et=K.config.plotOptions.candlestick.colors.upward,Qt=K.config.plotOptions.candlestick.colors.downward,ue="";this.isBoxPlot&&(ue=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Ce=this.yRatio[this.yaxisIndex],de=C.realIndex,Y=this.getOHLCValue(de,vt),ot=V,zt=V;Y.o>Y.c&&(Lt=!1);var jt=Math.min(Y.o,Y.c),xe=Math.max(Y.o,Y.c),an=Y.m;K.globals.isXNumeric&&(M=(K.globals.seriesX[de][vt]-K.globals.minX)/this.xRatio-P/2);var Qe=M+P*this.visibleI;this.series[rt][vt]===void 0||this.series[rt][vt]===null?(jt=V,xe=V):(jt=V-jt/Ce,xe=V-xe/Ce,ot=V-Y.h/Ce,zt=V-Y.l/Ce,an=V-Y.m/Ce);var On=J.move(Qe,V),Pn=J.move(Qe+P/2,jt);return K.globals.previousPaths.length>0&&(Pn=this.getPreviousPath(de,vt,!0)),On=this.isBoxPlot?[J.move(Qe,jt)+J.line(Qe+P/2,jt)+J.line(Qe+P/2,ot)+J.line(Qe+P/4,ot)+J.line(Qe+P-P/4,ot)+J.line(Qe+P/2,ot)+J.line(Qe+P/2,jt)+J.line(Qe+P,jt)+J.line(Qe+P,an)+J.line(Qe,an)+J.line(Qe,jt+G/2),J.move(Qe,an)+J.line(Qe+P,an)+J.line(Qe+P,xe)+J.line(Qe+P/2,xe)+J.line(Qe+P/2,zt)+J.line(Qe+P-P/4,zt)+J.line(Qe+P/4,zt)+J.line(Qe+P/2,zt)+J.line(Qe+P/2,xe)+J.line(Qe,xe)+J.line(Qe,an)+"z"]:[J.move(Qe,xe)+J.line(Qe+P/2,xe)+J.line(Qe+P/2,ot)+J.line(Qe+P/2,xe)+J.line(Qe+P,xe)+J.line(Qe+P,jt)+J.line(Qe+P/2,jt)+J.line(Qe+P/2,zt)+J.line(Qe+P/2,jt)+J.line(Qe,jt)+J.line(Qe,xe-G/2)],Pn+=J.move(Qe,jt),K.globals.isXNumeric||(M+=N),{pathTo:On,pathFrom:Pn,x:M,y:xe,barXPosition:Qe,color:this.isBoxPlot?ue:Lt?[Et]:[Qt]}}},{key:"drawHorizontalBoxPaths",value:function(y){var C=y.indexes;y.x;var M=y.y,N=y.yDivision,P=y.barHeight,V=y.zeroW,G=y.strokeWidth,K=this.w,J=new Ft(this.ctx),rt=C.i,vt=C.j,Lt=this.boxOptions.colors.lower;this.isBoxPlot&&(Lt=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Et=this.invertedYRatio,Qt=C.realIndex,ue=this.getOHLCValue(Qt,vt),Ce=V,de=V,Y=Math.min(ue.o,ue.c),ot=Math.max(ue.o,ue.c),zt=ue.m;K.globals.isXNumeric&&(M=(K.globals.seriesX[Qt][vt]-K.globals.minX)/this.invertedXRatio-P/2);var jt=M+P*this.visibleI;this.series[rt][vt]===void 0||this.series[rt][vt]===null?(Y=V,ot=V):(Y=V+Y/Et,ot=V+ot/Et,Ce=V+ue.h/Et,de=V+ue.l/Et,zt=V+ue.m/Et);var xe=J.move(V,jt),an=J.move(Y,jt+P/2);return K.globals.previousPaths.length>0&&(an=this.getPreviousPath(Qt,vt,!0)),xe=[J.move(Y,jt)+J.line(Y,jt+P/2)+J.line(Ce,jt+P/2)+J.line(Ce,jt+P/2-P/4)+J.line(Ce,jt+P/2+P/4)+J.line(Ce,jt+P/2)+J.line(Y,jt+P/2)+J.line(Y,jt+P)+J.line(zt,jt+P)+J.line(zt,jt)+J.line(Y+G/2,jt),J.move(zt,jt)+J.line(zt,jt+P)+J.line(ot,jt+P)+J.line(ot,jt+P/2)+J.line(de,jt+P/2)+J.line(de,jt+P-P/4)+J.line(de,jt+P/4)+J.line(de,jt+P/2)+J.line(ot,jt+P/2)+J.line(ot,jt)+J.line(zt,jt)+"z"],an+=J.move(Y,jt),K.globals.isXNumeric||(M+=N),{pathTo:xe,pathFrom:an,x:ot,y:M,barYPosition:jt,color:Lt}}},{key:"getOHLCValue",value:function(y,C){var M=this.w;return{o:this.isBoxPlot?M.globals.seriesCandleH[y][C]:M.globals.seriesCandleO[y][C],h:this.isBoxPlot?M.globals.seriesCandleO[y][C]:M.globals.seriesCandleH[y][C],m:M.globals.seriesCandleM[y][C],l:this.isBoxPlot?M.globals.seriesCandleC[y][C]:M.globals.seriesCandleL[y][C],c:this.isBoxPlot?M.globals.seriesCandleL[y][C]:M.globals.seriesCandleC[y][C]}}}]),d}(vn),Di=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"checkColorRange",value:function(){var h=this.w,d=!1,y=h.config.plotOptions[h.config.chart.type];return y.colorScale.ranges.length>0&&y.colorScale.ranges.map(function(C,M){C.from<=0&&(d=!0)}),d}},{key:"getShadeColor",value:function(h,d,y,C){var M=this.w,N=1,P=M.config.plotOptions[h].shadeIntensity,V=this.determineColor(h,d,y);M.globals.hasNegs||C?N=M.config.plotOptions[h].reverseNegativeShade?V.percent<0?V.percent/100*(1.25*P):(1-V.percent/100)*(1.25*P):V.percent<=0?1-(1+V.percent/100)*P:(1-V.percent/100)*P:(N=1-V.percent/100,h==="treemap"&&(N=(1-V.percent/100)*(1.25*P)));var G=V.color,K=new ct;return M.config.plotOptions[h].enableShades&&(G=this.w.config.theme.mode==="dark"?ct.hexToRgba(K.shadeColor(-1*N,V.color),M.config.fill.opacity):ct.hexToRgba(K.shadeColor(N,V.color),M.config.fill.opacity)),{color:G,colorProps:V}}},{key:"determineColor",value:function(h,d,y){var C=this.w,M=C.globals.series[d][y],N=C.config.plotOptions[h],P=N.colorScale.inverse?y:d;N.distributed&&C.config.chart.type==="treemap"&&(P=y);var V=C.globals.colors[P],G=null,K=Math.min.apply(Math,It(C.globals.series[d])),J=Math.max.apply(Math,It(C.globals.series[d]));N.distributed||h!=="heatmap"||(K=C.globals.minY,J=C.globals.maxY),N.colorScale.min!==void 0&&(K=N.colorScale.min<C.globals.minY?N.colorScale.min:C.globals.minY,J=N.colorScale.max>C.globals.maxY?N.colorScale.max:C.globals.maxY);var rt=Math.abs(J)+Math.abs(K),vt=100*M/(rt===0?rt-1e-6:rt);return N.colorScale.ranges.length>0&&N.colorScale.ranges.map(function(Lt,Et){if(M>=Lt.from&&M<=Lt.to){V=Lt.color,G=Lt.foreColor?Lt.foreColor:null,K=Lt.from,J=Lt.to;var Qt=Math.abs(J)+Math.abs(K);vt=100*M/(Qt===0?Qt-1e-6:Qt)}}),{color:V,foreColor:G,percent:vt}}},{key:"calculateDataLabels",value:function(h){var d=h.text,y=h.x,C=h.y,M=h.i,N=h.j,P=h.colorProps,V=h.fontSize,G=this.w.config.dataLabels,K=new Ft(this.ctx),J=new $e(this.ctx),rt=null;if(G.enabled){rt=K.group({class:"apexcharts-data-labels"});var vt=G.offsetX,Lt=G.offsetY,Et=y+vt,Qt=C+parseFloat(G.style.fontSize)/3+Lt;J.plotDataLabelsText({x:Et,y:Qt,text:d,i:M,j:N,color:P.foreColor,parent:rt,fontSize:V,dataLabelsConfig:G})}return rt}},{key:"addListeners",value:function(h){var d=new Ft(this.ctx);h.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this,h)),h.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this,h)),h.node.addEventListener("mousedown",d.pathMouseDown.bind(this,h))}}]),$t}(),ar=function(){function $t(h,d){qt(this,$t),this.ctx=h,this.w=h.w,this.xRatio=d.xRatio,this.yRatio=d.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Di(h),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Jt($t,[{key:"draw",value:function(h){var d=this.w,y=new Ft(this.ctx),C=y.group({class:"apexcharts-heatmap"});C.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")"));var M=d.globals.gridWidth/d.globals.dataPoints,N=d.globals.gridHeight/d.globals.series.length,P=0,V=!1;this.negRange=this.helpers.checkColorRange();var G=h.slice();d.config.yaxis[0].reversed&&(V=!0,G.reverse());for(var K=V?0:G.length-1;V?K<G.length:K>=0;V?K++:K--){var J=y.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ct.escapeString(d.globals.seriesNames[K]),rel:K+1,"data:realIndex":K});if(this.ctx.series.addCollapsedClassToSeries(J,K),d.config.chart.dropShadow.enabled){var rt=d.config.chart.dropShadow;new At(this.ctx).dropShadow(J,rt,K)}for(var vt=0,Lt=d.config.plotOptions.heatmap.shadeIntensity,Et=0;Et<G[K].length;Et++){var Qt=this.helpers.getShadeColor(d.config.chart.type,K,Et,this.negRange),ue=Qt.color,Ce=Qt.colorProps;d.config.fill.type==="image"&&(ue=new U(this.ctx).fillPath({seriesNumber:K,dataPointIndex:Et,opacity:d.globals.hasNegs?Ce.percent<0?1-(1+Ce.percent/100):Lt+Ce.percent/100:Ce.percent/100,patternID:ct.randomId(),width:d.config.fill.image.width?d.config.fill.image.width:M,height:d.config.fill.image.height?d.config.fill.image.height:N}));var de=this.rectRadius,Y=y.drawRect(vt,P,M,N,de);if(Y.attr({cx:vt,cy:P}),Y.node.classList.add("apexcharts-heatmap-rect"),J.add(Y),Y.attr({fill:ue,i:K,index:K,j:Et,val:G[K][Et],"stroke-width":this.strokeWidth,stroke:d.config.plotOptions.heatmap.useFillColorAsStroke?ue:d.globals.stroke.colors[0],color:ue}),this.helpers.addListeners(Y),d.config.chart.animations.enabled&&!d.globals.dataChanged){var ot=1;d.globals.resized||(ot=d.config.chart.animations.speed),this.animateHeatMap(Y,vt,P,M,N,ot)}if(d.globals.dataChanged){var zt=1;if(this.dynamicAnim.enabled&&d.globals.shouldAnimate){zt=this.dynamicAnim.speed;var jt=d.globals.previousPaths[K]&&d.globals.previousPaths[K][Et]&&d.globals.previousPaths[K][Et].color;jt||(jt="rgba(255, 255, 255, 0)"),this.animateHeatColor(Y,ct.isColorHex(jt)?jt:ct.rgb2hex(jt),ct.isColorHex(ue)?ue:ct.rgb2hex(ue),zt)}}var xe=(0,d.config.dataLabels.formatter)(d.globals.series[K][Et],{value:d.globals.series[K][Et],seriesIndex:K,dataPointIndex:Et,w:d}),an=this.helpers.calculateDataLabels({text:xe,x:vt+M/2,y:P+N/2,i:K,j:Et,colorProps:Ce,series:G});an!==null&&J.add(an),vt+=M}P+=N,C.add(J)}var Qe=d.globals.yAxisScale[0].result.slice();d.config.yaxis[0].reversed?Qe.unshift(""):Qe.push(""),d.globals.yAxisScale[0].result=Qe;var On=d.globals.gridHeight/d.globals.series.length;return d.config.yaxis[0].labels.offsetY=-On/2,C}},{key:"animateHeatMap",value:function(h,d,y,C,M,N){var P=new te(this.ctx);P.animateRect(h,{x:d+C/2,y:y+M/2,width:0,height:0},{x:d,y,width:C,height:M},N,function(){P.animationCompleted(h)})}},{key:"animateHeatColor",value:function(h,d,y,C){h.attr({fill:d}).animate(C).attr({fill:y})}}]),$t}(),Ni=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"drawYAxisTexts",value:function(h,d,y,C){var M=this.w,N=M.config.yaxis[0],P=M.globals.yLabelFormatters[0];return new Ft(this.ctx).drawText({x:h+N.labels.offsetX,y:d+N.labels.offsetY,text:P(C,y),textAnchor:"middle",fontSize:N.labels.style.fontSize,fontFamily:N.labels.style.fontFamily,foreColor:Array.isArray(N.labels.style.colors)?N.labels.style.colors[y]:N.labels.style.colors})}}]),$t}(),Ji=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w;var d=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=d.globals.stroke.colors!==void 0?d.globals.stroke.colors:d.globals.colors,this.defaultSize=Math.min(d.globals.gridWidth,d.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=d.globals.gridWidth/2,d.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(d.config.plotOptions.pie.endAngle-d.config.plotOptions.pie.startAngle),this.initialAngle=d.config.plotOptions.pie.startAngle%this.fullAngle,d.globals.radialSize=this.defaultSize/2.05-d.config.stroke.width-(d.config.chart.sparkline.enabled?0:d.config.chart.dropShadow.blur),this.donutSize=d.globals.radialSize*parseInt(d.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Jt($t,[{key:"draw",value:function(h){var d=this,y=this.w,C=new Ft(this.ctx);if(this.ret=C.group({class:"apexcharts-pie"}),y.globals.noData)return this.ret;for(var M=0,N=0;N<h.length;N++)M+=ct.negToZero(h[N]);var P=[],V=C.group();M===0&&(M=1e-5),h.forEach(function(jt){d.maxY=Math.max(d.maxY,jt)}),y.config.yaxis[0].max&&(this.maxY=y.config.yaxis[0].max),y.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var G=0;G<h.length;G++){var K=this.fullAngle*ct.negToZero(h[G])/M;P.push(K),this.chartType==="polarArea"?(P[G]=this.fullAngle/h.length,this.sliceSizes.push(y.globals.radialSize*h[G]/this.maxY)):this.sliceSizes.push(y.globals.radialSize)}if(y.globals.dataChanged){for(var J,rt=0,vt=0;vt<y.globals.previousPaths.length;vt++)rt+=ct.negToZero(y.globals.previousPaths[vt]);for(var Lt=0;Lt<y.globals.previousPaths.length;Lt++)J=this.fullAngle*ct.negToZero(y.globals.previousPaths[Lt])/rt,this.prevSectorAngleArr.push(J)}this.donutSize<0&&(this.donutSize=0);var Et=y.config.plotOptions.pie.customScale,Qt=y.globals.gridWidth/2,ue=y.globals.gridHeight/2,Ce=Qt-y.globals.gridWidth/2*Et,de=ue-y.globals.gridHeight/2*Et;if(this.chartType==="donut"){var Y=C.drawCircle(this.donutSize);Y.attr({cx:this.centerX,cy:this.centerY,fill:y.config.plotOptions.pie.donut.background?y.config.plotOptions.pie.donut.background:"transparent"}),V.add(Y)}var ot=this.drawArcs(P,h);if(this.sliceLabels.forEach(function(jt){ot.add(jt)}),V.attr({transform:"translate(".concat(Ce,", ").concat(de,") scale(").concat(Et,")")}),V.add(ot),this.ret.add(V),this.donutDataLabels.show){var zt=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Ce,translateY:de});this.ret.add(zt)}return y.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(h,d){var y=this.w,C=new At(this.ctx),M=new Ft(this.ctx),N=new U(this.ctx),P=M.group({class:"apexcharts-slices"}),V=this.initialAngle,G=this.initialAngle,K=this.initialAngle,J=this.initialAngle;this.strokeWidth=y.config.stroke.show?y.config.stroke.width:0;for(var rt=0;rt<h.length;rt++){var vt=M.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ct.escapeString(y.globals.seriesNames[rt]),rel:rt+1,"data:realIndex":rt});P.add(vt),G=J,K=(V=K)+h[rt],J=G+this.prevSectorAngleArr[rt];var Lt=K<V?this.fullAngle+K-V:K-V,Et=N.fillPath({seriesNumber:rt,size:this.sliceSizes[rt],value:d[rt]}),Qt=this.getChangedPath(G,J),ue=M.drawPath({d:Qt,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[rt]:this.lineColorArr,strokeWidth:0,fill:Et,fillOpacity:y.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(rt)});if(ue.attr({index:0,j:rt}),C.setSelectionFilter(ue,0,rt),y.config.chart.dropShadow.enabled){var Ce=y.config.chart.dropShadow;C.dropShadow(ue,Ce,rt)}this.addListeners(ue,this.donutDataLabels),Ft.setAttrs(ue.node,{"data:angle":Lt,"data:startAngle":V,"data:strokeWidth":this.strokeWidth,"data:value":d[rt]});var de={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?de=ct.polarToCartesian(this.centerX,this.centerY,y.globals.radialSize/1.25+y.config.plotOptions.pie.dataLabels.offset,(V+Lt/2)%this.fullAngle):this.chartType==="donut"&&(de=ct.polarToCartesian(this.centerX,this.centerY,(y.globals.radialSize+this.donutSize)/2+y.config.plotOptions.pie.dataLabels.offset,(V+Lt/2)%this.fullAngle)),vt.add(ue);var Y=0;if(!this.initialAnim||y.globals.resized||y.globals.dataChanged?this.animBeginArr.push(0):((Y=Lt/this.fullAngle*y.config.chart.animations.speed)===0&&(Y=1),this.animDur=Y+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&y.globals.dataChanged?this.animatePaths(ue,{size:this.sliceSizes[rt],endAngle:K,startAngle:V,prevStartAngle:G,prevEndAngle:J,animateStartingPos:!0,i:rt,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:y.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(ue,{size:this.sliceSizes[rt],endAngle:K,startAngle:V,i:rt,totalItems:h.length-1,animBeginArr:this.animBeginArr,dur:Y}),y.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&ue.click(this.pieClicked.bind(this,rt)),y.globals.selectedDataPoints[0]!==void 0&&y.globals.selectedDataPoints[0].indexOf(rt)>-1&&this.pieClicked(rt),y.config.dataLabels.enabled){var ot=de.x,zt=de.y,jt=100*Lt/this.fullAngle+"%";if(Lt!==0&&y.config.plotOptions.pie.dataLabels.minAngleToShowLabel<h[rt]){var xe=y.config.dataLabels.formatter;xe!==void 0&&(jt=xe(y.globals.seriesPercent[rt][0],{seriesIndex:rt,w:y}));var an=y.globals.dataLabels.style.colors[rt],Qe=M.group({class:"apexcharts-datalabels"}),On=M.drawText({x:ot,y:zt,text:jt,textAnchor:"middle",fontSize:y.config.dataLabels.style.fontSize,fontFamily:y.config.dataLabels.style.fontFamily,fontWeight:y.config.dataLabels.style.fontWeight,foreColor:an});if(Qe.add(On),y.config.dataLabels.dropShadow.enabled){var Pn=y.config.dataLabels.dropShadow;C.dropShadow(On,Pn)}On.node.classList.add("apexcharts-pie-label"),y.config.chart.animations.animate&&y.globals.resized===!1&&(On.node.classList.add("apexcharts-pie-label-delay"),On.node.style.animationDelay=y.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Qe)}}}return P}},{key:"addListeners",value:function(h,d){var y=new Ft(this.ctx);h.node.addEventListener("mouseenter",y.pathMouseEnter.bind(this,h)),h.node.addEventListener("mouseleave",y.pathMouseLeave.bind(this,h)),h.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,h.node,d)),h.node.addEventListener("mousedown",y.pathMouseDown.bind(this,h)),this.donutDataLabels.total.showAlways||(h.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,h.node,d)),h.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,h.node,d)))}},{key:"animatePaths",value:function(h,d){var y=this.w,C=d.endAngle<d.startAngle?this.fullAngle+d.endAngle-d.startAngle:d.endAngle-d.startAngle,M=C,N=d.startAngle,P=d.startAngle;d.prevStartAngle!==void 0&&d.prevEndAngle!==void 0&&(N=d.prevEndAngle,M=d.prevEndAngle<d.prevStartAngle?this.fullAngle+d.prevEndAngle-d.prevStartAngle:d.prevEndAngle-d.prevStartAngle),d.i===y.config.series.length-1&&(C+P>this.fullAngle?d.endAngle=d.endAngle-(C+P):C+P<this.fullAngle&&(d.endAngle=d.endAngle+(this.fullAngle-(C+P)))),C===this.fullAngle&&(C=this.fullAngle-.01),this.animateArc(h,N,P,C,M,d)}},{key:"animateArc",value:function(h,d,y,C,M,N){var P,V=this,G=this.w,K=new te(this.ctx),J=N.size;(isNaN(d)||isNaN(M))&&(d=y,M=C,N.dur=0);var rt=C,vt=y,Lt=d<y?this.fullAngle+d-y:d-y;G.globals.dataChanged&&N.shouldSetPrevPaths&&N.prevEndAngle&&(P=V.getPiePath({me:V,startAngle:N.prevStartAngle,angle:N.prevEndAngle<N.prevStartAngle?this.fullAngle+N.prevEndAngle-N.prevStartAngle:N.prevEndAngle-N.prevStartAngle,size:J}),h.attr({d:P})),N.dur!==0?h.animate(N.dur,G.globals.easing,N.animBeginArr[N.i]).afterAll(function(){V.chartType!=="pie"&&V.chartType!=="donut"&&V.chartType!=="polarArea"||this.animate(G.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":V.strokeWidth}),N.i===G.config.series.length-1&&K.animationCompleted(h)}).during(function(Et){rt=Lt+(C-Lt)*Et,N.animateStartingPos&&(rt=M+(C-M)*Et,vt=d-M+(y-(d-M))*Et),P=V.getPiePath({me:V,startAngle:vt,angle:rt,size:J}),h.node.setAttribute("data:pathOrig",P),h.attr({d:P})}):(P=V.getPiePath({me:V,startAngle:vt,angle:C,size:J}),N.isTrack||(G.globals.animationEnded=!0),h.node.setAttribute("data:pathOrig",P),h.attr({d:P,"stroke-width":V.strokeWidth}))}},{key:"pieClicked",value:function(h){var d,y=this.w,C=this,M=C.sliceSizes[h]+(y.config.plotOptions.pie.expandOnClick?4:0),N=y.globals.dom.Paper.select(".apexcharts-".concat(C.chartType.toLowerCase(),"-slice-").concat(h)).members[0];if(N.attr("data:pieClicked")!=="true"){var P=y.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(P,function(J){J.setAttribute("data:pieClicked","false");var rt=J.getAttribute("data:pathOrig");J.setAttribute("d",rt)}),N.attr("data:pieClicked","true");var V=parseInt(N.attr("data:startAngle"),10),G=parseInt(N.attr("data:angle"),10);d=C.getPiePath({me:C,startAngle:V,angle:G,size:M}),G!==360&&N.plot(d)}else{N.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(N.node,this.donutDataLabels);var K=N.attr("data:pathOrig");N.attr({d:K})}}},{key:"getChangedPath",value:function(h,d){var y="";return this.dynamicAnim&&this.w.globals.dataChanged&&(y=this.getPiePath({me:this,startAngle:h,angle:d-h,size:this.size})),y}},{key:"getPiePath",value:function(h){var d=h.me,y=h.startAngle,C=h.angle,M=h.size,N=y,P=Math.PI*(N-90)/180,V=C+y;Math.ceil(V)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(V=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(V)>this.fullAngle&&(V-=this.fullAngle);var G=Math.PI*(V-90)/180,K=d.centerX+M*Math.cos(P),J=d.centerY+M*Math.sin(P),rt=d.centerX+M*Math.cos(G),vt=d.centerY+M*Math.sin(G),Lt=ct.polarToCartesian(d.centerX,d.centerY,d.donutSize,V),Et=ct.polarToCartesian(d.centerX,d.centerY,d.donutSize,N),Qt=C>180?1:0,ue=["M",K,J,"A",M,M,0,Qt,1,rt,vt];return d.chartType==="donut"?[].concat(ue,["L",Lt.x,Lt.y,"A",d.donutSize,d.donutSize,0,Qt,0,Et.x,Et.y,"L",K,J,"z"]).join(" "):d.chartType==="pie"||d.chartType==="polarArea"?[].concat(ue,["L",d.centerX,d.centerY,"L",K,J]).join(" "):[].concat(ue).join(" ")}},{key:"drawPolarElements",value:function(h){var d=this.w,y=new kn(this.ctx),C=new Ft(this.ctx),M=new Ni(this.ctx),N=C.group(),P=C.group(),V=y.niceScale(0,Math.ceil(this.maxY),d.config.yaxis[0].tickAmount,0,!0),G=V.result.reverse(),K=V.result.length;this.maxY=V.niceMax;for(var J=d.globals.radialSize,rt=J/(K-1),vt=0;vt<K-1;vt++){var Lt=C.drawCircle(J);if(Lt.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":d.config.plotOptions.polarArea.rings.strokeWidth,stroke:d.config.plotOptions.polarArea.rings.strokeColor}),d.config.yaxis[0].show){var Et=M.drawYAxisTexts(this.centerX,this.centerY-J+parseInt(d.config.yaxis[0].labels.style.fontSize,10)/2,vt,G[vt]);P.add(Et)}N.add(Lt),J-=rt}this.drawSpokes(h),h.add(N),h.add(P)}},{key:"renderInnerDataLabels",value:function(h,d){var y=this.w,C=new Ft(this.ctx),M=C.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(d.translateX?d.translateX:0,", ").concat(d.translateY?d.translateY:0,") scale(").concat(y.config.plotOptions.pie.customScale,")")}),N=h.total.show;M.node.style.opacity=d.opacity;var P,V,G=d.centerX,K=d.centerY;P=h.name.color===void 0?y.globals.colors[0]:h.name.color;var J=h.name.fontSize,rt=h.name.fontFamily,vt=h.name.fontWeight;V=h.value.color===void 0?y.config.chart.foreColor:h.value.color;var Lt=h.value.formatter,Et="",Qt="";if(N?(P=h.total.color,J=h.total.fontSize,rt=h.total.fontFamily,vt=h.total.fontWeight,Qt=h.total.label,Et=h.total.formatter(y)):y.globals.series.length===1&&(Et=Lt(y.globals.series[0],y),Qt=y.globals.seriesNames[0]),Qt&&(Qt=h.name.formatter(Qt,h.total.show,y)),h.name.show){var ue=C.drawText({x:G,y:K+parseFloat(h.name.offsetY),text:Qt,textAnchor:"middle",foreColor:P,fontSize:J,fontWeight:vt,fontFamily:rt});ue.node.classList.add("apexcharts-datalabel-label"),M.add(ue)}if(h.value.show){var Ce=h.name.show?parseFloat(h.value.offsetY)+16:h.value.offsetY,de=C.drawText({x:G,y:K+Ce,text:Et,textAnchor:"middle",foreColor:V,fontWeight:h.value.fontWeight,fontSize:h.value.fontSize,fontFamily:h.value.fontFamily});de.node.classList.add("apexcharts-datalabel-value"),M.add(de)}return M}},{key:"printInnerLabels",value:function(h,d,y,C){var M,N=this.w;C?M=h.name.color===void 0?N.globals.colors[parseInt(C.parentNode.getAttribute("rel"),10)-1]:h.name.color:N.globals.series.length>1&&h.total.show&&(M=h.total.color);var P=N.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),V=N.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");y=(0,h.value.formatter)(y,N),C||typeof h.total.formatter!="function"||(y=h.total.formatter(N));var G=d===h.total.label;d=h.name.formatter(d,G,N),P!==null&&(P.textContent=d),V!==null&&(V.textContent=y),P!==null&&(P.style.fill=M)}},{key:"printDataLabelsInner",value:function(h,d){var y=this.w,C=h.getAttribute("data:value"),M=y.globals.seriesNames[parseInt(h.parentNode.getAttribute("rel"),10)-1];y.globals.series.length>1&&this.printInnerLabels(d,M,C,h);var N=y.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");N!==null&&(N.style.opacity=1)}},{key:"drawSpokes",value:function(h){var d=this,y=this.w,C=new Ft(this.ctx),M=y.config.plotOptions.polarArea.spokes;if(M.strokeWidth!==0){for(var N=[],P=360/y.globals.series.length,V=0;V<y.globals.series.length;V++)N.push(ct.polarToCartesian(this.centerX,this.centerY,y.globals.radialSize,y.config.plotOptions.pie.startAngle+P*V));N.forEach(function(G,K){var J=C.drawLine(G.x,G.y,d.centerX,d.centerY,Array.isArray(M.connectorColors)?M.connectorColors[K]:M.connectorColors);h.add(J)})}}},{key:"revertDataLabelsInner",value:function(h,d,y){var C=this,M=this.w,N=M.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),P=!1,V=M.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),G=function(rt){var vt=rt.makeSliceOut,Lt=rt.printLabel;Array.prototype.forEach.call(V,function(Et){Et.getAttribute("data:pieClicked")==="true"&&(vt&&(P=!0),Lt&&C.printDataLabelsInner(Et,d))})};if(G({makeSliceOut:!0,printLabel:!1}),d.total.show&&M.globals.series.length>1)P&&!d.total.showAlways?G({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(d,d.total.label,d.total.formatter(M));else if(G({makeSliceOut:!1,printLabel:!0}),!P)if(M.globals.selectedDataPoints.length&&M.globals.series.length>1)if(M.globals.selectedDataPoints[0].length>0){var K=M.globals.selectedDataPoints[0],J=M.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(K));this.printDataLabelsInner(J,d)}else N&&M.globals.selectedDataPoints.length&&M.globals.selectedDataPoints[0].length===0&&(N.style.opacity=0);else N&&M.globals.series.length>1&&(N.style.opacity=0)}}]),$t}(),ir=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var d=this.w;this.graphics=new Ft(this.ctx),this.lineColorArr=d.globals.stroke.colors!==void 0?d.globals.stroke.colors:d.globals.colors,this.defaultSize=d.globals.svgHeight<d.globals.svgWidth?d.globals.gridHeight+1.5*d.globals.goldenPadding:d.globals.gridWidth,this.isLog=d.config.yaxis[0].logarithmic,this.coreUtils=new Kt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(d.globals.maxY,0):d.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):d.globals.minY,this.polygons=d.config.plotOptions.radar.polygons,this.strokeWidth=d.config.stroke.show?d.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-d.config.chart.dropShadow.blur,d.config.xaxis.labels.show&&(this.size=this.size-d.globals.xAxisLabelsWidth/1.75),d.config.plotOptions.radar.size!==void 0&&(this.size=d.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Jt($t,[{key:"draw",value:function(h){var d=this,y=this.w,C=new U(this.ctx),M=[],N=new $e(this.ctx);h.length&&(this.dataPointsLen=h[y.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var P=y.globals.gridWidth/2,V=y.globals.gridHeight/2,G=P+y.config.plotOptions.radar.offsetX,K=V+y.config.plotOptions.radar.offsetY,J=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(G||0,", ").concat(K||0,")")}),rt=[],vt=null,Lt=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),h.forEach(function(Qt,ue){var Ce=Qt.length===y.globals.dataPoints,de=d.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Ce,seriesName:ct.escapeString(y.globals.seriesNames[ue]),rel:ue+1,"data:realIndex":ue});d.dataRadiusOfPercent[ue]=[],d.dataRadius[ue]=[],d.angleArr[ue]=[],Qt.forEach(function(ii,ri){var Wi=Math.abs(d.maxValue-d.minValue);ii+=Math.abs(d.minValue),d.isLog&&(ii=d.coreUtils.getLogVal(ii,0)),d.dataRadiusOfPercent[ue][ri]=ii/Wi,d.dataRadius[ue][ri]=d.dataRadiusOfPercent[ue][ri]*d.size,d.angleArr[ue][ri]=ri*d.disAngle}),rt=d.getDataPointsPos(d.dataRadius[ue],d.angleArr[ue]);var Y=d.createPaths(rt,{x:0,y:0});vt=d.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),Lt=d.graphics.group({class:"apexcharts-datalabels","data:realIndex":ue}),y.globals.delayedElements.push({el:vt.node,index:ue});var ot={i:ue,realIndex:ue,animationDelay:ue,initialSpeed:y.config.chart.animations.speed,dataChangeSpeed:y.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:y.globals.stroke.colors[ue],strokeLineCap:y.config.stroke.lineCap},zt=null;y.globals.previousPaths.length>0&&(zt=d.getPreviousPath(ue));for(var jt=0;jt<Y.linePathsTo.length;jt++){var xe=d.graphics.renderPaths(Wt(Wt({},ot),{},{pathFrom:zt===null?Y.linePathsFrom[jt]:zt,pathTo:Y.linePathsTo[jt],strokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[ue]:d.strokeWidth,fill:"none",drawShadow:!1}));de.add(xe);var an=C.fillPath({seriesNumber:ue}),Qe=d.graphics.renderPaths(Wt(Wt({},ot),{},{pathFrom:zt===null?Y.areaPathsFrom[jt]:zt,pathTo:Y.areaPathsTo[jt],strokeWidth:0,fill:an,drawShadow:!1}));if(y.config.chart.dropShadow.enabled){var On=new At(d.ctx),Pn=y.config.chart.dropShadow;On.dropShadow(Qe,Object.assign({},Pn,{noUserSpaceOnUse:!0}),ue)}de.add(Qe)}Qt.forEach(function(ii,ri){var Wi=new ye(d.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:ue,dataPointIndex:ri}),lr=d.graphics.drawMarker(rt[ri].x,rt[ri].y,Wi);lr.attr("rel",ri),lr.attr("j",ri),lr.attr("index",ue),lr.node.setAttribute("default-marker-size",Wi.pSize);var xr=d.graphics.group({class:"apexcharts-series-markers"});xr&&xr.add(lr),vt.add(xr),de.add(vt);var Ar=y.config.dataLabels;if(Ar.enabled){var Er=Ar.formatter(y.globals.series[ue][ri],{seriesIndex:ue,dataPointIndex:ri,w:y});N.plotDataLabelsText({x:rt[ri].x,y:rt[ri].y,text:Er,textAnchor:"middle",i:ue,j:ue,parent:Lt,offsetCorrection:!1,dataLabelsConfig:Wt({},Ar)})}de.add(Lt)}),M.push(de)}),this.drawPolygons({parent:J}),y.config.xaxis.labels.show){var Et=this.drawXAxisTexts();J.add(Et)}return M.forEach(function(Qt){J.add(Qt)}),J.add(this.yaxisLabels),J}},{key:"drawPolygons",value:function(h){for(var d=this,y=this.w,C=h.parent,M=new Ni(this.ctx),N=y.globals.yAxisScale[0].result.reverse(),P=N.length,V=[],G=this.size/(P-1),K=0;K<P;K++)V[K]=G*K;V.reverse();var J=[],rt=[];V.forEach(function(vt,Lt){var Et=ct.getPolygonPos(vt,d.dataPointsLen),Qt="";Et.forEach(function(ue,Ce){if(Lt===0){var de=d.graphics.drawLine(ue.x,ue.y,0,0,Array.isArray(d.polygons.connectorColors)?d.polygons.connectorColors[Ce]:d.polygons.connectorColors);rt.push(de)}Ce===0&&d.yaxisLabelsTextsPos.push({x:ue.x,y:ue.y}),Qt+=ue.x+","+ue.y+" "}),J.push(Qt)}),J.forEach(function(vt,Lt){var Et=d.polygons.strokeColors,Qt=d.polygons.strokeWidth,ue=d.graphics.drawPolygon(vt,Array.isArray(Et)?Et[Lt]:Et,Array.isArray(Qt)?Qt[Lt]:Qt,y.globals.radarPolygons.fill.colors[Lt]);C.add(ue)}),rt.forEach(function(vt){C.add(vt)}),y.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(vt,Lt){var Et=M.drawYAxisTexts(vt.x,vt.y,Lt,N[Lt]);d.yaxisLabels.add(Et)})}},{key:"drawXAxisTexts",value:function(){var h=this,d=this.w,y=d.config.xaxis.labels,C=this.graphics.group({class:"apexcharts-xaxis"}),M=ct.getPolygonPos(this.size,this.dataPointsLen);return d.globals.labels.forEach(function(N,P){var V=d.config.xaxis.labels.formatter,G=new $e(h.ctx);if(M[P]){var K=h.getTextPos(M[P],h.size),J=V(N,{seriesIndex:-1,dataPointIndex:P,w:d});G.plotDataLabelsText({x:K.newX,y:K.newY,text:J,textAnchor:K.textAnchor,i:P,j:P,parent:C,color:Array.isArray(y.style.colors)&&y.style.colors[P]?y.style.colors[P]:"#a8a8a8",dataLabelsConfig:Wt({textAnchor:K.textAnchor,dropShadow:{enabled:!1}},y),offsetCorrection:!1})}}),C}},{key:"createPaths",value:function(h,d){var y=this,C=[],M=[],N=[],P=[];if(h.length){M=[this.graphics.move(d.x,d.y)],P=[this.graphics.move(d.x,d.y)];var V=this.graphics.move(h[0].x,h[0].y),G=this.graphics.move(h[0].x,h[0].y);h.forEach(function(K,J){V+=y.graphics.line(K.x,K.y),G+=y.graphics.line(K.x,K.y),J===h.length-1&&(V+="Z",G+="Z")}),C.push(V),N.push(G)}return{linePathsFrom:M,linePathsTo:C,areaPathsFrom:P,areaPathsTo:N}}},{key:"getTextPos",value:function(h,d){var y="middle",C=h.x,M=h.y;return Math.abs(h.x)>=10?h.x>0?(y="start",C+=10):h.x<0&&(y="end",C-=10):y="middle",Math.abs(h.y)>=d-10&&(h.y<0?M-=10:h.y>0&&(M+=10)),{textAnchor:y,newX:C,newY:M}}},{key:"getPreviousPath",value:function(h){for(var d=this.w,y=null,C=0;C<d.globals.previousPaths.length;C++){var M=d.globals.previousPaths[C];M.paths.length>0&&parseInt(M.realIndex,10)===parseInt(h,10)&&d.globals.previousPaths[C].paths[0]!==void 0&&(y=d.globals.previousPaths[C].paths[0].d)}return y}},{key:"getDataPointsPos",value:function(h,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;h=h||[],d=d||[];for(var C=[],M=0;M<y;M++){var N={};N.x=h[M]*Math.sin(d[M]),N.y=-h[M]*Math.cos(d[M]),C.push(N)}return C}}]),$t}(),Bi=function($t){Zt(d,$t);var h=gt(d);function d(y){var C;qt(this,d),(C=h.call(this,y)).ctx=y,C.w=y.w,C.animBeginArr=[0],C.animDur=0;var M=C.w;return C.startAngle=M.config.plotOptions.radialBar.startAngle,C.endAngle=M.config.plotOptions.radialBar.endAngle,C.totalAngle=Math.abs(M.config.plotOptions.radialBar.endAngle-M.config.plotOptions.radialBar.startAngle),C.trackStartAngle=M.config.plotOptions.radialBar.track.startAngle,C.trackEndAngle=M.config.plotOptions.radialBar.track.endAngle,C.donutDataLabels=C.w.config.plotOptions.radialBar.dataLabels,C.radialDataLabels=C.donutDataLabels,C.trackStartAngle||(C.trackStartAngle=C.startAngle),C.trackEndAngle||(C.trackEndAngle=C.endAngle),C.endAngle===360&&(C.endAngle=359.99),C.margin=parseInt(M.config.plotOptions.radialBar.track.margin,10),C}return Jt(d,[{key:"draw",value:function(y){var C=this.w,M=new Ft(this.ctx),N=M.group({class:"apexcharts-radialbar"});if(C.globals.noData)return N;var P=M.group(),V=this.defaultSize/2,G=C.globals.gridWidth/2,K=this.defaultSize/2.05;C.config.chart.sparkline.enabled||(K=K-C.config.stroke.width-C.config.chart.dropShadow.blur);var J=C.globals.fill.colors;if(C.config.plotOptions.radialBar.track.show){var rt=this.drawTracks({size:K,centerX:G,centerY:V,colorArr:J,series:y});P.add(rt)}var vt=this.drawArcs({size:K,centerX:G,centerY:V,colorArr:J,series:y}),Lt=360;C.config.plotOptions.radialBar.startAngle<0&&(Lt=this.totalAngle);var Et=(360-Lt)/360;if(C.globals.radialSize=K-K*Et,this.radialDataLabels.value.show){var Qt=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);C.globals.radialSize+=Qt*Et}return P.add(vt.g),C.config.plotOptions.radialBar.hollow.position==="front"&&(vt.g.add(vt.elHollow),vt.dataLabels&&vt.g.add(vt.dataLabels)),N.add(P),N}},{key:"drawTracks",value:function(y){var C=this.w,M=new Ft(this.ctx),N=M.group({class:"apexcharts-tracks"}),P=new At(this.ctx),V=new U(this.ctx),G=this.getStrokeWidth(y);y.size=y.size-G/2;for(var K=0;K<y.series.length;K++){var J=M.group({class:"apexcharts-radialbar-track apexcharts-track"});N.add(J),J.attr({rel:K+1}),y.size=y.size-G-this.margin;var rt=C.config.plotOptions.radialBar.track,vt=V.fillPath({seriesNumber:0,size:y.size,fillColors:Array.isArray(rt.background)?rt.background[K]:rt.background,solid:!0}),Lt=this.trackStartAngle,Et=this.trackEndAngle;Math.abs(Et)+Math.abs(Lt)>=360&&(Et=360-Math.abs(this.startAngle)-.1);var Qt=M.drawPath({d:"",stroke:vt,strokeWidth:G*parseInt(rt.strokeWidth,10)/100,fill:"none",strokeOpacity:rt.opacity,classes:"apexcharts-radialbar-area"});if(rt.dropShadow.enabled){var ue=rt.dropShadow;P.dropShadow(Qt,ue)}J.add(Qt),Qt.attr("id","apexcharts-radialbarTrack-"+K),this.animatePaths(Qt,{centerX:y.centerX,centerY:y.centerY,endAngle:Et,startAngle:Lt,size:y.size,i:K,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:C.globals.easing})}return N}},{key:"drawArcs",value:function(y){var C=this.w,M=new Ft(this.ctx),N=new U(this.ctx),P=new At(this.ctx),V=M.group(),G=this.getStrokeWidth(y);y.size=y.size-G/2;var K=C.config.plotOptions.radialBar.hollow.background,J=y.size-G*y.series.length-this.margin*y.series.length-G*parseInt(C.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,rt=J-C.config.plotOptions.radialBar.hollow.margin;C.config.plotOptions.radialBar.hollow.image!==void 0&&(K=this.drawHollowImage(y,V,J,K));var vt=this.drawHollow({size:rt,centerX:y.centerX,centerY:y.centerY,fill:K||"transparent"});if(C.config.plotOptions.radialBar.hollow.dropShadow.enabled){var Lt=C.config.plotOptions.radialBar.hollow.dropShadow;P.dropShadow(vt,Lt)}var Et=1;!this.radialDataLabels.total.show&&C.globals.series.length>1&&(Et=0);var Qt=null;this.radialDataLabels.show&&(Qt=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:J,centerX:y.centerX,centerY:y.centerY,opacity:Et})),C.config.plotOptions.radialBar.hollow.position==="back"&&(V.add(vt),Qt&&V.add(Qt));var ue=!1;C.config.plotOptions.radialBar.inverseOrder&&(ue=!0);for(var Ce=ue?y.series.length-1:0;ue?Ce>=0:Ce<y.series.length;ue?Ce--:Ce++){var de=M.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ct.escapeString(C.globals.seriesNames[Ce])});V.add(de),de.attr({rel:Ce+1,"data:realIndex":Ce}),this.ctx.series.addCollapsedClassToSeries(de,Ce),y.size=y.size-G-this.margin;var Y=N.fillPath({seriesNumber:Ce,size:y.size,value:y.series[Ce]}),ot=this.startAngle,zt=void 0,jt=ct.negToZero(y.series[Ce]>100?100:y.series[Ce])/100,xe=Math.round(this.totalAngle*jt)+this.startAngle,an=void 0;C.globals.dataChanged&&(zt=this.startAngle,an=Math.round(this.totalAngle*ct.negToZero(C.globals.previousPaths[Ce])/100)+zt),Math.abs(xe)+Math.abs(ot)>=360&&(xe-=.01),Math.abs(an)+Math.abs(zt)>=360&&(an-=.01);var Qe=xe-ot,On=Array.isArray(C.config.stroke.dashArray)?C.config.stroke.dashArray[Ce]:C.config.stroke.dashArray,Pn=M.drawPath({d:"",stroke:Y,strokeWidth:G,fill:"none",fillOpacity:C.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Ce,strokeDashArray:On});if(Ft.setAttrs(Pn.node,{"data:angle":Qe,"data:value":y.series[Ce]}),C.config.chart.dropShadow.enabled){var ii=C.config.chart.dropShadow;P.dropShadow(Pn,ii,Ce)}P.setSelectionFilter(Pn,0,Ce),this.addListeners(Pn,this.radialDataLabels),de.add(Pn),Pn.attr({index:0,j:Ce});var ri=0;!this.initialAnim||C.globals.resized||C.globals.dataChanged||(ri=C.config.chart.animations.speed),C.globals.dataChanged&&(ri=C.config.chart.animations.dynamicAnimation.speed),this.animDur=ri/(1.2*y.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Pn,{centerX:y.centerX,centerY:y.centerY,endAngle:xe,startAngle:ot,prevEndAngle:an,prevStartAngle:zt,size:y.size,i:Ce,totalItems:2,animBeginArr:this.animBeginArr,dur:ri,shouldSetPrevPaths:!0,easing:C.globals.easing})}return{g:V,elHollow:vt,dataLabels:Qt}}},{key:"drawHollow",value:function(y){var C=new Ft(this.ctx).drawCircle(2*y.size);return C.attr({class:"apexcharts-radialbar-hollow",cx:y.centerX,cy:y.centerY,r:y.size,fill:y.fill}),C}},{key:"drawHollowImage",value:function(y,C,M,N){var P=this.w,V=new U(this.ctx),G=ct.randomId(),K=P.config.plotOptions.radialBar.hollow.image;if(P.config.plotOptions.radialBar.hollow.imageClipped)V.clippedImgArea({width:M,height:M,image:K,patternID:"pattern".concat(P.globals.cuid).concat(G)}),N="url(#pattern".concat(P.globals.cuid).concat(G,")");else{var J=P.config.plotOptions.radialBar.hollow.imageWidth,rt=P.config.plotOptions.radialBar.hollow.imageHeight;if(J===void 0&&rt===void 0){var vt=P.globals.dom.Paper.image(K).loaded(function(Et){this.move(y.centerX-Et.width/2+P.config.plotOptions.radialBar.hollow.imageOffsetX,y.centerY-Et.height/2+P.config.plotOptions.radialBar.hollow.imageOffsetY)});C.add(vt)}else{var Lt=P.globals.dom.Paper.image(K).loaded(function(Et){this.move(y.centerX-J/2+P.config.plotOptions.radialBar.hollow.imageOffsetX,y.centerY-rt/2+P.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(J,rt)});C.add(Lt)}}return N}},{key:"getStrokeWidth",value:function(y){var C=this.w;return y.size*(100-parseInt(C.config.plotOptions.radialBar.hollow.size,10))/100/(y.series.length+1)-this.margin}}]),d}(Ji),yr=function($t){Zt(d,$t);var h=gt(d);function d(){return qt(this,d),h.apply(this,arguments)}return Jt(d,[{key:"draw",value:function(y,C){var M=this.w,N=new Ft(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=y,this.seriesRangeStart=M.globals.seriesRangeStart,this.seriesRangeEnd=M.globals.seriesRangeEnd,this.barHelpers.initVariables(y);for(var P=N.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),V=0;V<y.length;V++){var G,K,J,rt=void 0,vt=void 0,Lt=void 0,Et=M.globals.comboCharts?C[V]:V,Qt=N.group({class:"apexcharts-series",seriesName:ct.escapeString(M.globals.seriesNames[Et]),rel:V+1,"data:realIndex":Et});this.ctx.series.addCollapsedClassToSeries(Qt,Et),y[V].length>0&&(this.visibleI=this.visibleI+1);var ue=0,Ce=0;this.yRatio.length>1&&(this.yaxisIndex=Et);var de=this.barHelpers.initialPositions();vt=de.y,J=de.zeroW,rt=de.x,Ce=de.barWidth,G=de.xDivision,K=de.zeroH;for(var Y=N.group({class:"apexcharts-datalabels","data:realIndex":Et}),ot=N.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),zt=0;zt<M.globals.dataPoints;zt++){var jt=this.barHelpers.getStrokeWidth(V,zt,Et),xe=this.seriesRangeStart[V][zt],an=this.seriesRangeEnd[V][zt],Qe=null,On=null,Pn={x:rt,y:vt,strokeWidth:jt,elSeries:Qt};if(Lt=de.yDivision,ue=de.barHeight,this.isHorizontal){On=vt+ue*this.visibleI;var ii=this.seriesLen;M.config.plotOptions.bar.rangeBarGroupRows&&(ii=1);var ri=(Lt-ue*ii)/2;if(M.config.series[V].data[zt]===void 0)break;if(M.config.series[V].data[zt].x){var Wi=this.detectOverlappingBars({i:V,j:zt,barYPosition:On,srty:ri,barHeight:ue,yDivision:Lt,initPositions:de});ue=Wi.barHeight,On=Wi.barYPosition}Ce=(Qe=this.drawRangeBarPaths(Wt({indexes:{i:V,j:zt,realIndex:Et},barHeight:ue,barYPosition:On,zeroW:J,yDivision:Lt,y1:xe,y2:an},Pn))).barWidth}else ue=(Qe=this.drawRangeColumnPaths(Wt({indexes:{i:V,j:zt,realIndex:Et},zeroH:K,barWidth:Ce,xDivision:G},Pn))).barHeight;var lr=this.barHelpers.drawGoalLine({barXPosition:Qe.barXPosition,barYPosition:On,goalX:Qe.goalX,goalY:Qe.goalY,barHeight:ue,barWidth:Ce});lr&&ot.add(lr),vt=Qe.y,rt=Qe.x;var xr=this.barHelpers.getPathFillColor(y,V,zt,Et),Ar=M.globals.stroke.colors[Et];this.renderSeries({realIndex:Et,pathFill:xr,lineFill:Ar,j:zt,i:V,x:rt,y:vt,y1:xe,y2:an,pathFrom:Qe.pathFrom,pathTo:Qe.pathTo,strokeWidth:jt,elSeries:Qt,series:y,barHeight:ue,barYPosition:On,barWidth:Ce,elDataLabelsWrap:Y,elGoalsMarkers:ot,visibleSeries:this.visibleI,type:"rangebar"})}P.add(Qt)}return P}},{key:"detectOverlappingBars",value:function(y){var C=y.i,M=y.j,N=y.barYPosition,P=y.srty,V=y.barHeight,G=y.yDivision,K=y.initPositions,J=this.w,rt=[],vt=J.config.series[C].data[M].rangeName,Lt=J.config.series[C].data[M].x,Et=J.globals.labels.indexOf(Lt),Qt=J.globals.seriesRange[C].findIndex(function(ue){return ue.x===Lt&&ue.overlaps.length>0});return N=J.config.plotOptions.bar.rangeBarGroupRows?P+G*Et:P+V*this.visibleI+G*Et,Qt>-1&&!J.config.plotOptions.bar.rangeBarOverlap&&(rt=J.globals.seriesRange[C][Qt].overlaps).indexOf(vt)>-1&&(N=(V=K.barHeight/rt.length)*this.visibleI+G*(100-parseInt(this.barOptions.barHeight,10))/100/2+V*(this.visibleI+rt.indexOf(vt))+G*Et),{barYPosition:N,barHeight:V}}},{key:"drawRangeColumnPaths",value:function(y){var C=y.indexes,M=y.x;y.strokeWidth;var N=y.xDivision,P=y.barWidth,V=y.zeroH,G=this.w,K=C.i,J=C.j,rt=this.yRatio[this.yaxisIndex],vt=C.realIndex,Lt=this.getRangeValue(vt,J),Et=Math.min(Lt.start,Lt.end),Qt=Math.max(Lt.start,Lt.end);G.globals.isXNumeric&&(M=(G.globals.seriesX[K][J]-G.globals.minX)/this.xRatio-P/2);var ue=M+P*this.visibleI;this.series[K][J]===void 0||this.series[K][J]===null?Et=V:(Et=V-Et/rt,Qt=V-Qt/rt);var Ce=Math.abs(Qt-Et),de=this.barHelpers.getColumnPaths({barXPosition:ue,barWidth:P,y1:Et,y2:Qt,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:C.realIndex,i:vt,j:J,w:G});return G.globals.isXNumeric||(M+=N),{pathTo:de.pathTo,pathFrom:de.pathFrom,barHeight:Ce,x:M,y:Qt,goalY:this.barHelpers.getGoalValues("y",null,V,K,J),barXPosition:ue}}},{key:"drawRangeBarPaths",value:function(y){var C=y.indexes,M=y.y,N=y.y1,P=y.y2,V=y.yDivision,G=y.barHeight,K=y.barYPosition,J=y.zeroW,rt=this.w,vt=J+N/this.invertedYRatio,Lt=J+P/this.invertedYRatio,Et=Math.abs(Lt-vt),Qt=this.barHelpers.getBarpaths({barYPosition:K,barHeight:G,x1:vt,x2:Lt,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:C.realIndex,realIndex:C.realIndex,j:C.j,w:rt});return rt.globals.isXNumeric||(M+=V),{pathTo:Qt.pathTo,pathFrom:Qt.pathFrom,barWidth:Et,x:Lt,goalX:this.barHelpers.getGoalValues("x",J,null,C.realIndex,C.j),y:M}}},{key:"getRangeValue",value:function(y,C){var M=this.w;return{start:M.globals.seriesRangeStart[y][C],end:M.globals.seriesRangeEnd[y][C]}}}]),d}(vn),mr=function(){function $t(h){qt(this,$t),this.w=h.w,this.lineCtx=h}return Jt($t,[{key:"sameValueSeriesFix",value:function(h,d){var y=this.w;if((y.config.fill.type==="gradient"||y.config.fill.type[h]==="gradient")&&new Kt(this.lineCtx.ctx,y).seriesHaveSameValues(h)){var C=d[h].slice();C[C.length-1]=C[C.length-1]+1e-6,d[h]=C}return d}},{key:"calculatePoints",value:function(h){var d=h.series,y=h.realIndex,C=h.x,M=h.y,N=h.i,P=h.j,V=h.prevY,G=this.w,K=[],J=[];if(P===0){var rt=this.lineCtx.categoryAxisCorrection+G.config.markers.offsetX;G.globals.isXNumeric&&(rt=(G.globals.seriesX[y][0]-G.globals.minX)/this.lineCtx.xRatio+G.config.markers.offsetX),K.push(rt),J.push(ct.isNumber(d[N][0])?V+G.config.markers.offsetY:null),K.push(C+G.config.markers.offsetX),J.push(ct.isNumber(d[N][P+1])?M+G.config.markers.offsetY:null)}else K.push(C+G.config.markers.offsetX),J.push(ct.isNumber(d[N][P+1])?M+G.config.markers.offsetY:null);return{x:K,y:J}}},{key:"checkPreviousPaths",value:function(h){for(var d=h.pathFromLine,y=h.pathFromArea,C=h.realIndex,M=this.w,N=0;N<M.globals.previousPaths.length;N++){var P=M.globals.previousPaths[N];(P.type==="line"||P.type==="area")&&P.paths.length>0&&parseInt(P.realIndex,10)===parseInt(C,10)&&(P.type==="line"?(this.lineCtx.appendPathFrom=!1,d=M.globals.previousPaths[N].paths[0].d):P.type==="area"&&(this.lineCtx.appendPathFrom=!1,y=M.globals.previousPaths[N].paths[0].d,M.config.stroke.show&&M.globals.previousPaths[N].paths[1]&&(d=M.globals.previousPaths[N].paths[1].d)))}return{pathFromLine:d,pathFromArea:y}}},{key:"determineFirstPrevY",value:function(h){var d,y=h.i,C=h.series,M=h.prevY,N=h.lineYPosition,P=this.w;if(((d=C[y])===null||d===void 0?void 0:d[0])!==void 0)M=(N=P.config.chart.stacked&&y>0?this.lineCtx.prevSeriesY[y-1][0]:this.lineCtx.zeroY)-C[y][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?C[y][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(P.config.chart.stacked&&y>0&&C[y][0]===void 0){for(var V=y-1;V>=0;V--)if(C[V][0]!==null&&C[V][0]!==void 0){M=N=this.lineCtx.prevSeriesY[V][0];break}}return{prevY:M,lineYPosition:N}}}]),$t}(),Oi=function(){function $t(h,d,y){qt(this,$t),this.ctx=h,this.w=h.w,this.xyRatios=d,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||y,this.scatter=new cn(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new mr(this),this.markers=new ye(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Jt($t,[{key:"draw",value:function(h,d,y,C){var M=this.w,N=new Ft(this.ctx),P=M.globals.comboCharts?d:M.config.chart.type,V=N.group({class:"apexcharts-".concat(P,"-series apexcharts-plot-series")}),G=new Kt(this.ctx,M);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,h=G.getLogSeries(h),this.yRatio=G.getLogYRatios(this.yRatio);for(var K=[],J=0;J<h.length;J++){h=this.lineHelpers.sameValueSeriesFix(J,h);var rt=M.globals.comboCharts?y[J]:J;this._initSerieVariables(h,J,rt);var vt=[],Lt=[],Et=M.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,rt),M.globals.isXNumeric&&M.globals.seriesX.length>0&&(Et=(M.globals.seriesX[rt][0]-M.globals.minX)/this.xRatio),Lt.push(Et);var Qt,ue=Et,Ce=void 0,de=ue,Y=this.zeroY,ot=this.zeroY;Y=this.lineHelpers.determineFirstPrevY({i:J,series:h,prevY:Y,lineYPosition:0}).prevY,vt.push(Y),Qt=Y,P==="rangeArea"&&(Ce=ot=this.lineHelpers.determineFirstPrevY({i:J,series:C,prevY:ot,lineYPosition:0}).prevY);var zt={type:P,series:h,realIndex:rt,i:J,x:Et,y:1,pX:ue,pY:Qt,pathsFrom:this._calculatePathsFrom({type:P,series:h,i:J,realIndex:rt,prevX:de,prevY:Y,prevY2:ot}),linePaths:[],areaPaths:[],seriesIndex:y,lineYPosition:0,xArrj:Lt,yArrj:vt,seriesRangeEnd:C},jt=this._iterateOverDataPoints(Wt(Wt({},zt),{},{iterations:P==="rangeArea"?h[J].length-1:void 0,isRangeStart:!0}));if(P==="rangeArea"){var xe=this._calculatePathsFrom({series:C,i:J,realIndex:rt,prevX:de,prevY:ot}),an=this._iterateOverDataPoints(Wt(Wt({},zt),{},{series:C,pY:Ce,pathsFrom:xe,iterations:C[J].length-1,isRangeStart:!1}));jt.linePaths[0]=an.linePath+jt.linePath,jt.pathFromLine=an.pathFromLine+jt.pathFromLine}this._handlePaths({type:P,realIndex:rt,i:J,paths:jt}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),K.push(this.elSeries)}if(M.config.chart.stacked)for(var Qe=K.length;Qe>0;Qe--)V.add(K[Qe-1]);else for(var On=0;On<K.length;On++)V.add(K[On]);return V}},{key:"_initSerieVariables",value:function(h,d,y){var C=this.w,M=new Ft(this.ctx);this.xDivision=C.globals.gridWidth/(C.globals.dataPoints-(C.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(C.config.stroke.width)?C.config.stroke.width[y]:C.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=y),this.isReversed=C.config.yaxis[this.yaxisIndex]&&C.config.yaxis[this.yaxisIndex].reversed,this.zeroY=C.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?C.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>C.globals.gridHeight||C.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=C.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=M.group({class:"apexcharts-series",seriesName:ct.escapeString(C.globals.seriesNames[y])}),this.elPointsMain=M.group({class:"apexcharts-series-markers-wrap","data:realIndex":y}),this.elDataLabelsWrap=M.group({class:"apexcharts-datalabels","data:realIndex":y});var N=h[d].length===C.globals.dataPoints;this.elSeries.attr({"data:longestSeries":N,rel:d+1,"data:realIndex":y}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(h){var d,y,C,M,N=h.type,P=h.series,V=h.i,G=h.realIndex,K=h.prevX,J=h.prevY,rt=h.prevY2,vt=this.w,Lt=new Ft(this.ctx);if(P[V][0]===null){for(var Et=0;Et<P[V].length;Et++)if(P[V][Et]!==null){K=this.xDivision*Et,J=this.zeroY-P[V][Et]/this.yRatio[this.yaxisIndex],d=Lt.move(K,J),y=Lt.move(K,this.areaBottomY);break}}else d=Lt.move(K,J),N==="rangeArea"&&(d=Lt.move(K,rt)+Lt.line(K,J)),y=Lt.move(K,this.areaBottomY)+Lt.line(K,J);if(C=Lt.move(-1,this.zeroY)+Lt.line(-1,this.zeroY),M=Lt.move(-1,this.zeroY)+Lt.line(-1,this.zeroY),vt.globals.previousPaths.length>0){var Qt=this.lineHelpers.checkPreviousPaths({pathFromLine:C,pathFromArea:M,realIndex:G});C=Qt.pathFromLine,M=Qt.pathFromArea}return{prevX:K,prevY:J,linePath:d,areaPath:y,pathFromLine:C,pathFromArea:M}}},{key:"_handlePaths",value:function(h){var d=h.type,y=h.realIndex,C=h.i,M=h.paths,N=this.w,P=new Ft(this.ctx),V=new U(this.ctx);this.prevSeriesY.push(M.yArrj),N.globals.seriesXvalues[y]=M.xArrj,N.globals.seriesYvalues[y]=M.yArrj;var G=N.config.forecastDataPoints;if(G.count>0&&d!=="rangeArea"){var K=N.globals.seriesXvalues[y][N.globals.seriesXvalues[y].length-G.count-1],J=P.drawRect(K,0,N.globals.gridWidth,N.globals.gridHeight,0);N.globals.dom.elForecastMask.appendChild(J.node);var rt=P.drawRect(0,0,K,N.globals.gridHeight,0);N.globals.dom.elNonForecastMask.appendChild(rt.node)}this.pointsChart||N.globals.delayedElements.push({el:this.elPointsMain.node,index:y});var vt={i:C,realIndex:y,animationDelay:C,initialSpeed:N.config.chart.animations.speed,dataChangeSpeed:N.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(d)};if(d==="area")for(var Lt=V.fillPath({seriesNumber:y}),Et=0;Et<M.areaPaths.length;Et++){var Qt=P.renderPaths(Wt(Wt({},vt),{},{pathFrom:M.pathFromArea,pathTo:M.areaPaths[Et],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:Lt}));this.elSeries.add(Qt)}if(N.config.stroke.show&&!this.pointsChart){var ue=null;if(d==="line")ue=V.fillPath({seriesNumber:y,i:C});else if(N.config.stroke.fill.type==="solid")ue=N.globals.stroke.colors[y];else{var Ce=N.config.fill;N.config.fill=N.config.stroke.fill,ue=V.fillPath({seriesNumber:y,i:C}),N.config.fill=Ce}for(var de=0;de<M.linePaths.length;de++){var Y=ue;d==="rangeArea"&&(Y=V.fillPath({seriesNumber:y}));var ot=Wt(Wt({},vt),{},{pathFrom:M.pathFromLine,pathTo:M.linePaths[de],stroke:ue,strokeWidth:this.strokeWidth,strokeLineCap:N.config.stroke.lineCap,fill:d==="rangeArea"?Y:"none"}),zt=P.renderPaths(ot);if(this.elSeries.add(zt),zt.attr("fill-rule","evenodd"),G.count>0&&d!=="rangeArea"){var jt=P.renderPaths(ot);jt.node.setAttribute("stroke-dasharray",G.dashArray),G.strokeWidth&&jt.node.setAttribute("stroke-width",G.strokeWidth),this.elSeries.add(jt),jt.attr("clip-path","url(#forecastMask".concat(N.globals.cuid,")")),zt.attr("clip-path","url(#nonForecastMask".concat(N.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(h){var d=h.type,y=h.series,C=h.iterations,M=h.realIndex,N=h.i,P=h.x,V=h.y,G=h.pX,K=h.pY,J=h.pathsFrom,rt=h.linePaths,vt=h.areaPaths,Lt=h.seriesIndex,Et=h.lineYPosition,Qt=h.xArrj,ue=h.yArrj,Ce=h.isRangeStart,de=h.seriesRangeEnd,Y=this.w,ot=new Ft(this.ctx),zt=this.yRatio,jt=J.prevY,xe=J.linePath,an=J.areaPath,Qe=J.pathFromLine,On=J.pathFromArea,Pn=ct.isNumber(Y.globals.minYArr[M])?Y.globals.minYArr[M]:Y.globals.minY;C||(C=Y.globals.dataPoints>1?Y.globals.dataPoints-1:Y.globals.dataPoints);for(var ii=V,ri=0;ri<C;ri++){var Wi=y[N][ri+1]===void 0||y[N][ri+1]===null;if(Y.globals.isXNumeric){var lr=Y.globals.seriesX[M][ri+1];Y.globals.seriesX[M][ri+1]===void 0&&(lr=Y.globals.seriesX[M][C-1]),P=(lr-Y.globals.minX)/this.xRatio}else P+=this.xDivision;Y.config.chart.stacked?N>0&&Y.globals.collapsedSeries.length<Y.config.series.length-1?Et=this.prevSeriesY[function(Er){for(var Qr=Er,ha=0;ha<Y.globals.series.length;ha++)if(Y.globals.collapsedSeriesIndices.indexOf(Er)>-1){Qr--;break}return Qr>=0?Qr:0}(N-1)][ri+1]:Et=this.zeroY:Et=this.zeroY,Wi?V=Et-Pn/zt[this.yaxisIndex]+2*(this.isReversed?Pn/zt[this.yaxisIndex]:0):(V=Et-y[N][ri+1]/zt[this.yaxisIndex]+2*(this.isReversed?y[N][ri+1]/zt[this.yaxisIndex]:0),d==="rangeArea"&&(ii=Et-de[N][ri+1]/zt[this.yaxisIndex]+2*(this.isReversed?de[N][ri+1]/zt[this.yaxisIndex]:0))),Qt.push(P),ue.push(V);var xr=this.lineHelpers.calculatePoints({series:y,x:P,y:V,realIndex:M,i:N,j:ri,prevY:jt}),Ar=this._createPaths({type:d,series:y,i:N,realIndex:M,j:ri,x:P,y:V,y2:ii,pX:G,pY:K,linePath:xe,areaPath:an,linePaths:rt,areaPaths:vt,seriesIndex:Lt,isRangeStart:Ce});vt=Ar.areaPaths,rt=Ar.linePaths,G=Ar.pX,K=Ar.pY,an=Ar.areaPath,xe=Ar.linePath,this.appendPathFrom&&(Qe+=ot.line(P,this.zeroY),On+=ot.line(P,this.zeroY)),this.handleNullDataPoints(y,xr,N,ri,M),this._handleMarkersAndLabels({type:d,pointsPos:xr,i:N,j:ri,realIndex:M,isRangeStart:Ce})}return{yArrj:ue,xArrj:Qt,pathFromArea:On,areaPaths:vt,pathFromLine:Qe,linePaths:rt,linePath:xe,areaPath:an}}},{key:"_handleMarkersAndLabels",value:function(h){var d=h.type,y=h.pointsPos,C=h.isRangeStart,M=h.i,N=h.j,P=h.realIndex,V=this.w,G=new $e(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,N,{realIndex:P,pointsPos:y,zRatio:this.zRatio,elParent:this.elPointsMain});else{V.globals.series[M].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var K=this.markers.plotChartMarkers(y,P,N+1);K!==null&&this.elPointsMain.add(K)}var J=G.drawDataLabel({type:d,isRangeStart:C,pos:y,i:P,j:N+1});J!==null&&this.elDataLabelsWrap.add(J)}},{key:"_createPaths",value:function(h){var d=h.type,y=h.series,C=h.i,M=h.realIndex,N=h.j,P=h.x,V=h.y,G=h.y2,K=h.pX,J=h.pY,rt=h.linePath,vt=h.areaPath,Lt=h.linePaths,Et=h.areaPaths,Qt=h.seriesIndex,ue=h.isRangeStart,Ce=this.w,de=new Ft(this.ctx),Y=Ce.config.stroke.curve,ot=this.areaBottomY;if(Array.isArray(Ce.config.stroke.curve)&&(Y=Array.isArray(Qt)?Ce.config.stroke.curve[Qt[C]]:Ce.config.stroke.curve[C]),Y==="smooth"){var zt=.35*(P-K);Ce.globals.hasNullValues?(y[C][N]!==null&&(y[C][N+1]!==null?(rt=de.move(K,J)+de.curve(K+zt,J,P-zt,V,P+1,V),vt=de.move(K+1,J)+de.curve(K+zt,J,P-zt,V,P+1,V)+de.line(P,ot)+de.line(K,ot)+"z"):(rt=de.move(K,J),vt=de.move(K,J)+"z")),Lt.push(rt),Et.push(vt)):(rt+=de.curve(K+zt,J,P-zt,V,P,V),vt+=de.curve(K+zt,J,P-zt,V,P,V)),K=P,J=V,N===y[C].length-2&&(vt=vt+de.curve(K,J,P,V,P,ot)+de.move(P,V)+"z",d==="rangeArea"&&ue?rt=rt+de.curve(K,J,P,V,P,G)+de.move(P,G)+"z":Ce.globals.hasNullValues||(Lt.push(rt),Et.push(vt)))}else{if(y[C][N+1]===null){rt+=de.move(P,V);var jt=Ce.globals.isXNumeric?(Ce.globals.seriesX[M][N]-Ce.globals.minX)/this.xRatio:P-this.xDivision;vt=vt+de.line(jt,ot)+de.move(P,V)+"z"}y[C][N]===null&&(rt+=de.move(P,V),vt+=de.move(P,ot)),Y==="stepline"?(rt=rt+de.line(P,null,"H")+de.line(null,V,"V"),vt=vt+de.line(P,null,"H")+de.line(null,V,"V")):Y==="straight"&&(rt+=de.line(P,V),vt+=de.line(P,V)),N===y[C].length-2&&(vt=vt+de.line(P,ot)+de.move(P,V)+"z",d==="rangeArea"&&ue?rt=rt+de.line(P,G)+de.move(P,G)+"z":(Lt.push(rt),Et.push(vt)))}return{linePaths:Lt,areaPaths:Et,pX:K,pY:J,linePath:rt,areaPath:vt}}},{key:"handleNullDataPoints",value:function(h,d,y,C,M){var N=this.w;if(h[y][C]===null&&N.config.markers.showNullDataPoints||h[y].length===1){var P=this.markers.plotChartMarkers(d,M,C+1,this.strokeWidth-N.config.markers.strokeWidth/2,!0);P!==null&&this.elPointsMain.add(P)}}}]),$t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function $t(P,V,G,K){this.xoffset=P,this.yoffset=V,this.height=K,this.width=G,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(J){var rt,vt=[],Lt=this.xoffset,Et=this.yoffset,Qt=M(J)/this.height,ue=M(J)/this.width;if(this.width>=this.height)for(rt=0;rt<J.length;rt++)vt.push([Lt,Et,Lt+Qt,Et+J[rt]/Qt]),Et+=J[rt]/Qt;else for(rt=0;rt<J.length;rt++)vt.push([Lt,Et,Lt+J[rt]/ue,Et+ue]),Lt+=J[rt]/ue;return vt},this.cutArea=function(J){var rt;if(this.width>=this.height){var vt=J/this.height,Lt=this.width-vt;rt=new $t(this.xoffset+vt,this.yoffset,Lt,this.height)}else{var Et=J/this.width,Qt=this.height-Et;rt=new $t(this.xoffset,this.yoffset+Et,this.width,Qt)}return rt}}function h(P,V,G,K,J){K=K===void 0?0:K,J=J===void 0?0:J;var rt=d(function(vt,Lt){var Et,Qt=[],ue=Lt/M(vt);for(Et=0;Et<vt.length;Et++)Qt[Et]=vt[Et]*ue;return Qt}(P,V*G),[],new $t(K,J,V,G),[]);return function(vt){var Lt,Et,Qt=[];for(Lt=0;Lt<vt.length;Lt++)for(Et=0;Et<vt[Lt].length;Et++)Qt.push(vt[Lt][Et]);return Qt}(rt)}function d(P,V,G,K){var J,rt,vt;if(P.length!==0)return J=G.shortestEdge(),function(Lt,Et,Qt){var ue;if(Lt.length===0)return!0;(ue=Lt.slice()).push(Et);var Ce=y(Lt,Qt),de=y(ue,Qt);return Ce>=de}(V,rt=P[0],J)?(V.push(rt),d(P.slice(1),V,G,K)):(vt=G.cutArea(M(V),K),K.push(G.getCoordinates(V)),d(P,[],vt,K)),K;K.push(G.getCoordinates(V))}function y(P,V){var G=Math.min.apply(Math,P),K=Math.max.apply(Math,P),J=M(P);return Math.max(Math.pow(V,2)*K/Math.pow(J,2),Math.pow(J,2)/(Math.pow(V,2)*G))}function C(P){return P&&P.constructor===Array}function M(P){var V,G=0;for(V=0;V<P.length;V++)G+=P[V];return G}function N(P){var V,G=0;if(C(P[0]))for(V=0;V<P.length;V++)G+=N(P[V]);else G=M(P);return G}return function P(V,G,K,J,rt){J=J===void 0?0:J,rt=rt===void 0?0:rt;var vt,Lt,Et=[],Qt=[];if(C(V[0])){for(Lt=0;Lt<V.length;Lt++)Et[Lt]=N(V[Lt]);for(vt=h(Et,G,K,J,rt),Lt=0;Lt<V.length;Lt++)Qt.push(P(V[Lt],vt[Lt][2]-vt[Lt][0],vt[Lt][3]-vt[Lt][1],vt[Lt][0],vt[Lt][1]))}else Qt=h(V,G,K,J,rt);return Qt}}();var ei,Jn,rr=function(){function $t(h,d){qt(this,$t),this.ctx=h,this.w=h.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Di(h),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Jt($t,[{key:"draw",value:function(h){var d=this,y=this.w,C=new Ft(this.ctx),M=new U(this.ctx),N=C.group({class:"apexcharts-treemap"});if(y.globals.noData)return N;var P=[];return h.forEach(function(V){var G=V.map(function(K){return Math.abs(K)});P.push(G)}),this.negRange=this.helpers.checkColorRange(),y.config.series.forEach(function(V,G){V.data.forEach(function(K){Array.isArray(d.labels[G])||(d.labels[G]=[]),d.labels[G].push(K.x)})}),window.TreemapSquared.generate(P,y.globals.gridWidth,y.globals.gridHeight).forEach(function(V,G){var K=C.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ct.escapeString(y.globals.seriesNames[G]),rel:G+1,"data:realIndex":G});if(y.config.chart.dropShadow.enabled){var J=y.config.chart.dropShadow;new At(d.ctx).dropShadow(N,J,G)}var rt=C.group({class:"apexcharts-data-labels"});V.forEach(function(vt,Lt){var Et=vt[0],Qt=vt[1],ue=vt[2],Ce=vt[3],de=C.drawRect(Et,Qt,ue-Et,Ce-Qt,0,"#fff",1,d.strokeWidth,y.config.plotOptions.treemap.useFillColorAsStroke?ot:y.globals.stroke.colors[G]);de.attr({cx:Et,cy:Qt,index:G,i:G,j:Lt,width:ue-Et,height:Ce-Qt});var Y=d.helpers.getShadeColor(y.config.chart.type,G,Lt,d.negRange),ot=Y.color;y.config.series[G].data[Lt]!==void 0&&y.config.series[G].data[Lt].fillColor&&(ot=y.config.series[G].data[Lt].fillColor);var zt=M.fillPath({color:ot,seriesNumber:G,dataPointIndex:Lt});de.node.classList.add("apexcharts-treemap-rect"),de.attr({fill:zt}),d.helpers.addListeners(de);var jt={x:Et+(ue-Et)/2,y:Qt+(Ce-Qt)/2,width:0,height:0},xe={x:Et,y:Qt,width:ue-Et,height:Ce-Qt};if(y.config.chart.animations.enabled&&!y.globals.dataChanged){var an=1;y.globals.resized||(an=y.config.chart.animations.speed),d.animateTreemap(de,jt,xe,an)}if(y.globals.dataChanged){var Qe=1;d.dynamicAnim.enabled&&y.globals.shouldAnimate&&(Qe=d.dynamicAnim.speed,y.globals.previousPaths[G]&&y.globals.previousPaths[G][Lt]&&y.globals.previousPaths[G][Lt].rect&&(jt=y.globals.previousPaths[G][Lt].rect),d.animateTreemap(de,jt,xe,Qe))}var On=d.getFontSize(vt),Pn=y.config.dataLabels.formatter(d.labels[G][Lt],{value:y.globals.series[G][Lt],seriesIndex:G,dataPointIndex:Lt,w:y}),ii=d.helpers.calculateDataLabels({text:Pn,x:(Et+ue)/2,y:(Qt+Ce)/2+d.strokeWidth/2+On/3,i:G,j:Lt,colorProps:Y,fontSize:On,series:h});y.config.dataLabels.enabled&&ii&&d.rotateToFitLabel(ii,On,Pn,Et,Qt,ue,Ce),K.add(de),ii!==null&&K.add(ii)}),K.add(rt),N.add(K)}),N}},{key:"getFontSize",value:function(h){var d=this.w,y,C,M,N,P=function V(G){var K,J=0;if(Array.isArray(G[0]))for(K=0;K<G.length;K++)J+=V(G[K]);else for(K=0;K<G.length;K++)J+=G[K].length;return J}(this.labels)/function V(G){var K,J=0;if(Array.isArray(G[0]))for(K=0;K<G.length;K++)J+=V(G[K]);else for(K=0;K<G.length;K++)J+=1;return J}(this.labels);return y=h[2]-h[0],C=h[3]-h[1],M=y*C,N=Math.pow(M,.5),Math.min(N/P,parseInt(d.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(h,d,y,C,M,N,P){var V=new Ft(this.ctx),G=V.getTextRects(y,d);if(G.width+this.w.config.stroke.width+5>N-C&&G.width<=P-M){var K=V.rotateAroundCenter(h.node);h.node.setAttribute("transform","rotate(-90 ".concat(K.x," ").concat(K.y,")"))}}},{key:"animateTreemap",value:function(h,d,y,C){var M=new te(this.ctx);M.animateRect(h,{x:d.x,y:d.y,width:d.width,height:d.height},{x:y.x,y:y.y,width:y.width,height:y.height},C,function(){M.animationCompleted(h)})}}]),$t}(),mi=86400,Hi=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Jt($t,[{key:"calculateTimeScaleTicks",value:function(h,d){var y=this,C=this.w;if(C.globals.allSeriesCollapsed)return C.globals.labels=[],C.globals.timescaleLabels=[],[];var M=new Le(this.ctx),N=(d-h)/864e5;this.determineInterval(N),C.globals.disableZoomIn=!1,C.globals.disableZoomOut=!1,N<.00011574074074074075?C.globals.disableZoomIn=!0:N>5e4&&(C.globals.disableZoomOut=!0);var P=M.getTimeUnitsfromTimestamp(h,d,this.utc),V=C.globals.gridWidth/N,G=V/24,K=G/60,J=K/60,rt=Math.floor(24*N),vt=Math.floor(1440*N),Lt=Math.floor(N*mi),Et=Math.floor(N),Qt=Math.floor(N/30),ue=Math.floor(N/365),Ce={minMillisecond:P.minMillisecond,minSecond:P.minSecond,minMinute:P.minMinute,minHour:P.minHour,minDate:P.minDate,minMonth:P.minMonth,minYear:P.minYear},de={firstVal:Ce,currentMillisecond:Ce.minMillisecond,currentSecond:Ce.minSecond,currentMinute:Ce.minMinute,currentHour:Ce.minHour,currentMonthDate:Ce.minDate,currentDate:Ce.minDate,currentMonth:Ce.minMonth,currentYear:Ce.minYear,daysWidthOnXAxis:V,hoursWidthOnXAxis:G,minutesWidthOnXAxis:K,secondsWidthOnXAxis:J,numberOfSeconds:Lt,numberOfMinutes:vt,numberOfHours:rt,numberOfDays:Et,numberOfMonths:Qt,numberOfYears:ue};switch(this.tickInterval){case"years":this.generateYearScale(de);break;case"months":case"half_year":this.generateMonthScale(de);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(de);break;case"hours":this.generateHourScale(de);break;case"minutes_fives":case"minutes":this.generateMinuteScale(de);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(de)}var Y=this.timeScaleArray.map(function(ot){var zt={position:ot.position,unit:ot.unit,year:ot.year,day:ot.day?ot.day:1,hour:ot.hour?ot.hour:0,month:ot.month+1};return ot.unit==="month"?Wt(Wt({},zt),{},{day:1,value:ot.value+1}):ot.unit==="day"||ot.unit==="hour"?Wt(Wt({},zt),{},{value:ot.value}):ot.unit==="minute"?Wt(Wt({},zt),{},{value:ot.value,minute:ot.value}):ot.unit==="second"?Wt(Wt({},zt),{},{value:ot.value,minute:ot.minute,second:ot.second}):ot});return Y.filter(function(ot){var zt=1,jt=Math.ceil(C.globals.gridWidth/120),xe=ot.value;C.config.xaxis.tickAmount!==void 0&&(jt=C.config.xaxis.tickAmount),Y.length>jt&&(zt=Math.floor(Y.length/jt));var an=!1,Qe=!1;switch(y.tickInterval){case"years":ot.unit==="year"&&(an=!0);break;case"half_year":zt=7,ot.unit==="year"&&(an=!0);break;case"months":zt=1,ot.unit==="year"&&(an=!0);break;case"months_fortnight":zt=15,ot.unit!=="year"&&ot.unit!=="month"||(an=!0),xe===30&&(Qe=!0);break;case"months_days":zt=10,ot.unit==="month"&&(an=!0),xe===30&&(Qe=!0);break;case"week_days":zt=8,ot.unit==="month"&&(an=!0);break;case"days":zt=1,ot.unit==="month"&&(an=!0);break;case"hours":ot.unit==="day"&&(an=!0);break;case"minutes_fives":case"seconds_fives":xe%5!=0&&(Qe=!0);break;case"seconds_tens":xe%10!=0&&(Qe=!0)}if(y.tickInterval==="hours"||y.tickInterval==="minutes_fives"||y.tickInterval==="seconds_tens"||y.tickInterval==="seconds_fives"){if(!Qe)return!0}else if((xe%zt==0||an)&&!Qe)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(h,d){var y=this.w,C=this.formatDates(h),M=this.removeOverlappingTS(C);y.globals.timescaleLabels=M.slice(),new Tt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(h){var d=24*h,y=60*d;switch(!0){case h/365>5:this.tickInterval="years";break;case h>800:this.tickInterval="half_year";break;case h>180:this.tickInterval="months";break;case h>90:this.tickInterval="months_fortnight";break;case h>60:this.tickInterval="months_days";break;case h>30:this.tickInterval="week_days";break;case h>2:this.tickInterval="days";break;case d>2.4:this.tickInterval="hours";break;case y>15:this.tickInterval="minutes_fives";break;case y>5:this.tickInterval="minutes";break;case y>1:this.tickInterval="seconds_tens";break;case 60*y>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(h){var d=h.firstVal,y=h.currentMonth,C=h.currentYear,M=h.daysWidthOnXAxis,N=h.numberOfYears,P=d.minYear,V=0,G=new Le(this.ctx),K="year";if(d.minDate>1||d.minMonth>0){var J=G.determineRemainingDaysOfYear(d.minYear,d.minMonth,d.minDate);V=(G.determineDaysOfYear(d.minYear)-J+1)*M,P=d.minYear+1,this.timeScaleArray.push({position:V,value:P,unit:K,year:P,month:ct.monthMod(y+1)})}else d.minDate===1&&d.minMonth===0&&this.timeScaleArray.push({position:V,value:P,unit:K,year:C,month:ct.monthMod(y+1)});for(var rt=P,vt=V,Lt=0;Lt<N;Lt++)rt++,vt=G.determineDaysOfYear(rt-1)*M+vt,this.timeScaleArray.push({position:vt,value:rt,unit:K,year:rt,month:1})}},{key:"generateMonthScale",value:function(h){var d=h.firstVal,y=h.currentMonthDate,C=h.currentMonth,M=h.currentYear,N=h.daysWidthOnXAxis,P=h.numberOfMonths,V=C,G=0,K=new Le(this.ctx),J="month",rt=0;if(d.minDate>1){G=(K.determineDaysOfMonths(C+1,d.minYear)-y+1)*N,V=ct.monthMod(C+1);var vt=M+rt,Lt=ct.monthMod(V),Et=V;V===0&&(J="year",Et=vt,Lt=1,vt+=rt+=1),this.timeScaleArray.push({position:G,value:Et,unit:J,year:vt,month:Lt})}else this.timeScaleArray.push({position:G,value:V,unit:J,year:M,month:ct.monthMod(C)});for(var Qt=V+1,ue=G,Ce=0,de=1;Ce<P;Ce++,de++){(Qt=ct.monthMod(Qt))===0?(J="year",rt+=1):J="month";var Y=this._getYear(M,Qt,rt);ue=K.determineDaysOfMonths(Qt,Y)*N+ue;var ot=Qt===0?Y:Qt;this.timeScaleArray.push({position:ue,value:ot,unit:J,year:Y,month:Qt===0?1:Qt}),Qt++}}},{key:"generateDayScale",value:function(h){var d=h.firstVal,y=h.currentMonth,C=h.currentYear,M=h.hoursWidthOnXAxis,N=h.numberOfDays,P=new Le(this.ctx),V="day",G=d.minDate+1,K=G,J=function(de,Y,ot){return de>P.determineDaysOfMonths(Y+1,ot)&&(K=1,V="month",vt=Y+=1),Y},rt=(24-d.minHour)*M,vt=G,Lt=J(K,y,C);d.minHour===0&&d.minDate===1?(rt=0,vt=ct.monthMod(d.minMonth),V="month",K=d.minDate,N++):d.minDate!==1&&d.minHour===0&&d.minMinute===0&&(rt=0,G=d.minDate,vt=G,Lt=J(K=G,y,C)),this.timeScaleArray.push({position:rt,value:vt,unit:V,year:this._getYear(C,Lt,0),month:ct.monthMod(Lt),day:K});for(var Et=rt,Qt=0;Qt<N;Qt++){V="day",Lt=J(K+=1,Lt,this._getYear(C,Lt,0));var ue=this._getYear(C,Lt,0);Et=24*M+Et;var Ce=K===1?ct.monthMod(Lt):K;this.timeScaleArray.push({position:Et,value:Ce,unit:V,year:ue,month:ct.monthMod(Lt),day:Ce})}}},{key:"generateHourScale",value:function(h){var d=h.firstVal,y=h.currentDate,C=h.currentMonth,M=h.currentYear,N=h.minutesWidthOnXAxis,P=h.numberOfHours,V=new Le(this.ctx),G="hour",K=function(zt,jt){return zt>V.determineDaysOfMonths(jt+1,M)&&(Qt=1,jt+=1),{month:jt,date:Qt}},J=function(zt,jt){return zt>V.determineDaysOfMonths(jt+1,M)?jt+=1:jt},rt=60-(d.minMinute+d.minSecond/60),vt=rt*N,Lt=d.minHour+1,Et=Lt+1;rt===60&&(vt=0,Et=(Lt=d.minHour)+1);var Qt=y,ue=J(Qt,C);this.timeScaleArray.push({position:vt,value:Lt,unit:G,day:Qt,hour:Et,year:M,month:ct.monthMod(ue)});for(var Ce=vt,de=0;de<P;de++){G="hour",Et>=24&&(Et=0,G="day",ue=K(Qt+=1,ue).month,ue=J(Qt,ue));var Y=this._getYear(M,ue,0);Ce=60*N+Ce;var ot=Et===0?Qt:Et;this.timeScaleArray.push({position:Ce,value:ot,unit:G,hour:Et,day:Qt,year:Y,month:ct.monthMod(ue)}),Et++}}},{key:"generateMinuteScale",value:function(h){for(var d=h.currentMillisecond,y=h.currentSecond,C=h.currentMinute,M=h.currentHour,N=h.currentDate,P=h.currentMonth,V=h.currentYear,G=h.minutesWidthOnXAxis,K=h.secondsWidthOnXAxis,J=h.numberOfMinutes,rt=C+1,vt=N,Lt=P,Et=V,Qt=M,ue=(60-y-d/1e3)*K,Ce=0;Ce<J;Ce++)rt>=60&&(rt=0,(Qt+=1)===24&&(Qt=0)),this.timeScaleArray.push({position:ue,value:rt,unit:"minute",hour:Qt,minute:rt,day:vt,year:this._getYear(Et,Lt,0),month:ct.monthMod(Lt)}),ue+=G,rt++}},{key:"generateSecondScale",value:function(h){for(var d=h.currentMillisecond,y=h.currentSecond,C=h.currentMinute,M=h.currentHour,N=h.currentDate,P=h.currentMonth,V=h.currentYear,G=h.secondsWidthOnXAxis,K=h.numberOfSeconds,J=y+1,rt=C,vt=N,Lt=P,Et=V,Qt=M,ue=(1e3-d)/1e3*G,Ce=0;Ce<K;Ce++)J>=60&&(J=0,++rt>=60&&(rt=0,++Qt===24&&(Qt=0))),this.timeScaleArray.push({position:ue,value:J,unit:"second",hour:Qt,minute:rt,second:J,day:vt,year:this._getYear(Et,Lt,0),month:ct.monthMod(Lt)}),ue+=G,J++}},{key:"createRawDateString",value:function(h,d){var y=h.year;return h.month===0&&(h.month=1),y+="-"+("0"+h.month.toString()).slice(-2),h.unit==="day"?y+=h.unit==="day"?"-"+("0"+d).slice(-2):"-01":y+="-"+("0"+(h.day?h.day:"1")).slice(-2),h.unit==="hour"?y+=h.unit==="hour"?"T"+("0"+d).slice(-2):"T00":y+="T"+("0"+(h.hour?h.hour:"0")).slice(-2),h.unit==="minute"?y+=":"+("0"+d).slice(-2):y+=":"+(h.minute?("0"+h.minute).slice(-2):"00"),h.unit==="second"?y+=":"+("0"+d).slice(-2):y+=":00",this.utc&&(y+=".000Z"),y}},{key:"formatDates",value:function(h){var d=this,y=this.w;return h.map(function(C){var M=C.value.toString(),N=new Le(d.ctx),P=d.createRawDateString(C,M),V=N.getDate(N.parseDate(P));if(d.utc||(V=N.getDate(N.parseDateWithTimezone(P))),y.config.xaxis.labels.format===void 0){var G="dd MMM",K=y.config.xaxis.labels.datetimeFormatter;C.unit==="year"&&(G=K.year),C.unit==="month"&&(G=K.month),C.unit==="day"&&(G=K.day),C.unit==="hour"&&(G=K.hour),C.unit==="minute"&&(G=K.minute),C.unit==="second"&&(G=K.second),M=N.formatDate(V,G)}else M=N.formatDate(V,y.config.xaxis.labels.format);return{dateString:P,position:C.position,value:M,unit:C.unit,year:C.year,month:C.month}})}},{key:"removeOverlappingTS",value:function(h){var d,y=this,C=new Ft(this.ctx),M=!1;h.length>0&&h[0].value&&h.every(function(V){return V.value.length===h[0].value.length})&&(M=!0,d=C.getTextRects(h[0].value).width);var N=0,P=h.map(function(V,G){if(G>0&&y.w.config.xaxis.labels.hideOverlappingLabels){var K=M?d:C.getTextRects(h[N].value).width,J=h[N].position;return V.position>J+K+10?(N=G,V):null}return V});return P=P.filter(function(V){return V!==null})}},{key:"_getYear",value:function(h,d,y){return h+Math.floor(d/12)+y}}]),$t}(),Gi=function(){function $t(h,d){qt(this,$t),this.ctx=d,this.w=d.w,this.el=h}return Jt($t,[{key:"setupElements",value:function(){var h=this.w.globals,d=this.w.config,y=d.chart.type;h.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(y)>-1,h.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(y)>-1,h.isBarHorizontal=(d.chart.type==="bar"||d.chart.type==="rangeBar"||d.chart.type==="boxPlot")&&d.plotOptions.bar.horizontal,h.chartClass=".apexcharts"+h.chartID,h.dom.baseEl=this.el,h.dom.elWrap=document.createElement("div"),Ft.setAttrs(h.dom.elWrap,{id:h.chartClass.substring(1),class:"apexcharts-canvas "+h.chartClass.substring(1)}),this.el.appendChild(h.dom.elWrap),h.dom.Paper=new window.SVG.Doc(h.dom.elWrap),h.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(d.chart.offsetX,", ").concat(d.chart.offsetY,")")}),h.dom.Paper.node.style.background=d.chart.background,this.setSVGDimensions(),h.dom.elGraphical=h.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),h.dom.elAnnotations=h.dom.Paper.group().attr({class:"apexcharts-annotations"}),h.dom.elDefs=h.dom.Paper.defs(),h.dom.elLegendWrap=document.createElement("div"),h.dom.elLegendWrap.classList.add("apexcharts-legend"),h.dom.elWrap.appendChild(h.dom.elLegendWrap),h.dom.Paper.add(h.dom.elGraphical),h.dom.elGraphical.add(h.dom.elDefs)}},{key:"plotChartType",value:function(h,d){var y=this.w,C=y.config,M=y.globals,N={series:[],i:[]},P={series:[],i:[]},V={series:[],i:[]},G={series:[],i:[]},K={series:[],i:[]},J={series:[],i:[]},rt={series:[],i:[]},vt={series:[],i:[]},Lt={series:[],seriesRangeEnd:[],i:[]};M.series.map(function(jt,xe){var an=0;h[xe].type!==void 0?(h[xe].type==="column"||h[xe].type==="bar"?(M.series.length>1&&C.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),K.series.push(jt),K.i.push(xe),an++,y.globals.columnSeries=K.series):h[xe].type==="area"?(P.series.push(jt),P.i.push(xe),an++):h[xe].type==="line"?(N.series.push(jt),N.i.push(xe),an++):h[xe].type==="scatter"?(V.series.push(jt),V.i.push(xe)):h[xe].type==="bubble"?(G.series.push(jt),G.i.push(xe),an++):h[xe].type==="candlestick"?(J.series.push(jt),J.i.push(xe),an++):h[xe].type==="boxPlot"?(rt.series.push(jt),rt.i.push(xe),an++):h[xe].type==="rangeBar"?(vt.series.push(jt),vt.i.push(xe),an++):h[xe].type==="rangeArea"?(Lt.series.push(M.seriesRangeStart[xe]),Lt.seriesRangeEnd.push(M.seriesRangeEnd[xe]),Lt.i.push(xe),an++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),an>1&&(M.comboCharts=!0)):(N.series.push(jt),N.i.push(xe))});var Et=new Oi(this.ctx,d),Qt=new gn(this.ctx,d);this.ctx.pie=new Ji(this.ctx);var ue=new Bi(this.ctx);this.ctx.rangeBar=new yr(this.ctx,d);var Ce=new ir(this.ctx),de=[];if(M.comboCharts){if(P.series.length>0&&de.push(Et.draw(P.series,"area",P.i)),K.series.length>0)if(y.config.chart.stacked){var Y=new En(this.ctx,d);de.push(Y.draw(K.series,K.i))}else this.ctx.bar=new vn(this.ctx,d),de.push(this.ctx.bar.draw(K.series,K.i));if(Lt.series.length>0&&de.push(Et.draw(Lt.series,"rangeArea",Lt.i,Lt.seriesRangeEnd)),N.series.length>0&&de.push(Et.draw(N.series,"line",N.i)),J.series.length>0&&de.push(Qt.draw(J.series,J.i)),rt.series.length>0&&de.push(Qt.draw(rt.series,rt.i)),vt.series.length>0&&de.push(this.ctx.rangeBar.draw(vt.series,vt.i)),V.series.length>0){var ot=new Oi(this.ctx,d,!0);de.push(ot.draw(V.series,"scatter",V.i))}if(G.series.length>0){var zt=new Oi(this.ctx,d,!0);de.push(zt.draw(G.series,"bubble",G.i))}}else switch(C.chart.type){case"line":de=Et.draw(M.series,"line");break;case"area":de=Et.draw(M.series,"area");break;case"bar":C.chart.stacked?de=new En(this.ctx,d).draw(M.series):(this.ctx.bar=new vn(this.ctx,d),de=this.ctx.bar.draw(M.series));break;case"candlestick":de=new gn(this.ctx,d).draw(M.series);break;case"boxPlot":de=new gn(this.ctx,d).draw(M.series);break;case"rangeBar":de=this.ctx.rangeBar.draw(M.series);break;case"rangeArea":de=Et.draw(M.seriesRangeStart,"rangeArea",void 0,M.seriesRangeEnd);break;case"heatmap":de=new ar(this.ctx,d).draw(M.series);break;case"treemap":de=new rr(this.ctx,d).draw(M.series);break;case"pie":case"donut":case"polarArea":de=this.ctx.pie.draw(M.series);break;case"radialBar":de=ue.draw(M.series);break;case"radar":de=Ce.draw(M.series);break;default:de=Et.draw(M.series)}return de}},{key:"setSVGDimensions",value:function(){var h=this.w.globals,d=this.w.config;h.svgWidth=d.chart.width,h.svgHeight=d.chart.height;var y=ct.getDimensions(this.el),C=d.chart.width.toString().split(/[0-9]+/g).pop();C==="%"?ct.isNumber(y[0])&&(y[0].width===0&&(y=ct.getDimensions(this.el.parentNode)),h.svgWidth=y[0]*parseInt(d.chart.width,10)/100):C!=="px"&&C!==""||(h.svgWidth=parseInt(d.chart.width,10));var M=d.chart.height.toString().split(/[0-9]+/g).pop();if(h.svgHeight!=="auto"&&h.svgHeight!=="")if(M==="%"){var N=ct.getDimensions(this.el.parentNode);h.svgHeight=N[1]*parseInt(d.chart.height,10)/100}else h.svgHeight=parseInt(d.chart.height,10);else h.axisCharts?h.svgHeight=h.svgWidth/1.61:h.svgHeight=h.svgWidth/1.2;if(h.svgWidth<0&&(h.svgWidth=0),h.svgHeight<0&&(h.svgHeight=0),Ft.setAttrs(h.dom.Paper.node,{width:h.svgWidth,height:h.svgHeight}),M!=="%"){var P=d.chart.sparkline.enabled?0:h.axisCharts?d.chart.parentHeightOffset:0;h.dom.Paper.node.parentNode.parentNode.style.minHeight=h.svgHeight+P+"px"}h.dom.elWrap.style.width=h.svgWidth+"px",h.dom.elWrap.style.height=h.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var h=this.w.globals,d=h.translateY,y={transform:"translate("+h.translateX+", "+d+")"};Ft.setAttrs(h.dom.elGraphical.node,y)}},{key:"resizeNonAxisCharts",value:function(){var h=this.w,d=h.globals,y=0,C=h.config.chart.sparkline.enabled?1:15;C+=h.config.grid.padding.bottom,h.config.legend.position!=="top"&&h.config.legend.position!=="bottom"||!h.config.legend.show||h.config.legend.floating||(y=new ve(this.ctx).legendHelpers.getLegendBBox().clwh+10);var M=h.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),N=2.05*h.globals.radialSize;if(M&&!h.config.chart.sparkline.enabled&&h.config.plotOptions.radialBar.startAngle!==0){var P=ct.getBoundingClientRect(M);N=P.bottom;var V=P.bottom-P.top;N=Math.max(2.05*h.globals.radialSize,V)}var G=N+d.translateY+y+C;d.dom.elLegendForeign&&d.dom.elLegendForeign.setAttribute("height",G),h.config.chart.height&&String(h.config.chart.height).indexOf("%")>0||(d.dom.elWrap.style.height=G+"px",Ft.setAttrs(d.dom.Paper.node,{height:G}),d.dom.Paper.node.parentNode.parentNode.style.minHeight=G+"px")}},{key:"coreCalculations",value:function(){new Gn(this.ctx).init()}},{key:"resetGlobals",value:function(){var h=this,d=function(){return h.w.config.series.map(function(M){return[]})},y=new oe,C=this.w.globals;y.initGlobalVars(C),C.seriesXvalues=d(),C.seriesYvalues=d()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var h=null,d=this.w;if(d.globals.axisCharts){if(d.config.xaxis.crosshairs.position==="back"&&new wn(this.ctx).drawXCrosshairs(),d.config.yaxis[0].crosshairs.position==="back"&&new wn(this.ctx).drawYCrosshairs(),d.config.xaxis.type==="datetime"&&d.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Hi(this.ctx);var y=[];isFinite(d.globals.minX)&&isFinite(d.globals.maxX)&&!d.globals.isBarHorizontal?y=this.ctx.timeScale.calculateTimeScaleTicks(d.globals.minX,d.globals.maxX):d.globals.isBarHorizontal&&(y=this.ctx.timeScale.calculateTimeScaleTicks(d.globals.minY,d.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(y)}h=new Kt(this.ctx).getCalculatedRatios()}return h}},{key:"updateSourceChart",value:function(h){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:h.w.globals.minX,max:h.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var h=this,d=this.w;if(d.config.chart.brush.enabled&&typeof d.config.chart.events.selection!="function"){var y=d.config.chart.brush.targets||[d.config.chart.brush.target];y.forEach(function(C){var M=ApexCharts.getChartByID(C);M.w.globals.brushSource=h.ctx,typeof M.w.config.chart.events.zoomed!="function"&&(M.w.config.chart.events.zoomed=function(){h.updateSourceChart(M)}),typeof M.w.config.chart.events.scrolled!="function"&&(M.w.config.chart.events.scrolled=function(){h.updateSourceChart(M)})}),d.config.chart.events.selection=function(C,M){y.forEach(function(N){var P=ApexCharts.getChartByID(N),V=ct.clone(d.config.yaxis);if(d.config.chart.brush.autoScaleYaxis&&P.w.globals.series.length===1){var G=new kn(P);V=G.autoScaleY(P,V,M)}var K=P.w.config.yaxis.reduce(function(J,rt,vt){return[].concat(It(J),[Wt(Wt({},P.w.config.yaxis[vt]),{},{min:V[0].min,max:V[0].max})])},[]);P.ctx.updateHelpers._updateOptions({xaxis:{min:M.xaxis.min,max:M.xaxis.max},yaxis:K},!1,!1,!1,!1)})}}}}]),$t}(),sr=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"_updateOptions",value:function(h){var d=this,y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],C=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],M=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],N=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(P){var V=[d.ctx];M&&(V=d.ctx.getSyncedCharts()),d.ctx.w.globals.isExecCalled&&(V=[d.ctx],d.ctx.w.globals.isExecCalled=!1),V.forEach(function(G,K){var J=G.w;if(J.globals.shouldAnimate=C,y||(J.globals.resized=!0,J.globals.dataChanged=!0,C&&G.series.getPreviousPaths()),h&&wt(h)==="object"&&(G.config=new ln(h),h=Kt.extendArrayProps(G.config,h,J),G.w.globals.chartID!==d.ctx.w.globals.chartID&&delete h.series,J.config=ct.extend(J.config,h),N&&(J.globals.lastXAxis=h.xaxis?ct.clone(h.xaxis):[],J.globals.lastYAxis=h.yaxis?ct.clone(h.yaxis):[],J.globals.initialConfig=ct.extend({},J.config),J.globals.initialSeries=ct.clone(J.config.series),h.series))){for(var rt=0;rt<J.globals.collapsedSeriesIndices.length;rt++){var vt=J.config.series[J.globals.collapsedSeriesIndices[rt]];J.globals.collapsedSeries[rt].data=J.globals.axisCharts?vt.data.slice():vt}for(var Lt=0;Lt<J.globals.ancillaryCollapsedSeriesIndices.length;Lt++){var Et=J.config.series[J.globals.ancillaryCollapsedSeriesIndices[Lt]];J.globals.ancillaryCollapsedSeries[Lt].data=J.globals.axisCharts?Et.data.slice():Et}G.series.emptyCollapsedSeries(J.config.series)}return G.update(h).then(function(){K===V.length-1&&P(G)})})})}},{key:"_updateSeries",value:function(h,d){var y=this,C=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(M){var N,P=y.w;return P.globals.shouldAnimate=d,P.globals.dataChanged=!0,d&&y.ctx.series.getPreviousPaths(),P.globals.axisCharts?((N=h.map(function(V,G){return y._extendSeries(V,G)})).length===0&&(N=[{data:[]}]),P.config.series=N):P.config.series=h.slice(),C&&(P.globals.initialConfig.series=ct.clone(P.config.series),P.globals.initialSeries=ct.clone(P.config.series)),y.ctx.update().then(function(){M(y.ctx)})})}},{key:"_extendSeries",value:function(h,d){var y=this.w,C=y.config.series[d];return Wt(Wt({},y.config.series[d]),{},{name:h.name?h.name:C&&C.name,color:h.color?h.color:C&&C.color,type:h.type?h.type:C&&C.type,data:h.data?h.data:C&&C.data})}},{key:"toggleDataPointSelection",value:function(h,d){var y=this.w,C=null,M=".apexcharts-series[data\\:realIndex='".concat(h,"']");return y.globals.axisCharts?C=y.globals.dom.Paper.select("".concat(M," path[j='").concat(d,"'], ").concat(M," circle[j='").concat(d,"'], ").concat(M," rect[j='").concat(d,"']")).members[0]:d===void 0&&(C=y.globals.dom.Paper.select("".concat(M," path[j='").concat(h,"']")).members[0],y.config.chart.type!=="pie"&&y.config.chart.type!=="polarArea"&&y.config.chart.type!=="donut"||this.ctx.pie.pieClicked(h)),C?(new Ft(this.ctx).pathMouseDown(C,null),C.node?C.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(h){var d=this.w;if(["min","max"].forEach(function(C){h.xaxis[C]!==void 0&&(d.config.xaxis[C]=h.xaxis[C],d.globals.lastXAxis[C]=h.xaxis[C])}),h.xaxis.categories&&h.xaxis.categories.length&&(d.config.xaxis.categories=h.xaxis.categories),d.config.xaxis.convertedCatToNumeric){var y=new rn(h);h=y.convertCatToNumericXaxis(h,this.ctx)}return h}},{key:"forceYAxisUpdate",value:function(h){return h.chart&&h.chart.stacked&&h.chart.stackType==="100%"&&(Array.isArray(h.yaxis)?h.yaxis.forEach(function(d,y){h.yaxis[y].min=0,h.yaxis[y].max=100}):(h.yaxis.min=0,h.yaxis.max=100)),h}},{key:"revertDefaultAxisMinMax",value:function(h){var d=this,y=this.w,C=y.globals.lastXAxis,M=y.globals.lastYAxis;h&&h.xaxis&&(C=h.xaxis),h&&h.yaxis&&(M=h.yaxis),y.config.xaxis.min=C.min,y.config.xaxis.max=C.max;var N=function(P){M[P]!==void 0&&(y.config.yaxis[P].min=M[P].min,y.config.yaxis[P].max=M[P].max)};y.config.yaxis.map(function(P,V){y.globals.zoomed||M[V]!==void 0?N(V):d.ctx.opts.yaxis[V]!==void 0&&(P.min=d.ctx.opts.yaxis[V].min,P.max=d.ctx.opts.yaxis[V].max)})}}]),$t}();ei=typeof window<"u"?window:void 0,Jn=function($t,h){var d=(this!==void 0?this:$t).SVG=function(Y){if(d.supported)return Y=new d.Doc(Y),d.parser.draw||d.prepare(),Y};if(d.ns="http://www.w3.org/2000/svg",d.xmlns="http://www.w3.org/2000/xmlns/",d.xlink="http://www.w3.org/1999/xlink",d.svgjs="http://svgjs.dev",d.supported=!0,!d.supported)return!1;d.did=1e3,d.eid=function(Y){return"Svgjs"+K(Y)+d.did++},d.create=function(Y){var ot=h.createElementNS(this.ns,Y);return ot.setAttribute("id",this.eid(Y)),ot},d.extend=function(){var Y,ot;ot=(Y=[].slice.call(arguments)).pop();for(var zt=Y.length-1;zt>=0;zt--)if(Y[zt])for(var jt in ot)Y[zt].prototype[jt]=ot[jt];d.Set&&d.Set.inherit&&d.Set.inherit()},d.invent=function(Y){var ot=typeof Y.create=="function"?Y.create:function(){this.constructor.call(this,d.create(Y.create))};return Y.inherit&&(ot.prototype=new Y.inherit),Y.extend&&d.extend(ot,Y.extend),Y.construct&&d.extend(Y.parent||d.Container,Y.construct),ot},d.adopt=function(Y){return Y?Y.instance?Y.instance:((ot=Y.nodeName=="svg"?Y.parentNode instanceof $t.SVGElement?new d.Nested:new d.Doc:Y.nodeName=="linearGradient"?new d.Gradient("linear"):Y.nodeName=="radialGradient"?new d.Gradient("radial"):d[K(Y.nodeName)]?new d[K(Y.nodeName)]:new d.Element(Y)).type=Y.nodeName,ot.node=Y,Y.instance=ot,ot instanceof d.Doc&&ot.namespace().defs(),ot.setData(JSON.parse(Y.getAttribute("svgjs:data"))||{}),ot):null;var ot},d.prepare=function(){var Y=h.getElementsByTagName("body")[0],ot=(Y?new d.Doc(Y):d.adopt(h.documentElement).nested()).size(2,0);d.parser={body:Y||h.documentElement,draw:ot.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:ot.polyline().node,path:ot.path().node,native:d.create("svg")}},d.parser={native:d.create("svg")},h.addEventListener("DOMContentLoaded",function(){d.parser.draw||d.prepare()},!1),d.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},d.utils={map:function(Y,ot){for(var zt=Y.length,jt=[],xe=0;xe<zt;xe++)jt.push(ot(Y[xe]));return jt},filter:function(Y,ot){for(var zt=Y.length,jt=[],xe=0;xe<zt;xe++)ot(Y[xe])&&jt.push(Y[xe]);return jt},filterSVGElements:function(Y){return this.filter(Y,function(ot){return ot instanceof $t.SVGElement})}},d.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},d.Color=function(Y){var ot,zt;this.r=0,this.g=0,this.b=0,Y&&(typeof Y=="string"?d.regex.isRgb.test(Y)?(ot=d.regex.rgb.exec(Y.replace(d.regex.whitespace,"")),this.r=parseInt(ot[1]),this.g=parseInt(ot[2]),this.b=parseInt(ot[3])):d.regex.isHex.test(Y)&&(ot=d.regex.hex.exec((zt=Y).length==4?["#",zt.substring(1,2),zt.substring(1,2),zt.substring(2,3),zt.substring(2,3),zt.substring(3,4),zt.substring(3,4)].join(""):zt),this.r=parseInt(ot[1],16),this.g=parseInt(ot[2],16),this.b=parseInt(ot[3],16)):wt(Y)==="object"&&(this.r=Y.r,this.g=Y.g,this.b=Y.b))},d.extend(d.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+J(this.r)+J(this.g)+J(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(Y){return this.destination=new d.Color(Y),this},at:function(Y){return this.destination?(Y=Y<0?0:Y>1?1:Y,new d.Color({r:~~(this.r+(this.destination.r-this.r)*Y),g:~~(this.g+(this.destination.g-this.g)*Y),b:~~(this.b+(this.destination.b-this.b)*Y)})):this}}),d.Color.test=function(Y){return Y+="",d.regex.isHex.test(Y)||d.regex.isRgb.test(Y)},d.Color.isRgb=function(Y){return Y&&typeof Y.r=="number"&&typeof Y.g=="number"&&typeof Y.b=="number"},d.Color.isColor=function(Y){return d.Color.isRgb(Y)||d.Color.test(Y)},d.Array=function(Y,ot){(Y=(Y||[]).valueOf()).length==0&&ot&&(Y=ot.valueOf()),this.value=this.parse(Y)},d.extend(d.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(Y){return Y=Y.valueOf(),Array.isArray(Y)?Y:this.split(Y)}}),d.PointArray=function(Y,ot){d.Array.call(this,Y,ot||[[0,0]])},d.PointArray.prototype=new d.Array,d.PointArray.prototype.constructor=d.PointArray;for(var y={M:function(Y,ot,zt){return ot.x=zt.x=Y[0],ot.y=zt.y=Y[1],["M",ot.x,ot.y]},L:function(Y,ot){return ot.x=Y[0],ot.y=Y[1],["L",Y[0],Y[1]]},H:function(Y,ot){return ot.x=Y[0],["H",Y[0]]},V:function(Y,ot){return ot.y=Y[0],["V",Y[0]]},C:function(Y,ot){return ot.x=Y[4],ot.y=Y[5],["C",Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]]},Q:function(Y,ot){return ot.x=Y[2],ot.y=Y[3],["Q",Y[0],Y[1],Y[2],Y[3]]},Z:function(Y,ot,zt){return ot.x=zt.x,ot.y=zt.y,["Z"]}},C="mlhvqtcsaz".split(""),M=0,N=C.length;M<N;++M)y[C[M]]=function(Y){return function(ot,zt,jt){if(Y=="H")ot[0]=ot[0]+zt.x;else if(Y=="V")ot[0]=ot[0]+zt.y;else if(Y=="A")ot[5]=ot[5]+zt.x,ot[6]=ot[6]+zt.y;else for(var xe=0,an=ot.length;xe<an;++xe)ot[xe]=ot[xe]+(xe%2?zt.y:zt.x);if(y&&typeof y[Y]=="function")return y[Y](ot,zt,jt)}}(C[M].toUpperCase());d.PathArray=function(Y,ot){d.Array.call(this,Y,ot||[["M",0,0]])},d.PathArray.prototype=new d.Array,d.PathArray.prototype.constructor=d.PathArray,d.extend(d.PathArray,{toString:function(){return function(Y){for(var ot=0,zt=Y.length,jt="";ot<zt;ot++)jt+=Y[ot][0],Y[ot][1]!=null&&(jt+=Y[ot][1],Y[ot][2]!=null&&(jt+=" ",jt+=Y[ot][2],Y[ot][3]!=null&&(jt+=" ",jt+=Y[ot][3],jt+=" ",jt+=Y[ot][4],Y[ot][5]!=null&&(jt+=" ",jt+=Y[ot][5],jt+=" ",jt+=Y[ot][6],Y[ot][7]!=null&&(jt+=" ",jt+=Y[ot][7])))));return jt+" "}(this.value)},move:function(Y,ot){var zt=this.bbox();return zt.x,zt.y,this},at:function(Y){if(!this.destination)return this;for(var ot=this.value,zt=this.destination.value,jt=[],xe=new d.PathArray,an=0,Qe=ot.length;an<Qe;an++){jt[an]=[ot[an][0]];for(var On=1,Pn=ot[an].length;On<Pn;On++)jt[an][On]=ot[an][On]+(zt[an][On]-ot[an][On])*Y;jt[an][0]==="A"&&(jt[an][4]=+(jt[an][4]!=0),jt[an][5]=+(jt[an][5]!=0))}return xe.value=jt,xe},parse:function(Y){if(Y instanceof d.PathArray)return Y.valueOf();var ot,zt={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};Y=typeof Y=="string"?Y.replace(d.regex.numbersWithDots,V).replace(d.regex.pathLetters," $& ").replace(d.regex.hyphen,"$1 -").trim().split(d.regex.delimiter):Y.reduce(function(Pn,ii){return[].concat.call(Pn,ii)},[]);var jt=[],xe=new d.Point,an=new d.Point,Qe=0,On=Y.length;do d.regex.isPathLetter.test(Y[Qe])?(ot=Y[Qe],++Qe):ot=="M"?ot="L":ot=="m"&&(ot="l"),jt.push(y[ot].call(null,Y.slice(Qe,Qe+=zt[ot.toUpperCase()]).map(parseFloat),xe,an));while(On>Qe);return jt},bbox:function(){return d.parser.draw||d.prepare(),d.parser.path.setAttribute("d",this.toString()),d.parser.path.getBBox()}}),d.Number=d.invent({create:function(Y,ot){this.value=0,this.unit=ot||"",typeof Y=="number"?this.value=isNaN(Y)?0:isFinite(Y)?Y:Y<0?-34e37:34e37:typeof Y=="string"?(ot=Y.match(d.regex.numberAndUnit))&&(this.value=parseFloat(ot[1]),ot[5]=="%"?this.value/=100:ot[5]=="s"&&(this.value*=1e3),this.unit=ot[5]):Y instanceof d.Number&&(this.value=Y.valueOf(),this.unit=Y.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(Y){return Y=new d.Number(Y),new d.Number(this+Y,this.unit||Y.unit)},minus:function(Y){return Y=new d.Number(Y),new d.Number(this-Y,this.unit||Y.unit)},times:function(Y){return Y=new d.Number(Y),new d.Number(this*Y,this.unit||Y.unit)},divide:function(Y){return Y=new d.Number(Y),new d.Number(this/Y,this.unit||Y.unit)},to:function(Y){var ot=new d.Number(this);return typeof Y=="string"&&(ot.unit=Y),ot},morph:function(Y){return this.destination=new d.Number(Y),Y.relative&&(this.destination.value+=this.value),this},at:function(Y){return this.destination?new d.Number(this.destination).minus(this).times(Y).plus(this):this}}}),d.Element=d.invent({create:function(Y){this._stroke=d.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=Y)&&(this.type=Y.nodeName,this.node.instance=this,this._stroke=Y.getAttribute("stroke")||this._stroke)},extend:{x:function(Y){return this.attr("x",Y)},y:function(Y){return this.attr("y",Y)},cx:function(Y){return Y==null?this.x()+this.width()/2:this.x(Y-this.width()/2)},cy:function(Y){return Y==null?this.y()+this.height()/2:this.y(Y-this.height()/2)},move:function(Y,ot){return this.x(Y).y(ot)},center:function(Y,ot){return this.cx(Y).cy(ot)},width:function(Y){return this.attr("width",Y)},height:function(Y){return this.attr("height",Y)},size:function(Y,ot){var zt=rt(this,Y,ot);return this.width(new d.Number(zt.width)).height(new d.Number(zt.height))},clone:function(Y){this.writeDataToDom();var ot=Et(this.node.cloneNode(!0));return Y?Y.add(ot):this.after(ot),ot},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(Y){return this.after(Y).remove(),Y},addTo:function(Y){return Y.put(this)},putIn:function(Y){return Y.add(this)},id:function(Y){return this.attr("id",Y)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var Y=this.attr("class");return Y==null?[]:Y.trim().split(d.regex.delimiter)},hasClass:function(Y){return this.classes().indexOf(Y)!=-1},addClass:function(Y){if(!this.hasClass(Y)){var ot=this.classes();ot.push(Y),this.attr("class",ot.join(" "))}return this},removeClass:function(Y){return this.hasClass(Y)&&this.attr("class",this.classes().filter(function(ot){return ot!=Y}).join(" ")),this},toggleClass:function(Y){return this.hasClass(Y)?this.removeClass(Y):this.addClass(Y)},reference:function(Y){return d.get(this.attr(Y))},parent:function(Y){var ot=this;if(!ot.node.parentNode)return null;if(ot=d.adopt(ot.node.parentNode),!Y)return ot;for(;ot&&ot.node instanceof $t.SVGElement;){if(typeof Y=="string"?ot.matches(Y):ot instanceof Y)return ot;if(!ot.node.parentNode||ot.node.parentNode.nodeName=="#document")return null;ot=d.adopt(ot.node.parentNode)}},doc:function(){return this instanceof d.Doc?this:this.parent(d.Doc)},parents:function(Y){var ot=[],zt=this;do{if(!(zt=zt.parent(Y))||!zt.node)break;ot.push(zt)}while(zt.parent);return ot},matches:function(Y){return function(ot,zt){return(ot.matches||ot.matchesSelector||ot.msMatchesSelector||ot.mozMatchesSelector||ot.webkitMatchesSelector||ot.oMatchesSelector).call(ot,zt)}(this.node,Y)},native:function(){return this.node},svg:function(Y){var ot=h.createElement("svg");if(!(Y&&this instanceof d.Parent))return ot.appendChild(Y=h.createElement("svg")),this.writeDataToDom(),Y.appendChild(this.node.cloneNode(!0)),ot.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");ot.innerHTML="<svg>"+Y.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var zt=0,jt=ot.firstChild.childNodes.length;zt<jt;zt++)this.node.appendChild(ot.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(Y){return this.dom=Y,this},is:function(Y){return function(ot,zt){return ot instanceof zt}(this,Y)}}}),d.easing={"-":function(Y){return Y},"<>":function(Y){return-Math.cos(Y*Math.PI)/2+.5},">":function(Y){return Math.sin(Y*Math.PI/2)},"<":function(Y){return 1-Math.cos(Y*Math.PI/2)}},d.morph=function(Y){return function(ot,zt){return new d.MorphObj(ot,zt).at(Y)}},d.Situation=d.invent({create:function(Y){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new d.Number(Y.duration).valueOf(),this.delay=new d.Number(Y.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=Y.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),d.FX=d.invent({create:function(Y){this._target=Y,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(Y,ot,zt){wt(Y)==="object"&&(ot=Y.ease,zt=Y.delay,Y=Y.duration);var jt=new d.Situation({duration:Y||1e3,delay:zt||0,ease:d.easing[ot||"-"]||ot});return this.queue(jt),this},target:function(Y){return Y&&Y instanceof d.Element?(this._target=Y,this):this._target},timeToAbsPos:function(Y){return(Y-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(Y){return this.situation.duration/this._speed*Y+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=$t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){$t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(Y){return(typeof Y=="function"||Y instanceof d.Situation)&&this.situations.push(Y),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof d.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var Y,ot=this.situation;if(ot.init)return this;for(var zt in ot.animations){Y=this.target()[zt](),Array.isArray(Y)||(Y=[Y]),Array.isArray(ot.animations[zt])||(ot.animations[zt]=[ot.animations[zt]]);for(var jt=Y.length;jt--;)ot.animations[zt][jt]instanceof d.Number&&(Y[jt]=new d.Number(Y[jt])),ot.animations[zt][jt]=Y[jt].morph(ot.animations[zt][jt])}for(var zt in ot.attrs)ot.attrs[zt]=new d.MorphObj(this.target().attr(zt),ot.attrs[zt]);for(var zt in ot.styles)ot.styles[zt]=new d.MorphObj(this.target().style(zt),ot.styles[zt]);return ot.initialTransformation=this.target().matrixify(),ot.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(Y,ot){var zt=this.active;return this.active=!1,ot&&this.clearQueue(),Y&&this.situation&&(!zt&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(Y){var ot=this.last();return this.target().on("finished.fx",function zt(jt){jt.detail.situation==ot&&(Y.call(this,ot),this.off("finished.fx",zt))}),this._callStart()},during:function(Y){var ot=this.last(),zt=function(jt){jt.detail.situation==ot&&Y.call(this,jt.detail.pos,d.morph(jt.detail.pos),jt.detail.eased,ot)};return this.target().off("during.fx",zt).on("during.fx",zt),this.after(function(){this.off("during.fx",zt)}),this._callStart()},afterAll:function(Y){var ot=function zt(jt){Y.call(this),this.off("allfinished.fx",zt)};return this.target().off("allfinished.fx",ot).on("allfinished.fx",ot),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(Y,ot,zt){return this.last()[zt||"animations"][Y]=ot,this._callStart()},step:function(Y){var ot,zt,jt;Y||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(ot=Math.max(this.absPos,0),zt=Math.floor(ot),this.situation.loops===!0||zt<this.situation.loops?(this.pos=ot-zt,jt=this.situation.loop,this.situation.loop=zt):(this.absPos=this.situation.loops,this.pos=1,jt=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-jt)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var xe=this.situation.ease(this.pos);for(var an in this.situation.once)an>this.lastPos&&an<=xe&&(this.situation.once[an].call(this.target(),this.pos,xe),delete this.situation.once[an]);return this.active&&this.target().fire("during",{pos:this.pos,eased:xe,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=xe,this):this},eachAt:function(){var Y,ot=this,zt=this.target(),jt=this.situation;for(var xe in jt.animations)Y=[].concat(jt.animations[xe]).map(function(On){return typeof On!="string"&&On.at?On.at(jt.ease(ot.pos),ot.pos):On}),zt[xe].apply(zt,Y);for(var xe in jt.attrs)Y=[xe].concat(jt.attrs[xe]).map(function(Pn){return typeof Pn!="string"&&Pn.at?Pn.at(jt.ease(ot.pos),ot.pos):Pn}),zt.attr.apply(zt,Y);for(var xe in jt.styles)Y=[xe].concat(jt.styles[xe]).map(function(Pn){return typeof Pn!="string"&&Pn.at?Pn.at(jt.ease(ot.pos),ot.pos):Pn}),zt.style.apply(zt,Y);if(jt.transforms.length){Y=jt.initialTransformation,xe=0;for(var an=jt.transforms.length;xe<an;xe++){var Qe=jt.transforms[xe];Qe instanceof d.Matrix?Y=Qe.relative?Y.multiply(new d.Matrix().morph(Qe).at(jt.ease(this.pos))):Y.morph(Qe).at(jt.ease(this.pos)):(Qe.relative||Qe.undo(Y.extract()),Y=Y.multiply(Qe.at(jt.ease(this.pos))))}zt.matrix(Y)}return this},once:function(Y,ot,zt){var jt=this.last();return zt||(Y=jt.ease(Y)),jt.once[Y]=ot,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:d.Element,construct:{animate:function(Y,ot,zt){return(this.fx||(this.fx=new d.FX(this))).animate(Y,ot,zt)},delay:function(Y){return(this.fx||(this.fx=new d.FX(this))).delay(Y)},stop:function(Y,ot){return this.fx&&this.fx.stop(Y,ot),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),d.MorphObj=d.invent({create:function(Y,ot){return d.Color.isColor(ot)?new d.Color(Y).morph(ot):d.regex.delimiter.test(Y)?d.regex.pathLetters.test(Y)?new d.PathArray(Y).morph(ot):new d.Array(Y).morph(ot):d.regex.numberAndUnit.test(ot)?new d.Number(Y).morph(ot):(this.value=Y,void(this.destination=ot))},extend:{at:function(Y,ot){return ot<1?this.value:this.destination},valueOf:function(){return this.value}}}),d.extend(d.FX,{attr:function(Y,ot,zt){if(wt(Y)==="object")for(var jt in Y)this.attr(jt,Y[jt]);else this.add(Y,ot,"attrs");return this},plot:function(Y,ot,zt,jt){return arguments.length==4?this.plot([Y,ot,zt,jt]):this.add("plot",new(this.target()).morphArray(Y))}}),d.Box=d.invent({create:function(Y,ot,zt,jt){if(!(wt(Y)!=="object"||Y instanceof d.Element))return d.Box.call(this,Y.left!=null?Y.left:Y.x,Y.top!=null?Y.top:Y.y,Y.width,Y.height);arguments.length==4&&(this.x=Y,this.y=ot,this.width=zt,this.height=jt),Qt(this)}}),d.BBox=d.invent({create:function(Y){if(d.Box.apply(this,[].slice.call(arguments)),Y instanceof d.Element){var ot;try{if(!h.documentElement.contains){for(var zt=Y.node;zt.parentNode;)zt=zt.parentNode;if(zt!=h)throw new Error("Element not in the dom")}ot=Y.node.getBBox()}catch{if(Y instanceof d.Shape){d.parser.draw||d.prepare();var jt=Y.clone(d.parser.draw.instance).show();jt&&jt.node&&typeof jt.node.getBBox=="function"&&(ot=jt.node.getBBox()),jt&&typeof jt.remove=="function"&&jt.remove()}else ot={x:Y.node.clientLeft,y:Y.node.clientTop,width:Y.node.clientWidth,height:Y.node.clientHeight}}d.Box.call(this,ot)}},inherit:d.Box,parent:d.Element,construct:{bbox:function(){return new d.BBox(this)}}}),d.BBox.prototype.constructor=d.BBox,d.Matrix=d.invent({create:function(Y){var ot=Lt([1,0,0,1,0,0]);Y=Y===null?ot:Y instanceof d.Element?Y.matrixify():typeof Y=="string"?Lt(Y.split(d.regex.delimiter).map(parseFloat)):arguments.length==6?Lt([].slice.call(arguments)):Array.isArray(Y)?Lt(Y):Y&&wt(Y)==="object"?Y:ot;for(var zt=Ce.length-1;zt>=0;--zt)this[Ce[zt]]=Y[Ce[zt]]!=null?Y[Ce[zt]]:ot[Ce[zt]]},extend:{extract:function(){var Y=vt(this,0,1);vt(this,1,0);var ot=180/Math.PI*Math.atan2(Y.y,Y.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(ot*Math.PI/180)+this.f*Math.sin(ot*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(ot*Math.PI/180)+this.e*Math.sin(-ot*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:ot,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new d.Matrix(this)}},clone:function(){return new d.Matrix(this)},morph:function(Y){return this.destination=new d.Matrix(Y),this},multiply:function(Y){return new d.Matrix(this.native().multiply(function(ot){return ot instanceof d.Matrix||(ot=new d.Matrix(ot)),ot}(Y).native()))},inverse:function(){return new d.Matrix(this.native().inverse())},translate:function(Y,ot){return new d.Matrix(this.native().translate(Y||0,ot||0))},native:function(){for(var Y=d.parser.native.createSVGMatrix(),ot=Ce.length-1;ot>=0;ot--)Y[Ce[ot]]=this[Ce[ot]];return Y},toString:function(){return"matrix("+ue(this.a)+","+ue(this.b)+","+ue(this.c)+","+ue(this.d)+","+ue(this.e)+","+ue(this.f)+")"}},parent:d.Element,construct:{ctm:function(){return new d.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof d.Nested){var Y=this.rect(1,1),ot=Y.node.getScreenCTM();return Y.remove(),new d.Matrix(ot)}return new d.Matrix(this.node.getScreenCTM())}}}),d.Point=d.invent({create:function(Y,ot){var zt;zt=Array.isArray(Y)?{x:Y[0],y:Y[1]}:wt(Y)==="object"?{x:Y.x,y:Y.y}:Y!=null?{x:Y,y:ot??Y}:{x:0,y:0},this.x=zt.x,this.y=zt.y},extend:{clone:function(){return new d.Point(this)},morph:function(Y,ot){return this.destination=new d.Point(Y,ot),this}}}),d.extend(d.Element,{point:function(Y,ot){return new d.Point(Y,ot).transform(this.screenCTM().inverse())}}),d.extend(d.Element,{attr:function(Y,ot,zt){if(Y==null){for(Y={},zt=(ot=this.node.attributes).length-1;zt>=0;zt--)Y[ot[zt].nodeName]=d.regex.isNumber.test(ot[zt].nodeValue)?parseFloat(ot[zt].nodeValue):ot[zt].nodeValue;return Y}if(wt(Y)==="object")for(var jt in Y)this.attr(jt,Y[jt]);else if(ot===null)this.node.removeAttribute(Y);else{if(ot==null)return(ot=this.node.getAttribute(Y))==null?d.defaults.attrs[Y]:d.regex.isNumber.test(ot)?parseFloat(ot):ot;Y=="stroke-width"?this.attr("stroke",parseFloat(ot)>0?this._stroke:null):Y=="stroke"&&(this._stroke=ot),Y!="fill"&&Y!="stroke"||(d.regex.isImage.test(ot)&&(ot=this.doc().defs().image(ot,0,0)),ot instanceof d.Image&&(ot=this.doc().defs().pattern(0,0,function(){this.add(ot)}))),typeof ot=="number"?ot=new d.Number(ot):d.Color.isColor(ot)?ot=new d.Color(ot):Array.isArray(ot)&&(ot=new d.Array(ot)),Y=="leading"?this.leading&&this.leading(ot):typeof zt=="string"?this.node.setAttributeNS(zt,Y,ot.toString()):this.node.setAttribute(Y,ot.toString()),!this.rebuild||Y!="font-size"&&Y!="x"||this.rebuild(Y,ot)}return this}}),d.extend(d.Element,{transform:function(Y,ot){var zt;return wt(Y)!=="object"?(zt=new d.Matrix(this).extract(),typeof Y=="string"?zt[Y]:zt):(zt=new d.Matrix(this),ot=!!ot||!!Y.relative,Y.a!=null&&(zt=ot?zt.multiply(new d.Matrix(Y)):new d.Matrix(Y)),this.attr("transform",zt))}}),d.extend(d.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(d.regex.transforms).slice(0,-1).map(function(Y){var ot=Y.trim().split("(");return[ot[0],ot[1].split(d.regex.delimiter).map(function(zt){return parseFloat(zt)})]}).reduce(function(Y,ot){return ot[0]=="matrix"?Y.multiply(Lt(ot[1])):Y[ot[0]].apply(Y,ot[1])},new d.Matrix)},toParent:function(Y){if(this==Y)return this;var ot=this.screenCTM(),zt=Y.screenCTM().inverse();return this.addTo(Y).untransform().transform(zt.multiply(ot)),this},toDoc:function(){return this.toParent(this.doc())}}),d.Transformation=d.invent({create:function(Y,ot){if(arguments.length>1&&typeof ot!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(Y))for(var zt=0,jt=this.arguments.length;zt<jt;++zt)this[this.arguments[zt]]=Y[zt];else if(Y&&wt(Y)==="object")for(zt=0,jt=this.arguments.length;zt<jt;++zt)this[this.arguments[zt]]=Y[this.arguments[zt]];this.inversed=!1,ot===!0&&(this.inversed=!0)}}),d.Translate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(Y,ot){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),d.extend(d.Element,{style:function(Y,ot){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(wt(Y)==="object")for(var zt in Y)this.style(zt,Y[zt]);else{if(!d.regex.isCss.test(Y))return this.node.style[G(Y)];for(Y=Y.split(/\s*;\s*/).filter(function(jt){return!!jt}).map(function(jt){return jt.split(/\s*:\s*/)});ot=Y.pop();)this.style(ot[0],ot[1])}else this.node.style[G(Y)]=ot===null||d.regex.isBlank.test(ot)?"":ot;return this}}),d.Parent=d.invent({create:function(Y){this.constructor.call(this,Y)},inherit:d.Element,extend:{children:function(){return d.utils.map(d.utils.filterSVGElements(this.node.childNodes),function(Y){return d.adopt(Y)})},add:function(Y,ot){return ot==null?this.node.appendChild(Y.node):Y.node!=this.node.childNodes[ot]&&this.node.insertBefore(Y.node,this.node.childNodes[ot]),this},put:function(Y,ot){return this.add(Y,ot),Y},has:function(Y){return this.index(Y)>=0},index:function(Y){return[].slice.call(this.node.childNodes).indexOf(Y.node)},get:function(Y){return d.adopt(this.node.childNodes[Y])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(Y,ot){for(var zt=this.children(),jt=0,xe=zt.length;jt<xe;jt++)zt[jt]instanceof d.Element&&Y.apply(zt[jt],[jt,zt]),ot&&zt[jt]instanceof d.Container&&zt[jt].each(Y,ot);return this},removeElement:function(Y){return this.node.removeChild(Y.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),d.extend(d.Parent,{ungroup:function(Y,ot){return ot===0||this instanceof d.Defs||this.node==d.parser.draw||(Y=Y||(this instanceof d.Doc?this:this.parent(d.Parent)),ot=ot||1/0,this.each(function(){return this instanceof d.Defs?this:this instanceof d.Parent?this.ungroup(Y,ot-1):this.toParent(Y)}),this.node.firstChild||this.remove()),this},flatten:function(Y,ot){return this.ungroup(Y,ot)}}),d.Container=d.invent({create:function(Y){this.constructor.call(this,Y)},inherit:d.Parent}),d.ViewBox=d.invent({parent:d.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(Y){d.Element.prototype[Y]=function(ot){return d.on(this.node,Y,ot),this}}),d.listeners=[],d.handlerMap=[],d.listenerId=0,d.on=function(Y,ot,zt,jt,xe){var an=zt.bind(jt||Y.instance||Y),Qe=(d.handlerMap.indexOf(Y)+1||d.handlerMap.push(Y))-1,On=ot.split(".")[0],Pn=ot.split(".")[1]||"*";d.listeners[Qe]=d.listeners[Qe]||{},d.listeners[Qe][On]=d.listeners[Qe][On]||{},d.listeners[Qe][On][Pn]=d.listeners[Qe][On][Pn]||{},zt._svgjsListenerId||(zt._svgjsListenerId=++d.listenerId),d.listeners[Qe][On][Pn][zt._svgjsListenerId]=an,Y.addEventListener(On,an,xe||{passive:!0})},d.off=function(Y,ot,zt){var jt=d.handlerMap.indexOf(Y),xe=ot&&ot.split(".")[0],an=ot&&ot.split(".")[1],Qe="";if(jt!=-1)if(zt){if(typeof zt=="function"&&(zt=zt._svgjsListenerId),!zt)return;d.listeners[jt][xe]&&d.listeners[jt][xe][an||"*"]&&(Y.removeEventListener(xe,d.listeners[jt][xe][an||"*"][zt],!1),delete d.listeners[jt][xe][an||"*"][zt])}else if(an&&xe){if(d.listeners[jt][xe]&&d.listeners[jt][xe][an]){for(var On in d.listeners[jt][xe][an])d.off(Y,[xe,an].join("."),On);delete d.listeners[jt][xe][an]}}else if(an)for(var Pn in d.listeners[jt])for(var Qe in d.listeners[jt][Pn])an===Qe&&d.off(Y,[Pn,an].join("."));else if(xe){if(d.listeners[jt][xe]){for(var Qe in d.listeners[jt][xe])d.off(Y,[xe,Qe].join("."));delete d.listeners[jt][xe]}}else{for(var Pn in d.listeners[jt])d.off(Y,Pn);delete d.listeners[jt],delete d.handlerMap[jt]}},d.extend(d.Element,{on:function(Y,ot,zt,jt){return d.on(this.node,Y,ot,zt,jt),this},off:function(Y,ot){return d.off(this.node,Y,ot),this},fire:function(Y,ot){return Y instanceof $t.Event?this.node.dispatchEvent(Y):this.node.dispatchEvent(Y=new d.CustomEvent(Y,{detail:ot,cancelable:!0})),this._event=Y,this},event:function(){return this._event}}),d.Defs=d.invent({create:"defs",inherit:d.Container}),d.G=d.invent({create:"g",inherit:d.Container,extend:{x:function(Y){return Y==null?this.transform("x"):this.transform({x:Y-this.x()},!0)}},construct:{group:function(){return this.put(new d.G)}}}),d.Doc=d.invent({create:function(Y){Y&&((Y=typeof Y=="string"?h.getElementById(Y):Y).nodeName=="svg"?this.constructor.call(this,Y):(this.constructor.call(this,d.create("svg")),Y.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:d.Container,extend:{namespace:function(){return this.attr({xmlns:d.ns,version:"1.1"}).attr("xmlns:xlink",d.xlink,d.xmlns).attr("xmlns:svgjs",d.svgjs,d.xmlns)},defs:function(){var Y;return this._defs||((Y=this.node.getElementsByTagName("defs")[0])?this._defs=d.adopt(Y):this._defs=new d.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,d.parser.draw&&!d.parser.draw.parentNode&&this.node.appendChild(d.parser.draw),this},clone:function(Y){this.writeDataToDom();var ot=this.node,zt=Et(ot.cloneNode(!0));return Y?(Y.node||Y).appendChild(zt.node):ot.parentNode.insertBefore(zt.node,ot.nextSibling),zt}}}),d.extend(d.Element,{}),d.Gradient=d.invent({create:function(Y){this.constructor.call(this,d.create(Y+"Gradient")),this.type=Y},inherit:d.Container,extend:{at:function(Y,ot,zt){return this.put(new d.Stop).update(Y,ot,zt)},update:function(Y){return this.clear(),typeof Y=="function"&&Y.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(Y,ot,zt){return Y=="transform"&&(Y="gradientTransform"),d.Container.prototype.attr.call(this,Y,ot,zt)}},construct:{gradient:function(Y,ot){return this.defs().gradient(Y,ot)}}}),d.extend(d.Gradient,d.FX,{from:function(Y,ot){return(this._target||this).type=="radial"?this.attr({fx:new d.Number(Y),fy:new d.Number(ot)}):this.attr({x1:new d.Number(Y),y1:new d.Number(ot)})},to:function(Y,ot){return(this._target||this).type=="radial"?this.attr({cx:new d.Number(Y),cy:new d.Number(ot)}):this.attr({x2:new d.Number(Y),y2:new d.Number(ot)})}}),d.extend(d.Defs,{gradient:function(Y,ot){return this.put(new d.Gradient(Y)).update(ot)}}),d.Stop=d.invent({create:"stop",inherit:d.Element,extend:{update:function(Y){return(typeof Y=="number"||Y instanceof d.Number)&&(Y={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),Y.opacity!=null&&this.attr("stop-opacity",Y.opacity),Y.color!=null&&this.attr("stop-color",Y.color),Y.offset!=null&&this.attr("offset",new d.Number(Y.offset)),this}}}),d.Pattern=d.invent({create:"pattern",inherit:d.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(Y){return this.clear(),typeof Y=="function"&&Y.call(this,this),this},toString:function(){return this.fill()},attr:function(Y,ot,zt){return Y=="transform"&&(Y="patternTransform"),d.Container.prototype.attr.call(this,Y,ot,zt)}},construct:{pattern:function(Y,ot,zt){return this.defs().pattern(Y,ot,zt)}}}),d.extend(d.Defs,{pattern:function(Y,ot,zt){return this.put(new d.Pattern).update(zt).attr({x:0,y:0,width:Y,height:ot,patternUnits:"userSpaceOnUse"})}}),d.Shape=d.invent({create:function(Y){this.constructor.call(this,Y)},inherit:d.Element}),d.Symbol=d.invent({create:"symbol",inherit:d.Container,construct:{symbol:function(){return this.put(new d.Symbol)}}}),d.Use=d.invent({create:"use",inherit:d.Shape,extend:{element:function(Y,ot){return this.attr("href",(ot||"")+"#"+Y,d.xlink)}},construct:{use:function(Y,ot){return this.put(new d.Use).element(Y,ot)}}}),d.Rect=d.invent({create:"rect",inherit:d.Shape,construct:{rect:function(Y,ot){return this.put(new d.Rect).size(Y,ot)}}}),d.Circle=d.invent({create:"circle",inherit:d.Shape,construct:{circle:function(Y){return this.put(new d.Circle).rx(new d.Number(Y).divide(2)).move(0,0)}}}),d.extend(d.Circle,d.FX,{rx:function(Y){return this.attr("r",Y)},ry:function(Y){return this.rx(Y)}}),d.Ellipse=d.invent({create:"ellipse",inherit:d.Shape,construct:{ellipse:function(Y,ot){return this.put(new d.Ellipse).size(Y,ot).move(0,0)}}}),d.extend(d.Ellipse,d.Rect,d.FX,{rx:function(Y){return this.attr("rx",Y)},ry:function(Y){return this.attr("ry",Y)}}),d.extend(d.Circle,d.Ellipse,{x:function(Y){return Y==null?this.cx()-this.rx():this.cx(Y+this.rx())},y:function(Y){return Y==null?this.cy()-this.ry():this.cy(Y+this.ry())},cx:function(Y){return Y==null?this.attr("cx"):this.attr("cx",Y)},cy:function(Y){return Y==null?this.attr("cy"):this.attr("cy",Y)},width:function(Y){return Y==null?2*this.rx():this.rx(new d.Number(Y).divide(2))},height:function(Y){return Y==null?2*this.ry():this.ry(new d.Number(Y).divide(2))},size:function(Y,ot){var zt=rt(this,Y,ot);return this.rx(new d.Number(zt.width).divide(2)).ry(new d.Number(zt.height).divide(2))}}),d.Line=d.invent({create:"line",inherit:d.Shape,extend:{array:function(){return new d.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(Y,ot,zt,jt){return Y==null?this.array():(Y=ot!==void 0?{x1:Y,y1:ot,x2:zt,y2:jt}:new d.PointArray(Y).toLine(),this.attr(Y))},move:function(Y,ot){return this.attr(this.array().move(Y,ot).toLine())},size:function(Y,ot){var zt=rt(this,Y,ot);return this.attr(this.array().size(zt.width,zt.height).toLine())}},construct:{line:function(Y,ot,zt,jt){return d.Line.prototype.plot.apply(this.put(new d.Line),Y!=null?[Y,ot,zt,jt]:[0,0,0,0])}}}),d.Polyline=d.invent({create:"polyline",inherit:d.Shape,construct:{polyline:function(Y){return this.put(new d.Polyline).plot(Y||new d.PointArray)}}}),d.Polygon=d.invent({create:"polygon",inherit:d.Shape,construct:{polygon:function(Y){return this.put(new d.Polygon).plot(Y||new d.PointArray)}}}),d.extend(d.Polyline,d.Polygon,{array:function(){return this._array||(this._array=new d.PointArray(this.attr("points")))},plot:function(Y){return Y==null?this.array():this.clear().attr("points",typeof Y=="string"?Y:this._array=new d.PointArray(Y))},clear:function(){return delete this._array,this},move:function(Y,ot){return this.attr("points",this.array().move(Y,ot))},size:function(Y,ot){var zt=rt(this,Y,ot);return this.attr("points",this.array().size(zt.width,zt.height))}}),d.extend(d.Line,d.Polyline,d.Polygon,{morphArray:d.PointArray,x:function(Y){return Y==null?this.bbox().x:this.move(Y,this.bbox().y)},y:function(Y){return Y==null?this.bbox().y:this.move(this.bbox().x,Y)},width:function(Y){var ot=this.bbox();return Y==null?ot.width:this.size(Y,ot.height)},height:function(Y){var ot=this.bbox();return Y==null?ot.height:this.size(ot.width,Y)}}),d.Path=d.invent({create:"path",inherit:d.Shape,extend:{morphArray:d.PathArray,array:function(){return this._array||(this._array=new d.PathArray(this.attr("d")))},plot:function(Y){return Y==null?this.array():this.clear().attr("d",typeof Y=="string"?Y:this._array=new d.PathArray(Y))},clear:function(){return delete this._array,this}},construct:{path:function(Y){return this.put(new d.Path).plot(Y||new d.PathArray)}}}),d.Image=d.invent({create:"image",inherit:d.Shape,extend:{load:function(Y){if(!Y)return this;var ot=this,zt=new $t.Image;return d.on(zt,"load",function(){d.off(zt);var jt=ot.parent(d.Pattern);jt!==null&&(ot.width()==0&&ot.height()==0&&ot.size(zt.width,zt.height),jt&&jt.width()==0&&jt.height()==0&&jt.size(ot.width(),ot.height()),typeof ot._loaded=="function"&&ot._loaded.call(ot,{width:zt.width,height:zt.height,ratio:zt.width/zt.height,url:Y}))}),d.on(zt,"error",function(jt){d.off(zt),typeof ot._error=="function"&&ot._error.call(ot,jt)}),this.attr("href",zt.src=this.src=Y,d.xlink)},loaded:function(Y){return this._loaded=Y,this},error:function(Y){return this._error=Y,this}},construct:{image:function(Y,ot,zt){return this.put(new d.Image).load(Y).size(ot||0,zt||ot||0)}}}),d.Text=d.invent({create:function(){this.constructor.call(this,d.create("text")),this.dom.leading=new d.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",d.defaults.attrs["font-family"])},inherit:d.Shape,extend:{x:function(Y){return Y==null?this.attr("x"):this.attr("x",Y)},text:function(Y){if(Y===void 0){Y="";for(var ot=this.node.childNodes,zt=0,jt=ot.length;zt<jt;++zt)zt!=0&&ot[zt].nodeType!=3&&d.adopt(ot[zt]).dom.newLined==1&&(Y+=`
`),Y+=ot[zt].textContent;return Y}if(this.clear().build(!0),typeof Y=="function")Y.call(this,this);else{zt=0;for(var xe=(Y=Y.split(`
`)).length;zt<xe;zt++)this.tspan(Y[zt]).newLine()}return this.build(!1).rebuild()},size:function(Y){return this.attr("font-size",Y).rebuild()},leading:function(Y){return Y==null?this.dom.leading:(this.dom.leading=new d.Number(Y),this.rebuild())},lines:function(){var Y=(this.textPath&&this.textPath()||this).node,ot=d.utils.map(d.utils.filterSVGElements(Y.childNodes),function(zt){return d.adopt(zt)});return new d.Set(ot)},rebuild:function(Y){if(typeof Y=="boolean"&&(this._rebuild=Y),this._rebuild){var ot=this,zt=0,jt=this.dom.leading*new d.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(ot.textPath()||this.attr("x",ot.attr("x")),this.text()==`
`?zt+=jt:(this.attr("dy",jt+zt),zt=0))}),this.fire("rebuild")}return this},build:function(Y){return this._build=!!Y,this},setData:function(Y){return this.dom=Y,this.dom.leading=new d.Number(Y.leading||1.3),this}},construct:{text:function(Y){return this.put(new d.Text).text(Y)},plain:function(Y){return this.put(new d.Text).plain(Y)}}}),d.Tspan=d.invent({create:"tspan",inherit:d.Shape,extend:{text:function(Y){return Y==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof Y=="function"?Y.call(this,this):this.plain(Y),this)},dx:function(Y){return this.attr("dx",Y)},dy:function(Y){return this.attr("dy",Y)},newLine:function(){var Y=this.parent(d.Text);return this.dom.newLined=!0,this.dy(Y.dom.leading*Y.attr("font-size")).attr("x",Y.x())}}}),d.extend(d.Text,d.Tspan,{plain:function(Y){return this._build===!1&&this.clear(),this.node.appendChild(h.createTextNode(Y)),this},tspan:function(Y){var ot=(this.textPath&&this.textPath()||this).node,zt=new d.Tspan;return this._build===!1&&this.clear(),ot.appendChild(zt.node),zt.text(Y)},clear:function(){for(var Y=(this.textPath&&this.textPath()||this).node;Y.hasChildNodes();)Y.removeChild(Y.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),d.TextPath=d.invent({create:"textPath",inherit:d.Parent,parent:d.Text,construct:{morphArray:d.PathArray,array:function(){var Y=this.track();return Y?Y.array():null},plot:function(Y){var ot=this.track(),zt=null;return ot&&(zt=ot.plot(Y)),Y==null?zt:this},track:function(){var Y=this.textPath();if(Y)return Y.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return d.adopt(this.node.firstChild)}}}),d.Nested=d.invent({create:function(){this.constructor.call(this,d.create("svg")),this.style("overflow","visible")},inherit:d.Container,construct:{nested:function(){return this.put(new d.Nested)}}});var P={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(Y,ot){return ot=="color"?Y:Y+"-"+ot}};function V(Y,ot,zt,jt){return zt+jt.replace(d.regex.dots," .")}function G(Y){return Y.toLowerCase().replace(/-(.)/g,function(ot,zt){return zt.toUpperCase()})}function K(Y){return Y.charAt(0).toUpperCase()+Y.slice(1)}function J(Y){var ot=Y.toString(16);return ot.length==1?"0"+ot:ot}function rt(Y,ot,zt){if(ot==null||zt==null){var jt=Y.bbox();ot==null?ot=jt.width/jt.height*zt:zt==null&&(zt=jt.height/jt.width*ot)}return{width:ot,height:zt}}function vt(Y,ot,zt){return{x:ot*Y.a+zt*Y.c+0,y:ot*Y.b+zt*Y.d+0}}function Lt(Y){return{a:Y[0],b:Y[1],c:Y[2],d:Y[3],e:Y[4],f:Y[5]}}function Et(Y){for(var ot=Y.childNodes.length-1;ot>=0;ot--)Y.childNodes[ot]instanceof $t.SVGElement&&Et(Y.childNodes[ot]);return d.adopt(Y).id(d.eid(Y.nodeName))}function Qt(Y){return Y.x==null&&(Y.x=0,Y.y=0,Y.width=0,Y.height=0),Y.w=Y.width,Y.h=Y.height,Y.x2=Y.x+Y.width,Y.y2=Y.y+Y.height,Y.cx=Y.x+Y.width/2,Y.cy=Y.y+Y.height/2,Y}function ue(Y){return Math.abs(Y)>1e-37?Y:0}["fill","stroke"].forEach(function(Y){var ot={};ot[Y]=function(zt){if(zt===void 0)return this;if(typeof zt=="string"||d.Color.isRgb(zt)||zt&&typeof zt.fill=="function")this.attr(Y,zt);else for(var jt=P[Y].length-1;jt>=0;jt--)zt[P[Y][jt]]!=null&&this.attr(P.prefix(Y,P[Y][jt]),zt[P[Y][jt]]);return this},d.extend(d.Element,d.FX,ot)}),d.extend(d.Element,d.FX,{translate:function(Y,ot){return this.transform({x:Y,y:ot})},matrix:function(Y){return this.attr("transform",new d.Matrix(arguments.length==6?[].slice.call(arguments):Y))},opacity:function(Y){return this.attr("opacity",Y)},dx:function(Y){return this.x(new d.Number(Y).plus(this instanceof d.FX?0:this.x()),!0)},dy:function(Y){return this.y(new d.Number(Y).plus(this instanceof d.FX?0:this.y()),!0)}}),d.extend(d.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(Y){return this.node.getPointAtLength(Y)}}),d.Set=d.invent({create:function(Y){Array.isArray(Y)?this.members=Y:this.clear()},extend:{add:function(){for(var Y=[].slice.call(arguments),ot=0,zt=Y.length;ot<zt;ot++)this.members.push(Y[ot]);return this},remove:function(Y){var ot=this.index(Y);return ot>-1&&this.members.splice(ot,1),this},each:function(Y){for(var ot=0,zt=this.members.length;ot<zt;ot++)Y.apply(this.members[ot],[ot,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(Y){return this.index(Y)>=0},index:function(Y){return this.members.indexOf(Y)},get:function(Y){return this.members[Y]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(Y){return new d.Set(Y)}}}),d.FX.Set=d.invent({create:function(Y){this.set=Y}}),d.Set.inherit=function(){var Y=[];for(var ot in d.Shape.prototype)typeof d.Shape.prototype[ot]=="function"&&typeof d.Set.prototype[ot]!="function"&&Y.push(ot);for(var ot in Y.forEach(function(jt){d.Set.prototype[jt]=function(){for(var xe=0,an=this.members.length;xe<an;xe++)this.members[xe]&&typeof this.members[xe][jt]=="function"&&this.members[xe][jt].apply(this.members[xe],arguments);return jt=="animate"?this.fx||(this.fx=new d.FX.Set(this)):this}}),Y=[],d.FX.prototype)typeof d.FX.prototype[ot]=="function"&&typeof d.FX.Set.prototype[ot]!="function"&&Y.push(ot);Y.forEach(function(zt){d.FX.Set.prototype[zt]=function(){for(var jt=0,xe=this.set.members.length;jt<xe;jt++)this.set.members[jt].fx[zt].apply(this.set.members[jt].fx,arguments);return this}})},d.extend(d.Element,{}),d.extend(d.Element,{remember:function(Y,ot){if(wt(arguments[0])==="object")for(var zt in Y)this.remember(zt,Y[zt]);else{if(arguments.length==1)return this.memory()[Y];this.memory()[Y]=ot}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var Y=arguments.length-1;Y>=0;Y--)delete this.memory()[arguments[Y]];return this},memory:function(){return this._memory||(this._memory={})}}),d.get=function(Y){var ot=h.getElementById(function(zt){var jt=(zt||"").toString().match(d.regex.reference);if(jt)return jt[1]}(Y)||Y);return d.adopt(ot)},d.select=function(Y,ot){return new d.Set(d.utils.map((ot||h).querySelectorAll(Y),function(zt){return d.adopt(zt)}))},d.extend(d.Parent,{select:function(Y){return d.select(Y,this.node)}});var Ce="abcdef".split("");if(typeof $t.CustomEvent!="function"){var de=function(Y,ot){ot=ot||{bubbles:!1,cancelable:!1,detail:void 0};var zt=h.createEvent("CustomEvent");return zt.initCustomEvent(Y,ot.bubbles,ot.cancelable,ot.detail),zt};de.prototype=$t.Event.prototype,d.CustomEvent=de}else d.CustomEvent=$t.CustomEvent;return d},typeof define=="function"&&define.amd?define(function(){return Jn(ei,ei.document)}):(typeof bh>"u"?"undefined":wt(bh))==="object"&&typeof Xl<"u"?Xl.exports=ei.document?Jn(ei,ei.document):function($t){return Jn($t,$t.document)}:ei.SVG=Jn(ei,ei.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(P,V){return this.add(P,V),!P.attr("in")&&this.autoSetIn&&P.attr("in",this.source),P.attr("result")||P.attr("result",P),P},blend:function(P,V,G){return this.put(new SVG.BlendEffect(P,V,G))},colorMatrix:function(P,V){return this.put(new SVG.ColorMatrixEffect(P,V))},convolveMatrix:function(P){return this.put(new SVG.ConvolveMatrixEffect(P))},componentTransfer:function(P){return this.put(new SVG.ComponentTransferEffect(P))},composite:function(P,V,G){return this.put(new SVG.CompositeEffect(P,V,G))},flood:function(P,V){return this.put(new SVG.FloodEffect(P,V))},offset:function(P,V){return this.put(new SVG.OffsetEffect(P,V))},image:function(P){return this.put(new SVG.ImageEffect(P))},merge:function(){var P=[void 0];for(var V in arguments)P.push(arguments[V]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,P)))},gaussianBlur:function(P,V){return this.put(new SVG.GaussianBlurEffect(P,V))},morphology:function(P,V){return this.put(new SVG.MorphologyEffect(P,V))},diffuseLighting:function(P,V,G){return this.put(new SVG.DiffuseLightingEffect(P,V,G))},displacementMap:function(P,V,G,K,J){return this.put(new SVG.DisplacementMapEffect(P,V,G,K,J))},specularLighting:function(P,V,G,K){return this.put(new SVG.SpecularLightingEffect(P,V,G,K))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(P,V,G,K,J){return this.put(new SVG.TurbulenceEffect(P,V,G,K,J))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(P){var V=this.put(new SVG.Filter);return typeof P=="function"&&P.call(V,V),V}}),SVG.extend(SVG.Container,{filter:function(P){return this.defs().filter(P)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(P){return this.filterer=P instanceof SVG.Element?P:this.doc().filter(P),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(P){return this.filterer&&P===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(P){return P==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",P)},result:function(P){return P==null?this.attr("result"):this.attr("result",P)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(P){return P==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",P)},result:function(P){return P==null?this.attr("result"):this.attr("result",P)},toString:function(){return this.result()}}});var $t={blend:function(P,V){return this.parent()&&this.parent().blend(this,P,V)},colorMatrix:function(P,V){return this.parent()&&this.parent().colorMatrix(P,V).in(this)},convolveMatrix:function(P){return this.parent()&&this.parent().convolveMatrix(P).in(this)},componentTransfer:function(P){return this.parent()&&this.parent().componentTransfer(P).in(this)},composite:function(P,V){return this.parent()&&this.parent().composite(this,P,V)},flood:function(P,V){return this.parent()&&this.parent().flood(P,V)},offset:function(P,V){return this.parent()&&this.parent().offset(P,V).in(this)},image:function(P){return this.parent()&&this.parent().image(P)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(P,V){return this.parent()&&this.parent().gaussianBlur(P,V).in(this)},morphology:function(P,V){return this.parent()&&this.parent().morphology(P,V).in(this)},diffuseLighting:function(P,V,G){return this.parent()&&this.parent().diffuseLighting(P,V,G).in(this)},displacementMap:function(P,V,G,K){return this.parent()&&this.parent().displacementMap(this,P,V,G,K)},specularLighting:function(P,V,G,K){return this.parent()&&this.parent().specularLighting(P,V,G,K).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(P,V,G,K,J){return this.parent()&&this.parent().turbulence(P,V,G,K,J).in(this)}};SVG.extend(SVG.Effect,$t),SVG.extend(SVG.ParentEffect,$t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(P){this.attr("in",P)}}});var h={blend:function(P,V,G){this.attr({in:P,in2:V,mode:G||"normal"})},colorMatrix:function(P,V){P=="matrix"&&(V=C(V)),this.attr({type:P,values:V===void 0?null:V})},convolveMatrix:function(P){P=C(P),this.attr({order:Math.sqrt(P.split(" ").length),kernelMatrix:P})},composite:function(P,V,G){this.attr({in:P,in2:V,operator:G})},flood:function(P,V){this.attr("flood-color",P),V!=null&&this.attr("flood-opacity",V)},offset:function(P,V){this.attr({dx:P,dy:V})},image:function(P){this.attr("href",P,SVG.xlink)},displacementMap:function(P,V,G,K,J){this.attr({in:P,in2:V,scale:G,xChannelSelector:K,yChannelSelector:J})},gaussianBlur:function(P,V){P!=null||V!=null?this.attr("stdDeviation",M(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(P,V){this.attr({operator:P,radius:V})},tile:function(){},turbulence:function(P,V,G,K,J){this.attr({numOctaves:V,seed:G,stitchTiles:K,baseFrequency:P,type:J})}},d={merge:function(){var P;if(arguments[0]instanceof SVG.Set){var V=this;arguments[0].each(function(K){this instanceof SVG.MergeNode?V.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&V.put(new SVG.MergeNode(this))})}else{P=Array.isArray(arguments[0])?arguments[0]:arguments;for(var G=0;G<P.length;G++)P[G]instanceof SVG.MergeNode?this.put(P[G]):this.put(new SVG.MergeNode(P[G]))}},componentTransfer:function(P){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(G){this[G]=new SVG["Func"+G.toUpperCase()]("identity"),this.rgb.add(this[G]),this.node.appendChild(this[G].node)}.bind(this)),P)for(var V in P.rgb&&(["r","g","b"].forEach(function(G){this[G].attr(P.rgb)}.bind(this)),delete P.rgb),P)this[V].attr(P[V])},diffuseLighting:function(P,V,G){this.attr({surfaceScale:P,diffuseConstant:V,kernelUnitLength:G})},specularLighting:function(P,V,G,K){this.attr({surfaceScale:P,diffuseConstant:V,specularExponent:G,kernelUnitLength:K})}},y={distantLight:function(P,V){this.attr({azimuth:P,elevation:V})},pointLight:function(P,V,G){this.attr({x:P,y:V,z:G})},spotLight:function(P,V,G,K,J,rt){this.attr({x:P,y:V,z:G,pointsAtX:K,pointsAtY:J,pointsAtZ:rt})},mergeNode:function(P){this.attr("in",P)}};function C(P){return Array.isArray(P)&&(P=new SVG.Array(P)),P.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function M(P){if(!Array.isArray(P))return P;for(var V=0,G=P.length,K=[];V<G;V++)K.push(P[V]);return K.join(" ")}function N(){var P=function(){};for(var V in typeof arguments[arguments.length-1]=="function"&&(P=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var G in arguments[V])P(arguments[V][G],G,arguments[V])}["r","g","b","a"].forEach(function(P){y["Func"+P.toUpperCase()]=function(V){switch(this.attr("type",V),V){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),N(h,function(P,V){var G=V.charAt(0).toUpperCase()+V.slice(1);SVG[G+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+G)),P.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),N(d,function(P,V){var G=V.charAt(0).toUpperCase()+V.slice(1);SVG[G+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+G)),P.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),N(y,function(P,V){var G=V.charAt(0).toUpperCase()+V.slice(1);SVG[G]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+G)),P.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(P){return P instanceof SVG.MergeNode?this.add(P,0):this.add(new SVG.MergeNode(P),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(P){return P==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",P)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function $t(M,N,P,V,G,K,J){for(var rt=M.slice(N,P||J),vt=V.slice(G,K||J),Lt=0,Et={pos:[0,0],start:[0,0]},Qt={pos:[0,0],start:[0,0]};rt[Lt]=h.call(Et,rt[Lt]),vt[Lt]=h.call(Qt,vt[Lt]),rt[Lt][0]!=vt[Lt][0]||rt[Lt][0]=="M"||rt[Lt][0]=="A"&&(rt[Lt][4]!=vt[Lt][4]||rt[Lt][5]!=vt[Lt][5])?(Array.prototype.splice.apply(rt,[Lt,1].concat(y.call(Et,rt[Lt]))),Array.prototype.splice.apply(vt,[Lt,1].concat(y.call(Qt,vt[Lt])))):(rt[Lt]=d.call(Et,rt[Lt]),vt[Lt]=d.call(Qt,vt[Lt])),!(++Lt==rt.length&&Lt==vt.length);)Lt==rt.length&&rt.push(["C",Et.pos[0],Et.pos[1],Et.pos[0],Et.pos[1],Et.pos[0],Et.pos[1]]),Lt==vt.length&&vt.push(["C",Qt.pos[0],Qt.pos[1],Qt.pos[0],Qt.pos[1],Qt.pos[0],Qt.pos[1]]);return{start:rt,dest:vt}}function h(M){switch(M[0]){case"z":case"Z":M[0]="L",M[1]=this.start[0],M[2]=this.start[1];break;case"H":M[0]="L",M[2]=this.pos[1];break;case"V":M[0]="L",M[2]=M[1],M[1]=this.pos[0];break;case"T":M[0]="Q",M[3]=M[1],M[4]=M[2],M[1]=this.reflection[1],M[2]=this.reflection[0];break;case"S":M[0]="C",M[6]=M[4],M[5]=M[3],M[4]=M[2],M[3]=M[1],M[2]=this.reflection[1],M[1]=this.reflection[0]}return M}function d(M){var N=M.length;return this.pos=[M[N-2],M[N-1]],"SCQT".indexOf(M[0])!=-1&&(this.reflection=[2*this.pos[0]-M[N-4],2*this.pos[1]-M[N-3]]),M}function y(M){var N=[M];switch(M[0]){case"M":return this.pos=this.start=[M[1],M[2]],N;case"L":M[5]=M[3]=M[1],M[6]=M[4]=M[2],M[1]=this.pos[0],M[2]=this.pos[1];break;case"Q":M[6]=M[4],M[5]=M[3],M[4]=1*M[4]/3+2*M[2]/3,M[3]=1*M[3]/3+2*M[1]/3,M[2]=1*this.pos[1]/3+2*M[2]/3,M[1]=1*this.pos[0]/3+2*M[1]/3;break;case"A":N=function(P,V){var G,K,J,rt,vt,Lt,Et,Qt,ue,Ce,de,Y,ot,zt,jt,xe,an,Qe,On,Pn,ii,ri,Wi,lr,xr,Ar,Er=Math.abs(V[1]),Qr=Math.abs(V[2]),ha=V[3]%360,ti=V[4],Js=V[5],xa=V[6],Wa=V[7],Mn=new SVG.Point(P),$r=new SVG.Point(xa,Wa),to=[];if(Er===0||Qr===0||Mn.x===$r.x&&Mn.y===$r.y)return[["C",Mn.x,Mn.y,$r.x,$r.y,$r.x,$r.y]];for(G=new SVG.Point((Mn.x-$r.x)/2,(Mn.y-$r.y)/2).transform(new SVG.Matrix().rotate(ha)),(K=G.x*G.x/(Er*Er)+G.y*G.y/(Qr*Qr))>1&&(Er*=K=Math.sqrt(K),Qr*=K),J=new SVG.Matrix().rotate(ha).scale(1/Er,1/Qr).rotate(-ha),Mn=Mn.transform(J),$r=$r.transform(J),rt=[$r.x-Mn.x,$r.y-Mn.y],Lt=rt[0]*rt[0]+rt[1]*rt[1],vt=Math.sqrt(Lt),rt[0]/=vt,rt[1]/=vt,Et=Lt<4?Math.sqrt(1-Lt/4):0,ti===Js&&(Et*=-1),Qt=new SVG.Point(($r.x+Mn.x)/2+Et*-rt[1],($r.y+Mn.y)/2+Et*rt[0]),ue=new SVG.Point(Mn.x-Qt.x,Mn.y-Qt.y),Ce=new SVG.Point($r.x-Qt.x,$r.y-Qt.y),de=Math.acos(ue.x/Math.sqrt(ue.x*ue.x+ue.y*ue.y)),ue.y<0&&(de*=-1),Y=Math.acos(Ce.x/Math.sqrt(Ce.x*Ce.x+Ce.y*Ce.y)),Ce.y<0&&(Y*=-1),Js&&de>Y&&(Y+=2*Math.PI),!Js&&de<Y&&(Y-=2*Math.PI),zt=Math.ceil(2*Math.abs(de-Y)/Math.PI),xe=[],an=de,ot=(Y-de)/zt,jt=4*Math.tan(ot/4)/3,ii=0;ii<=zt;ii++)On=Math.cos(an),Qe=Math.sin(an),Pn=new SVG.Point(Qt.x+On,Qt.y+Qe),xe[ii]=[new SVG.Point(Pn.x+jt*Qe,Pn.y-jt*On),Pn,new SVG.Point(Pn.x-jt*Qe,Pn.y+jt*On)],an+=ot;for(xe[0][0]=xe[0][1].clone(),xe[xe.length-1][2]=xe[xe.length-1][1].clone(),J=new SVG.Matrix().rotate(ha).scale(Er,Qr).rotate(-ha),ii=0,ri=xe.length;ii<ri;ii++)xe[ii][0]=xe[ii][0].transform(J),xe[ii][1]=xe[ii][1].transform(J),xe[ii][2]=xe[ii][2].transform(J);for(ii=1,ri=xe.length;ii<ri;ii++)Wi=(Pn=xe[ii-1][2]).x,lr=Pn.y,xr=(Pn=xe[ii][0]).x,Ar=Pn.y,xa=(Pn=xe[ii][1]).x,Wa=Pn.y,to.push(["C",Wi,lr,xr,Ar,xa,Wa]);return to}(this.pos,M),M=N[0]}return M[0]="C",this.pos=[M[5],M[6]],this.reflection=[2*M[5]-M[3],2*M[6]-M[4]],N}function C(M,N){if(N===!1)return!1;for(var P=N,V=M.length;P<V;++P)if(M[P][0]=="M")return P;return!1}SVG.extend(SVG.PathArray,{morph:function(M){for(var N=this.value,P=this.parse(M),V=0,G=0,K=!1,J=!1;V!==!1||G!==!1;){var rt;K=C(N,V!==!1&&V+1),J=C(P,G!==!1&&G+1),V===!1&&(V=(rt=new SVG.PathArray(vt.start).bbox()).height==0||rt.width==0?N.push(N[0])-1:N.push(["M",rt.x+rt.width/2,rt.y+rt.height/2])-1),G===!1&&(G=(rt=new SVG.PathArray(vt.dest).bbox()).height==0||rt.width==0?P.push(P[0])-1:P.push(["M",rt.x+rt.width/2,rt.y+rt.height/2])-1);var vt=$t(N,V,K,P,G,J);N=N.slice(0,V).concat(vt.start,K===!1?[]:N.slice(K)),P=P.slice(0,G).concat(vt.dest,J===!1?[]:P.slice(J)),V=K!==!1&&V+vt.start.length,G=J!==!1&&G+vt.dest.length}return this.value=N,this.destination=new SVG.PathArray,this.destination.value=P,this}})}(),function(){function $t(h){h.remember("_draggable",this),this.el=h}$t.prototype.init=function(h,d){var y=this;this.constraint=h,this.value=d,this.el.on("mousedown.drag",function(C){y.start(C)}),this.el.on("touchstart.drag",function(C){y.start(C)})},$t.prototype.transformPoint=function(h,d){var y=(h=h||window.event).changedTouches&&h.changedTouches[0]||h;return this.p.x=y.clientX-(d||0),this.p.y=y.clientY,this.p.matrixTransform(this.m)},$t.prototype.getBBox=function(){var h=this.el.bbox();return this.el instanceof SVG.Nested&&(h=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(h.x=this.el.x(),h.y=this.el.y()),h},$t.prototype.start=function(h){if(h.type!="click"&&h.type!="mousedown"&&h.type!="mousemove"||(h.which||h.buttons)==1){var d=this;if(this.el.fire("beforedrag",{event:h,handler:this}),!this.el.event().defaultPrevented){h.preventDefault(),h.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var y,C=this.getBBox();if(this.el instanceof SVG.Text)switch(y=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":y/=2;break;case"start":y=0}this.startPoints={point:this.transformPoint(h,y),box:C,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(M){d.drag(M)}),SVG.on(window,"touchmove.drag",function(M){d.drag(M)}),SVG.on(window,"mouseup.drag",function(M){d.end(M)}),SVG.on(window,"touchend.drag",function(M){d.end(M)}),this.el.fire("dragstart",{event:h,p:this.startPoints.point,m:this.m,handler:this})}}},$t.prototype.drag=function(h){var d=this.getBBox(),y=this.transformPoint(h),C=this.startPoints.box.x+y.x-this.startPoints.point.x,M=this.startPoints.box.y+y.y-this.startPoints.point.y,N=this.constraint,P=y.x-this.startPoints.point.x,V=y.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:h,p:y,m:this.m,handler:this}),this.el.event().defaultPrevented)return y;if(typeof N=="function"){var G=N.call(this.el,C,M,this.m);typeof G=="boolean"&&(G={x:G,y:G}),G.x===!0?this.el.x(C):G.x!==!1&&this.el.x(G.x),G.y===!0?this.el.y(M):G.y!==!1&&this.el.y(G.y)}else typeof N=="object"&&(N.minX!=null&&C<N.minX?P=(C=N.minX)-this.startPoints.box.x:N.maxX!=null&&C>N.maxX-d.width&&(P=(C=N.maxX-d.width)-this.startPoints.box.x),N.minY!=null&&M<N.minY?V=(M=N.minY)-this.startPoints.box.y:N.maxY!=null&&M>N.maxY-d.height&&(V=(M=N.maxY-d.height)-this.startPoints.box.y),N.snapToGrid!=null&&(C-=C%N.snapToGrid,M-=M%N.snapToGrid,P-=P%N.snapToGrid,V-=V%N.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:P,y:V},!0):this.el.move(C,M));return y},$t.prototype.end=function(h){var d=this.drag(h);this.el.fire("dragend",{event:h,p:d,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(h,d){typeof h!="function"&&typeof h!="object"||(d=h,h=!0);var y=this.remember("_draggable")||new $t(this);return(h=h===void 0||h)?y.init(d||{},h):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function $t(h){this.el=h,h.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(d,y,C){var M=typeof d!="string"?d:y[d];return C?M/2:M},this.pointCoords=function(d,y){var C=this.pointsList[d];return{x:this.pointCoord(C[0],y,d==="t"||d==="b"),y:this.pointCoord(C[1],y,d==="r"||d==="l")}}}$t.prototype.init=function(h,d){var y=this.el.bbox();this.options={};var C=this.el.selectize.defaults.points;for(var M in this.el.selectize.defaults)this.options[M]=this.el.selectize.defaults[M],d[M]!==void 0&&(this.options[M]=d[M]);var N=["points","pointsExclude"];for(var M in N){var P=this.options[N[M]];typeof P=="string"?P=P.length>0?P.split(/\s*,\s*/i):[]:typeof P=="boolean"&&N[M]==="points"&&(P=P?C:[]),this.options[N[M]]=P}this.options.points=[C,this.options.points].reduce(function(V,G){return V.filter(function(K){return G.indexOf(K)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(V,G){return V.filter(function(K){return G.indexOf(K)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(y.x,y.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(h):this.selectRect(h),this.observe(),this.cleanup()},$t.prototype.selectPoints=function(h){return this.pointSelection.isSelected=h,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},$t.prototype.getPointArray=function(){var h=this.el.bbox();return this.el.array().valueOf().map(function(d){return[d[0]-h.x,d[1]-h.y]})},$t.prototype.drawPoints=function(){for(var h=this,d=this.getPointArray(),y=0,C=d.length;y<C;++y){var M=function(P){return function(V){(V=V||window.event).preventDefault?V.preventDefault():V.returnValue=!1,V.stopPropagation();var G=V.pageX||V.touches[0].pageX,K=V.pageY||V.touches[0].pageY;h.el.fire("point",{x:G,y:K,i:P,event:V})}}(y),N=this.drawPoint(d[y][0],d[y][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",M).on("mousedown",M);this.pointSelection.set.add(N)}},$t.prototype.drawPoint=function(h,d){var y=this.options.pointType;switch(y){case"circle":return this.drawCircle(h,d);case"rect":return this.drawRect(h,d);default:if(typeof y=="function")return y.call(this,h,d);throw new Error("Unknown "+y+" point type!")}},$t.prototype.drawCircle=function(h,d){return this.nested.circle(this.options.pointSize).center(h,d)},$t.prototype.drawRect=function(h,d){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(h,d)},$t.prototype.updatePointSelection=function(){var h=this.getPointArray();this.pointSelection.set.each(function(d){this.cx()===h[d][0]&&this.cy()===h[d][1]||this.center(h[d][0],h[d][1])})},$t.prototype.updateRectSelection=function(){var h=this,d=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:d.width,height:d.height}),this.options.points.length&&this.options.points.map(function(C,M){var N=h.pointCoords(C,d);h.rectSelection.set.get(M+1).center(N.x,N.y)}),this.options.rotationPoint){var y=this.rectSelection.set.length();this.rectSelection.set.get(y-1).center(d.width/2,20)}},$t.prototype.selectRect=function(h){var d=this,y=this.el.bbox();function C(P){return function(V){(V=V||window.event).preventDefault?V.preventDefault():V.returnValue=!1,V.stopPropagation();var G=V.pageX||V.touches[0].pageX,K=V.pageY||V.touches[0].pageY;d.el.fire(P,{x:G,y:K,event:V})}}if(this.rectSelection.isSelected=h,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(y.width,y.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(P,V){var G=d.pointCoords(P,y),K=d.drawPoint(G.x,G.y).attr("class",d.options.classPoints+"_"+P).on("mousedown",C(P)).on("touchstart",C(P));d.rectSelection.set.add(K)}),this.rectSelection.set.each(function(){this.addClass(d.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var M=function(P){(P=P||window.event).preventDefault?P.preventDefault():P.returnValue=!1,P.stopPropagation();var V=P.pageX||P.touches[0].pageX,G=P.pageY||P.touches[0].pageY;d.el.fire("rot",{x:V,y:G,event:P})},N=this.drawPoint(y.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",M).on("mousedown",M);this.rectSelection.set.add(N)}},$t.prototype.handler=function(){var h=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(h.x,h.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},$t.prototype.observe=function(){var h=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){h.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){h.handler()})},$t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(h,d){return typeof h=="object"&&(d=h,h=!0),(this.remember("_selectHandler")||new $t(this)).init(h===void 0||h,d||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function $t(h){h.remember("_resizeHandler",this),this.el=h,this.parameters={},this.lastUpdateCall=null,this.p=h.doc().node.createSVGPoint()}$t.prototype.transformPoint=function(h,d,y){return this.p.x=h-(this.offset.x-window.pageXOffset),this.p.y=d-(this.offset.y-window.pageYOffset),this.p.matrixTransform(y||this.m)},$t.prototype._extractPosition=function(h){return{x:h.clientX!=null?h.clientX:h.touches[0].clientX,y:h.clientY!=null?h.clientY:h.touches[0].clientY}},$t.prototype.init=function(h){var d=this;if(this.stop(),h!=="stop"){for(var y in this.options={},this.el.resize.defaults)this.options[y]=this.el.resize.defaults[y],h[y]!==void 0&&(this.options[y]=h[y]);this.el.on("lt.resize",function(C){d.resize(C||window.event)}),this.el.on("rt.resize",function(C){d.resize(C||window.event)}),this.el.on("rb.resize",function(C){d.resize(C||window.event)}),this.el.on("lb.resize",function(C){d.resize(C||window.event)}),this.el.on("t.resize",function(C){d.resize(C||window.event)}),this.el.on("r.resize",function(C){d.resize(C||window.event)}),this.el.on("b.resize",function(C){d.resize(C||window.event)}),this.el.on("l.resize",function(C){d.resize(C||window.event)}),this.el.on("rot.resize",function(C){d.resize(C||window.event)}),this.el.on("point.resize",function(C){d.resize(C||window.event)}),this.update()}},$t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},$t.prototype.resize=function(h){var d=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var y=this._extractPosition(h.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(y.x,y.y),x:h.detail.x,y:h.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),h.detail.i!==void 0){var C=this.el.array().valueOf();this.parameters.i=h.detail.i,this.parameters.pointCoords=[C[h.detail.i][0],C[h.detail.i][1]]}switch(h.type){case"lt":this.calc=function(M,N){var P=this.snapToGrid(M,N);if(this.parameters.box.width-P[0]>0&&this.parameters.box.height-P[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+P[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-P[0]);P=this.checkAspectRatio(P),this.el.move(this.parameters.box.x+P[0],this.parameters.box.y+P[1]).size(this.parameters.box.width-P[0],this.parameters.box.height-P[1])}};break;case"rt":this.calc=function(M,N){var P=this.snapToGrid(M,N,2);if(this.parameters.box.width+P[0]>0&&this.parameters.box.height-P[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-P[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+P[0]);P=this.checkAspectRatio(P,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+P[1]).size(this.parameters.box.width+P[0],this.parameters.box.height-P[1])}};break;case"rb":this.calc=function(M,N){var P=this.snapToGrid(M,N,0);if(this.parameters.box.width+P[0]>0&&this.parameters.box.height+P[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-P[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+P[0]);P=this.checkAspectRatio(P),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+P[0],this.parameters.box.height+P[1])}};break;case"lb":this.calc=function(M,N){var P=this.snapToGrid(M,N,1);if(this.parameters.box.width-P[0]>0&&this.parameters.box.height+P[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+P[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-P[0]);P=this.checkAspectRatio(P,!0),this.el.move(this.parameters.box.x+P[0],this.parameters.box.y).size(this.parameters.box.width-P[0],this.parameters.box.height+P[1])}};break;case"t":this.calc=function(M,N){var P=this.snapToGrid(M,N,2);if(this.parameters.box.height-P[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+P[1]).height(this.parameters.box.height-P[1])}};break;case"r":this.calc=function(M,N){var P=this.snapToGrid(M,N,0);if(this.parameters.box.width+P[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+P[0])}};break;case"b":this.calc=function(M,N){var P=this.snapToGrid(M,N,0);if(this.parameters.box.height+P[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+P[1])}};break;case"l":this.calc=function(M,N){var P=this.snapToGrid(M,N,1);if(this.parameters.box.width-P[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+P[0],this.parameters.box.y).width(this.parameters.box.width-P[0])}};break;case"rot":this.calc=function(M,N){var P=M+this.parameters.p.x,V=N+this.parameters.p.y,G=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),K=Math.atan2(V-this.parameters.box.y-this.parameters.box.height/2,P-this.parameters.box.x-this.parameters.box.width/2),J=this.parameters.rotation+180*(K-G)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(J-J%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(M,N){var P=this.snapToGrid(M,N,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),V=this.el.array().valueOf();V[this.parameters.i][0]=this.parameters.pointCoords[0]+P[0],V[this.parameters.i][1]=this.parameters.pointCoords[1]+P[1],this.el.plot(V)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:h}),SVG.on(window,"touchmove.resize",function(M){d.update(M||window.event)}),SVG.on(window,"touchend.resize",function(){d.done()}),SVG.on(window,"mousemove.resize",function(M){d.update(M||window.event)}),SVG.on(window,"mouseup.resize",function(){d.done()})},$t.prototype.update=function(h){if(h){var d=this._extractPosition(h),y=this.transformPoint(d.x,d.y),C=y.x-this.parameters.p.x,M=y.y-this.parameters.p.y;this.lastUpdateCall=[C,M],this.calc(C,M),this.el.fire("resizing",{dx:C,dy:M,event:h})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},$t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},$t.prototype.snapToGrid=function(h,d,y,C){var M;return C!==void 0?M=[(y+h)%this.options.snapToGrid,(C+d)%this.options.snapToGrid]:(y=y??3,M=[(this.parameters.box.x+h+(1&y?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+d+(2&y?0:this.parameters.box.height))%this.options.snapToGrid]),h<0&&(M[0]-=this.options.snapToGrid),d<0&&(M[1]-=this.options.snapToGrid),h-=Math.abs(M[0])<this.options.snapToGrid/2?M[0]:M[0]-(h<0?-this.options.snapToGrid:this.options.snapToGrid),d-=Math.abs(M[1])<this.options.snapToGrid/2?M[1]:M[1]-(d<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(h,d,y,C)},$t.prototype.constraintToBox=function(h,d,y,C){var M,N,P=this.options.constraint||{};return C!==void 0?(M=y,N=C):(M=this.parameters.box.x+(1&y?0:this.parameters.box.width),N=this.parameters.box.y+(2&y?0:this.parameters.box.height)),P.minX!==void 0&&M+h<P.minX&&(h=P.minX-M),P.maxX!==void 0&&M+h>P.maxX&&(h=P.maxX-M),P.minY!==void 0&&N+d<P.minY&&(d=P.minY-N),P.maxY!==void 0&&N+d>P.maxY&&(d=P.maxY-N),[h,d]},$t.prototype.checkAspectRatio=function(h,d){if(!this.options.saveAspectRatio)return h;var y=h.slice(),C=this.parameters.box.width/this.parameters.box.height,M=this.parameters.box.width+h[0],N=this.parameters.box.height-h[1],P=M/N;return P<C?(y[1]=M/C-this.parameters.box.height,d&&(y[1]=-y[1])):P>C&&(y[0]=this.parameters.box.width-N*C,d&&(y[0]=-y[0])),y},SVG.extend(SVG.Element,{resize:function(h){return(this.remember("_resizeHandler")||new $t(this)).init(h||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var ur=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new te(this.ctx),this.ctx.axes=new Yi(this.ctx),this.ctx.core=new Gi(this.ctx.el,this.ctx),this.ctx.config=new ln({}),this.ctx.data=new Re(this.ctx),this.ctx.grid=new In(this.ctx),this.ctx.graphics=new Ft(this.ctx),this.ctx.coreUtils=new Kt(this.ctx),this.ctx.crosshairs=new wn(this.ctx),this.ctx.events=new Zn(this.ctx),this.ctx.exports=new un(this.ctx),this.ctx.localization=new Cr(this.ctx),this.ctx.options=new Gt,this.ctx.responsive=new zn(this.ctx),this.ctx.series=new We(this.ctx),this.ctx.theme=new Un(this.ctx),this.ctx.formatters=new pe(this.ctx),this.ctx.titleSubtitle=new _i(this.ctx),this.ctx.legend=new ve(this.ctx),this.ctx.toolbar=new Pe(this.ctx),this.ctx.tooltip=new jn(this.ctx),this.ctx.dimensions=new Tt(this.ctx),this.ctx.updateHelpers=new sr(this.ctx),this.ctx.zoomPanSelection=new Te(this.ctx),this.ctx.w.globals.tooltip=new jn(this.ctx)}}]),$t}(),er=function(){function $t(h){qt(this,$t),this.ctx=h,this.w=h.w}return Jt($t,[{key:"clear",value:function(h){var d=h.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:d})}},{key:"killSVG",value:function(h){h.each(function(d,y){this.removeClass("*"),this.off(),this.stop()},!0),h.ungroup(),h.clear()}},{key:"clearDomElements",value:function(h){var d=this,y=h.isUpdating,C=this.w.globals.dom.Paper.node;C.parentNode&&C.parentNode.parentNode&&!y&&(C.parentNode.parentNode.style.minHeight="unset");var M=this.w.globals.dom.baseEl;M&&this.ctx.eventList.forEach(function(P){M.removeEventListener(P,d.ctx.events.documentEvent)});var N=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(N.Paper),N.Paper.remove(),N.elWrap=null,N.elGraphical=null,N.elAnnotations=null,N.elLegendWrap=null,N.baseEl=null,N.elGridRect=null,N.elGridRectMask=null,N.elGridRectMarkerMask=null,N.elForecastMask=null,N.elNonForecastMask=null,N.elDefs=null}}]),$t}(),Jr=new WeakMap,Or=function(){function $t(h,d){qt(this,$t),this.opts=d,this.ctx=this,this.w=new Oe(d).init(),this.el=h,this.w.globals.cuid=ct.randomId(),this.w.globals.chartID=this.w.config.chart.id?ct.escapeString(this.w.config.chart.id):this.w.globals.cuid,new ur(this).initModules(),this.create=ct.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Jt($t,[{key:"render",value:function(){var h=this;return new Promise(function(d,y){if(h.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),h.w.config.chart.id&&Apex._chartInstances.push({id:h.w.globals.chartID,group:h.w.config.chart.group,chart:h}),h.setLocale(h.w.config.chart.defaultLocale);var C=h.w.config.chart.events.beforeMount;if(typeof C=="function"&&C(h,h.w),h.events.fireEvent("beforeMount",[h,h.w]),window.addEventListener("resize",h.windowResizeHandler),function(K,J){var rt=!1;if(K.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var vt=K.getBoundingClientRect();K.style.display!=="none"&&vt.width!==0||(rt=!0)}var Lt=new ResizeObserver(function(Et){rt&&J.call(K,Et),rt=!0});K.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(K.children).forEach(function(Et){return Lt.observe(Et)}):Lt.observe(K),Jr.set(J,Lt)}(h.el.parentNode,h.parentResizeHandler),!h.css){var M=h.el.getRootNode&&h.el.getRootNode(),N=ct.is("ShadowRoot",M),P=h.el.ownerDocument,V=P.getElementById("apexcharts-css");!N&&V||(h.css=document.createElement("style"),h.css.id="apexcharts-css",h.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-legend {	
  display: flex;	
  overflow: auto;	
  padding: 0 10px;	
}	
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
  flex-wrap: wrap	
}	
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
  flex-direction: column;	
  bottom: 0;	
}	
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
  justify-content: flex-start;	
}	
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
  justify-content: center;  	
}	
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
  justify-content: flex-end;	
}	
.apexcharts-legend-series {	
  cursor: pointer;	
  line-height: normal;	
}	
.apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
  display: flex;	
  align-items: center;	
}	
.apexcharts-legend-text {	
  position: relative;	
  font-size: 14px;	
}	
.apexcharts-legend-text *, .apexcharts-legend-marker * {	
  pointer-events: none;	
}	
.apexcharts-legend-marker {	
  position: relative;	
  display: inline-block;	
  cursor: pointer;	
  margin-right: 3px;	
  border-style: solid;
}	
  
.apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
  display: inline-block;	
}	
.apexcharts-legend-series.apexcharts-no-click {	
  cursor: auto;	
}	
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
  display: none !important;	
}	
.apexcharts-inactive-legend {	
  opacity: 0.45;	
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}
`,N?M.prepend(h.css):P.head.appendChild(h.css))}var G=h.create(h.w.config.series,{});if(!G)return d(h);h.mount(G).then(function(){typeof h.w.config.chart.events.mounted=="function"&&h.w.config.chart.events.mounted(h,h.w),h.events.fireEvent("mounted",[h,h.w]),d(G)}).catch(function(K){y(K)})}else y(new Error("Element not found"))})}},{key:"create",value:function(h,d){var y=this.w;new ur(this).initModules();var C=this.w.globals;if(C.noData=!1,C.animationEnded=!1,this.responsive.checkResponsiveConfig(d),y.config.xaxis.convertedCatToNumeric&&new rn(y.config).convertCatToNumericXaxis(y.config,this.ctx),this.el===null||(this.core.setupElements(),y.config.chart.type==="treemap"&&(y.config.grid.show=!1,y.config.yaxis[0].show=!1),C.svgWidth===0))return C.animationEnded=!0,null;var M=Kt.checkComboSeries(h);C.comboCharts=M.comboCharts,C.comboBarCount=M.comboBarCount;var N=h.every(function(J){return J.data&&J.data.length===0});(h.length===0||N)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(h),this.theme.init(),new ye(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),C.noData&&C.collapsedSeries.length!==C.series.length&&!y.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),C.axisCharts&&(this.core.coreCalculations(),y.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=y.globals.minX,this.ctx.toolbar.maxX=y.globals.maxX),this.formatters.heatmapLabelFormatters(),new Kt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var P=this.core.xySettings();this.grid.createGridMask();var V=this.core.plotChartType(h,P),G=new $e(this);G.bringForward(),y.config.dataLabels.background.enabled&&G.dataLabelsBackground(),this.core.shiftGraphPosition();var K={plot:{left:y.globals.translateX,top:y.globals.translateY,width:y.globals.gridWidth,height:y.globals.gridHeight}};return{elGraph:V,xyRatios:P,elInner:y.globals.dom.elGraphical,dimensions:K}}},{key:"mount",value:function(){var h=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=this,C=y.w;return new Promise(function(M,N){if(y.el===null)return N(new Error("Not enough data to display or target element not found"));(d===null||C.globals.allSeriesCollapsed)&&y.series.handleNoData(),y.grid=new In(y);var P=y.grid.drawGrid();if(y.annotations=new ie(y),y.annotations.drawImageAnnos(),y.annotations.drawTextAnnos(),C.config.grid.position==="back"&&P&&(C.globals.dom.elGraphical.add(P.el),P&&P.elGridBorders&&P.elGridBorders.node&&C.globals.dom.elGraphical.add(P.elGridBorders)),Array.isArray(d.elGraph))for(var V=0;V<d.elGraph.length;V++)C.globals.dom.elGraphical.add(d.elGraph[V]);else C.globals.dom.elGraphical.add(d.elGraph);C.config.grid.position==="front"&&P&&(C.globals.dom.elGraphical.add(P.el),P&&P.elGridBorders&&P.elGridBorders.node&&C.globals.dom.elGraphical.add(P.elGridBorders)),C.config.xaxis.crosshairs.position==="front"&&y.crosshairs.drawXCrosshairs(),C.config.yaxis[0].crosshairs.position==="front"&&y.crosshairs.drawYCrosshairs(),C.config.chart.type!=="treemap"&&y.axes.drawAxis(C.config.chart.type,P);var G=new he(h.ctx,P),K=new fi(h.ctx,P);if(P!==null&&(G.xAxisLabelCorrections(P.xAxisTickWidth),K.setYAxisTextAlignments(),C.config.yaxis.map(function(rt,vt){C.globals.ignoreYAxisIndexes.indexOf(vt)===-1&&K.yAxisTitleRotate(vt,rt.opposite)})),C.globals.dom.Paper.add(C.globals.dom.elAnnotations),y.annotations.drawAxesAnnotations(),!C.globals.noData){if(C.config.tooltip.enabled&&!C.globals.noData&&y.w.globals.tooltip.drawTooltip(d.xyRatios),C.globals.axisCharts&&(C.globals.isXNumeric||C.config.xaxis.convertedCatToNumeric||C.globals.isRangeBar))(C.config.chart.zoom.enabled||C.config.chart.selection&&C.config.chart.selection.enabled||C.config.chart.pan&&C.config.chart.pan.enabled)&&y.zoomPanSelection.init({xyRatios:d.xyRatios});else{var J=C.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(rt){J[rt]=!1})}C.config.chart.toolbar.show&&!C.globals.allSeriesCollapsed&&y.toolbar.createToolbar()}C.globals.memory.methodsToExec.length>0&&C.globals.memory.methodsToExec.forEach(function(rt){rt.method(rt.params,!1,rt.context)}),C.globals.axisCharts||C.globals.noData||y.core.resizeNonAxisCharts(),M(y)})}},{key:"destroy",value:function(){var h,d;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,h=this.parentResizeHandler,(d=Jr.get(h))&&(d.disconnect(),Jr.delete(h));var y=this.w.config.chart.id;y&&Apex._chartInstances.forEach(function(C,M){C.id===ct.escapeString(y)&&Apex._chartInstances.splice(M,1)}),new er(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(h){var d=this,y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],C=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],M=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],N=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],P=this.w;return P.globals.selection=void 0,h.series&&(this.series.resetSeries(!1,!0,!1),h.series.length&&h.series[0].data&&(h.series=h.series.map(function(V,G){return d.updateHelpers._extendSeries(V,G)})),this.updateHelpers.revertDefaultAxisMinMax()),h.xaxis&&(h=this.updateHelpers.forceXAxisUpdate(h)),h.yaxis&&(h=this.updateHelpers.forceYAxisUpdate(h)),P.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),h.theme&&(h=this.theme.updateThemeOptions(h)),this.updateHelpers._updateOptions(h,y,C,M,N)}},{key:"updateSeries",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,d,y)}},{key:"appendSeries",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],C=this.w.config.series.slice();return C.push(h),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(C,d,y)}},{key:"appendData",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=this;y.w.globals.dataChanged=!0,y.series.getPreviousPaths();for(var C=y.w.config.series.slice(),M=0;M<C.length;M++)if(h[M]!==null&&h[M]!==void 0)for(var N=0;N<h[M].data.length;N++)C[M].data.push(h[M].data[N]);return y.w.config.series=C,d&&(y.w.globals.initialSeries=ct.clone(y.w.config.series)),this.update()}},{key:"update",value:function(h){var d=this;return new Promise(function(y,C){new er(d.ctx).clear({isUpdating:!0});var M=d.create(d.w.config.series,h);if(!M)return y(d);d.mount(M).then(function(){typeof d.w.config.chart.events.updated=="function"&&d.w.config.chart.events.updated(d,d.w),d.events.fireEvent("updated",[d,d.w]),d.w.globals.isDirty=!0,y(d)}).catch(function(N){C(N)})})}},{key:"getSyncedCharts",value:function(){var h=this.getGroupedCharts(),d=[this];return h.length&&(d=[],h.forEach(function(y){d.push(y)})),d}},{key:"getGroupedCharts",value:function(){var h=this;return Apex._chartInstances.filter(function(d){if(d.group)return!0}).map(function(d){return h.w.config.chart.group===d.group?d.chart:h})}},{key:"toggleSeries",value:function(h){return this.series.toggleSeries(h)}},{key:"highlightSeriesOnLegendHover",value:function(h,d){return this.series.toggleSeriesOnHover(h,d)}},{key:"showSeries",value:function(h){this.series.showSeries(h)}},{key:"hideSeries",value:function(h){this.series.hideSeries(h)}},{key:"resetSeries",value:function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(h,d)}},{key:"addEventListener",value:function(h,d){this.events.addEventListener(h,d)}},{key:"removeEventListener",value:function(h,d){this.events.removeEventListener(h,d)}},{key:"addXaxisAnnotation",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,C=this;y&&(C=y),C.annotations.addXaxisAnnotationExternal(h,d,C)}},{key:"addYaxisAnnotation",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,C=this;y&&(C=y),C.annotations.addYaxisAnnotationExternal(h,d,C)}},{key:"addPointAnnotation",value:function(h){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,C=this;y&&(C=y),C.annotations.addPointAnnotationExternal(h,d,C)}},{key:"clearAnnotations",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,d=this;h&&(d=h),d.annotations.clearAnnotations(d)}},{key:"removeAnnotation",value:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,y=this;d&&(y=d),y.annotations.removeAnnotation(y,h)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(h,d){return this.coreUtils.getSeriesTotalsXRange(h,d)}},{key:"getHighestValueInSeries",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=new Gn(this.ctx);return d.getMinYMaxY(h).highestY}},{key:"getLowestValueInSeries",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=new Gn(this.ctx);return d.getMinYMaxY(h).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(h,d){return this.updateHelpers.toggleDataPointSelection(h,d)}},{key:"zoomX",value:function(h,d){this.ctx.toolbar.zoomUpdateOptions(h,d)}},{key:"setLocale",value:function(h){this.localization.setCurrentLocaleValues(h)}},{key:"dataURI",value:function(h){return new un(this.ctx).dataURI(h)}},{key:"exportToCSV",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=new un(this.ctx);return d.exportToCSV(h)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var h=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){h.w.globals.resized=!0,h.w.globals.dataChanged=!1,h.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var h=this.w.config.chart.redrawOnWindowResize;typeof h=="function"&&(h=h()),h&&this._windowResize()}}],[{key:"getChartByID",value:function(h){var d=ct.escapeString(h),y=Apex._chartInstances.filter(function(C){return C.id===d})[0];return y&&y.chart}},{key:"initOnLoad",value:function(){for(var h=document.querySelectorAll("[data-apexcharts]"),d=0;d<h.length;d++)new $t(h[d],JSON.parse(h[d].getAttribute("data-options"))).render()}},{key:"exec",value:function(h,d){var y=this.getChartByID(h);if(y){y.w.globals.isExecCalled=!0;var C=null;if(y.publicMethods.indexOf(d)!==-1){for(var M=arguments.length,N=new Array(M>2?M-2:0),P=2;P<M;P++)N[P-2]=arguments[P];C=y[d].apply(y,N)}return C}}},{key:"merge",value:function(h,d){return ct.extend(h,d)}}]),$t}();return Or});/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */(function(Ve,Wt){typeof bh=="object"&&typeof Xl<"u"?Xl.exports=Wt():typeof define=="function"&&define.amd?define(Wt):(Ve=typeof globalThis<"u"?globalThis:Ve||self).Chart=Wt()})(globalThis,function(){var Dl,Ll,Ol,wp,Wh,jh,zr,Hs,Ws,ts,js;var Ve=Object.freeze({__proto__:null,get Colors(){return ao},get Decimation(){return R1},get Filler(){return B1},get Legend(){return S0},get SubTitle(){return kr},get Title(){return ev},get Tooltip(){return fc}});function Wt(){}const wt=(()=>{let D=0;return()=>D++})();function qt(D){return D==null}function ke(D){if(Array.isArray&&Array.isArray(D))return!0;const x=Object.prototype.toString.call(D);return x.slice(0,7)==="[object"&&x.slice(-6)==="Array]"}function Jt(D){return D!==null&&Object.prototype.toString.call(D)==="[object Object]"}function re(D){return(typeof D=="number"||D instanceof Number)&&isFinite(+D)}function Zt(D,x){return re(D)?D:x}function Bt(D,x){return D===void 0?x:D}const yt=(D,x)=>typeof D=="string"&&D.endsWith("%")?parseFloat(D)/100:+D/x,pt=(D,x)=>typeof D=="string"&&D.endsWith("%")?parseFloat(D)/100*x:+D;function gt(D,x,k){if(D&&typeof D.call=="function")return D.apply(k,x)}function ft(D,x,k,O){let B,H,q;if(ke(D))if(H=D.length,O)for(B=H-1;B>=0;B--)x.call(k,D[B],B);else for(B=0;B<H;B++)x.call(k,D[B],B);else if(Jt(D))for(q=Object.keys(D),H=q.length,B=0;B<H;B++)x.call(k,D[q[B]],q[B])}function It(D,x){let k,O,B,H;if(!D||!x||D.length!==x.length)return!1;for(k=0,O=D.length;k<O;++k)if(B=D[k],H=x[k],B.datasetIndex!==H.datasetIndex||B.index!==H.index)return!1;return!0}function Mt(D){if(ke(D))return D.map(Mt);if(Jt(D)){const x=Object.create(null),k=Object.keys(D),O=k.length;let B=0;for(;B<O;++B)x[k[B]]=Mt(D[k[B]]);return x}return D}function Ct(D){return["__proto__","prototype","constructor"].indexOf(D)===-1}function ct(D,x,k,O){if(!Ct(D))return;const B=x[D],H=k[D];Jt(B)&&Jt(H)?te(B,H,O):x[D]=Mt(H)}function te(D,x,k){const O=ke(x)?x:[x],B=O.length;if(!Jt(D))return D;const H=(k=k||{}).merger||ct;let q;for(let et=0;et<B;++et){if(q=O[et],!Jt(q))continue;const at=Object.keys(q);for(let dt=0,Nt=at.length;dt<Nt;++dt)H(at[dt],D,q,k)}return D}function At(D,x){return te(D,x,{merger:Ft})}function Ft(D,x,k){if(!Ct(D))return;const O=x[D],B=k[D];Jt(O)&&Jt(B)?At(O,B):Object.prototype.hasOwnProperty.call(x,D)||(x[D]=Mt(B))}const Kt={"":D=>D,x:D=>D.x,y:D=>D.y};function se(D){const x=D.split("."),k=[];let O="";for(const B of x)O+=B,O.endsWith("\\")?O=O.slice(0,-1)+".":(k.push(O),O="");return k}function Me(D,x){return(Kt[x]||(Kt[x]=function(O){const B=se(O);return H=>{for(const q of B){if(q==="")break;H=H&&H[q]}return H}}(x)))(D)}function fe(D){return D.charAt(0).toUpperCase()+D.slice(1)}const ne=D=>D!==void 0,Ht=D=>typeof D=="function",Gt=(D,x)=>{if(D.size!==x.size)return!1;for(const k of D)if(!x.has(k))return!1;return!0};function ie(D){return D.type==="mouseup"||D.type==="click"||D.type==="contextmenu"}const Le=Math.PI,pe=2*Le,De=pe+Le,Bn=Number.POSITIVE_INFINITY,rn=Le/180,ln=Le/2,oe=Le/4,Oe=2*Le/3,U=Math.log10,ye=Math.sign;function cn(D,x,k){return Math.abs(D-x)<k}function $e(D){const x=Math.round(D);D=cn(D,x,D/1e3)?x:D;const k=Math.pow(10,Math.floor(U(D))),O=D/k;return(O<=1?1:O<=2?2:O<=5?5:10)*k}function We(D){const x=[],k=Math.sqrt(D);let O;for(O=1;O<k;O++)D%O==0&&(x.push(O),x.push(D/O));return k===(0|k)&&x.push(k),x.sort((B,H)=>B-H).pop(),x}function Re(D){return!isNaN(parseFloat(D))&&isFinite(D)}function Be(D,x){const k=Math.round(D);return k-x<=D&&k+x>=D}function un(D,x,k){let O,B,H;for(O=0,B=D.length;O<B;O++)H=D[O][k],isNaN(H)||(x.min=Math.min(x.min,H),x.max=Math.max(x.max,H))}function he(D){return D*(Le/180)}function In(D){return D*(180/Le)}function kn(D){if(!re(D))return;let x=1,k=0;for(;Math.round(D*x)/x!==D;)x*=10,k++;return k}function Gn(D,x){const k=x.x-D.x,O=x.y-D.y,B=Math.sqrt(k*k+O*O);let H=Math.atan2(O,k);return H<-.5*Le&&(H+=pe),{angle:H,distance:B}}function fi(D,x){return Math.sqrt(Math.pow(x.x-D.x,2)+Math.pow(x.y-D.y,2))}function Zn(D,x){return(D-x+De)%pe-Le}function Cr(D){return(D%pe+pe)%pe}function Yi(D,x,k,O){const B=Cr(D),H=Cr(x),q=Cr(k),et=Cr(H-B),at=Cr(q-B),dt=Cr(B-H),Nt=Cr(B-q);return B===H||B===q||O&&H===q||et>at&&dt<Nt}function wn(D,x,k){return Math.max(x,Math.min(k,D))}function zn(D){return wn(D,-32768,32767)}function Un(D,x,k,O=1e-6){return D>=Math.min(x,k)-O&&D<=Math.max(x,k)+O}function _i(D,x,k){k=k||(q=>D[q]<x);let O,B=D.length-1,H=0;for(;B-H>1;)O=H+B>>1,k(O)?H=O:B=O;return{lo:H,hi:B}}const ui=(D,x,k,O)=>_i(D,k,O?B=>{const H=D[B][x];return H<k||H===k&&D[B+1][x]===k}:B=>D[B][x]<k),Ri=(D,x,k)=>_i(D,k,O=>D[O][x]>=k);function Rt(D,x,k){let O=0,B=D.length;for(;O<B&&D[O]<x;)O++;for(;B>O&&D[B-1]>k;)B--;return O>0||B<D.length?D.slice(O,B):D}const kt=["push","pop","shift","splice","unshift"];function Tt(D,x){D._chartjs?D._chartjs.listeners.push(x):(Object.defineProperty(D,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[x]}}),kt.forEach(k=>{const O="_onData"+fe(k),B=D[k];Object.defineProperty(D,k,{configurable:!0,enumerable:!1,value(...H){const q=B.apply(this,H);return D._chartjs.listeners.forEach(et=>{typeof et[O]=="function"&&et[O](...H)}),q}})}))}function Ut(D,x){const k=D._chartjs;if(!k)return;const O=k.listeners,B=O.indexOf(x);B!==-1&&O.splice(B,1),O.length>0||(kt.forEach(H=>{delete D[H]}),delete D._chartjs)}function ve(D){const x=new Set;let k,O;for(k=0,O=D.length;k<O;++k)x.add(D[k]);return x.size===O?D:Array.from(x)}const Pe=typeof window>"u"?function(D){return D()}:window.requestAnimationFrame;function Te(D,x){let k=[],O=!1;return function(...B){k=B,O||(O=!0,Pe.call(window,()=>{O=!1,D.apply(x,k)}))}}function Ee(D,x){let k;return function(...O){return x?(clearTimeout(k),k=setTimeout(D,x,O)):D.apply(this,O),x}}const Ne=D=>D==="start"?"left":D==="end"?"right":"center",Fe=(D,x,k)=>D==="start"?x:D==="end"?k:(x+k)/2,Qn=(D,x,k,O)=>D===(O?"left":"right")?k:D==="center"?(x+k)/2:x;function Si(D,x,k){const O=x.length;let B=0,H=O;if(D._sorted){const{iScale:q,_parsed:et}=D,at=q.axis,{min:dt,max:Nt,minDefined:Dt,maxDefined:Vt}=q.getUserBounds();Dt&&(B=wn(Math.min(ui(et,q.axis,dt).lo,k?O:ui(x,at,q.getPixelForValue(dt)).lo),0,O-1)),H=Vt?wn(Math.max(ui(et,q.axis,Nt,!0).hi+1,k?0:ui(x,at,q.getPixelForValue(Nt),!0).hi+1),B,O)-B:O-B}return{start:B,count:H}}function yn(D){const{xScale:x,yScale:k,_scaleRanges:O}=D,B={xmin:x.min,xmax:x.max,ymin:k.min,ymax:k.max};if(!O)return D._scaleRanges=B,!0;const H=O.xmin!==x.min||O.xmax!==x.max||O.ymin!==k.min||O.ymax!==k.max;return Object.assign(O,B),H}class jn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(x,k,O,B){const H=k.listeners[B],q=k.duration;H.forEach(et=>et({chart:x,initial:k.initial,numSteps:q,currentStep:Math.min(O-k.start,q)}))}_refresh(){this._request||(this._running=!0,this._request=Pe.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(x=Date.now()){let k=0;this._charts.forEach((O,B)=>{if(!O.running||!O.items.length)return;const H=O.items;let q,et=H.length-1,at=!1;for(;et>=0;--et)q=H[et],q._active?(q._total>O.duration&&(O.duration=q._total),q.tick(x),at=!0):(H[et]=H[H.length-1],H.pop());at&&(B.draw(),this._notify(B,O,x,"progress")),H.length||(O.running=!1,this._notify(B,O,x,"complete"),O.initial=!1),k+=H.length}),this._lastDate=x,k===0&&(this._running=!1)}_getAnims(x){const k=this._charts;let O=k.get(x);return O||(O={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},k.set(x,O)),O}listen(x,k,O){this._getAnims(x).listeners[k].push(O)}add(x,k){k&&k.length&&this._getAnims(x).items.push(...k)}has(x){return this._getAnims(x).items.length>0}start(x){const k=this._charts.get(x);k&&(k.running=!0,k.start=Date.now(),k.duration=k.items.reduce((O,B)=>Math.max(O,B._duration),0),this._refresh())}running(x){if(!this._running)return!1;const k=this._charts.get(x);return!!(k&&k.running&&k.items.length)}stop(x){const k=this._charts.get(x);if(!k||!k.items.length)return;const O=k.items;let B=O.length-1;for(;B>=0;--B)O[B].cancel();k.items=[],this._notify(x,k,Date.now(),"complete")}remove(x){return this._charts.delete(x)}}var Ln=new jn;/*!
 * @kurkle/color v0.3.0
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function xi(D){return D+.5|0}const vn=(D,x,k)=>Math.max(Math.min(D,k),x);function En(D){return vn(xi(2.55*D),0,255)}function gn(D){return vn(xi(255*D),0,255)}function Di(D){return vn(xi(D/2.55)/100,0,1)}function ar(D){return vn(xi(100*D),0,100)}const Ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ji=[..."0123456789ABCDEF"],ir=D=>Ji[15&D],Bi=D=>Ji[(240&D)>>4]+Ji[15&D],yr=D=>(240&D)>>4==(15&D);function mr(D){var x=(k=>yr(k.r)&&yr(k.g)&&yr(k.b)&&yr(k.a))(D)?ir:Bi;return D?"#"+x(D.r)+x(D.g)+x(D.b)+((k,O)=>k<255?O(k):"")(D.a,x):void 0}const Oi=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ei(D,x,k){const O=x*Math.min(k,1-k),B=(H,q=(H+D/30)%12)=>k-O*Math.max(Math.min(q-3,9-q,1),-1);return[B(0),B(8),B(4)]}function Jn(D,x,k){const O=(B,H=(B+D/60)%6)=>k-k*x*Math.max(Math.min(H,4-H,1),0);return[O(5),O(3),O(1)]}function rr(D,x,k){const O=ei(D,1,.5);let B;for(x+k>1&&(B=1/(x+k),x*=B,k*=B),B=0;B<3;B++)O[B]*=1-x-k,O[B]+=x;return O}function mi(D){const x=D.r/255,k=D.g/255,O=D.b/255,B=Math.max(x,k,O),H=Math.min(x,k,O),q=(B+H)/2;let et,at,dt;return B!==H&&(dt=B-H,at=q>.5?dt/(2-B-H):dt/(B+H),et=function(Nt,Dt,Vt,ae,Se){return Nt===Se?(Dt-Vt)/ae+(Dt<Vt?6:0):Dt===Se?(Vt-Nt)/ae+2:(Nt-Dt)/ae+4}(x,k,O,dt,B),et=60*et+.5),[0|et,at||0,q]}function Hi(D,x,k,O){return(Array.isArray(x)?D(x[0],x[1],x[2]):D(x,k,O)).map(gn)}function Gi(D,x,k){return Hi(ei,D,x,k)}function sr(D){return(D%360+360)%360}function ur(D){const x=Oi.exec(D);let k,O=255;if(!x)return;x[5]!==k&&(O=x[6]?En(+x[5]):gn(+x[5]));const B=sr(+x[2]),H=+x[3]/100,q=+x[4]/100;return k=x[1]==="hwb"?function(et,at,dt){return Hi(rr,et,at,dt)}(B,H,q):x[1]==="hsv"?function(et,at,dt){return Hi(Jn,et,at,dt)}(B,H,q):Gi(B,H,q),{r:k[0],g:k[1],b:k[2],a:O}}const er={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Jr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Or;function $t(D){Or||(Or=function(){const k={},O=Object.keys(Jr),B=Object.keys(er);let H,q,et,at,dt;for(H=0;H<O.length;H++){for(at=dt=O[H],q=0;q<B.length;q++)et=B[q],dt=dt.replace(et,er[et]);et=parseInt(Jr[at],16),k[dt]=[et>>16&255,et>>8&255,255&et]}return k}(),Or.transparent=[0,0,0,0]);const x=Or[D.toLowerCase()];return x&&{r:x[0],g:x[1],b:x[2],a:x.length===4?x[3]:255}}const h=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,d=D=>D<=.0031308?12.92*D:1.055*Math.pow(D,1/2.4)-.055,y=D=>D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4);function C(D,x,k){if(D){let O=mi(D);O[x]=Math.max(0,Math.min(O[x]+O[x]*k,x===0?360:1)),O=Gi(O),D.r=O[0],D.g=O[1],D.b=O[2]}}function M(D,x){return D&&Object.assign(x||{},D)}function N(D){var x={r:0,g:0,b:0,a:255};return Array.isArray(D)?D.length>=3&&(x={r:D[0],g:D[1],b:D[2],a:255},D.length>3&&(x.a=gn(D[3]))):(x=M(D,{r:0,g:0,b:0,a:1})).a=gn(x.a),x}function P(D){return D.charAt(0)==="r"?function(x){const k=h.exec(x);let O,B,H,q=255;if(k){if(k[7]!==O){const et=+k[7];q=k[8]?En(et):vn(255*et,0,255)}return O=+k[1],B=+k[3],H=+k[5],O=255&(k[2]?En(O):vn(O,0,255)),B=255&(k[4]?En(B):vn(B,0,255)),H=255&(k[6]?En(H):vn(H,0,255)),{r:O,g:B,b:H,a:q}}}(D):ur(D)}class V{constructor(x){if(x instanceof V)return x;const k=typeof x;let O;var B,H,q;k==="object"?O=N(x):k==="string"&&(q=(B=x).length,B[0]==="#"&&(q===4||q===5?H={r:255&17*Ni[B[1]],g:255&17*Ni[B[2]],b:255&17*Ni[B[3]],a:q===5?17*Ni[B[4]]:255}:q!==7&&q!==9||(H={r:Ni[B[1]]<<4|Ni[B[2]],g:Ni[B[3]]<<4|Ni[B[4]],b:Ni[B[5]]<<4|Ni[B[6]],a:q===9?Ni[B[7]]<<4|Ni[B[8]]:255})),O=H||$t(x)||P(x)),this._rgb=O,this._valid=!!O}get valid(){return this._valid}get rgb(){var x=M(this._rgb);return x&&(x.a=Di(x.a)),x}set rgb(x){this._rgb=N(x)}rgbString(){return this._valid?(x=this._rgb)&&(x.a<255?`rgba(${x.r}, ${x.g}, ${x.b}, ${Di(x.a)})`:`rgb(${x.r}, ${x.g}, ${x.b})`):void 0;var x}hexString(){return this._valid?mr(this._rgb):void 0}hslString(){return this._valid?function(x){if(!x)return;const k=mi(x),O=k[0],B=ar(k[1]),H=ar(k[2]);return x.a<255?`hsla(${O}, ${B}%, ${H}%, ${Di(x.a)})`:`hsl(${O}, ${B}%, ${H}%)`}(this._rgb):void 0}mix(x,k){if(x){const O=this.rgb,B=x.rgb;let H;const q=k===H?.5:k,et=2*q-1,at=O.a-B.a,dt=((et*at==-1?et:(et+at)/(1+et*at))+1)/2;H=1-dt,O.r=255&dt*O.r+H*B.r+.5,O.g=255&dt*O.g+H*B.g+.5,O.b=255&dt*O.b+H*B.b+.5,O.a=q*O.a+(1-q)*B.a,this.rgb=O}return this}interpolate(x,k){return x&&(this._rgb=function(O,B,H){const q=y(Di(O.r)),et=y(Di(O.g)),at=y(Di(O.b));return{r:gn(d(q+H*(y(Di(B.r))-q))),g:gn(d(et+H*(y(Di(B.g))-et))),b:gn(d(at+H*(y(Di(B.b))-at))),a:O.a+H*(B.a-O.a)}}(this._rgb,x._rgb,k)),this}clone(){return new V(this.rgb)}alpha(x){return this._rgb.a=gn(x),this}clearer(x){return this._rgb.a*=1-x,this}greyscale(){const x=this._rgb,k=xi(.3*x.r+.59*x.g+.11*x.b);return x.r=x.g=x.b=k,this}opaquer(x){return this._rgb.a*=1+x,this}negate(){const x=this._rgb;return x.r=255-x.r,x.g=255-x.g,x.b=255-x.b,this}lighten(x){return C(this._rgb,2,x),this}darken(x){return C(this._rgb,2,-x),this}saturate(x){return C(this._rgb,1,x),this}desaturate(x){return C(this._rgb,1,-x),this}rotate(x){return function(k,O){var B=mi(k);B[0]=sr(B[0]+O),B=Gi(B),k.r=B[0],k.g=B[1],k.b=B[2]}(this._rgb,x),this}}function G(D){if(D&&typeof D=="object"){const x=D.toString();return x==="[object CanvasPattern]"||x==="[object CanvasGradient]"}return!1}function K(D){return G(D)?D:new V(D)}function J(D){return G(D)?D:new V(D).saturate(.5).darken(.1).hexString()}const rt=["x","y","borderWidth","radius","tension"],vt=["color","borderColor","backgroundColor"],Lt=new Map;function Et(D,x,k){return function(O,B){B=B||{};const H=O+JSON.stringify(B);let q=Lt.get(H);return q||(q=new Intl.NumberFormat(O,B),Lt.set(H,q)),q}(x,k).format(D)}const Qt={values:D=>ke(D)?D:""+D,numeric(D,x,k){if(D===0)return"0";const O=this.chart.options.locale;let B,H=D;if(k.length>1){const dt=Math.max(Math.abs(k[0].value),Math.abs(k[k.length-1].value));(dt<1e-4||dt>1e15)&&(B="scientific"),H=function(Nt,Dt){let Vt=Dt.length>3?Dt[2].value-Dt[1].value:Dt[1].value-Dt[0].value;return Math.abs(Vt)>=1&&Nt!==Math.floor(Nt)&&(Vt=Nt-Math.floor(Nt)),Vt}(D,k)}const q=U(Math.abs(H)),et=Math.max(Math.min(-1*Math.floor(q),20),0),at={notation:B,minimumFractionDigits:et,maximumFractionDigits:et};return Object.assign(at,this.options.ticks.format),Et(D,O,at)},logarithmic(D,x,k){if(D===0)return"0";const O=k[x].significand||D/Math.pow(10,Math.floor(U(D)));return[1,2,3,5,10,15].includes(O)||x>.8*k.length?Qt.numeric.call(this,D,x,k):""}};var ue={formatters:Qt};const Ce=Object.create(null),de=Object.create(null);function Y(D,x){if(!x)return D;const k=x.split(".");for(let O=0,B=k.length;O<B;++O){const H=k[O];D=D[H]||(D[H]=Object.create(null))}return D}function ot(D,x,k){return typeof x=="string"?te(Y(D,x),k):te(Y(D,""),x)}class zt{constructor(x,k){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=O=>O.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(O,B)=>J(B.backgroundColor),this.hoverBorderColor=(O,B)=>J(B.borderColor),this.hoverColor=(O,B)=>J(B.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(x),this.apply(k)}set(x,k){return ot(this,x,k)}get(x){return Y(this,x)}describe(x,k){return ot(de,x,k)}override(x,k){return ot(Ce,x,k)}route(x,k,O,B){const H=Y(this,x),q=Y(this,O),et="_"+k;Object.defineProperties(H,{[et]:{value:H[k],writable:!0},[k]:{enumerable:!0,get(){const at=this[et],dt=q[B];return Jt(at)?Object.assign({},dt,at):Bt(at,dt)},set(at){this[et]=at}}})}apply(x){x.forEach(k=>k(this))}}var jt=new zt({_scriptable:D=>!D.startsWith("on"),_indexable:D=>D!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(D){D.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),D.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:x=>x!=="onProgress"&&x!=="onComplete"&&x!=="fn"}),D.set("animations",{colors:{type:"color",properties:vt},numbers:{type:"number",properties:rt}}),D.describe("animations",{_fallback:"animation"}),D.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:x=>0|x}}}})},function(D){D.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(D){D.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(x,k)=>k.lineWidth,tickColor:(x,k)=>k.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ue.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),D.route("scale.ticks","color","","color"),D.route("scale.grid","color","","borderColor"),D.route("scale.border","color","","borderColor"),D.route("scale.title","color","","color"),D.describe("scale",{_fallback:!1,_scriptable:x=>!x.startsWith("before")&&!x.startsWith("after")&&x!=="callback"&&x!=="parser",_indexable:x=>x!=="borderDash"&&x!=="tickBorderDash"&&x!=="dash"}),D.describe("scales",{_fallback:"scale"}),D.describe("scale.ticks",{_scriptable:x=>x!=="backdropPadding"&&x!=="callback",_indexable:x=>x!=="backdropPadding"})}]);function xe(){return typeof window<"u"&&typeof document<"u"}function an(D){let x=D.parentNode;return x&&x.toString()==="[object ShadowRoot]"&&(x=x.host),x}function Qe(D,x,k){let O;return typeof D=="string"?(O=parseInt(D,10),D.indexOf("%")!==-1&&(O=O/100*x.parentNode[k])):O=D,O}const On=D=>D.ownerDocument.defaultView.getComputedStyle(D,null);function Pn(D,x){return On(D).getPropertyValue(x)}const ii=["top","right","bottom","left"];function ri(D,x,k){const O={};k=k?"-"+k:"";for(let B=0;B<4;B++){const H=ii[B];O[H]=parseFloat(D[x+"-"+H+k])||0}return O.width=O.left+O.right,O.height=O.top+O.bottom,O}function Wi(D,x){if("native"in D)return D;const{canvas:k,currentDevicePixelRatio:O}=x,B=On(k),H=B.boxSizing==="border-box",q=ri(B,"padding"),et=ri(B,"border","width"),{x:at,y:dt,box:Nt}=function(me,we){const je=me.touches,pn=je&&je.length?je[0]:me,{offsetX:dn,offsetY:fn}=pn;let An,Nn,oi=!1;if(((ci,hi,gi)=>(ci>0||hi>0)&&(!gi||!gi.shadowRoot))(dn,fn,me.target))An=dn,Nn=fn;else{const ci=we.getBoundingClientRect();An=pn.clientX-ci.left,Nn=pn.clientY-ci.top,oi=!0}return{x:An,y:Nn,box:oi}}(D,k),Dt=q.left+(Nt&&et.left),Vt=q.top+(Nt&&et.top);let{width:ae,height:Se}=x;return H&&(ae-=q.width+et.width,Se-=q.height+et.height),{x:Math.round((at-Dt)/ae*k.width/O),y:Math.round((dt-Vt)/Se*k.height/O)}}const lr=D=>Math.round(10*D)/10;function xr(D,x,k,O){const B=On(D),H=ri(B,"margin"),q=Qe(B.maxWidth,D,"clientWidth")||Bn,et=Qe(B.maxHeight,D,"clientHeight")||Bn,at=function(Dt,Vt,ae){let Se,me;if(Vt===void 0||ae===void 0){const we=an(Dt);if(we){const je=we.getBoundingClientRect(),pn=On(we),dn=ri(pn,"border","width"),fn=ri(pn,"padding");Vt=je.width-fn.width-dn.width,ae=je.height-fn.height-dn.height,Se=Qe(pn.maxWidth,we,"clientWidth"),me=Qe(pn.maxHeight,we,"clientHeight")}else Vt=Dt.clientWidth,ae=Dt.clientHeight}return{width:Vt,height:ae,maxWidth:Se||Bn,maxHeight:me||Bn}}(D,x,k);let{width:dt,height:Nt}=at;if(B.boxSizing==="content-box"){const Dt=ri(B,"border","width"),Vt=ri(B,"padding");dt-=Vt.width+Dt.width,Nt-=Vt.height+Dt.height}return dt=Math.max(0,dt-H.width),Nt=Math.max(0,O?dt/O:Nt-H.height),dt=lr(Math.min(dt,q,at.maxWidth)),Nt=lr(Math.min(Nt,et,at.maxHeight)),dt&&!Nt&&(Nt=lr(dt/2)),(x!==void 0||k!==void 0)&&O&&at.height&&Nt>at.height&&(Nt=at.height,dt=lr(Math.floor(Nt*O))),{width:dt,height:Nt}}function Ar(D,x,k){const O=x||1,B=Math.floor(D.height*O),H=Math.floor(D.width*O);D.height=Math.floor(D.height),D.width=Math.floor(D.width);const q=D.canvas;return q.style&&(k||!q.style.height&&!q.style.width)&&(q.style.height=`${D.height}px`,q.style.width=`${D.width}px`),(D.currentDevicePixelRatio!==O||q.height!==B||q.width!==H)&&(D.currentDevicePixelRatio=O,q.height=B,q.width=H,D.ctx.setTransform(O,0,0,O,0,0),!0)}const Er=function(){let D=!1;try{const x={get passive(){return D=!0,!1}};window.addEventListener("test",null,x),window.removeEventListener("test",null,x)}catch{}return D}();function Qr(D,x){const k=Pn(D,x),O=k&&k.match(/^(\d+)(\.\d+)?px$/);return O?+O[1]:void 0}function ha(D){return!D||qt(D.size)||qt(D.family)?null:(D.style?D.style+" ":"")+(D.weight?D.weight+" ":"")+D.size+"px "+D.family}function ti(D,x,k,O,B){let H=x[B];return H||(H=x[B]=D.measureText(B).width,k.push(B)),H>O&&(O=H),O}function Js(D,x,k,O){let B=(O=O||{}).data=O.data||{},H=O.garbageCollect=O.garbageCollect||[];O.font!==x&&(B=O.data={},H=O.garbageCollect=[],O.font=x),D.save(),D.font=x;let q=0;const et=k.length;let at,dt,Nt,Dt,Vt;for(at=0;at<et;at++)if(Dt=k[at],Dt!=null&&ke(Dt)!==!0)q=ti(D,B,H,q,Dt);else if(ke(Dt))for(dt=0,Nt=Dt.length;dt<Nt;dt++)Vt=Dt[dt],Vt==null||ke(Vt)||(q=ti(D,B,H,q,Vt));D.restore();const ae=H.length/2;if(ae>k.length){for(at=0;at<ae;at++)delete B[H[at]];H.splice(0,ae)}return q}function xa(D,x,k){const O=D.currentDevicePixelRatio,B=k!==0?Math.max(k/2,.5):0;return Math.round((x-B)*O)/O+B}function Wa(D,x){(x=x||D.getContext("2d")).save(),x.resetTransform(),x.clearRect(0,0,D.width,D.height),x.restore()}function Mn(D,x,k,O){$r(D,x,k,O,null)}function $r(D,x,k,O,B){let H,q,et,at,dt,Nt,Dt,Vt;const ae=x.pointStyle,Se=x.rotation,me=x.radius;let we=(Se||0)*rn;if(ae&&typeof ae=="object"&&(H=ae.toString(),H==="[object HTMLImageElement]"||H==="[object HTMLCanvasElement]"))return D.save(),D.translate(k,O),D.rotate(we),D.drawImage(ae,-ae.width/2,-ae.height/2,ae.width,ae.height),void D.restore();if(!(isNaN(me)||me<=0)){switch(D.beginPath(),ae){default:B?D.ellipse(k,O,B/2,me,0,0,pe):D.arc(k,O,me,0,pe),D.closePath();break;case"triangle":Nt=B?B/2:me,D.moveTo(k+Math.sin(we)*Nt,O-Math.cos(we)*me),we+=Oe,D.lineTo(k+Math.sin(we)*Nt,O-Math.cos(we)*me),we+=Oe,D.lineTo(k+Math.sin(we)*Nt,O-Math.cos(we)*me),D.closePath();break;case"rectRounded":dt=.516*me,at=me-dt,q=Math.cos(we+oe)*at,Dt=Math.cos(we+oe)*(B?B/2-dt:at),et=Math.sin(we+oe)*at,Vt=Math.sin(we+oe)*(B?B/2-dt:at),D.arc(k-Dt,O-et,dt,we-Le,we-ln),D.arc(k+Vt,O-q,dt,we-ln,we),D.arc(k+Dt,O+et,dt,we,we+ln),D.arc(k-Vt,O+q,dt,we+ln,we+Le),D.closePath();break;case"rect":if(!Se){at=Math.SQRT1_2*me,Nt=B?B/2:at,D.rect(k-Nt,O-at,2*Nt,2*at);break}we+=oe;case"rectRot":Dt=Math.cos(we)*(B?B/2:me),q=Math.cos(we)*me,et=Math.sin(we)*me,Vt=Math.sin(we)*(B?B/2:me),D.moveTo(k-Dt,O-et),D.lineTo(k+Vt,O-q),D.lineTo(k+Dt,O+et),D.lineTo(k-Vt,O+q),D.closePath();break;case"crossRot":we+=oe;case"cross":Dt=Math.cos(we)*(B?B/2:me),q=Math.cos(we)*me,et=Math.sin(we)*me,Vt=Math.sin(we)*(B?B/2:me),D.moveTo(k-Dt,O-et),D.lineTo(k+Dt,O+et),D.moveTo(k+Vt,O-q),D.lineTo(k-Vt,O+q);break;case"star":Dt=Math.cos(we)*(B?B/2:me),q=Math.cos(we)*me,et=Math.sin(we)*me,Vt=Math.sin(we)*(B?B/2:me),D.moveTo(k-Dt,O-et),D.lineTo(k+Dt,O+et),D.moveTo(k+Vt,O-q),D.lineTo(k-Vt,O+q),we+=oe,Dt=Math.cos(we)*(B?B/2:me),q=Math.cos(we)*me,et=Math.sin(we)*me,Vt=Math.sin(we)*(B?B/2:me),D.moveTo(k-Dt,O-et),D.lineTo(k+Dt,O+et),D.moveTo(k+Vt,O-q),D.lineTo(k-Vt,O+q);break;case"line":q=B?B/2:Math.cos(we)*me,et=Math.sin(we)*me,D.moveTo(k-q,O-et),D.lineTo(k+q,O+et);break;case"dash":D.moveTo(k,O),D.lineTo(k+Math.cos(we)*(B?B/2:me),O+Math.sin(we)*me);break;case!1:D.closePath()}D.fill(),x.borderWidth>0&&D.stroke()}}function to(D,x,k){return k=k||.5,!x||D&&D.x>x.left-k&&D.x<x.right+k&&D.y>x.top-k&&D.y<x.bottom+k}function fs(D,x){D.save(),D.beginPath(),D.rect(x.left,x.top,x.right-x.left,x.bottom-x.top),D.clip()}function Tr(D){D.restore()}function Qi(D,x,k,O,B){if(!x)return D.lineTo(k.x,k.y);if(B==="middle"){const H=(x.x+k.x)/2;D.lineTo(H,x.y),D.lineTo(H,k.y)}else B==="after"!=!!O?D.lineTo(x.x,k.y):D.lineTo(k.x,x.y);D.lineTo(k.x,k.y)}function wh(D,x,k,O){if(!x)return D.lineTo(k.x,k.y);D.bezierCurveTo(O?x.cp1x:x.cp2x,O?x.cp1y:x.cp2y,O?k.cp2x:k.cp1x,O?k.cp2y:k.cp1y,k.x,k.y)}function Po(D,x,k,O,B,H={}){const q=ke(x)?x:[x],et=H.strokeWidth>0&&H.strokeColor!=="";let at,dt;for(D.save(),D.font=B.string,function(Nt,Dt){Dt.translation&&Nt.translate(Dt.translation[0],Dt.translation[1]),qt(Dt.rotation)||Nt.rotate(Dt.rotation),Dt.color&&(Nt.fillStyle=Dt.color),Dt.textAlign&&(Nt.textAlign=Dt.textAlign),Dt.textBaseline&&(Nt.textBaseline=Dt.textBaseline)}(D,H),at=0;at<q.length;++at)dt=q[at],H.backdrop&&Gd(D,H.backdrop),et&&(H.strokeColor&&(D.strokeStyle=H.strokeColor),qt(H.strokeWidth)||(D.lineWidth=H.strokeWidth),D.strokeText(dt,k,O,H.maxWidth)),D.fillText(dt,k,O,H.maxWidth),gs(D,k,O,dt,H),O+=B.lineHeight;D.restore()}function gs(D,x,k,O,B){if(B.strikethrough||B.underline){const H=D.measureText(O),q=x-H.actualBoundingBoxLeft,et=x+H.actualBoundingBoxRight,at=k-H.actualBoundingBoxAscent,dt=k+H.actualBoundingBoxDescent,Nt=B.strikethrough?(at+dt)/2:dt;D.strokeStyle=D.fillStyle,D.beginPath(),D.lineWidth=B.decorationWidth||2,D.moveTo(q,Nt),D.lineTo(et,Nt),D.stroke()}}function Gd(D,x){const k=D.fillStyle;D.fillStyle=x.color,D.fillRect(x.left,x.top,x.width,x.height),D.fillStyle=k}function _h(D,x){const{x:k,y:O,w:B,h:H,radius:q}=x;D.arc(k+q.topLeft,O+q.topLeft,q.topLeft,-ln,Le,!0),D.lineTo(k,O+H-q.bottomLeft),D.arc(k+q.bottomLeft,O+H-q.bottomLeft,q.bottomLeft,Le,ln,!0),D.lineTo(k+B-q.bottomRight,O+H),D.arc(k+B-q.bottomRight,O+H-q.bottomRight,q.bottomRight,ln,0,!0),D.lineTo(k+B,O+q.topRight),D.arc(k+B-q.topRight,O+q.topRight,q.topRight,0,-ln,!0),D.lineTo(k+q.topLeft,O)}function Rc(D,x=[""],k=D,O,B=()=>D[0]){ne(O)||(O=Vf("_fallback",D));const H={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:D,_rootScopes:k,_fallback:O,_getTarget:B,override:q=>Rc([q,...D],x,k,O)};return new Proxy(H,{deleteProperty:(q,et)=>(delete q[et],delete q._keys,delete D[0][et],!0),get:(q,et)=>Qs(q,et,()=>function(at,dt,Nt,Dt){let Vt;for(const ae of dt)if(Vt=Vf(Ul(ae,at),Nt),ne(Vt))return Ma(at,Vt)?Xd(Nt,Dt,at,Vt):Vt}(et,x,D,q)),getOwnPropertyDescriptor:(q,et)=>Reflect.getOwnPropertyDescriptor(q._scopes[0],et),getPrototypeOf:()=>Reflect.getPrototypeOf(D[0]),has:(q,et)=>qd(q).includes(et),ownKeys:q=>qd(q),set(q,et,at){const dt=q._storage||(q._storage=B());return q[et]=dt[et]=at,delete q._keys,!0}})}function ql(D,x,k,O){const B={_cacheable:!1,_proxy:D,_context:x,_subProxy:k,_stack:new Set,_descriptors:Mo(D,O),setContext:H=>ql(D,H,k,O),override:H=>ql(D.override(H),x,k,O)};return new Proxy(B,{deleteProperty:(H,q)=>(delete H[q],delete D[q],!0),get:(H,q,et)=>Qs(H,q,()=>function(at,dt,Nt){const{_proxy:Dt,_context:Vt,_subProxy:ae,_descriptors:Se}=at;let me=Dt[dt];return Ht(me)&&Se.isScriptable(dt)&&(me=function(we,je,pn,dn){const{_proxy:fn,_context:An,_subProxy:Nn,_stack:oi}=pn;if(oi.has(we))throw new Error("Recursion detected: "+Array.from(oi).join("->")+"->"+we);return oi.add(we),je=je(An,Nn||dn),oi.delete(we),Ma(we,je)&&(je=Xd(fn._scopes,fn,we,je)),je}(dt,me,at,Nt)),ke(me)&&me.length&&(me=function(we,je,pn,dn){const{_proxy:fn,_context:An,_subProxy:Nn,_descriptors:oi}=pn;if(ne(An.index)&&dn(we))je=je[An.index%je.length];else if(Jt(je[0])){const ci=je,hi=fn._scopes.filter(gi=>gi!==ci);je=[];for(const gi of ci){const zi=Xd(hi,fn,we,gi);je.push(ql(zi,An,Nn&&Nn[we],oi))}}return je}(dt,me,at,Se.isIndexable)),Ma(dt,me)&&(me=ql(me,Vt,ae&&ae[dt],Se)),me}(H,q,et)),getOwnPropertyDescriptor:(H,q)=>H._descriptors.allKeys?Reflect.has(D,q)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(D,q),getPrototypeOf:()=>Reflect.getPrototypeOf(D),has:(H,q)=>Reflect.has(D,q),ownKeys:()=>Reflect.ownKeys(D),set:(H,q,et)=>(D[q]=et,delete H[q],!0)})}function Mo(D,x={scriptable:!0,indexable:!0}){const{_scriptable:k=x.scriptable,_indexable:O=x.indexable,_allKeys:B=x.allKeys}=D;return{allKeys:B,scriptable:k,indexable:O,isScriptable:Ht(k)?k:()=>k,isIndexable:Ht(O)?O:()=>O}}const Ul=(D,x)=>D?D+fe(x):x,Ma=(D,x)=>Jt(x)&&D!=="adapters"&&(Object.getPrototypeOf(x)===null||x.constructor===Object);function Qs(D,x,k){if(Object.prototype.hasOwnProperty.call(D,x))return D[x];const O=k();return D[x]=O,O}function Sh(D,x,k){return Ht(D)?D(x,k):D}const No=(D,x)=>D===!0?x:typeof D=="string"?Me(x,D):void 0;function Ff(D,x,k,O,B){for(const H of x){const q=No(k,H);if(q){D.add(q);const et=Sh(q._fallback,k,B);if(ne(et)&&et!==k&&et!==O)return et}else if(q===!1&&ne(O)&&k!==O)return null}return!1}function Xd(D,x,k,O){const B=x._rootScopes,H=Sh(x._fallback,k,O),q=[...D,...B],et=new Set;et.add(O);let at=$l(et,q,k,H||k,O);return at!==null&&(!ne(H)||H===k||(at=$l(et,q,H,at,O),at!==null))&&Rc(Array.from(et),[""],B,H,()=>function(dt,Nt,Dt){const Vt=dt._getTarget();Nt in Vt||(Vt[Nt]={});const ae=Vt[Nt];return ke(ae)&&Jt(Dt)?Dt:ae||{}}(x,k,O))}function $l(D,x,k,O,B){for(;k;)k=Ff(D,x,k,O,B);return k}function Vf(D,x){for(const k of x){if(!k)continue;const O=k[D];if(ne(O))return O}}function qd(D){let x=D._keys;return x||(x=D._keys=function(k){const O=new Set;for(const B of k)for(const H of Object.keys(B).filter(q=>!q.startsWith("_")))O.add(H);return Array.from(O)}(D._scopes)),x}function Ud(D,x,k,O){const{iScale:B}=D,{key:H="r"}=this._parsing,q=new Array(O);let et,at,dt,Nt;for(et=0,at=O;et<at;++et)dt=et+k,Nt=x[dt],q[et]={r:B.parse(Me(Nt,H),dt)};return q}const $d=Number.EPSILON||1e-14,Zl=(D,x)=>x<D.length&&!D[x].skip&&D[x],Kl=D=>D==="x"?"y":"x";function Au(D,x,k,O){const B=D.skip?x:D,H=x,q=k.skip?x:k,et=fi(H,B),at=fi(q,H);let dt=et/(et+at),Nt=at/(et+at);dt=isNaN(dt)?0:dt,Nt=isNaN(Nt)?0:Nt;const Dt=O*dt,Vt=O*Nt;return{previous:{x:H.x-Dt*(q.x-B.x),y:H.y-Dt*(q.y-B.y)},next:{x:H.x+Vt*(q.x-B.x),y:H.y+Vt*(q.y-B.y)}}}function ms(D,x="x"){const k=Kl(x),O=D.length,B=Array(O).fill(0),H=Array(O);let q,et,at,dt=Zl(D,0);for(q=0;q<O;++q)if(et=at,at=dt,dt=Zl(D,q+1),at){if(dt){const Nt=dt[x]-at[x];B[q]=Nt!==0?(dt[k]-at[k])/Nt:0}H[q]=et?dt?ye(B[q-1])!==ye(B[q])?0:(B[q-1]+B[q])/2:B[q-1]:B[q]}(function(Nt,Dt,Vt){const ae=Nt.length;let Se,me,we,je,pn,dn=Zl(Nt,0);for(let fn=0;fn<ae-1;++fn)pn=dn,dn=Zl(Nt,fn+1),pn&&dn&&(cn(Dt[fn],0,$d)?Vt[fn]=Vt[fn+1]=0:(Se=Vt[fn]/Dt[fn],me=Vt[fn+1]/Dt[fn],je=Math.pow(Se,2)+Math.pow(me,2),je<=9||(we=3/Math.sqrt(je),Vt[fn]=Se*we*Dt[fn],Vt[fn+1]=me*we*Dt[fn])))})(D,B,H),function(Nt,Dt,Vt="x"){const ae=Kl(Vt),Se=Nt.length;let me,we,je,pn=Zl(Nt,0);for(let dn=0;dn<Se;++dn){if(we=je,je=pn,pn=Zl(Nt,dn+1),!je)continue;const fn=je[Vt],An=je[ae];we&&(me=(fn-we[Vt])/3,je[`cp1${Vt}`]=fn-me,je[`cp1${ae}`]=An-me*Dt[dn]),pn&&(me=(pn[Vt]-fn)/3,je[`cp2${Vt}`]=fn+me,je[`cp2${ae}`]=An+me*Dt[dn])}}(D,H,x)}function Jl(D,x,k){return Math.max(Math.min(D,k),x)}function Ch(D,x,k,O,B){let H,q,et,at;if(x.spanGaps&&(D=D.filter(dt=>!dt.skip)),x.cubicInterpolationMode==="monotone")ms(D,B);else{let dt=O?D[D.length-1]:D[0];for(H=0,q=D.length;H<q;++H)et=D[H],at=Au(dt,et,D[Math.min(H+1,q-(O?0:1))%q],x.tension),et.cp1x=at.previous.x,et.cp1y=at.previous.y,et.cp2x=at.next.x,et.cp2y=at.next.y,dt=et}x.capBezierPoints&&function(dt,Nt){let Dt,Vt,ae,Se,me,we=to(dt[0],Nt);for(Dt=0,Vt=dt.length;Dt<Vt;++Dt)me=Se,Se=we,we=Dt<Vt-1&&to(dt[Dt+1],Nt),Se&&(ae=dt[Dt],me&&(ae.cp1x=Jl(ae.cp1x,Nt.left,Nt.right),ae.cp1y=Jl(ae.cp1y,Nt.top,Nt.bottom)),we&&(ae.cp2x=Jl(ae.cp2x,Nt.left,Nt.right),ae.cp2y=Jl(ae.cp2y,Nt.top,Nt.bottom)))}(D,k)}const bo=D=>D===0||D===1,xl=(D,x,k)=>-Math.pow(2,10*(D-=1))*Math.sin((D-x)*pe/k),Xe=(D,x,k)=>Math.pow(2,-10*D)*Math.sin((D-x)*pe/k)+1,da={linear:D=>D,easeInQuad:D=>D*D,easeOutQuad:D=>-D*(D-2),easeInOutQuad:D=>(D/=.5)<1?.5*D*D:-.5*(--D*(D-2)-1),easeInCubic:D=>D*D*D,easeOutCubic:D=>(D-=1)*D*D+1,easeInOutCubic:D=>(D/=.5)<1?.5*D*D*D:.5*((D-=2)*D*D+2),easeInQuart:D=>D*D*D*D,easeOutQuart:D=>-((D-=1)*D*D*D-1),easeInOutQuart:D=>(D/=.5)<1?.5*D*D*D*D:-.5*((D-=2)*D*D*D-2),easeInQuint:D=>D*D*D*D*D,easeOutQuint:D=>(D-=1)*D*D*D*D+1,easeInOutQuint:D=>(D/=.5)<1?.5*D*D*D*D*D:.5*((D-=2)*D*D*D*D+2),easeInSine:D=>1-Math.cos(D*ln),easeOutSine:D=>Math.sin(D*ln),easeInOutSine:D=>-.5*(Math.cos(Le*D)-1),easeInExpo:D=>D===0?0:Math.pow(2,10*(D-1)),easeOutExpo:D=>D===1?1:1-Math.pow(2,-10*D),easeInOutExpo:D=>bo(D)?D:D<.5?.5*Math.pow(2,10*(2*D-1)):.5*(2-Math.pow(2,-10*(2*D-1))),easeInCirc:D=>D>=1?D:-(Math.sqrt(1-D*D)-1),easeOutCirc:D=>Math.sqrt(1-(D-=1)*D),easeInOutCirc:D=>(D/=.5)<1?-.5*(Math.sqrt(1-D*D)-1):.5*(Math.sqrt(1-(D-=2)*D)+1),easeInElastic:D=>bo(D)?D:xl(D,.075,.3),easeOutElastic:D=>bo(D)?D:Xe(D,.075,.3),easeInOutElastic(D){return bo(D)?D:D<.5?.5*xl(2*D,.1125,.45):.5+.5*Xe(2*D-1,.1125,.45)},easeInBack(D){return D*D*((1.70158+1)*D-1.70158)},easeOutBack(D){return(D-=1)*D*((1.70158+1)*D+1.70158)+1},easeInOutBack(D){let x=1.70158;return(D/=.5)<1?D*D*((1+(x*=1.525))*D-x)*.5:.5*((D-=2)*D*((1+(x*=1.525))*D+x)+2)},easeInBounce:D=>1-da.easeOutBounce(1-D),easeOutBounce(D){return D<1/2.75?7.5625*D*D:D<2/2.75?7.5625*(D-=1.5/2.75)*D+.75:D<2.5/2.75?7.5625*(D-=2.25/2.75)*D+.9375:7.5625*(D-=2.625/2.75)*D+.984375},easeInOutBounce:D=>D<.5?.5*da.easeInBounce(2*D):.5*da.easeOutBounce(2*D-1)+.5};function ja(D,x,k,O){return{x:D.x+k*(x.x-D.x),y:D.y+k*(x.y-D.y)}}function Go(D,x,k,O){return{x:D.x+k*(x.x-D.x),y:O==="middle"?k<.5?D.y:x.y:O==="after"?k<1?D.y:x.y:k>0?x.y:D.y}}function Hf(D,x,k,O){const B={x:D.cp2x,y:D.cp2y},H={x:x.cp1x,y:x.cp1y},q=ja(D,B,k),et=ja(B,H,k),at=ja(H,x,k),dt=ja(q,et,k),Nt=ja(et,at,k);return ja(dt,Nt,k)}const tr=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bl=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kh(D,x){const k=(""+D).match(tr);if(!k||k[1]==="normal")return 1.2*x;switch(D=+k[2],k[3]){case"px":return D;case"%":D/=100}return x*D}function vs(D,x){const k={},O=Jt(x),B=O?Object.keys(x):x,H=Jt(D)?O?q=>Bt(D[q],D[x[q]]):q=>D[q]:()=>D;for(const q of B)k[q]=+H(q)||0;return k}function Ya(D){return vs(D,{top:"y",right:"x",bottom:"y",left:"x"})}function Xo(D){return vs(D,["topLeft","topRight","bottomLeft","bottomRight"])}function Qo(D){const x=Ya(D);return x.width=x.left+x.right,x.height=x.top+x.bottom,x}function Ir(D,x){D=D||{},x=x||jt.font;let k=Bt(D.size,x.size);typeof k=="string"&&(k=parseInt(k,10));let O=Bt(D.style,x.style);O&&!(""+O).match(bl)&&(console.warn('Invalid font style specified: "'+O+'"'),O=void 0);const B={family:Bt(D.family,x.family),lineHeight:kh(Bt(D.lineHeight,x.lineHeight),k),size:k,style:O,weight:Bt(D.weight,x.weight),string:""};return B.string=ha(B),B}function Ga(D,x,k,O){let B,H,q,et=!0;for(B=0,H=D.length;B<H;++B)if(q=D[B],q!==void 0&&(x!==void 0&&typeof q=="function"&&(q=q(x),et=!1),k!==void 0&&ke(q)&&(q=q[k%q.length],et=!1),q!==void 0))return O&&!et&&(O.cacheable=!1),q}function Mu(D,x,k){const{min:O,max:B}=D,H=pt(x,(B-O)/2),q=(et,at)=>k&&et===0?0:et+at;return{min:q(O,-Math.abs(H)),max:q(B,H)}}function Xa(D,x){return Object.assign(Object.create(D),x)}function Ql(D,x,k){return D?function(O,B){return{x:H=>O+O+B-H,setWidth(H){B=H},textAlign:H=>H==="center"?H:H==="right"?"left":"right",xPlus:(H,q)=>H-q,leftForLtr:(H,q)=>H-q}}(x,k):{x:O=>O,setWidth(O){},textAlign:O=>O,xPlus:(O,B)=>O+B,leftForLtr:(O,B)=>O}}function Ro(D,x){let k,O;x!=="ltr"&&x!=="rtl"||(k=D.canvas.style,O=[k.getPropertyValue("direction"),k.getPropertyPriority("direction")],k.setProperty("direction",x,"important"),D.prevTextDirection=O)}function Ah(D,x){x!==void 0&&(delete D.prevTextDirection,D.canvas.style.setProperty("direction",x[0],x[1]))}function Zd(D){return D==="angle"?{between:Yi,compare:Zn,normalize:Cr}:{between:Un,compare:(x,k)=>x-k,normalize:x=>x}}function Wf({start:D,end:x,count:k,loop:O,style:B}){return{start:D%k,end:x%k,loop:O&&(x-D+1)%k==0,style:B}}function Kd(D,x,k){if(!k)return[D];const{property:O,start:B,end:H}=k,q=x.length,{compare:et,between:at,normalize:dt}=Zd(O),{start:Nt,end:Dt,loop:Vt,style:ae}=function(Nn,oi,ci){const{property:hi,start:gi,end:zi}=ci,{between:Li,normalize:Mi}=Zd(hi),vi=oi.length;let Ci,tn,{start:Ti,end:Pr,loop:Gr}=Nn;if(Gr){for(Ti+=vi,Pr+=vi,Ci=0,tn=vi;Ci<tn&&Li(Mi(oi[Ti%vi][hi]),gi,zi);++Ci)Ti--,Pr--;Ti%=vi,Pr%=vi}return Pr<Ti&&(Pr+=vi),{start:Ti,end:Pr,loop:Gr,style:Nn.style}}(D,x,k),Se=[];let me,we,je,pn=!1,dn=null;const fn=()=>pn||at(B,je,me)&&et(B,je)!==0,An=()=>!pn||et(H,me)===0||at(H,je,me);for(let Nn=Nt,oi=Nt;Nn<=Dt;++Nn)we=x[Nn%q],we.skip||(me=dt(we[O]),me!==je&&(pn=at(me,B,H),dn===null&&fn()&&(dn=et(me,B)===0?Nn:oi),dn!==null&&An()&&(Se.push(Wf({start:dn,end:Nn,loop:Vt,count:q,style:ae})),dn=null),oi=Nn,je=me));return dn!==null&&Se.push(Wf({start:dn,end:Dt,loop:Vt,count:q,style:ae})),Se}function Jd(D,x){const k=[],O=D.segments;for(let B=0;B<O.length;B++){const H=Kd(O[B],D.points,x);H.length&&k.push(...H)}return k}function Tu(D,x){const k=D.points,O=D.options.spanGaps,B=k.length;if(!B)return[];const H=!!D._loop,{start:q,end:et}=function(at,dt,Nt,Dt){let Vt=0,ae=dt-1;if(Nt&&!Dt)for(;Vt<dt&&!at[Vt].skip;)Vt++;for(;Vt<dt&&at[Vt].skip;)Vt++;for(Vt%=dt,Nt&&(ae+=Vt);ae>Vt&&at[ae%dt].skip;)ae--;return ae%=dt,{start:Vt,end:ae}}(k,B,H,O);return O===!0?Fm(D,[{start:q,end:et,loop:H}],k,x):Fm(D,function(at,dt,Nt,Dt){const Vt=at.length,ae=[];let Se,me=dt,we=at[dt];for(Se=dt+1;Se<=Nt;++Se){const je=at[Se%Vt];je.skip||je.stop?we.skip||(Dt=!1,ae.push({start:dt%Vt,end:(Se-1)%Vt,loop:Dt}),dt=me=je.stop?Se:null):(me=Se,we.skip&&(dt=Se)),we=je}return me!==null&&ae.push({start:dt%Vt,end:me%Vt,loop:Dt}),ae}(k,q,et<q?et+B:et,!!D._fullLoop&&q===0&&et===B-1),k,x)}function Fm(D,x,k,O){return O&&O.setContext&&k?function(B,H,q,et){const at=B._chart.getContext(),dt=qo(B.options),{_datasetIndex:Nt,options:{spanGaps:Dt}}=B,Vt=q.length,ae=[];let Se=dt,me=H[0].start,we=me;function je(pn,dn,fn,An){const Nn=Dt?-1:1;if(pn!==dn){for(pn+=Vt;q[pn%Vt].skip;)pn-=Nn;for(;q[dn%Vt].skip;)dn+=Nn;pn%Vt!=dn%Vt&&(ae.push({start:pn%Vt,end:dn%Vt,loop:fn,style:An}),Se=An,me=dn%Vt)}}for(const pn of H){me=Dt?me:pn.start;let dn,fn=q[me%Vt];for(we=me+1;we<=pn.end;we++){const An=q[we%Vt];dn=qo(et.setContext(Xa(at,{type:"segment",p0:fn,p1:An,p0DataIndex:(we-1)%Vt,p1DataIndex:we%Vt,datasetIndex:Nt}))),Iu(dn,Se)&&je(me,we-1,pn.loop,Se),fn=An,Se=dn}me<we-1&&je(me,we-1,pn.loop,Se)}return ae}(D,x,k,O):x}function qo(D){return{backgroundColor:D.backgroundColor,borderCapStyle:D.borderCapStyle,borderDash:D.borderDash,borderDashOffset:D.borderDashOffset,borderJoinStyle:D.borderJoinStyle,borderWidth:D.borderWidth,borderColor:D.borderColor}}function Iu(D,x){return x&&JSON.stringify(D)!==JSON.stringify(x)}var Vm=Object.freeze({__proto__:null,easingEffects:da,isPatternOrGradient:G,color:K,getHoverColor:J,noop:Wt,uid:wt,isNullOrUndef:qt,isArray:ke,isObject:Jt,isFinite:re,finiteOrDefault:Zt,valueOrDefault:Bt,toPercentage:yt,toDimension:pt,callback:gt,each:ft,_elementsEqual:It,clone:Mt,_merger:ct,merge:te,mergeIf:At,_mergerIf:Ft,_deprecated:function(D,x,k,O){x!==void 0&&console.warn(D+': "'+k+'" is deprecated. Please use "'+O+'" instead')},_splitKey:se,resolveObjectKey:Me,_capitalize:fe,defined:ne,isFunction:Ht,setsEqual:Gt,_isClickEvent:ie,toFontString:ha,_measureText:ti,_longestText:Js,_alignPixel:xa,clearCanvas:Wa,drawPoint:Mn,drawPointLegend:$r,_isPointInArea:to,clipArea:fs,unclipArea:Tr,_steppedLineTo:Qi,_bezierCurveTo:wh,renderText:Po,addRoundedRectPath:_h,_lookup:_i,_lookupByKey:ui,_rlookupByKey:Ri,_filterBetween:Rt,listenArrayEvents:Tt,unlistenArrayEvents:Ut,_arrayUnique:ve,_createResolver:Rc,_attachContext:ql,_descriptors:Mo,_parseObjectDataRadialScale:Ud,splineCurve:Au,splineCurveMonotone:ms,_updateBezierControlPoints:Ch,_isDomSupported:xe,_getParentNode:an,getStyle:Pn,getRelativePosition:Wi,getMaximumSize:xr,retinaScale:Ar,supportsEventListenerOptions:Er,readUsedSize:Qr,fontString:function(D,x,k){return x+" "+D+"px "+k},requestAnimFrame:Pe,throttled:Te,debounce:Ee,_toLeftRightCenter:Ne,_alignStartEnd:Fe,_textX:Qn,_getStartAndCountOfVisiblePoints:Si,_scaleRangesChanged:yn,_pointInLine:ja,_steppedInterpolation:Go,_bezierInterpolation:Hf,formatNumber:Et,toLineHeight:kh,_readValueToProps:vs,toTRBL:Ya,toTRBLCorners:Xo,toPadding:Qo,toFont:Ir,resolve:Ga,_addGrace:Mu,createContext:Xa,PI:Le,TAU:pe,PITAU:De,INFINITY:Bn,RAD_PER_DEG:rn,HALF_PI:ln,QUARTER_PI:oe,TWO_THIRDS_PI:Oe,log10:U,sign:ye,almostEquals:cn,niceNum:$e,_factorize:We,isNumber:Re,almostWhole:Be,_setMinAndMaxByKey:un,toRadians:he,toDegrees:In,_decimalPlaces:kn,getAngleFromPoint:Gn,distanceBetweenPoints:fi,_angleDiff:Zn,_normalizeAngle:Cr,_angleBetween:Yi,_limitValue:wn,_int16Range:zn,_isBetween:Un,getRtlAdapter:Ql,overrideTextDirection:Ro,restoreTextDirection:Ah,_boundSegment:Kd,_boundSegments:Jd,_computeSegments:Tu});function Bc(D,x,k,O){const{controller:B,data:H,_sorted:q}=D,et=B._cachedMeta.iScale;if(et&&x===et.axis&&x!=="r"&&q&&H.length){const at=et._reversePixels?Ri:ui;if(!O)return at(H,x,k);if(B._sharedOptions){const dt=H[0],Nt=typeof dt.getRange=="function"&&dt.getRange(x);if(Nt){const Dt=at(H,x,k-Nt),Vt=at(H,x,k+Nt);return{lo:Dt.lo,hi:Vt.hi}}}}return{lo:0,hi:H.length-1}}function Du(D,x,k,O,B){const H=D.getSortedVisibleDatasetMetas(),q=k[x];for(let et=0,at=H.length;et<at;++et){const{index:dt,data:Nt}=H[et],{lo:Dt,hi:Vt}=Bc(H[et],x,q,B);for(let ae=Dt;ae<=Vt;++ae){const Se=Nt[ae];Se.skip||O(Se,dt,ae)}}}function Ta(D,x,k,O,B){const H=[];return!B&&!D.isPointInArea(x)||Du(D,k,x,function(q,et,at){(B||to(q,D.chartArea,0))&&q.inRange(x.x,x.y,O)&&H.push({element:q,datasetIndex:et,index:at})},!0),H}function ys(D,x,k,O,B,H){let q=[];const et=function(dt){const Nt=dt.indexOf("x")!==-1,Dt=dt.indexOf("y")!==-1;return function(Vt,ae){const Se=Nt?Math.abs(Vt.x-ae.x):0,me=Dt?Math.abs(Vt.y-ae.y):0;return Math.sqrt(Math.pow(Se,2)+Math.pow(me,2))}}(k);let at=Number.POSITIVE_INFINITY;return Du(D,k,x,function(dt,Nt,Dt){const Vt=dt.inRange(x.x,x.y,B);if(O&&!Vt)return;const ae=dt.getCenterPoint(B);if(!(H||D.isPointInArea(ae))&&!Vt)return;const Se=et(x,ae);Se<at?(q=[{element:dt,datasetIndex:Nt,index:Dt}],at=Se):Se===at&&q.push({element:dt,datasetIndex:Nt,index:Dt})}),q}function Mh(D,x,k,O,B,H){return H||D.isPointInArea(x)?k!=="r"||O?ys(D,x,k,O,B,H):function(q,et,at,dt){let Nt=[];return Du(q,at,et,function(Dt,Vt,ae){const{startAngle:Se,endAngle:me}=Dt.getProps(["startAngle","endAngle"],dt),{angle:we}=Gn(Dt,{x:et.x,y:et.y});Yi(we,Se,me)&&Nt.push({element:Dt,datasetIndex:Vt,index:ae})}),Nt}(D,x,k,B):[]}function Th(D,x,k,O,B){const H=[],q=k==="x"?"inXRange":"inYRange";let et=!1;return Du(D,k,x,(at,dt,Nt)=>{at[q](x[k],B)&&(H.push({element:at,datasetIndex:dt,index:Nt}),et=et||at.inRange(x.x,x.y,B))}),O&&!et?[]:H}var qa={evaluateInteractionItems:Du,modes:{index(D,x,k,O){const B=Wi(x,D),H=k.axis||"x",q=k.includeInvisible||!1,et=k.intersect?Ta(D,B,H,O,q):Mh(D,B,H,!1,O,q),at=[];return et.length?(D.getSortedVisibleDatasetMetas().forEach(dt=>{const Nt=et[0].index,Dt=dt.data[Nt];Dt&&!Dt.skip&&at.push({element:Dt,datasetIndex:dt.index,index:Nt})}),at):[]},dataset(D,x,k,O){const B=Wi(x,D),H=k.axis||"xy",q=k.includeInvisible||!1;let et=k.intersect?Ta(D,B,H,O,q):Mh(D,B,H,!1,O,q);if(et.length>0){const at=et[0].datasetIndex,dt=D.getDatasetMeta(at).data;et=[];for(let Nt=0;Nt<dt.length;++Nt)et.push({element:dt[Nt],datasetIndex:at,index:Nt})}return et},point:(D,x,k,O)=>Ta(D,Wi(x,D),k.axis||"xy",O,k.includeInvisible||!1),nearest(D,x,k,O){const B=Wi(x,D),H=k.axis||"xy",q=k.includeInvisible||!1;return Mh(D,B,H,k.intersect,O,q)},x:(D,x,k,O)=>Th(D,Wi(x,D),"x",k.intersect,O),y:(D,x,k,O)=>Th(D,Wi(x,D),"y",k.intersect,O)}};const zc=["left","top","right","bottom"];function To(D,x){return D.filter(k=>k.pos===x)}function Qd(D,x){return D.filter(k=>zc.indexOf(k.pos)===-1&&k.box.axis===x)}function tc(D,x){return D.sort((k,O)=>{const B=x?O:k,H=x?k:O;return B.weight===H.weight?B.index-H.index:B.weight-H.weight})}function pa(D,x){const k=function(at){const dt={};for(const Nt of at){const{stack:Dt,pos:Vt,stackWeight:ae}=Nt;if(!Dt||!zc.includes(Vt))continue;const Se=dt[Dt]||(dt[Dt]={count:0,placed:0,weight:0,size:0});Se.count++,Se.weight+=ae}return dt}(D),{vBoxMaxWidth:O,hBoxMaxHeight:B}=x;let H,q,et;for(H=0,q=D.length;H<q;++H){et=D[H];const{fullSize:at}=et.box,dt=k[et.stack],Nt=dt&&et.stackWeight/dt.weight;et.horizontal?(et.width=Nt?Nt*O:at&&x.availableWidth,et.height=B):(et.width=O,et.height=Nt?Nt*B:at&&x.availableHeight)}return k}function ec(D,x,k,O){return Math.max(D[k],x[k])+Math.max(D[O],x[O])}function tp(D,x){D.top=Math.max(D.top,x.top),D.left=Math.max(D.left,x.left),D.bottom=Math.max(D.bottom,x.bottom),D.right=Math.max(D.right,x.right)}function Bo(D,x,k,O){const{pos:B,box:H}=k,q=D.maxPadding;if(!Jt(B)){k.size&&(D[B]-=k.size);const Dt=O[k.stack]||{size:0,count:1};Dt.size=Math.max(Dt.size,k.horizontal?H.height:H.width),k.size=Dt.size/Dt.count,D[B]+=k.size}H.getPadding&&tp(q,H.getPadding());const et=Math.max(0,x.outerWidth-ec(q,D,"left","right")),at=Math.max(0,x.outerHeight-ec(q,D,"top","bottom")),dt=et!==D.w,Nt=at!==D.h;return D.w=et,D.h=at,k.horizontal?{same:dt,other:Nt}:{same:Nt,other:dt}}function Rs(D,x){const k=x.maxPadding;function O(B){const H={left:0,top:0,right:0,bottom:0};return B.forEach(q=>{H[q]=Math.max(x[q],k[q])}),H}return O(D?["left","right"]:["top","bottom"])}function xs(D,x,k,O){const B=[];let H,q,et,at,dt,Nt;for(H=0,q=D.length,dt=0;H<q;++H){et=D[H],at=et.box,at.update(et.width||x.w,et.height||x.h,Rs(et.horizontal,x));const{same:Dt,other:Vt}=Bo(x,k,et,O);dt|=Dt&&B.length,Nt=Nt||Vt,at.fullSize||B.push(et)}return dt&&xs(B,x,k,O)||Nt}function _r(D,x,k,O,B){D.top=k,D.left=x,D.right=x+O,D.bottom=k+B,D.width=O,D.height=B}function bs(D,x,k,O){const B=k.padding;let{x:H,y:q}=x;for(const et of D){const at=et.box,dt=O[et.stack]||{count:1,placed:0,weight:1},Nt=et.stackWeight/dt.weight||1;if(et.horizontal){const Dt=x.w*Nt,Vt=dt.size||at.height;ne(dt.start)&&(q=dt.start),at.fullSize?_r(at,B.left,q,k.outerWidth-B.right-B.left,Vt):_r(at,x.left+dt.placed,q,Dt,Vt),dt.start=q,dt.placed+=Dt,q=at.bottom}else{const Dt=x.h*Nt,Vt=dt.size||at.width;ne(dt.start)&&(H=dt.start),at.fullSize?_r(at,H,B.top,Vt,k.outerHeight-B.bottom-B.top):_r(at,H,x.top+dt.placed,Vt,Dt),dt.start=H,dt.placed+=Dt,H=at.right}}x.x=H,x.y=q}var ta={addBox(D,x){D.boxes||(D.boxes=[]),x.fullSize=x.fullSize||!1,x.position=x.position||"top",x.weight=x.weight||0,x._layers=x._layers||function(){return[{z:0,draw(k){x.draw(k)}}]},D.boxes.push(x)},removeBox(D,x){const k=D.boxes?D.boxes.indexOf(x):-1;k!==-1&&D.boxes.splice(k,1)},configure(D,x,k){x.fullSize=k.fullSize,x.position=k.position,x.weight=k.weight},update(D,x,k,O){if(!D)return;const B=Qo(D.options.layout.padding),H=Math.max(x-B.width,0),q=Math.max(k-B.height,0),et=function(me){const we=function(ci){const hi=[];let gi,zi,Li,Mi,vi,Ci;for(gi=0,zi=(ci||[]).length;gi<zi;++gi)Li=ci[gi],{position:Mi,options:{stack:vi,stackWeight:Ci=1}}=Li,hi.push({index:gi,box:Li,pos:Mi,horizontal:Li.isHorizontal(),weight:Li.weight,stack:vi&&Mi+vi,stackWeight:Ci});return hi}(me),je=tc(we.filter(ci=>ci.box.fullSize),!0),pn=tc(To(we,"left"),!0),dn=tc(To(we,"right")),fn=tc(To(we,"top"),!0),An=tc(To(we,"bottom")),Nn=Qd(we,"x"),oi=Qd(we,"y");return{fullSize:je,leftAndTop:pn.concat(fn),rightAndBottom:dn.concat(oi).concat(An).concat(Nn),chartArea:To(we,"chartArea"),vertical:pn.concat(dn).concat(oi),horizontal:fn.concat(An).concat(Nn)}}(D.boxes),at=et.vertical,dt=et.horizontal;ft(D.boxes,me=>{typeof me.beforeLayout=="function"&&me.beforeLayout()});const Nt=at.reduce((me,we)=>we.box.options&&we.box.options.display===!1?me:me+1,0)||1,Dt=Object.freeze({outerWidth:x,outerHeight:k,padding:B,availableWidth:H,availableHeight:q,vBoxMaxWidth:H/2/Nt,hBoxMaxHeight:q/2}),Vt=Object.assign({},B);tp(Vt,Qo(O));const ae=Object.assign({maxPadding:Vt,w:H,h:q,x:B.left,y:B.top},B),Se=pa(at.concat(dt),Dt);xs(et.fullSize,ae,Dt,Se),xs(at,ae,Dt,Se),xs(dt,ae,Dt,Se)&&xs(at,ae,Dt,Se),function(me){const we=me.maxPadding;function je(pn){const dn=Math.max(we[pn]-me[pn],0);return me[pn]+=dn,dn}me.y+=je("top"),me.x+=je("left"),je("right"),je("bottom")}(ae),bs(et.leftAndTop,ae,Dt,Se),ae.x+=ae.w,ae.y+=ae.h,bs(et.rightAndBottom,ae,Dt,Se),D.chartArea={left:ae.left,top:ae.top,right:ae.left+ae.w,bottom:ae.top+ae.h,height:ae.h,width:ae.w},ft(et.chartArea,me=>{const we=me.box;Object.assign(we,D.chartArea),we.update(ae.w,ae.h,{left:0,top:0,right:0,bottom:0})})}};class Lu{acquireContext(x,k){}releaseContext(x){return!1}addEventListener(x,k,O){}removeEventListener(x,k,O){}getDevicePixelRatio(){return 1}getMaximumSize(x,k,O,B){return k=Math.max(0,k||x.width),O=O||x.height,{width:k,height:Math.max(0,B?Math.floor(k/B):O)}}isAttached(x){return!0}updateConfig(x){}}class nc extends Lu{acquireContext(x){return x&&x.getContext&&x.getContext("2d")||null}updateConfig(x){x.options.animation=!1}}const E1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ic=D=>D===null||D==="",Ih=!!Er&&{passive:!0};function Fc(D,x,k){D.canvas.removeEventListener(x,k,Ih)}function Ou(D,x){for(const k of D)if(k===x||k.contains(x))return!0}function jf(D,x,k){const O=D.canvas,B=new MutationObserver(H=>{let q=!1;for(const et of H)q=q||Ou(et.addedNodes,O),q=q&&!Ou(et.removedNodes,O);q&&k()});return B.observe(document,{childList:!0,subtree:!0}),B}function ep(D,x,k){const O=D.canvas,B=new MutationObserver(H=>{let q=!1;for(const et of H)q=q||Ou(et.removedNodes,O),q=q&&!Ou(et.addedNodes,O);q&&k()});return B.observe(document,{childList:!0,subtree:!0}),B}const Eu=new Map;let Yf=0;function Gf(){const D=window.devicePixelRatio;D!==Yf&&(Yf=D,Eu.forEach((x,k)=>{k.currentDevicePixelRatio!==D&&x()}))}function np(D,x,k){const O=D.canvas,B=O&&an(O);if(!B)return;const H=Te((et,at)=>{const dt=B.clientWidth;k(et,at),dt<B.clientWidth&&k()},window),q=new ResizeObserver(et=>{const at=et[0],dt=at.contentRect.width,Nt=at.contentRect.height;dt===0&&Nt===0||H(dt,Nt)});return q.observe(B),function(et,at){Eu.size||window.addEventListener("resize",Gf),Eu.set(et,at)}(D,H),q}function ip(D,x,k){k&&k.disconnect(),x==="resize"&&function(O){Eu.delete(O),Eu.size||window.removeEventListener("resize",Gf)}(D)}function Hm(D,x,k){const O=D.canvas,B=Te(H=>{D.ctx!==null&&k(function(q,et){const at=E1[q.type]||q.type,{x:dt,y:Nt}=Wi(q,et);return{type:at,chart:et,native:q,x:dt!==void 0?dt:null,y:Nt!==void 0?Nt:null}}(H,D))},D);return function(H,q,et){H.addEventListener(q,et,Ih)}(O,x,B),B}class rc extends Lu{acquireContext(x,k){const O=x&&x.getContext&&x.getContext("2d");return O&&O.canvas===x?(function(B,H){const q=B.style,et=B.getAttribute("height"),at=B.getAttribute("width");if(B.$chartjs={initial:{height:et,width:at,style:{display:q.display,height:q.height,width:q.width}}},q.display=q.display||"block",q.boxSizing=q.boxSizing||"border-box",ic(at)){const dt=Qr(B,"width");dt!==void 0&&(B.width=dt)}if(ic(et))if(B.style.height==="")B.height=B.width/(H||2);else{const dt=Qr(B,"height");dt!==void 0&&(B.height=dt)}}(x,k),O):null}releaseContext(x){const k=x.canvas;if(!k.$chartjs)return!1;const O=k.$chartjs.initial;["height","width"].forEach(H=>{const q=O[H];qt(q)?k.removeAttribute(H):k.setAttribute(H,q)});const B=O.style||{};return Object.keys(B).forEach(H=>{k.style[H]=B[H]}),k.width=k.width,delete k.$chartjs,!0}addEventListener(x,k,O){this.removeEventListener(x,k);const B=x.$proxies||(x.$proxies={}),H={attach:jf,detach:ep,resize:np}[k]||Hm;B[k]=H(x,k,O)}removeEventListener(x,k){const O=x.$proxies||(x.$proxies={}),B=O[k];B&&(({attach:ip,detach:ip,resize:ip}[k]||Fc)(x,k,B),O[k]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(x,k,O,B){return xr(x,k,O,B)}isAttached(x){const k=an(x);return!(!k||!k.isConnected)}}function wl(D){return!xe()||typeof OffscreenCanvas<"u"&&D instanceof OffscreenCanvas?nc:rc}var Ua=Object.freeze({__proto__:null,_detectPlatform:wl,BasePlatform:Lu,BasicPlatform:nc,DomPlatform:rc});const Vc="transparent",_l={boolean:(D,x,k)=>k>.5?x:D,color(D,x,k){const O=K(D||Vc),B=O.valid&&K(x||Vc);return B&&B.valid?B.mix(O,k).hexString():x},number:(D,x,k)=>D+(x-D)*k};class Xf{constructor(x,k,O,B){const H=k[O];B=Ga([x.to,B,H,x.from]);const q=Ga([x.from,H,B]);this._active=!0,this._fn=x.fn||_l[x.type||typeof q],this._easing=da[x.easing]||da.linear,this._start=Math.floor(Date.now()+(x.delay||0)),this._duration=this._total=Math.floor(x.duration),this._loop=!!x.loop,this._target=k,this._prop=O,this._from=q,this._to=B,this._promises=void 0}active(){return this._active}update(x,k,O){if(this._active){this._notify(!1);const B=this._target[this._prop],H=O-this._start,q=this._duration-H;this._start=O,this._duration=Math.floor(Math.max(q,x.duration)),this._total+=H,this._loop=!!x.loop,this._to=Ga([x.to,k,B,x.from]),this._from=Ga([x.from,B,k])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(x){const k=x-this._start,O=this._duration,B=this._prop,H=this._from,q=this._loop,et=this._to;let at;if(this._active=H!==et&&(q||k<O),!this._active)return this._target[B]=et,void this._notify(!0);k<0?this._target[B]=H:(at=k/O%2,at=q&&at>1?2-at:at,at=this._easing(Math.min(1,Math.max(0,at))),this._target[B]=this._fn(H,et,at))}wait(){const x=this._promises||(this._promises=[]);return new Promise((k,O)=>{x.push({res:k,rej:O})})}_notify(x){const k=x?"res":"rej",O=this._promises||[];for(let B=0;B<O.length;B++)O[B][k]()}}class wo{constructor(x,k){this._chart=x,this._properties=new Map,this.configure(k)}configure(x){if(!Jt(x))return;const k=Object.keys(jt.animation),O=this._properties;Object.getOwnPropertyNames(x).forEach(B=>{const H=x[B];if(!Jt(H))return;const q={};for(const et of k)q[et]=H[et];(ke(H.properties)&&H.properties||[B]).forEach(et=>{et!==B&&O.has(et)||O.set(et,q)})})}_animateOptions(x,k){const O=k.options,B=function(q,et){if(!et)return;let at=q.options;return at?(at.$shared&&(q.options=at=Object.assign({},at,{$shared:!1,$animations:{}})),at):void(q.options=et)}(x,O);if(!B)return[];const H=this._createAnimations(B,O);return O.$shared&&function(q,et){const at=[],dt=Object.keys(et);for(let Nt=0;Nt<dt.length;Nt++){const Dt=q[dt[Nt]];Dt&&Dt.active()&&at.push(Dt.wait())}return Promise.all(at)}(x.options.$animations,O).then(()=>{x.options=O},()=>{}),H}_createAnimations(x,k){const O=this._properties,B=[],H=x.$animations||(x.$animations={}),q=Object.keys(k),et=Date.now();let at;for(at=q.length-1;at>=0;--at){const dt=q[at];if(dt.charAt(0)==="$")continue;if(dt==="options"){B.push(...this._animateOptions(x,k));continue}const Nt=k[dt];let Dt=H[dt];const Vt=O.get(dt);if(Dt){if(Vt&&Dt.active()){Dt.update(Vt,Nt,et);continue}Dt.cancel()}Vt&&Vt.duration?(H[dt]=Dt=new Xf(Vt,x,dt,Nt),B.push(Dt)):x[dt]=Nt}return B}update(x,k){if(this._properties.size===0)return void Object.assign(x,k);const O=this._createAnimations(x,k);return O.length?(Ln.add(this._chart,O),!0):void 0}}function Hc(D,x){const k=D&&D.options||{},O=k.reverse,B=k.min===void 0?x:0,H=k.max===void 0?x:0;return{start:O?H:B,end:O?B:H}}function oc(D,x){const k=[],O=D._getSortedDatasetMetas(x);let B,H;for(B=0,H=O.length;B<H;++B)k.push(O[B].index);return k}function li(D,x,k,O={}){const B=D.keys,H=O.mode==="single";let q,et,at,dt;if(x!==null){for(q=0,et=B.length;q<et;++q){if(at=+B[q],at===k){if(O.all)continue;break}dt=D.values[at],re(dt)&&(H||x===0||ye(x)===ye(dt))&&(x+=dt)}return x}}function rp(D,x){const k=D&&D.options.stacked;return k||k===void 0&&x.stack!==void 0}function $a(D,x,k){const O=D[x]||(D[x]={});return O[k]||(O[k]={})}function ac(D,x,k,O){for(const B of x.getMatchingVisibleMetas(O).reverse()){const H=D[B.index];if(k&&H>0||!k&&H<0)return B.index}return null}function Wm(D,x){const{chart:k,_cachedMeta:O}=D,B=k._stacks||(k._stacks={}),{iScale:H,vScale:q,index:et}=O,at=H.axis,dt=q.axis,Nt=function(ae,Se,me){return`${ae.id}.${Se.id}.${me.stack||me.type}`}(H,q,O),Dt=x.length;let Vt;for(let ae=0;ae<Dt;++ae){const Se=x[ae],{[at]:me,[dt]:we}=Se;Vt=(Se._stacks||(Se._stacks={}))[dt]=$a(B,Nt,me),Vt[et]=we,Vt._top=ac(Vt,q,!0,O.type),Vt._bottom=ac(Vt,q,!1,O.type),(Vt._visualValues||(Vt._visualValues={}))[et]=we}}function tl(D,x){const k=D.scales;return Object.keys(k).filter(O=>k[O].axis===x).shift()}function ea(D,x){const k=D.controller.index,O=D.vScale&&D.vScale.axis;if(O){x=x||D._parsed;for(const B of x){const H=B._stacks;if(!H||H[O]===void 0||H[O][k]===void 0)return;delete H[O][k],H[O]._visualValues!==void 0&&H[O]._visualValues[k]!==void 0&&delete H[O]._visualValues[k]}}}const op=D=>D==="reset"||D==="none",ap=(D,x)=>x?D:Object.assign({},D);class Dn{constructor(x,k){this.chart=x,this._ctx=x.ctx,this.index=k,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const x=this._cachedMeta;this.configure(),this.linkScales(),x._stacked=rp(x.vScale,x),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(x){this.index!==x&&ea(this._cachedMeta),this.index=x}linkScales(){const x=this.chart,k=this._cachedMeta,O=this.getDataset(),B=(Dt,Vt,ae,Se)=>Dt==="x"?Vt:Dt==="r"?Se:ae,H=k.xAxisID=Bt(O.xAxisID,tl(x,"x")),q=k.yAxisID=Bt(O.yAxisID,tl(x,"y")),et=k.rAxisID=Bt(O.rAxisID,tl(x,"r")),at=k.indexAxis,dt=k.iAxisID=B(at,H,q,et),Nt=k.vAxisID=B(at,q,H,et);k.xScale=this.getScaleForId(H),k.yScale=this.getScaleForId(q),k.rScale=this.getScaleForId(et),k.iScale=this.getScaleForId(dt),k.vScale=this.getScaleForId(Nt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(x){return this.chart.scales[x]}_getOtherScale(x){const k=this._cachedMeta;return x===k.iScale?k.vScale:k.iScale}reset(){this._update("reset")}_destroy(){const x=this._cachedMeta;this._data&&Ut(this._data,this),x._stacked&&ea(x)}_dataCheck(){const x=this.getDataset(),k=x.data||(x.data=[]),O=this._data;if(Jt(k))this._data=function(B){const H=Object.keys(B),q=new Array(H.length);let et,at,dt;for(et=0,at=H.length;et<at;++et)dt=H[et],q[et]={x:dt,y:B[dt]};return q}(k);else if(O!==k){if(O){Ut(O,this);const B=this._cachedMeta;ea(B),B._parsed=[]}k&&Object.isExtensible(k)&&Tt(k,this),this._syncList=[],this._data=k}}addElements(){const x=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(x.dataset=new this.datasetElementType)}buildOrUpdateElements(x){const k=this._cachedMeta,O=this.getDataset();let B=!1;this._dataCheck();const H=k._stacked;k._stacked=rp(k.vScale,k),k.stack!==O.stack&&(B=!0,ea(k),k.stack=O.stack),this._resyncElements(x),(B||H!==k._stacked)&&Wm(this,k._parsed)}configure(){const x=this.chart.config,k=x.datasetScopeKeys(this._type),O=x.getOptionScopes(this.getDataset(),k,!0);this.options=x.createResolver(O,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(x,k){const{_cachedMeta:O,_data:B}=this,{iScale:H,_stacked:q}=O,et=H.axis;let at,dt,Nt,Dt=x===0&&k===B.length||O._sorted,Vt=x>0&&O._parsed[x-1];if(this._parsing===!1)O._parsed=B,O._sorted=!0,Nt=B;else{Nt=ke(B[x])?this.parseArrayData(O,B,x,k):Jt(B[x])?this.parseObjectData(O,B,x,k):this.parsePrimitiveData(O,B,x,k);const ae=()=>dt[et]===null||Vt&&dt[et]<Vt[et];for(at=0;at<k;++at)O._parsed[at+x]=dt=Nt[at],Dt&&(ae()&&(Dt=!1),Vt=dt);O._sorted=Dt}q&&Wm(this,Nt)}parsePrimitiveData(x,k,O,B){const{iScale:H,vScale:q}=x,et=H.axis,at=q.axis,dt=H.getLabels(),Nt=H===q,Dt=new Array(B);let Vt,ae,Se;for(Vt=0,ae=B;Vt<ae;++Vt)Se=Vt+O,Dt[Vt]={[et]:Nt||H.parse(dt[Se],Se),[at]:q.parse(k[Se],Se)};return Dt}parseArrayData(x,k,O,B){const{xScale:H,yScale:q}=x,et=new Array(B);let at,dt,Nt,Dt;for(at=0,dt=B;at<dt;++at)Nt=at+O,Dt=k[Nt],et[at]={x:H.parse(Dt[0],Nt),y:q.parse(Dt[1],Nt)};return et}parseObjectData(x,k,O,B){const{xScale:H,yScale:q}=x,{xAxisKey:et="x",yAxisKey:at="y"}=this._parsing,dt=new Array(B);let Nt,Dt,Vt,ae;for(Nt=0,Dt=B;Nt<Dt;++Nt)Vt=Nt+O,ae=k[Vt],dt[Nt]={x:H.parse(Me(ae,et),Vt),y:q.parse(Me(ae,at),Vt)};return dt}getParsed(x){return this._cachedMeta._parsed[x]}getDataElement(x){return this._cachedMeta.data[x]}applyStack(x,k,O){const B=this.chart,H=this._cachedMeta,q=k[x.axis];return li({keys:oc(B,!0),values:k._stacks[x.axis]._visualValues},q,H.index,{mode:O})}updateRangeFromParsed(x,k,O,B){const H=O[k.axis];let q=H===null?NaN:H;const et=B&&O._stacks[k.axis];B&&et&&(B.values=et,q=li(B,H,this._cachedMeta.index)),x.min=Math.min(x.min,q),x.max=Math.max(x.max,q)}getMinMax(x,k){const O=this._cachedMeta,B=O._parsed,H=O._sorted&&x===O.iScale,q=B.length,et=this._getOtherScale(x),at=((me,we,je)=>me&&!we.hidden&&we._stacked&&{keys:oc(je,!0),values:null})(k,O,this.chart),dt={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Nt,max:Dt}=function(me){const{min:we,max:je,minDefined:pn,maxDefined:dn}=me.getUserBounds();return{min:pn?we:Number.NEGATIVE_INFINITY,max:dn?je:Number.POSITIVE_INFINITY}}(et);let Vt,ae;function Se(){ae=B[Vt];const me=ae[et.axis];return!re(ae[x.axis])||Nt>me||Dt<me}for(Vt=0;Vt<q&&(Se()||(this.updateRangeFromParsed(dt,x,ae,at),!H));++Vt);if(H){for(Vt=q-1;Vt>=0;--Vt)if(!Se()){this.updateRangeFromParsed(dt,x,ae,at);break}}return dt}getAllParsedValues(x){const k=this._cachedMeta._parsed,O=[];let B,H,q;for(B=0,H=k.length;B<H;++B)q=k[B][x.axis],re(q)&&O.push(q);return O}getMaxOverflow(){return!1}getLabelAndValue(x){const k=this._cachedMeta,O=k.iScale,B=k.vScale,H=this.getParsed(x);return{label:O?""+O.getLabelForValue(H[O.axis]):"",value:B?""+B.getLabelForValue(H[B.axis]):""}}_update(x){const k=this._cachedMeta;this.update(x||"default"),k._clip=function(O){let B,H,q,et;return Jt(O)?(B=O.top,H=O.right,q=O.bottom,et=O.left):B=H=q=et=O,{top:B,right:H,bottom:q,left:et,disabled:O===!1}}(Bt(this.options.clip,function(O,B,H){if(H===!1)return!1;const q=Hc(O,H),et=Hc(B,H);return{top:et.end,right:q.end,bottom:et.start,left:q.start}}(k.xScale,k.yScale,this.getMaxOverflow())))}update(x){}draw(){const x=this._ctx,k=this.chart,O=this._cachedMeta,B=O.data||[],H=k.chartArea,q=[],et=this._drawStart||0,at=this._drawCount||B.length-et,dt=this.options.drawActiveElementsOnTop;let Nt;for(O.dataset&&O.dataset.draw(x,H,et,at),Nt=et;Nt<et+at;++Nt){const Dt=B[Nt];Dt.hidden||(Dt.active&&dt?q.push(Dt):Dt.draw(x,H))}for(Nt=0;Nt<q.length;++Nt)q[Nt].draw(x,H)}getStyle(x,k){const O=k?"active":"default";return x===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(O):this.resolveDataElementOptions(x||0,O)}getContext(x,k,O){const B=this.getDataset();let H;if(x>=0&&x<this._cachedMeta.data.length){const q=this._cachedMeta.data[x];H=q.$context||(q.$context=function(et,at,dt){return Xa(et,{active:!1,dataIndex:at,parsed:void 0,raw:void 0,element:dt,index:at,mode:"default",type:"data"})}(this.getContext(),x,q)),H.parsed=this.getParsed(x),H.raw=B.data[x],H.index=H.dataIndex=x}else H=this.$context||(this.$context=function(q,et){return Xa(q,{active:!1,dataset:void 0,datasetIndex:et,index:et,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),H.dataset=B,H.index=H.datasetIndex=this.index;return H.active=!!k,H.mode=O,H}resolveDatasetElementOptions(x){return this._resolveElementOptions(this.datasetElementType.id,x)}resolveDataElementOptions(x,k){return this._resolveElementOptions(this.dataElementType.id,k,x)}_resolveElementOptions(x,k="default",O){const B=k==="active",H=this._cachedDataOpts,q=x+"-"+k,et=H[q],at=this.enableOptionSharing&&ne(O);if(et)return ap(et,at);const dt=this.chart.config,Nt=dt.datasetElementScopeKeys(this._type,x),Dt=B?[`${x}Hover`,"hover",x,""]:[x,""],Vt=dt.getOptionScopes(this.getDataset(),Nt),ae=Object.keys(jt.elements[x]),Se=dt.resolveNamedOptions(Vt,ae,()=>this.getContext(O,B,k),Dt);return Se.$shared&&(Se.$shared=at,H[q]=Object.freeze(ap(Se,at))),Se}_resolveAnimations(x,k,O){const B=this.chart,H=this._cachedDataOpts,q=`animation-${k}`,et=H[q];if(et)return et;let at;if(B.options.animation!==!1){const Nt=this.chart.config,Dt=Nt.datasetAnimationScopeKeys(this._type,k),Vt=Nt.getOptionScopes(this.getDataset(),Dt);at=Nt.createResolver(Vt,this.getContext(x,O,k))}const dt=new wo(B,at&&at.animations);return at&&at._cacheable&&(H[q]=Object.freeze(dt)),dt}getSharedOptions(x){if(x.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},x))}includeOptions(x,k){return!k||op(x)||this.chart._animationsDisabled}_getSharedOptions(x,k){const O=this.resolveDataElementOptions(x,k),B=this._sharedOptions,H=this.getSharedOptions(O),q=this.includeOptions(k,H)||H!==B;return this.updateSharedOptions(H,k,O),{sharedOptions:H,includeOptions:q}}updateElement(x,k,O,B){op(B)?Object.assign(x,O):this._resolveAnimations(k,B).update(x,O)}updateSharedOptions(x,k,O){x&&!op(k)&&this._resolveAnimations(void 0,k).update(x,O)}_setStyle(x,k,O,B){x.active=B;const H=this.getStyle(k,B);this._resolveAnimations(k,O,B).update(x,{options:!B&&this.getSharedOptions(H)||H})}removeHoverStyle(x,k,O){this._setStyle(x,O,"active",!1)}setHoverStyle(x,k,O){this._setStyle(x,O,"active",!0)}_removeDatasetHoverStyle(){const x=this._cachedMeta.dataset;x&&this._setStyle(x,void 0,"active",!1)}_setDatasetHoverStyle(){const x=this._cachedMeta.dataset;x&&this._setStyle(x,void 0,"active",!0)}_resyncElements(x){const k=this._data,O=this._cachedMeta.data;for(const[et,at,dt]of this._syncList)this[et](at,dt);this._syncList=[];const B=O.length,H=k.length,q=Math.min(H,B);q&&this.parse(0,q),H>B?this._insertElements(B,H-B,x):H<B&&this._removeElements(H,B-H)}_insertElements(x,k,O=!0){const B=this._cachedMeta,H=B.data,q=x+k;let et;const at=dt=>{for(dt.length+=k,et=dt.length-1;et>=q;et--)dt[et]=dt[et-k]};for(at(H),et=x;et<q;++et)H[et]=new this.dataElementType;this._parsing&&at(B._parsed),this.parse(x,k),O&&this.updateElements(H,x,k,"reset")}updateElements(x,k,O,B){}_removeElements(x,k){const O=this._cachedMeta;if(this._parsing){const B=O._parsed.splice(x,k);O._stacked&&ea(O,B)}O.data.splice(x,k)}_sync(x){if(this._parsing)this._syncList.push(x);else{const[k,O,B]=x;this[k](O,B)}this.chart._dataChanges.push([this.index,...x])}_onDataPush(){const x=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-x,x])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(x,k){k&&this._sync(["_removeElements",x,k]);const O=arguments.length-2;O&&this._sync(["_insertElements",x,O])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}qi(Dn,"defaults",{}),qi(Dn,"datasetElementType",null),qi(Dn,"dataElementType",null);class Za{constructor(){qi(this,"active",!1)}tooltipPosition(x){const{x:k,y:O}=this.getProps(["x","y"],x);return{x:k,y:O}}hasValue(){return Re(this.x)&&Re(this.y)}getProps(x,k){const O=this.$animations;if(!k||!O)return this;const B={};return x.forEach(H=>{B[H]=O[H]&&O[H].active()?O[H]._to:this[H]}),B}}qi(Za,"defaults",{}),qi(Za,"defaultRoutes");function jm(D,x){const k=D.options.ticks,O=function(Dt){const Vt=Dt.options.offset,ae=Dt._tickSize(),Se=Dt._length/ae+(Vt?0:1),me=Dt._maxLength/ae;return Math.floor(Math.min(Se,me))}(D),B=Math.min(k.maxTicksLimit||O,O),H=k.major.enabled?function(Dt){const Vt=[];let ae,Se;for(ae=0,Se=Dt.length;ae<Se;ae++)Dt[ae].major&&Vt.push(ae);return Vt}(x):[],q=H.length,et=H[0],at=H[q-1],dt=[];if(q>B)return function(Dt,Vt,ae,Se){let me,we=0,je=ae[0];for(Se=Math.ceil(Se),me=0;me<Dt.length;me++)me===je&&(Vt.push(Dt[me]),we++,je=ae[we*Se])}(x,dt,H,q/B),dt;const Nt=function(Dt,Vt,ae){const Se=function(je){const pn=je.length;let dn,fn;if(pn<2)return!1;for(fn=je[0],dn=1;dn<pn;++dn)if(je[dn]-je[dn-1]!==fn)return!1;return fn}(Dt),me=Vt.length/ae;if(!Se)return Math.max(me,1);const we=We(Se);for(let je=0,pn=we.length-1;je<pn;je++){const dn=we[je];if(dn>me)return dn}return Math.max(me,1)}(H,x,B);if(q>0){let Dt,Vt;const ae=q>1?Math.round((at-et)/(q-1)):null;for(el(x,dt,Nt,qt(ae)?0:et-ae,et),Dt=0,Vt=q-1;Dt<Vt;Dt++)el(x,dt,Nt,H[Dt],H[Dt+1]);return el(x,dt,Nt,at,qt(ae)?x.length:at+ae),dt}return el(x,dt,Nt),dt}function el(D,x,k,O,B){const H=Bt(O,0),q=Math.min(Bt(B,D.length),D.length);let et,at,dt,Nt=0;for(k=Math.ceil(k),B&&(et=B-O,k=et/Math.floor(et/k)),dt=H;dt<0;)Nt++,dt=Math.round(H+Nt*k);for(at=Math.max(H,0);at<q;at++)at===dt&&(x.push(D[at]),Nt++,dt=Math.round(H+Nt*k))}const Dh=(D,x,k)=>x==="top"||x==="left"?D[x]+k:D[x]-k,sp=(D,x)=>Math.min(x||D,D);function oo(D,x){const k=[],O=D.length/x,B=D.length;let H=0;for(;H<B;H+=O)k.push(D[Math.floor(H)]);return k}function qf(D,x,k){const O=D.ticks.length,B=Math.min(x,O-1),H=D._startPixel,q=D._endPixel,et=1e-6;let at,dt=D.getPixelForTick(B);if(!(k&&(at=O===1?Math.max(dt-H,q-dt):x===0?(D.getPixelForTick(1)-dt)/2:(dt-D.getPixelForTick(B-1))/2,dt+=B<x?at:-at,dt<H-et||dt>q+et)))return dt}function ba(D){return D.drawTicks?D.tickLength:0}function Yr(D,x){if(!D.display)return 0;const k=Ir(D.font,x),O=Qo(D.padding);return(ke(D.text)?D.text.length:1)*k.lineHeight+O.height}function Ka(D,x,k){let O=Ne(D);return(k&&x!=="right"||!k&&x==="right")&&(O=(B=>B==="left"?"right":B==="right"?"left":B)(O)),O}class nl extends Za{constructor(x){super(),this.id=x.id,this.type=x.type,this.options=void 0,this.ctx=x.ctx,this.chart=x.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(x){this.options=x.setContext(this.getContext()),this.axis=x.axis,this._userMin=this.parse(x.min),this._userMax=this.parse(x.max),this._suggestedMin=this.parse(x.suggestedMin),this._suggestedMax=this.parse(x.suggestedMax)}parse(x,k){return x}getUserBounds(){let{_userMin:x,_userMax:k,_suggestedMin:O,_suggestedMax:B}=this;return x=Zt(x,Number.POSITIVE_INFINITY),k=Zt(k,Number.NEGATIVE_INFINITY),O=Zt(O,Number.POSITIVE_INFINITY),B=Zt(B,Number.NEGATIVE_INFINITY),{min:Zt(x,O),max:Zt(k,B),minDefined:re(x),maxDefined:re(k)}}getMinMax(x){let k,{min:O,max:B,minDefined:H,maxDefined:q}=this.getUserBounds();if(H&&q)return{min:O,max:B};const et=this.getMatchingVisibleMetas();for(let at=0,dt=et.length;at<dt;++at)k=et[at].controller.getMinMax(this,x),H||(O=Math.min(O,k.min)),q||(B=Math.max(B,k.max));return O=q&&O>B?B:O,B=H&&O>B?O:B,{min:Zt(O,Zt(B,O)),max:Zt(B,Zt(O,B))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const x=this.chart.data;return this.options.labels||(this.isHorizontal()?x.xLabels:x.yLabels)||x.labels||[]}getLabelItems(x=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(x))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(x,k,O){const{beginAtZero:B,grace:H,ticks:q}=this.options,et=q.sampleSize;this.beforeUpdate(),this.maxWidth=x,this.maxHeight=k,this._margins=O=Object.assign({left:0,right:0,top:0,bottom:0},O),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+O.left+O.right:this.height+O.top+O.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Mu(this,H,B),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const at=et<this.ticks.length;this._convertTicksToLabels(at?oo(this.ticks,et):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),q.display&&(q.autoSkip||q.source==="auto")&&(this.ticks=jm(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),at&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let x,k,O=this.options.reverse;this.isHorizontal()?(x=this.left,k=this.right):(x=this.top,k=this.bottom,O=!O),this._startPixel=x,this._endPixel=k,this._reversePixels=O,this._length=k-x,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(x){this.chart.notifyPlugins(x,this.getContext()),gt(this.options[x],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(x){const k=this.options.ticks;let O,B,H;for(O=0,B=x.length;O<B;O++)H=x[O],H.label=gt(k.callback,[H.value,O,x],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const x=this.options,k=x.ticks,O=sp(this.ticks.length,x.ticks.maxTicksLimit),B=k.minRotation||0,H=k.maxRotation;let q,et,at,dt=B;if(!this._isVisible()||!k.display||B>=H||O<=1||!this.isHorizontal())return void(this.labelRotation=B);const Nt=this._getLabelSizes(),Dt=Nt.widest.width,Vt=Nt.highest.height,ae=wn(this.chart.width-Dt,0,this.maxWidth);q=x.offset?this.maxWidth/O:ae/(O-1),Dt+6>q&&(q=ae/(O-(x.offset?.5:1)),et=this.maxHeight-ba(x.grid)-k.padding-Yr(x.title,this.chart.options.font),at=Math.sqrt(Dt*Dt+Vt*Vt),dt=In(Math.min(Math.asin(wn((Nt.highest.height+6)/q,-1,1)),Math.asin(wn(et/at,-1,1))-Math.asin(wn(Vt/at,-1,1)))),dt=Math.max(B,Math.min(H,dt))),this.labelRotation=dt}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const x={width:0,height:0},{chart:k,options:{ticks:O,title:B,grid:H}}=this,q=this._isVisible(),et=this.isHorizontal();if(q){const at=Yr(B,k.options.font);if(et?(x.width=this.maxWidth,x.height=ba(H)+at):(x.height=this.maxHeight,x.width=ba(H)+at),O.display&&this.ticks.length){const{first:dt,last:Nt,widest:Dt,highest:Vt}=this._getLabelSizes(),ae=2*O.padding,Se=he(this.labelRotation),me=Math.cos(Se),we=Math.sin(Se);if(et){const je=O.mirror?0:we*Dt.width+me*Vt.height;x.height=Math.min(this.maxHeight,x.height+je+ae)}else{const je=O.mirror?0:me*Dt.width+we*Vt.height;x.width=Math.min(this.maxWidth,x.width+je+ae)}this._calculatePadding(dt,Nt,we,me)}}this._handleMargins(),et?(this.width=this._length=k.width-this._margins.left-this._margins.right,this.height=x.height):(this.width=x.width,this.height=this._length=k.height-this._margins.top-this._margins.bottom)}_calculatePadding(x,k,O,B){const{ticks:{align:H,padding:q},position:et}=this.options,at=this.labelRotation!==0,dt=et!=="top"&&this.axis==="x";if(this.isHorizontal()){const Nt=this.getPixelForTick(0)-this.left,Dt=this.right-this.getPixelForTick(this.ticks.length-1);let Vt=0,ae=0;at?dt?(Vt=B*x.width,ae=O*k.height):(Vt=O*x.height,ae=B*k.width):H==="start"?ae=k.width:H==="end"?Vt=x.width:H!=="inner"&&(Vt=x.width/2,ae=k.width/2),this.paddingLeft=Math.max((Vt-Nt+q)*this.width/(this.width-Nt),0),this.paddingRight=Math.max((ae-Dt+q)*this.width/(this.width-Dt),0)}else{let Nt=k.height/2,Dt=x.height/2;H==="start"?(Nt=0,Dt=x.height):H==="end"&&(Nt=k.height,Dt=0),this.paddingTop=Nt+q,this.paddingBottom=Dt+q}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:x,position:k}=this.options;return k==="top"||k==="bottom"||x==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(x){let k,O;for(this.beforeTickToLabelConversion(),this.generateTickLabels(x),k=0,O=x.length;k<O;k++)qt(x[k].label)&&(x.splice(k,1),O--,k--);this.afterTickToLabelConversion()}_getLabelSizes(){let x=this._labelSizes;if(!x){const k=this.options.ticks.sampleSize;let O=this.ticks;k<O.length&&(O=oo(O,k)),this._labelSizes=x=this._computeLabelSizes(O,O.length,this.options.ticks.maxTicksLimit)}return x}_computeLabelSizes(x,k,O){const{ctx:B,_longestTextCache:H}=this,q=[],et=[],at=Math.floor(k/sp(k,O));let dt,Nt,Dt,Vt,ae,Se,me,we,je,pn,dn,fn=0,An=0;for(dt=0;dt<k;dt+=at){if(Vt=x[dt].label,ae=this._resolveTickFontOptions(dt),B.font=Se=ae.string,me=H[Se]=H[Se]||{data:{},gc:[]},we=ae.lineHeight,je=pn=0,qt(Vt)||ke(Vt)){if(ke(Vt))for(Nt=0,Dt=Vt.length;Nt<Dt;++Nt)dn=Vt[Nt],qt(dn)||ke(dn)||(je=ti(B,me.data,me.gc,je,dn),pn+=we)}else je=ti(B,me.data,me.gc,je,Vt),pn=we;q.push(je),et.push(pn),fn=Math.max(je,fn),An=Math.max(pn,An)}(function(hi,gi){ft(hi,zi=>{const Li=zi.gc,Mi=Li.length/2;let vi;if(Mi>gi){for(vi=0;vi<Mi;++vi)delete zi.data[Li[vi]];Li.splice(0,Mi)}})})(H,k);const Nn=q.indexOf(fn),oi=et.indexOf(An),ci=hi=>({width:q[hi]||0,height:et[hi]||0});return{first:ci(0),last:ci(k-1),widest:ci(Nn),highest:ci(oi),widths:q,heights:et}}getLabelForValue(x){return x}getPixelForValue(x,k){return NaN}getValueForPixel(x){}getPixelForTick(x){const k=this.ticks;return x<0||x>k.length-1?null:this.getPixelForValue(k[x].value)}getPixelForDecimal(x){this._reversePixels&&(x=1-x);const k=this._startPixel+x*this._length;return zn(this._alignToPixels?xa(this.chart,k,0):k)}getDecimalForPixel(x){const k=(x-this._startPixel)/this._length;return this._reversePixels?1-k:k}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:x,max:k}=this;return x<0&&k<0?k:x>0&&k>0?x:0}getContext(x){const k=this.ticks||[];if(x>=0&&x<k.length){const O=k[x];return O.$context||(O.$context=function(B,H,q){return Xa(B,{tick:q,index:H,type:"tick"})}(this.getContext(),x,O))}return this.$context||(this.$context=Xa(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const x=this.options.ticks,k=he(this.labelRotation),O=Math.abs(Math.cos(k)),B=Math.abs(Math.sin(k)),H=this._getLabelSizes(),q=x.autoSkipPadding||0,et=H?H.widest.width+q:0,at=H?H.highest.height+q:0;return this.isHorizontal()?at*O>et*B?et/O:at/B:at*B<et*O?at/O:et/B}_isVisible(){const x=this.options.display;return x!=="auto"?!!x:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(x){const k=this.axis,O=this.chart,B=this.options,{grid:H,position:q,border:et}=B,at=H.offset,dt=this.isHorizontal(),Nt=this.ticks.length+(at?1:0),Dt=ba(H),Vt=[],ae=et.setContext(this.getContext()),Se=ae.display?ae.width:0,me=Se/2,we=function(Ci){return xa(O,Ci,Se)};let je,pn,dn,fn,An,Nn,oi,ci,hi,gi,zi,Li;if(q==="top")je=we(this.bottom),Nn=this.bottom-Dt,ci=je-me,gi=we(x.top)+me,Li=x.bottom;else if(q==="bottom")je=we(this.top),gi=x.top,Li=we(x.bottom)-me,Nn=je+me,ci=this.top+Dt;else if(q==="left")je=we(this.right),An=this.right-Dt,oi=je-me,hi=we(x.left)+me,zi=x.right;else if(q==="right")je=we(this.left),hi=x.left,zi=we(x.right)-me,An=je+me,oi=this.left+Dt;else if(k==="x"){if(q==="center")je=we((x.top+x.bottom)/2+.5);else if(Jt(q)){const Ci=Object.keys(q)[0],tn=q[Ci];je=we(this.chart.scales[Ci].getPixelForValue(tn))}gi=x.top,Li=x.bottom,Nn=je+me,ci=Nn+Dt}else if(k==="y"){if(q==="center")je=we((x.left+x.right)/2);else if(Jt(q)){const Ci=Object.keys(q)[0],tn=q[Ci];je=we(this.chart.scales[Ci].getPixelForValue(tn))}An=je-me,oi=An-Dt,hi=x.left,zi=x.right}const Mi=Bt(B.ticks.maxTicksLimit,Nt),vi=Math.max(1,Math.ceil(Nt/Mi));for(pn=0;pn<Nt;pn+=vi){const Ci=this.getContext(pn),tn=H.setContext(Ci),Ti=et.setContext(Ci),Pr=tn.lineWidth,Gr=tn.color,es=Ti.dash||[],ns=Ti.dashOffset,Kr=tn.tickWidth,ia=tn.tickColor,al=tn.tickBorderDash||[],Cs=tn.tickBorderDashOffset;dn=qf(this,pn,at),dn!==void 0&&(fn=xa(O,dn,Pr),dt?An=oi=hi=zi=fn:Nn=ci=gi=Li=fn,Vt.push({tx1:An,ty1:Nn,tx2:oi,ty2:ci,x1:hi,y1:gi,x2:zi,y2:Li,width:Pr,color:Gr,borderDash:es,borderDashOffset:ns,tickWidth:Kr,tickColor:ia,tickBorderDash:al,tickBorderDashOffset:Cs}))}return this._ticksLength=Nt,this._borderValue=je,Vt}_computeLabelItems(x){const k=this.axis,O=this.options,{position:B,ticks:H}=O,q=this.isHorizontal(),et=this.ticks,{align:at,crossAlign:dt,padding:Nt,mirror:Dt}=H,Vt=ba(O.grid),ae=Vt+Nt,Se=Dt?-Nt:ae,me=-he(this.labelRotation),we=[];let je,pn,dn,fn,An,Nn,oi,ci,hi,gi,zi,Li,Mi="middle";if(B==="top")Nn=this.bottom-Se,oi=this._getXAxisLabelAlignment();else if(B==="bottom")Nn=this.top+Se,oi=this._getXAxisLabelAlignment();else if(B==="left"){const Ci=this._getYAxisLabelAlignment(Vt);oi=Ci.textAlign,An=Ci.x}else if(B==="right"){const Ci=this._getYAxisLabelAlignment(Vt);oi=Ci.textAlign,An=Ci.x}else if(k==="x"){if(B==="center")Nn=(x.top+x.bottom)/2+ae;else if(Jt(B)){const Ci=Object.keys(B)[0],tn=B[Ci];Nn=this.chart.scales[Ci].getPixelForValue(tn)+ae}oi=this._getXAxisLabelAlignment()}else if(k==="y"){if(B==="center")An=(x.left+x.right)/2-ae;else if(Jt(B)){const Ci=Object.keys(B)[0],tn=B[Ci];An=this.chart.scales[Ci].getPixelForValue(tn)}oi=this._getYAxisLabelAlignment(Vt).textAlign}k==="y"&&(at==="start"?Mi="top":at==="end"&&(Mi="bottom"));const vi=this._getLabelSizes();for(je=0,pn=et.length;je<pn;++je){dn=et[je],fn=dn.label;const Ci=H.setContext(this.getContext(je));ci=this.getPixelForTick(je)+H.labelOffset,hi=this._resolveTickFontOptions(je),gi=hi.lineHeight,zi=ke(fn)?fn.length:1;const tn=zi/2,Ti=Ci.color,Pr=Ci.textStrokeColor,Gr=Ci.textStrokeWidth;let es,ns=oi;if(q?(An=ci,oi==="inner"&&(ns=je===pn-1?this.options.reverse?"left":"right":je===0?this.options.reverse?"right":"left":"center"),Li=B==="top"?dt==="near"||me!==0?-zi*gi+gi/2:dt==="center"?-vi.highest.height/2-tn*gi+gi:-vi.highest.height+gi/2:dt==="near"||me!==0?gi/2:dt==="center"?vi.highest.height/2-tn*gi:vi.highest.height-zi*gi,Dt&&(Li*=-1),me===0||Ci.showLabelBackdrop||(An+=gi/2*Math.sin(me))):(Nn=ci,Li=(1-zi)*gi/2),Ci.showLabelBackdrop){const Kr=Qo(Ci.backdropPadding),ia=vi.heights[je],al=vi.widths[je];let Cs=Li-Kr.top,Sa=0-Kr.left;switch(Mi){case"middle":Cs-=ia/2;break;case"bottom":Cs-=ia}switch(oi){case"center":Sa-=al/2;break;case"right":Sa-=al}es={left:Sa,top:Cs,width:al+Kr.width,height:ia+Kr.height,color:Ci.backdropColor}}we.push({label:fn,font:hi,textOffset:Li,options:{rotation:me,color:Ti,strokeColor:Pr,strokeWidth:Gr,textAlign:ns,textBaseline:Mi,translation:[An,Nn],backdrop:es}})}return we}_getXAxisLabelAlignment(){const{position:x,ticks:k}=this.options;if(-he(this.labelRotation))return x==="top"?"left":"right";let O="center";return k.align==="start"?O="left":k.align==="end"?O="right":k.align==="inner"&&(O="inner"),O}_getYAxisLabelAlignment(x){const{position:k,ticks:{crossAlign:O,mirror:B,padding:H}}=this.options,q=x+H,et=this._getLabelSizes().widest.width;let at,dt;return k==="left"?B?(dt=this.right+H,O==="near"?at="left":O==="center"?(at="center",dt+=et/2):(at="right",dt+=et)):(dt=this.right-q,O==="near"?at="right":O==="center"?(at="center",dt-=et/2):(at="left",dt=this.left)):k==="right"?B?(dt=this.left+H,O==="near"?at="right":O==="center"?(at="center",dt-=et/2):(at="left",dt-=et)):(dt=this.left+q,O==="near"?at="left":O==="center"?(at="center",dt+=et/2):(at="right",dt=this.right)):at="right",{textAlign:at,x:dt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const x=this.chart,k=this.options.position;return k==="left"||k==="right"?{top:0,left:this.left,bottom:x.height,right:this.right}:k==="top"||k==="bottom"?{top:this.top,left:0,bottom:this.bottom,right:x.width}:void 0}drawBackground(){const{ctx:x,options:{backgroundColor:k},left:O,top:B,width:H,height:q}=this;k&&(x.save(),x.fillStyle=k,x.fillRect(O,B,H,q),x.restore())}getLineWidthForValue(x){const k=this.options.grid;if(!this._isVisible()||!k.display)return 0;const O=this.ticks.findIndex(B=>B.value===x);return O>=0?k.setContext(this.getContext(O)).lineWidth:0}drawGrid(x){const k=this.options.grid,O=this.ctx,B=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(x));let H,q;const et=(at,dt,Nt)=>{Nt.width&&Nt.color&&(O.save(),O.lineWidth=Nt.width,O.strokeStyle=Nt.color,O.setLineDash(Nt.borderDash||[]),O.lineDashOffset=Nt.borderDashOffset,O.beginPath(),O.moveTo(at.x,at.y),O.lineTo(dt.x,dt.y),O.stroke(),O.restore())};if(k.display)for(H=0,q=B.length;H<q;++H){const at=B[H];k.drawOnChartArea&&et({x:at.x1,y:at.y1},{x:at.x2,y:at.y2},at),k.drawTicks&&et({x:at.tx1,y:at.ty1},{x:at.tx2,y:at.ty2},{color:at.tickColor,width:at.tickWidth,borderDash:at.tickBorderDash,borderDashOffset:at.tickBorderDashOffset})}}drawBorder(){const{chart:x,ctx:k,options:{border:O,grid:B}}=this,H=O.setContext(this.getContext()),q=O.display?H.width:0;if(!q)return;const et=B.setContext(this.getContext(0)).lineWidth,at=this._borderValue;let dt,Nt,Dt,Vt;this.isHorizontal()?(dt=xa(x,this.left,q)-q/2,Nt=xa(x,this.right,et)+et/2,Dt=Vt=at):(Dt=xa(x,this.top,q)-q/2,Vt=xa(x,this.bottom,et)+et/2,dt=Nt=at),k.save(),k.lineWidth=H.width,k.strokeStyle=H.color,k.beginPath(),k.moveTo(dt,Dt),k.lineTo(Nt,Vt),k.stroke(),k.restore()}drawLabels(x){if(!this.options.ticks.display)return;const k=this.ctx,O=this._computeLabelArea();O&&fs(k,O);const B=this.getLabelItems(x);for(const H of B){const q=H.options,et=H.font;Po(k,H.label,0,H.textOffset,et,q)}O&&Tr(k)}drawTitle(){const{ctx:x,options:{position:k,title:O,reverse:B}}=this;if(!O.display)return;const H=Ir(O.font),q=Qo(O.padding),et=O.align;let at=H.lineHeight/2;k==="bottom"||k==="center"||Jt(k)?(at+=q.bottom,ke(O.text)&&(at+=H.lineHeight*(O.text.length-1))):at+=q.top;const{titleX:dt,titleY:Nt,maxWidth:Dt,rotation:Vt}=function(ae,Se,me,we){const{top:je,left:pn,bottom:dn,right:fn,chart:An}=ae,{chartArea:Nn,scales:oi}=An;let ci,hi,gi,zi=0;const Li=dn-je,Mi=fn-pn;if(ae.isHorizontal()){if(hi=Fe(we,pn,fn),Jt(me)){const vi=Object.keys(me)[0],Ci=me[vi];gi=oi[vi].getPixelForValue(Ci)+Li-Se}else gi=me==="center"?(Nn.bottom+Nn.top)/2+Li-Se:Dh(ae,me,Se);ci=fn-pn}else{if(Jt(me)){const vi=Object.keys(me)[0],Ci=me[vi];hi=oi[vi].getPixelForValue(Ci)-Mi+Se}else hi=me==="center"?(Nn.left+Nn.right)/2-Mi+Se:Dh(ae,me,Se);gi=Fe(we,dn,je),zi=me==="left"?-ln:ln}return{titleX:hi,titleY:gi,maxWidth:ci,rotation:zi}}(this,at,k,et);Po(x,O.text,0,0,H,{color:O.color,maxWidth:Dt,rotation:Vt,textAlign:Ka(et,k,B),textBaseline:"middle",translation:[dt,Nt]})}draw(x){this._isVisible()&&(this.drawBackground(),this.drawGrid(x),this.drawBorder(),this.drawTitle(),this.drawLabels(x))}_layers(){const x=this.options,k=x.ticks&&x.ticks.z||0,O=Bt(x.grid&&x.grid.z,-1),B=Bt(x.border&&x.border.z,0);return this._isVisible()&&this.draw===nl.prototype.draw?[{z:O,draw:H=>{this.drawBackground(),this.drawGrid(H),this.drawTitle()}},{z:B,draw:()=>{this.drawBorder()}},{z:k,draw:H=>{this.drawLabels(H)}}]:[{z:k,draw:H=>{this.draw(H)}}]}getMatchingVisibleMetas(x){const k=this.chart.getSortedVisibleDatasetMetas(),O=this.axis+"AxisID",B=[];let H,q;for(H=0,q=k.length;H<q;++H){const et=k[H];et[O]!==this.id||x&&et.type!==x||B.push(et)}return B}_resolveTickFontOptions(x){return Ir(this.options.ticks.setContext(this.getContext(x)).font)}_maxDigits(){const x=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/x}}class ws{constructor(x,k,O){this.type=x,this.scope=k,this.override=O,this.items=Object.create(null)}isForType(x){return Object.prototype.isPrototypeOf.call(this.type.prototype,x.prototype)}register(x){const k=Object.getPrototypeOf(x);let O;(function(et){return"id"in et&&"defaults"in et})(k)&&(O=this.register(k));const B=this.items,H=x.id,q=this.scope+"."+H;if(!H)throw new Error("class does not have id: "+x);return H in B||(B[H]=x,function(et,at,dt){const Nt=te(Object.create(null),[dt?jt.get(dt):{},jt.get(at),et.defaults]);jt.set(at,Nt),et.defaultRoutes&&function(Dt,Vt){Object.keys(Vt).forEach(ae=>{const Se=ae.split("."),me=Se.pop(),we=[Dt].concat(Se).join("."),je=Vt[ae].split("."),pn=je.pop(),dn=je.join(".");jt.route(we,me,dn,pn)})}(at,et.defaultRoutes),et.descriptors&&jt.describe(at,et.descriptors)}(x,q,O),this.override&&jt.override(x.id,x.overrides)),q}get(x){return this.items[x]}unregister(x){const k=this.items,O=x.id,B=this.scope;O in k&&delete k[O],B&&O in jt[B]&&(delete jt[B][O],this.override&&delete Ce[O])}}class P1{constructor(){this.controllers=new ws(Dn,"datasets",!0),this.elements=new ws(Za,"elements"),this.plugins=new ws(Object,"plugins"),this.scales=new ws(nl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...x){this._each("register",x)}remove(...x){this._each("unregister",x)}addControllers(...x){this._each("register",x,this.controllers)}addElements(...x){this._each("register",x,this.elements)}addPlugins(...x){this._each("register",x,this.plugins)}addScales(...x){this._each("register",x,this.scales)}getController(x){return this._get(x,this.controllers,"controller")}getElement(x){return this._get(x,this.elements,"element")}getPlugin(x){return this._get(x,this.plugins,"plugin")}getScale(x){return this._get(x,this.scales,"scale")}removeControllers(...x){this._each("unregister",x,this.controllers)}removeElements(...x){this._each("unregister",x,this.elements)}removePlugins(...x){this._each("unregister",x,this.plugins)}removeScales(...x){this._each("unregister",x,this.scales)}_each(x,k,O){[...k].forEach(B=>{const H=O||this._getRegistryForType(B);O||H.isForType(B)||H===this.plugins&&B.id?this._exec(x,H,B):ft(B,q=>{const et=O||this._getRegistryForType(q);this._exec(x,et,q)})})}_exec(x,k,O){const B=fe(x);gt(O["before"+B],[],O),k[x](O),gt(O["after"+B],[],O)}_getRegistryForType(x){for(let k=0;k<this._typedRegistries.length;k++){const O=this._typedRegistries[k];if(O.isForType(x))return O}return this.plugins}_get(x,k,O){const B=k.get(x);if(B===void 0)throw new Error('"'+x+'" is not a registered '+O+".");return B}}var na=new P1;class zo{constructor(){this._init=[]}notify(x,k,O,B){k==="beforeInit"&&(this._init=this._createDescriptors(x,!0),this._notify(this._init,x,"install"));const H=B?this._descriptors(x).filter(B):this._descriptors(x),q=this._notify(H,x,k,O);return k==="afterDestroy"&&(this._notify(H,x,"stop"),this._notify(this._init,x,"uninstall")),q}_notify(x,k,O,B){B=B||{};for(const H of x){const q=H.plugin;if(gt(q[O],[k,B,H.options],q)===!1&&B.cancelable)return!1}return!0}invalidate(){qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(x){if(this._cache)return this._cache;const k=this._cache=this._createDescriptors(x);return this._notifyStateChanges(x),k}_createDescriptors(x,k){const O=x&&x.config,B=Bt(O.options&&O.options.plugins,{}),H=function(q){const et={},at=[],dt=Object.keys(na.plugins.items);for(let Dt=0;Dt<dt.length;Dt++)at.push(na.getPlugin(dt[Dt]));const Nt=q.plugins||[];for(let Dt=0;Dt<Nt.length;Dt++){const Vt=Nt[Dt];at.indexOf(Vt)===-1&&(at.push(Vt),et[Vt.id]=!0)}return{plugins:at,localIds:et}}(O);return B!==!1||k?function(q,{plugins:et,localIds:at},dt,Nt){const Dt=[],Vt=q.getContext();for(const ae of et){const Se=ae.id,me=Ym(dt[Se],Nt);me!==null&&Dt.push({plugin:ae,options:fa(q.config,{plugin:ae,local:at[Se]},me,Vt)})}return Dt}(x,H,B,k):[]}_notifyStateChanges(x){const k=this._oldCache||[],O=this._cache,B=(H,q)=>H.filter(et=>!q.some(at=>et.plugin.id===at.plugin.id));this._notify(B(k,O),x,"stop"),this._notify(B(O,k),x,"start")}}function Ym(D,x){return x||D!==!1?D===!0?{}:D:null}function fa(D,{plugin:x,local:k},O,B){const H=D.pluginScopeKeys(x),q=D.getOptionScopes(O,H);return k&&x.defaults&&q.push(x.defaults),D.createResolver(q,B,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lp(D,x){const k=jt.datasets[D]||{};return((x.datasets||{})[D]||{}).indexAxis||x.indexAxis||k.indexAxis||"x"}function sc(D,x){if(D==="x"||D==="y"||D==="r")return D;var k;if(D=x.axis||((k=x.position)==="top"||k==="bottom"?"x":k==="left"||k==="right"?"y":void 0)||D.length>1&&sc(D[0].toLowerCase(),x))return D;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function cp(D){const x=D.options||(D.options={});x.plugins=Bt(x.plugins,{}),x.scales=function(k,O){const B=Ce[k.type]||{scales:{}},H=O.scales||{},q=lp(k.type,O),et=Object.create(null);return Object.keys(H).forEach(at=>{const dt=H[at];if(!Jt(dt))return console.error(`Invalid scale configuration for scale: ${at}`);if(dt._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${at}`);const Nt=sc(at,dt),Dt=function(ae,Se){return ae===Se?"_index_":"_value_"}(Nt,q),Vt=B.scales||{};et[at]=At(Object.create(null),[{axis:Nt},dt,Vt[Nt],Vt[Dt]])}),k.data.datasets.forEach(at=>{const dt=at.type||k.type,Nt=at.indexAxis||lp(dt,O),Dt=(Ce[dt]||{}).scales||{};Object.keys(Dt).forEach(Vt=>{const ae=function(me,we){let je=me;return me==="_index_"?je=we:me==="_value_"&&(je=we==="x"?"y":"x"),je}(Vt,Nt),Se=at[ae+"AxisID"]||ae;et[Se]=et[Se]||Object.create(null),At(et[Se],[{axis:ae},H[Se],Dt[Vt]])})}),Object.keys(et).forEach(at=>{const dt=et[at];At(dt,[jt.scales[dt.type],jt.scale])}),et}(D,x)}function Uf(D){return(D=D||{}).datasets=D.datasets||[],D.labels=D.labels||[],D}const Sl=new Map,Bs=new Set;function zs(D,x){let k=Sl.get(D);return k||(k=x(),Sl.set(D,k),Bs.add(k)),k}const ga=(D,x,k)=>{const O=Me(x,k);O!==void 0&&D.add(O)};class Pu{constructor(x){this._config=function(k){return(k=k||{}).data=Uf(k.data),cp(k),k}(x),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(x){this._config.type=x}get data(){return this._config.data}set data(x){this._config.data=Uf(x)}get options(){return this._config.options}set options(x){this._config.options=x}get plugins(){return this._config.plugins}update(){const x=this._config;this.clearCache(),cp(x)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(x){return zs(x,()=>[[`datasets.${x}`,""]])}datasetAnimationScopeKeys(x,k){return zs(`${x}.transition.${k}`,()=>[[`datasets.${x}.transitions.${k}`,`transitions.${k}`],[`datasets.${x}`,""]])}datasetElementScopeKeys(x,k){return zs(`${x}-${k}`,()=>[[`datasets.${x}.elements.${k}`,`datasets.${x}`,`elements.${k}`,""]])}pluginScopeKeys(x){const k=x.id;return zs(`${this.type}-plugin-${k}`,()=>[[`plugins.${k}`,...x.additionalOptionScopes||[]]])}_cachedScopes(x,k){const O=this._scopeCache;let B=O.get(x);return B&&!k||(B=new Map,O.set(x,B)),B}getOptionScopes(x,k,O){const{options:B,type:H}=this,q=this._cachedScopes(x,O),et=q.get(k);if(et)return et;const at=new Set;k.forEach(Nt=>{x&&(at.add(x),Nt.forEach(Dt=>ga(at,x,Dt))),Nt.forEach(Dt=>ga(at,B,Dt)),Nt.forEach(Dt=>ga(at,Ce[H]||{},Dt)),Nt.forEach(Dt=>ga(at,jt,Dt)),Nt.forEach(Dt=>ga(at,de,Dt))});const dt=Array.from(at);return dt.length===0&&dt.push(Object.create(null)),Bs.has(k)&&q.set(k,dt),dt}chartOptionScopes(){const{options:x,type:k}=this;return[x,Ce[k]||{},jt.datasets[k]||{},{type:k},jt,de]}resolveNamedOptions(x,k,O,B=[""]){const H={$shared:!0},{resolver:q,subPrefixes:et}=Lh(this._resolverCache,x,B);let at=q;(function(dt,Nt){const{isScriptable:Dt,isIndexable:Vt}=Mo(dt);for(const ae of Nt){const Se=Dt(ae),me=Vt(ae),we=(me||Se)&&dt[ae];if(Se&&(Ht(we)||Nu(we))||me&&ke(we))return!0}return!1})(q,k)&&(H.$shared=!1,at=ql(q,O=Ht(O)?O():O,this.createResolver(x,O,et)));for(const dt of k)H[dt]=at[dt];return H}createResolver(x,k,O=[""],B){const{resolver:H}=Lh(this._resolverCache,x,O);return Jt(k)?ql(H,k,void 0,B):H}}function Lh(D,x,k){let O=D.get(x);O||(O=new Map,D.set(x,O));const B=k.join();let H=O.get(B);return H||(H={resolver:Rc(x,k),subPrefixes:k.filter(q=>!q.toLowerCase().includes("hover"))},O.set(B,H)),H}const Nu=D=>Jt(D)&&Object.getOwnPropertyNames(D).reduce((x,k)=>x||Ht(D[k]),!1),lc=["top","bottom","left","right","chartArea"];function Ia(D,x){return D==="top"||D==="bottom"||lc.indexOf(D)===-1&&x==="x"}function Oh(D,x){return function(k,O){return k[D]===O[D]?k[x]-O[x]:k[D]-O[D]}}function Gm(D){const x=D.chart,k=x.options.animation;x.notifyPlugins("afterRender"),gt(k&&k.onComplete,[D],x)}function _s(D){const x=D.chart,k=x.options.animation;gt(k&&k.onProgress,[D],x)}function up(D){return xe()&&typeof D=="string"?D=document.getElementById(D):D&&D.length&&(D=D[0]),D&&D.canvas&&(D=D.canvas),D}const Ja={},Eh=D=>{const x=up(D);return Object.values(Ja).filter(k=>k.canvas===x).pop()};function Co(D,x,k){const O=Object.keys(D);for(const B of O){const H=+B;if(H>=x){const q=D[B];delete D[B],(k>0||H>x)&&(D[H+k]=q)}}}class Wr{static register(...x){na.add(...x),Ho()}static unregister(...x){na.remove(...x),Ho()}constructor(x,k){const O=this.config=new Pu(k),B=up(x),H=Eh(B);if(H)throw new Error("Canvas is already in use. Chart with ID '"+H.id+"' must be destroyed before the canvas with ID '"+H.canvas.id+"' can be reused.");const q=O.createResolver(O.chartOptionScopes(),this.getContext());this.platform=new(O.platform||wl(B)),this.platform.updateConfig(O);const et=this.platform.acquireContext(B,q.aspectRatio),at=et&&et.canvas,dt=at&&at.height,Nt=at&&at.width;this.id=wt(),this.ctx=et,this.canvas=at,this.width=Nt,this.height=dt,this._options=q,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ee(Dt=>this.update(Dt),q.resizeDelay||0),this._dataChanges=[],Ja[this.id]=this,et&&at?(Ln.listen(this,"complete",Gm),Ln.listen(this,"progress",_s),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:x,maintainAspectRatio:k},width:O,height:B,_aspectRatio:H}=this;return qt(x)?k&&H?H:B?O/B:null:x}get data(){return this.config.data}set data(x){this.config.data=x}get options(){return this._options}set options(x){this.config.options=x}get registry(){return na}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ar(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Wa(this.canvas,this.ctx),this}stop(){return Ln.stop(this),this}resize(x,k){Ln.running(this)?this._resizeBeforeDraw={width:x,height:k}:this._resize(x,k)}_resize(x,k){const O=this.options,B=this.canvas,H=O.maintainAspectRatio&&this.aspectRatio,q=this.platform.getMaximumSize(B,x,k,H),et=O.devicePixelRatio||this.platform.getDevicePixelRatio(),at=this.width?"resize":"attach";this.width=q.width,this.height=q.height,this._aspectRatio=this.aspectRatio,Ar(this,et,!0)&&(this.notifyPlugins("resize",{size:q}),gt(O.onResize,[this,q],this),this.attached&&this._doResize(at)&&this.render())}ensureScalesHaveIDs(){ft(this.options.scales||{},(x,k)=>{x.id=k})}buildOrUpdateScales(){const x=this.options,k=x.scales,O=this.scales,B=Object.keys(O).reduce((q,et)=>(q[et]=!1,q),{});let H=[];k&&(H=H.concat(Object.keys(k).map(q=>{const et=k[q],at=sc(q,et),dt=at==="r",Nt=at==="x";return{options:et,dposition:dt?"chartArea":Nt?"bottom":"left",dtype:dt?"radialLinear":Nt?"category":"linear"}}))),ft(H,q=>{const et=q.options,at=et.id,dt=sc(at,et),Nt=Bt(et.type,q.dtype);et.position!==void 0&&Ia(et.position,dt)===Ia(q.dposition)||(et.position=q.dposition),B[at]=!0;let Dt=null;at in O&&O[at].type===Nt?Dt=O[at]:(Dt=new(na.getScale(Nt))({id:at,type:Nt,ctx:this.ctx,chart:this}),O[Dt.id]=Dt),Dt.init(et,x)}),ft(B,(q,et)=>{q||delete O[et]}),ft(O,q=>{ta.configure(this,q,q.options),ta.addBox(this,q)})}_updateMetasets(){const x=this._metasets,k=this.data.datasets.length,O=x.length;if(x.sort((B,H)=>B.index-H.index),O>k){for(let B=k;B<O;++B)this._destroyDatasetMeta(B);x.splice(k,O-k)}this._sortedMetasets=x.slice(0).sort(Oh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:x,data:{datasets:k}}=this;x.length>k.length&&delete this._stacks,x.forEach((O,B)=>{k.filter(H=>H===O._dataset).length===0&&this._destroyDatasetMeta(B)})}buildOrUpdateControllers(){const x=[],k=this.data.datasets;let O,B;for(this._removeUnreferencedMetasets(),O=0,B=k.length;O<B;O++){const H=k[O];let q=this.getDatasetMeta(O);const et=H.type||this.config.type;if(q.type&&q.type!==et&&(this._destroyDatasetMeta(O),q=this.getDatasetMeta(O)),q.type=et,q.indexAxis=H.indexAxis||lp(et,this.options),q.order=H.order||0,q.index=O,q.label=""+H.label,q.visible=this.isDatasetVisible(O),q.controller)q.controller.updateIndex(O),q.controller.linkScales();else{const at=na.getController(et),{datasetElementType:dt,dataElementType:Nt}=jt.datasets[et];Object.assign(at,{dataElementType:na.getElement(Nt),datasetElementType:dt&&na.getElement(dt)}),q.controller=new at(this,O),x.push(q.controller)}}return this._updateMetasets(),x}_resetElements(){ft(this.data.datasets,(x,k)=>{this.getDatasetMeta(k).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(x){const k=this.config;k.update();const O=this._options=k.createResolver(k.chartOptionScopes(),this.getContext()),B=this._animationsDisabled=!O.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:x,cancelable:!0})===!1)return;const H=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let q=0;for(let dt=0,Nt=this.data.datasets.length;dt<Nt;dt++){const{controller:Dt}=this.getDatasetMeta(dt),Vt=!B&&H.indexOf(Dt)===-1;Dt.buildOrUpdateElements(Vt),q=Math.max(+Dt.getMaxOverflow(),q)}q=this._minPadding=O.layout.autoPadding?q:0,this._updateLayout(q),B||ft(H,dt=>{dt.reset()}),this._updateDatasets(x),this.notifyPlugins("afterUpdate",{mode:x}),this._layers.sort(Oh("z","_idx"));const{_active:et,_lastEvent:at}=this;at?this._eventHandler(at,!0):et.length&&this._updateHoverStyles(et,et,!0),this.render()}_updateScales(){ft(this.scales,x=>{ta.removeBox(this,x)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const x=this.options,k=new Set(Object.keys(this._listeners)),O=new Set(x.events);Gt(k,O)&&!!this._responsiveListeners===x.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:x}=this,k=this._getUniformDataChanges()||[];for(const{method:O,start:B,count:H}of k)Co(x,B,O==="_removeElements"?-H:H)}_getUniformDataChanges(){const x=this._dataChanges;if(!x||!x.length)return;this._dataChanges=[];const k=this.data.datasets.length,O=H=>new Set(x.filter(q=>q[0]===H).map((q,et)=>et+","+q.splice(1).join(","))),B=O(0);for(let H=1;H<k;H++)if(!Gt(B,O(H)))return;return Array.from(B).map(H=>H.split(",")).map(H=>({method:H[1],start:+H[2],count:+H[3]}))}_updateLayout(x){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ta.update(this,this.width,this.height,x);const k=this.chartArea,O=k.width<=0||k.height<=0;this._layers=[],ft(this.boxes,B=>{O&&B.position==="chartArea"||(B.configure&&B.configure(),this._layers.push(...B._layers()))},this),this._layers.forEach((B,H)=>{B._idx=H}),this.notifyPlugins("afterLayout")}_updateDatasets(x){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:x,cancelable:!0})!==!1){for(let k=0,O=this.data.datasets.length;k<O;++k)this.getDatasetMeta(k).controller.configure();for(let k=0,O=this.data.datasets.length;k<O;++k)this._updateDataset(k,Ht(x)?x({datasetIndex:k}):x);this.notifyPlugins("afterDatasetsUpdate",{mode:x})}}_updateDataset(x,k){const O=this.getDatasetMeta(x),B={meta:O,index:x,mode:k,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",B)!==!1&&(O.controller._update(k),B.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",B))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ln.has(this)?this.attached&&!Ln.running(this)&&Ln.start(this):(this.draw(),Gm({chart:this})))}draw(){let x;if(this._resizeBeforeDraw){const{width:O,height:B}=this._resizeBeforeDraw;this._resize(O,B),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const k=this._layers;for(x=0;x<k.length&&k[x].z<=0;++x)k[x].draw(this.chartArea);for(this._drawDatasets();x<k.length;++x)k[x].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(x){const k=this._sortedMetasets,O=[];let B,H;for(B=0,H=k.length;B<H;++B){const q=k[B];x&&!q.visible||O.push(q)}return O}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const x=this.getSortedVisibleDatasetMetas();for(let k=x.length-1;k>=0;--k)this._drawDataset(x[k]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(x){const k=this.ctx,O=x._clip,B=!O.disabled,H=function(et){const{xScale:at,yScale:dt}=et;if(at&&dt)return{left:at.left,right:at.right,top:dt.top,bottom:dt.bottom}}(x)||this.chartArea,q={meta:x,index:x.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",q)!==!1&&(B&&fs(k,{left:O.left===!1?0:H.left-O.left,right:O.right===!1?this.width:H.right+O.right,top:O.top===!1?0:H.top-O.top,bottom:O.bottom===!1?this.height:H.bottom+O.bottom}),x.controller.draw(),B&&Tr(k),q.cancelable=!1,this.notifyPlugins("afterDatasetDraw",q))}isPointInArea(x){return to(x,this.chartArea,this._minPadding)}getElementsAtEventForMode(x,k,O,B){const H=qa.modes[k];return typeof H=="function"?H(this,x,O,B):[]}getDatasetMeta(x){const k=this.data.datasets[x],O=this._metasets;let B=O.filter(H=>H&&H._dataset===k).pop();return B||(B={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:k&&k.order||0,index:x,_dataset:k,_parsed:[],_sorted:!1},O.push(B)),B}getContext(){return this.$context||(this.$context=Xa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(x){const k=this.data.datasets[x];if(!k)return!1;const O=this.getDatasetMeta(x);return typeof O.hidden=="boolean"?!O.hidden:!k.hidden}setDatasetVisibility(x,k){this.getDatasetMeta(x).hidden=!k}toggleDataVisibility(x){this._hiddenIndices[x]=!this._hiddenIndices[x]}getDataVisibility(x){return!this._hiddenIndices[x]}_updateVisibility(x,k,O){const B=O?"show":"hide",H=this.getDatasetMeta(x),q=H.controller._resolveAnimations(void 0,B);ne(k)?(H.data[k].hidden=!O,this.update()):(this.setDatasetVisibility(x,O),q.update(H,{visible:O}),this.update(et=>et.datasetIndex===x?B:void 0))}hide(x,k){this._updateVisibility(x,k,!1)}show(x,k){this._updateVisibility(x,k,!0)}_destroyDatasetMeta(x){const k=this._metasets[x];k&&k.controller&&k.controller._destroy(),delete this._metasets[x]}_stop(){let x,k;for(this.stop(),Ln.remove(this),x=0,k=this.data.datasets.length;x<k;++x)this._destroyDatasetMeta(x)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:x,ctx:k}=this;this._stop(),this.config.clearCache(),x&&(this.unbindEvents(),Wa(x,k),this.platform.releaseContext(k),this.canvas=null,this.ctx=null),delete Ja[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...x){return this.canvas.toDataURL(...x)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const x=this._listeners,k=this.platform,O=(H,q)=>{k.addEventListener(this,H,q),x[H]=q},B=(H,q,et)=>{H.offsetX=q,H.offsetY=et,this._eventHandler(H)};ft(this.options.events,H=>O(H,B))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const x=this._responsiveListeners,k=this.platform,O=(at,dt)=>{k.addEventListener(this,at,dt),x[at]=dt},B=(at,dt)=>{x[at]&&(k.removeEventListener(this,at,dt),delete x[at])},H=(at,dt)=>{this.canvas&&this.resize(at,dt)};let q;const et=()=>{B("attach",et),this.attached=!0,this.resize(),O("resize",H),O("detach",q)};q=()=>{this.attached=!1,B("resize",H),this._stop(),this._resize(0,0),O("attach",et)},k.isAttached(this.canvas)?et():q()}unbindEvents(){ft(this._listeners,(x,k)=>{this.platform.removeEventListener(this,k,x)}),this._listeners={},ft(this._responsiveListeners,(x,k)=>{this.platform.removeEventListener(this,k,x)}),this._responsiveListeners=void 0}updateHoverStyle(x,k,O){const B=O?"set":"remove";let H,q,et,at;for(k==="dataset"&&(H=this.getDatasetMeta(x[0].datasetIndex),H.controller["_"+B+"DatasetHoverStyle"]()),et=0,at=x.length;et<at;++et){q=x[et];const dt=q&&this.getDatasetMeta(q.datasetIndex).controller;dt&&dt[B+"HoverStyle"](q.element,q.datasetIndex,q.index)}}getActiveElements(){return this._active||[]}setActiveElements(x){const k=this._active||[],O=x.map(({datasetIndex:B,index:H})=>{const q=this.getDatasetMeta(B);if(!q)throw new Error("No dataset found at index "+B);return{datasetIndex:B,element:q.data[H],index:H}});!It(O,k)&&(this._active=O,this._lastEvent=null,this._updateHoverStyles(O,k))}notifyPlugins(x,k,O){return this._plugins.notify(this,x,k,O)}isPluginEnabled(x){return this._plugins._cache.filter(k=>k.plugin.id===x).length===1}_updateHoverStyles(x,k,O){const B=this.options.hover,H=(at,dt)=>at.filter(Nt=>!dt.some(Dt=>Nt.datasetIndex===Dt.datasetIndex&&Nt.index===Dt.index)),q=H(k,x),et=O?x:H(x,k);q.length&&this.updateHoverStyle(q,B.mode,!1),et.length&&B.mode&&this.updateHoverStyle(et,B.mode,!0)}_eventHandler(x,k){const O={event:x,replay:k,cancelable:!0,inChartArea:this.isPointInArea(x)},B=q=>(q.options.events||this.options.events).includes(x.native.type);if(this.notifyPlugins("beforeEvent",O,B)===!1)return;const H=this._handleEvent(x,k,O.inChartArea);return O.cancelable=!1,this.notifyPlugins("afterEvent",O,B),(H||O.changed)&&this.render(),this}_handleEvent(x,k,O){const{_active:B=[],options:H}=this,q=k,et=this._getActiveElements(x,B,O,q),at=ie(x),dt=function(Dt,Vt,ae,Se){return ae&&Dt.type!=="mouseout"?Se?Vt:Dt:null}(x,this._lastEvent,O,at);O&&(this._lastEvent=null,gt(H.onHover,[x,et,this],this),at&&gt(H.onClick,[x,et,this],this));const Nt=!It(et,B);return(Nt||k)&&(this._active=et,this._updateHoverStyles(et,B,k)),this._lastEvent=dt,Nt}_getActiveElements(x,k,O,B){if(x.type==="mouseout")return[];if(!O)return k;const H=this.options.hover;return this.getElementsAtEventForMode(x,H.mode,H,B)}}qi(Wr,"defaults",jt),qi(Wr,"instances",Ja),qi(Wr,"overrides",Ce),qi(Wr,"registry",na),qi(Wr,"version","4.2.1"),qi(Wr,"getChart",Eh);function Ho(){return ft(Wr.instances,D=>D._plugins.invalidate())}function Cl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kl{static override(x){Object.assign(kl.prototype,x)}constructor(x){this.options=x||{}}init(){}formats(){return Cl()}parse(){return Cl()}format(){return Cl()}add(){return Cl()}diff(){return Cl()}startOf(){return Cl()}endOf(){return Cl()}}var cc={_date:kl};function Wc(D){const x=D.iScale,k=function(dt,Nt){if(!dt._cache.$bar){const Dt=dt.getMatchingVisibleMetas(Nt);let Vt=[];for(let ae=0,Se=Dt.length;ae<Se;ae++)Vt=Vt.concat(Dt[ae].controller.getAllParsedValues(dt));dt._cache.$bar=ve(Vt.sort((ae,Se)=>ae-Se))}return dt._cache.$bar}(x,D.type);let O,B,H,q,et=x._length;const at=()=>{H!==32767&&H!==-32768&&(ne(q)&&(et=Math.min(et,Math.abs(H-q)||et)),q=H)};for(O=0,B=k.length;O<B;++O)H=x.getPixelForValue(k[O]),at();for(q=void 0,O=0,B=x.ticks.length;O<B;++O)H=x.getPixelForTick(O),at();return et}function Uo(D,x,k,O){return ke(D)?function(B,H,q,et){const at=q.parse(B[0],et),dt=q.parse(B[1],et),Nt=Math.min(at,dt),Dt=Math.max(at,dt);let Vt=Nt,ae=Dt;Math.abs(Nt)>Math.abs(Dt)&&(Vt=Dt,ae=Nt),H[q.axis]=ae,H._custom={barStart:Vt,barEnd:ae,start:at,end:dt,min:Nt,max:Dt}}(D,x,k,O):x[k.axis]=k.parse(D,O),x}function Xm(D,x,k,O){const B=D.iScale,H=D.vScale,q=B.getLabels(),et=B===H,at=[];let dt,Nt,Dt,Vt;for(dt=k,Nt=k+O;dt<Nt;++dt)Vt=x[dt],Dt={},Dt[B.axis]=et||B.parse(q[dt],dt),at.push(Uo(Vt,Dt,H,dt));return at}function jc(D){return D&&D.barStart!==void 0&&D.barEnd!==void 0}function hp(D,x,k,O){let B=x.borderSkipped;const H={};if(!B)return void(D.borderSkipped=H);if(B===!0)return void(D.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:q,end:et,reverse:at,top:dt,bottom:Nt}=function(Dt){let Vt,ae,Se,me,we;return Dt.horizontal?(Vt=Dt.base>Dt.x,ae="left",Se="right"):(Vt=Dt.base<Dt.y,ae="bottom",Se="top"),Vt?(me="end",we="start"):(me="start",we="end"),{start:ae,end:Se,reverse:Vt,top:me,bottom:we}}(D);B==="middle"&&k&&(D.enableBorderRadius=!0,(k._top||0)===O?B=dt:(k._bottom||0)===O?B=Nt:(H[Ru(Nt,q,et,at)]=!0,B=dt)),H[Ru(B,q,et,at)]=!0,D.borderSkipped=H}function Ru(D,x,k,O){var B,H,q;return O?(q=k,D=dp(D=(B=D)===(H=x)?q:B===q?H:B,k,x)):D=dp(D,x,k),D}function dp(D,x,k){return D==="start"?x:D==="end"?k:D}function $f(D,{inflateAmount:x},k){D.inflateAmount=x==="auto"?k===1?.33:0:x}class Ei extends Dn{constructor(x,k){super(x,k),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(x,k){const O=this.getDataset().data,B=this._cachedMeta;if(this._parsing===!1)B._parsed=O;else{let H,q,et=at=>+O[at];if(Jt(O[x])){const{key:at="value"}=this._parsing;et=dt=>+Me(O[dt],at)}for(H=x,q=x+k;H<q;++H)B._parsed[H]=et(H)}}_getRotation(){return he(this.options.rotation-90)}_getCircumference(){return he(this.options.circumference)}_getRotationExtents(){let x=pe,k=-pe;for(let O=0;O<this.chart.data.datasets.length;++O)if(this.chart.isDatasetVisible(O)&&this.chart.getDatasetMeta(O).type===this._type){const B=this.chart.getDatasetMeta(O).controller,H=B._getRotation(),q=B._getCircumference();x=Math.min(x,H),k=Math.max(k,H+q)}return{rotation:x,circumference:k-x}}update(x){const k=this.chart,{chartArea:O}=k,B=this._cachedMeta,H=B.data,q=this.getMaxBorderWidth()+this.getMaxOffset(H)+this.options.spacing,et=Math.max((Math.min(O.width,O.height)-q)/2,0),at=Math.min(yt(this.options.cutout,et),1),dt=this._getRingWeight(this.index),{circumference:Nt,rotation:Dt}=this._getRotationExtents(),{ratioX:Vt,ratioY:ae,offsetX:Se,offsetY:me}=function(An,Nn,oi){let ci=1,hi=1,gi=0,zi=0;if(Nn<pe){const Li=An,Mi=Li+Nn,vi=Math.cos(Li),Ci=Math.sin(Li),tn=Math.cos(Mi),Ti=Math.sin(Mi),Pr=(al,Cs,Sa)=>Yi(al,Li,Mi,!0)?1:Math.max(Cs,Cs*oi,Sa,Sa*oi),Gr=(al,Cs,Sa)=>Yi(al,Li,Mi,!0)?-1:Math.min(Cs,Cs*oi,Sa,Sa*oi),es=Pr(0,vi,tn),ns=Pr(ln,Ci,Ti),Kr=Gr(Le,vi,tn),ia=Gr(Le+ln,Ci,Ti);ci=(es-Kr)/2,hi=(ns-ia)/2,gi=-(es+Kr)/2,zi=-(ns+ia)/2}return{ratioX:ci,ratioY:hi,offsetX:gi,offsetY:zi}}(Dt,Nt,at),we=(O.width-q)/Vt,je=(O.height-q)/ae,pn=Math.max(Math.min(we,je)/2,0),dn=pt(this.options.radius,pn),fn=(dn-Math.max(dn*at,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Se*dn,this.offsetY=me*dn,B.total=this.calculateTotal(),this.outerRadius=dn-fn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-fn*dt,0),this.updateElements(H,0,H.length,x)}_circumference(x,k){const O=this.options,B=this._cachedMeta,H=this._getCircumference();return k&&O.animation.animateRotate||!this.chart.getDataVisibility(x)||B._parsed[x]===null||B.data[x].hidden?0:this.calculateCircumference(B._parsed[x]*H/pe)}updateElements(x,k,O,B){const H=B==="reset",q=this.chart,et=q.chartArea,at=q.options.animation,dt=(et.left+et.right)/2,Nt=(et.top+et.bottom)/2,Dt=H&&at.animateScale,Vt=Dt?0:this.innerRadius,ae=Dt?0:this.outerRadius,{sharedOptions:Se,includeOptions:me}=this._getSharedOptions(k,B);let we,je=this._getRotation();for(we=0;we<k;++we)je+=this._circumference(we,H);for(we=k;we<k+O;++we){const pn=this._circumference(we,H),dn=x[we],fn={x:dt+this.offsetX,y:Nt+this.offsetY,startAngle:je,endAngle:je+pn,circumference:pn,outerRadius:ae,innerRadius:Vt};me&&(fn.options=Se||this.resolveDataElementOptions(we,dn.active?"active":B)),je+=pn,this.updateElement(dn,we,fn,B)}}calculateTotal(){const x=this._cachedMeta,k=x.data;let O,B=0;for(O=0;O<k.length;O++){const H=x._parsed[O];H===null||isNaN(H)||!this.chart.getDataVisibility(O)||k[O].hidden||(B+=Math.abs(H))}return B}calculateCircumference(x){const k=this._cachedMeta.total;return k>0&&!isNaN(x)?pe*(Math.abs(x)/k):0}getLabelAndValue(x){const k=this._cachedMeta,O=this.chart,B=O.data.labels||[],H=Et(k._parsed[x],O.options.locale);return{label:B[x]||"",value:H}}getMaxBorderWidth(x){let k=0;const O=this.chart;let B,H,q,et,at;if(!x){for(B=0,H=O.data.datasets.length;B<H;++B)if(O.isDatasetVisible(B)){q=O.getDatasetMeta(B),x=q.data,et=q.controller;break}}if(!x)return 0;for(B=0,H=x.length;B<H;++B)at=et.resolveDataElementOptions(B),at.borderAlign!=="inner"&&(k=Math.max(k,at.borderWidth||0,at.hoverBorderWidth||0));return k}getMaxOffset(x){let k=0;for(let O=0,B=x.length;O<B;++O){const H=this.resolveDataElementOptions(O);k=Math.max(k,H.offset||0,H.hoverOffset||0)}return k}_getRingWeightOffset(x){let k=0;for(let O=0;O<x;++O)this.chart.isDatasetVisible(O)&&(k+=this._getRingWeight(O));return k}_getRingWeight(x){return Math.max(Bt(this.chart.data.datasets[x].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}qi(Ei,"id","doughnut"),qi(Ei,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),qi(Ei,"descriptors",{_scriptable:x=>x!=="spacing",_indexable:x=>x!=="spacing"}),qi(Ei,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(x){const k=x.data;if(k.labels.length&&k.datasets.length){const{labels:{pointStyle:O,color:B}}=x.legend.options;return k.labels.map((H,q)=>{const et=x.getDatasetMeta(0).controller.getStyle(q);return{text:H,fillStyle:et.backgroundColor,strokeStyle:et.borderColor,fontColor:B,lineWidth:et.borderWidth,pointStyle:O,hidden:!x.getDataVisibility(q),index:q}})}return[]}},onClick(x,k,O){O.chart.toggleDataVisibility(k.index),O.chart.update()}}}});class uc extends Dn{constructor(x,k){super(x,k),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(x){const k=this._cachedMeta,O=this.chart,B=O.data.labels||[],H=Et(k._parsed[x].r,O.options.locale);return{label:B[x]||"",value:H}}parseObjectData(x,k,O,B){return Ud.bind(this)(x,k,O,B)}update(x){const k=this._cachedMeta.data;this._updateRadius(),this.updateElements(k,0,k.length,x)}getMinMax(){const x=this._cachedMeta,k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return x.data.forEach((O,B)=>{const H=this.getParsed(B).r;!isNaN(H)&&this.chart.getDataVisibility(B)&&(H<k.min&&(k.min=H),H>k.max&&(k.max=H))}),k}_updateRadius(){const x=this.chart,k=x.chartArea,O=x.options,B=Math.min(k.right-k.left,k.bottom-k.top),H=Math.max(B/2,0),q=(H-Math.max(O.cutoutPercentage?H/100*O.cutoutPercentage:1,0))/x.getVisibleDatasetCount();this.outerRadius=H-q*this.index,this.innerRadius=this.outerRadius-q}updateElements(x,k,O,B){const H=B==="reset",q=this.chart,et=q.options.animation,at=this._cachedMeta.rScale,dt=at.xCenter,Nt=at.yCenter,Dt=at.getIndexAngle(0)-.5*Le;let Vt,ae=Dt;const Se=360/this.countVisibleElements();for(Vt=0;Vt<k;++Vt)ae+=this._computeAngle(Vt,B,Se);for(Vt=k;Vt<k+O;Vt++){const me=x[Vt];let we=ae,je=ae+this._computeAngle(Vt,B,Se),pn=q.getDataVisibility(Vt)?at.getDistanceFromCenterForValue(this.getParsed(Vt).r):0;ae=je,H&&(et.animateScale&&(pn=0),et.animateRotate&&(we=je=Dt));const dn={x:dt,y:Nt,innerRadius:0,outerRadius:pn,startAngle:we,endAngle:je,options:this.resolveDataElementOptions(Vt,me.active?"active":B)};this.updateElement(me,Vt,dn,B)}}countVisibleElements(){const x=this._cachedMeta;let k=0;return x.data.forEach((O,B)=>{!isNaN(this.getParsed(B).r)&&this.chart.getDataVisibility(B)&&k++}),k}_computeAngle(x,k,O){return this.chart.getDataVisibility(x)?he(this.resolveDataElementOptions(x,k).angle||O):0}}qi(uc,"id","polarArea"),qi(uc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),qi(uc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(x){const k=x.data;if(k.labels.length&&k.datasets.length){const{labels:{pointStyle:O,color:B}}=x.legend.options;return k.labels.map((H,q)=>{const et=x.getDatasetMeta(0).controller.getStyle(q);return{text:H,fillStyle:et.backgroundColor,strokeStyle:et.borderColor,fontColor:B,lineWidth:et.borderWidth,pointStyle:O,hidden:!x.getDataVisibility(q),index:q}})}return[]}},onClick(x,k,O){O.chart.toggleDataVisibility(k.index),O.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var Yc=Object.freeze({__proto__:null,BarController:(Dl=class extends Dn{parsePrimitiveData(D,x,k,O){return Xm(D,x,k,O)}parseArrayData(D,x,k,O){return Xm(D,x,k,O)}parseObjectData(D,x,k,O){const{iScale:B,vScale:H}=D,{xAxisKey:q="x",yAxisKey:et="y"}=this._parsing,at=B.axis==="x"?q:et,dt=H.axis==="x"?q:et,Nt=[];let Dt,Vt,ae,Se;for(Dt=k,Vt=k+O;Dt<Vt;++Dt)Se=x[Dt],ae={},ae[B.axis]=B.parse(Me(Se,at),Dt),Nt.push(Uo(Me(Se,dt),ae,H,Dt));return Nt}updateRangeFromParsed(D,x,k,O){super.updateRangeFromParsed(D,x,k,O);const B=k._custom;B&&x===this._cachedMeta.vScale&&(D.min=Math.min(D.min,B.min),D.max=Math.max(D.max,B.max))}getMaxOverflow(){return 0}getLabelAndValue(D){const x=this._cachedMeta,{iScale:k,vScale:O}=x,B=this.getParsed(D),H=B._custom,q=jc(H)?"["+H.start+", "+H.end+"]":""+O.getLabelForValue(B[O.axis]);return{label:""+k.getLabelForValue(B[k.axis]),value:q}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(D){const x=this._cachedMeta;this.updateElements(x.data,0,x.data.length,D)}updateElements(D,x,k,O){const B=O==="reset",{index:H,_cachedMeta:{vScale:q}}=this,et=q.getBasePixel(),at=q.isHorizontal(),dt=this._getRuler(),{sharedOptions:Nt,includeOptions:Dt}=this._getSharedOptions(x,O);for(let Vt=x;Vt<x+k;Vt++){const ae=this.getParsed(Vt),Se=B||qt(ae[q.axis])?{base:et,head:et}:this._calculateBarValuePixels(Vt),me=this._calculateBarIndexPixels(Vt,dt),we=(ae._stacks||{})[q.axis],je={horizontal:at,base:Se.base,enableBorderRadius:!we||jc(ae._custom)||H===we._top||H===we._bottom,x:at?Se.head:me.center,y:at?me.center:Se.head,height:at?me.size:Math.abs(Se.size),width:at?Math.abs(Se.size):me.size};Dt&&(je.options=Nt||this.resolveDataElementOptions(Vt,D[Vt].active?"active":O));const pn=je.options||D[Vt].options;hp(je,pn,we,H),$f(je,pn,dt.ratio),this.updateElement(D[Vt],Vt,je,O)}}_getStacks(D,x){const{iScale:k}=this._cachedMeta,O=k.getMatchingVisibleMetas(this._type).filter(et=>et.controller.options.grouped),B=k.options.stacked,H=[],q=et=>{const at=et.controller.getParsed(x),dt=at&&at[et.vScale.axis];if(qt(dt)||isNaN(dt))return!0};for(const et of O)if((x===void 0||!q(et))&&((B===!1||H.indexOf(et.stack)===-1||B===void 0&&et.stack===void 0)&&H.push(et.stack),et.index===D))break;return H.length||H.push(void 0),H}_getStackCount(D){return this._getStacks(void 0,D).length}_getStackIndex(D,x,k){const O=this._getStacks(D,k),B=x!==void 0?O.indexOf(x):-1;return B===-1?O.length-1:B}_getRuler(){const D=this.options,x=this._cachedMeta,k=x.iScale,O=[];let B,H;for(B=0,H=x.data.length;B<H;++B)O.push(k.getPixelForValue(this.getParsed(B)[k.axis],B));const q=D.barThickness;return{min:q||Wc(x),pixels:O,start:k._startPixel,end:k._endPixel,stackCount:this._getStackCount(),scale:k,grouped:D.grouped,ratio:q?1:D.categoryPercentage*D.barPercentage}}_calculateBarValuePixels(D){const{_cachedMeta:{vScale:x,_stacked:k,index:O},options:{base:B,minBarLength:H}}=this,q=B||0,et=this.getParsed(D),at=et._custom,dt=jc(at);let Nt,Dt,Vt=et[x.axis],ae=0,Se=k?this.applyStack(x,et,k):Vt;Se!==Vt&&(ae=Se-Vt,Se=Vt),dt&&(Vt=at.barStart,Se=at.barEnd-at.barStart,Vt!==0&&ye(Vt)!==ye(at.barEnd)&&(ae=0),ae+=Vt);const me=qt(B)||dt?ae:B;let we=x.getPixelForValue(me);if(Nt=this.chart.getDataVisibility(D)?x.getPixelForValue(ae+Se):we,Dt=Nt-we,Math.abs(Dt)<H){Dt=function(An,Nn,oi){return An!==0?ye(An):(Nn.isHorizontal()?1:-1)*(Nn.min>=oi?1:-1)}(Dt,x,q)*H,Vt===q&&(we-=Dt/2);const je=x.getPixelForDecimal(0),pn=x.getPixelForDecimal(1),dn=Math.min(je,pn),fn=Math.max(je,pn);we=Math.max(Math.min(we,fn),dn),Nt=we+Dt,k&&!dt&&(et._stacks[x.axis]._visualValues[O]=x.getValueForPixel(Nt)-x.getValueForPixel(we))}if(we===x.getPixelForValue(q)){const je=ye(Dt)*x.getLineWidthForValue(q)/2;we+=je,Dt-=je}return{size:Dt,base:we,head:Nt,center:Nt+Dt/2}}_calculateBarIndexPixels(D,x){const k=x.scale,O=this.options,B=O.skipNull,H=Bt(O.maxBarThickness,1/0);let q,et;if(x.grouped){const at=B?this._getStackCount(D):x.stackCount,dt=O.barThickness==="flex"?function(Dt,Vt,ae,Se){const me=Vt.pixels,we=me[Dt];let je=Dt>0?me[Dt-1]:null,pn=Dt<me.length-1?me[Dt+1]:null;const dn=ae.categoryPercentage;je===null&&(je=we-(pn===null?Vt.end-Vt.start:pn-we)),pn===null&&(pn=we+we-je);const fn=we-(we-Math.min(je,pn))/2*dn;return{chunk:Math.abs(pn-je)/2*dn/Se,ratio:ae.barPercentage,start:fn}}(D,x,O,at):function(Dt,Vt,ae,Se){const me=ae.barThickness;let we,je;return qt(me)?(we=Vt.min*ae.categoryPercentage,je=ae.barPercentage):(we=me*Se,je=1),{chunk:we/Se,ratio:je,start:Vt.pixels[Dt]-we/2}}(D,x,O,at),Nt=this._getStackIndex(this.index,this._cachedMeta.stack,B?D:void 0);q=dt.start+dt.chunk*Nt+dt.chunk/2,et=Math.min(H,dt.chunk*dt.ratio)}else q=k.getPixelForValue(this.getParsed(D)[k.axis],D),et=Math.min(H,x.min*x.ratio);return{base:q-et/2,head:q+et/2,center:q,size:et}}draw(){const D=this._cachedMeta,x=D.vScale,k=D.data,O=k.length;let B=0;for(;B<O;++B)this.getParsed(B)[x.axis]!==null&&k[B].draw(this._ctx)}},qi(Dl,"id","bar"),qi(Dl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),qi(Dl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),Dl),BubbleController:(Ll=class extends Dn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(D,x,k,O){const B=super.parsePrimitiveData(D,x,k,O);for(let H=0;H<B.length;H++)B[H]._custom=this.resolveDataElementOptions(H+k).radius;return B}parseArrayData(D,x,k,O){const B=super.parseArrayData(D,x,k,O);for(let H=0;H<B.length;H++){const q=x[k+H];B[H]._custom=Bt(q[2],this.resolveDataElementOptions(H+k).radius)}return B}parseObjectData(D,x,k,O){const B=super.parseObjectData(D,x,k,O);for(let H=0;H<B.length;H++){const q=x[k+H];B[H]._custom=Bt(q&&q.r&&+q.r,this.resolveDataElementOptions(H+k).radius)}return B}getMaxOverflow(){const D=this._cachedMeta.data;let x=0;for(let k=D.length-1;k>=0;--k)x=Math.max(x,D[k].size(this.resolveDataElementOptions(k))/2);return x>0&&x}getLabelAndValue(D){const x=this._cachedMeta,k=this.chart.data.labels||[],{xScale:O,yScale:B}=x,H=this.getParsed(D),q=O.getLabelForValue(H.x),et=B.getLabelForValue(H.y),at=H._custom;return{label:k[D]||"",value:"("+q+", "+et+(at?", "+at:"")+")"}}update(D){const x=this._cachedMeta.data;this.updateElements(x,0,x.length,D)}updateElements(D,x,k,O){const B=O==="reset",{iScale:H,vScale:q}=this._cachedMeta,{sharedOptions:et,includeOptions:at}=this._getSharedOptions(x,O),dt=H.axis,Nt=q.axis;for(let Dt=x;Dt<x+k;Dt++){const Vt=D[Dt],ae=!B&&this.getParsed(Dt),Se={},me=Se[dt]=B?H.getPixelForDecimal(.5):H.getPixelForValue(ae[dt]),we=Se[Nt]=B?q.getBasePixel():q.getPixelForValue(ae[Nt]);Se.skip=isNaN(me)||isNaN(we),at&&(Se.options=et||this.resolveDataElementOptions(Dt,Vt.active?"active":O),B&&(Se.options.radius=0)),this.updateElement(Vt,Dt,Se,O)}}resolveDataElementOptions(D,x){const k=this.getParsed(D);let O=super.resolveDataElementOptions(D,x);O.$shared&&(O=Object.assign({},O,{$shared:!1}));const B=O.radius;return x!=="active"&&(O.radius=0),O.radius+=Bt(k&&k._custom,B),O}},qi(Ll,"id","bubble"),qi(Ll,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),qi(Ll,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),Ll),DoughnutController:Ei,LineController:(Ol=class extends Dn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(D){const x=this._cachedMeta,{dataset:k,data:O=[],_dataset:B}=x,H=this.chart._animationsDisabled;let{start:q,count:et}=Si(x,O,H);this._drawStart=q,this._drawCount=et,yn(x)&&(q=0,et=O.length),k._chart=this.chart,k._datasetIndex=this.index,k._decimated=!!B._decimated,k.points=O;const at=this.resolveDatasetElementOptions(D);this.options.showLine||(at.borderWidth=0),at.segment=this.options.segment,this.updateElement(k,void 0,{animated:!H,options:at},D),this.updateElements(O,q,et,D)}updateElements(D,x,k,O){const B=O==="reset",{iScale:H,vScale:q,_stacked:et,_dataset:at}=this._cachedMeta,{sharedOptions:dt,includeOptions:Nt}=this._getSharedOptions(x,O),Dt=H.axis,Vt=q.axis,{spanGaps:ae,segment:Se}=this.options,me=Re(ae)?ae:Number.POSITIVE_INFINITY,we=this.chart._animationsDisabled||B||O==="none",je=x+k,pn=D.length;let dn=x>0&&this.getParsed(x-1);for(let fn=0;fn<pn;++fn){const An=D[fn],Nn=we?An:{};if(fn<x||fn>=je){Nn.skip=!0;continue}const oi=this.getParsed(fn),ci=qt(oi[Vt]),hi=Nn[Dt]=H.getPixelForValue(oi[Dt],fn),gi=Nn[Vt]=B||ci?q.getBasePixel():q.getPixelForValue(et?this.applyStack(q,oi,et):oi[Vt],fn);Nn.skip=isNaN(hi)||isNaN(gi)||ci,Nn.stop=fn>0&&Math.abs(oi[Dt]-dn[Dt])>me,Se&&(Nn.parsed=oi,Nn.raw=at.data[fn]),Nt&&(Nn.options=dt||this.resolveDataElementOptions(fn,An.active?"active":O)),we||this.updateElement(An,fn,Nn,O),dn=oi}}getMaxOverflow(){const D=this._cachedMeta,x=D.dataset,k=x.options&&x.options.borderWidth||0,O=D.data||[];if(!O.length)return k;const B=O[0].size(this.resolveDataElementOptions(0)),H=O[O.length-1].size(this.resolveDataElementOptions(O.length-1));return Math.max(k,B,H)/2}draw(){const D=this._cachedMeta;D.dataset.updateControlPoints(this.chart.chartArea,D.iScale.axis),super.draw()}},qi(Ol,"id","line"),qi(Ol,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),qi(Ol,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),Ol),PolarAreaController:uc,PieController:(wp=class extends Ei{},qi(wp,"id","pie"),qi(wp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),wp),RadarController:(Wh=class extends Dn{getLabelAndValue(D){const x=this._cachedMeta.vScale,k=this.getParsed(D);return{label:x.getLabels()[D],value:""+x.getLabelForValue(k[x.axis])}}parseObjectData(D,x,k,O){return Ud.bind(this)(D,x,k,O)}update(D){const x=this._cachedMeta,k=x.dataset,O=x.data||[],B=x.iScale.getLabels();if(k.points=O,D!=="resize"){const H=this.resolveDatasetElementOptions(D);this.options.showLine||(H.borderWidth=0);const q={_loop:!0,_fullLoop:B.length===O.length,options:H};this.updateElement(k,void 0,q,D)}this.updateElements(O,0,O.length,D)}updateElements(D,x,k,O){const B=this._cachedMeta.rScale,H=O==="reset";for(let q=x;q<x+k;q++){const et=D[q],at=this.resolveDataElementOptions(q,et.active?"active":O),dt=B.getPointPositionForValue(q,this.getParsed(q).r),Nt=H?B.xCenter:dt.x,Dt=H?B.yCenter:dt.y,Vt={x:Nt,y:Dt,angle:dt.angle,skip:isNaN(Nt)||isNaN(Dt),options:at};this.updateElement(et,q,Vt,O)}}},qi(Wh,"id","radar"),qi(Wh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),qi(Wh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),Wh),ScatterController:(jh=class extends Dn{getLabelAndValue(D){const x=this._cachedMeta,k=this.chart.data.labels||[],{xScale:O,yScale:B}=x,H=this.getParsed(D),q=O.getLabelForValue(H.x),et=B.getLabelForValue(H.y);return{label:k[D]||"",value:"("+q+", "+et+")"}}update(D){const x=this._cachedMeta,{data:k=[]}=x,O=this.chart._animationsDisabled;let{start:B,count:H}=Si(x,k,O);if(this._drawStart=B,this._drawCount=H,yn(x)&&(B=0,H=k.length),this.options.showLine){const{dataset:q,_dataset:et}=x;q._chart=this.chart,q._datasetIndex=this.index,q._decimated=!!et._decimated,q.points=k;const at=this.resolveDatasetElementOptions(D);at.segment=this.options.segment,this.updateElement(q,void 0,{animated:!O,options:at},D)}this.updateElements(k,B,H,D)}addElements(){const{showLine:D}=this.options;!this.datasetElementType&&D&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(D,x,k,O){const B=O==="reset",{iScale:H,vScale:q,_stacked:et,_dataset:at}=this._cachedMeta,dt=this.resolveDataElementOptions(x,O),Nt=this.getSharedOptions(dt),Dt=this.includeOptions(O,Nt),Vt=H.axis,ae=q.axis,{spanGaps:Se,segment:me}=this.options,we=Re(Se)?Se:Number.POSITIVE_INFINITY,je=this.chart._animationsDisabled||B||O==="none";let pn=x>0&&this.getParsed(x-1);for(let dn=x;dn<x+k;++dn){const fn=D[dn],An=this.getParsed(dn),Nn=je?fn:{},oi=qt(An[ae]),ci=Nn[Vt]=H.getPixelForValue(An[Vt],dn),hi=Nn[ae]=B||oi?q.getBasePixel():q.getPixelForValue(et?this.applyStack(q,An,et):An[ae],dn);Nn.skip=isNaN(ci)||isNaN(hi)||oi,Nn.stop=dn>0&&Math.abs(An[Vt]-pn[Vt])>we,me&&(Nn.parsed=An,Nn.raw=at.data[dn]),Dt&&(Nn.options=Nt||this.resolveDataElementOptions(dn,fn.active?"active":O)),je||this.updateElement(fn,dn,Nn,O),pn=An}this.updateSharedOptions(Nt,O,dt)}getMaxOverflow(){const D=this._cachedMeta,x=D.data||[];if(!this.options.showLine){let q=0;for(let et=x.length-1;et>=0;--et)q=Math.max(q,x[et].size(this.resolveDataElementOptions(et))/2);return q>0&&q}const k=D.dataset,O=k.options&&k.options.borderWidth||0;if(!x.length)return O;const B=x[0].size(this.resolveDataElementOptions(0)),H=x[x.length-1].size(this.resolveDataElementOptions(x.length-1));return Math.max(O,B,H)/2}},qi(jh,"id","scatter"),qi(jh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),qi(jh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),jh)});function N1(D,x,k,O){const B=vs(D.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),H=(k-x)/2,q=Math.min(H,O*x/2),et=at=>{const dt=(k-Math.min(H,at))*O/2;return wn(at,0,Math.min(H,dt))};return{outerStart:et(B.outerStart),outerEnd:et(B.outerEnd),innerStart:wn(B.innerStart,0,q),innerEnd:wn(B.innerEnd,0,q)}}function Gc(D,x,k,O){return{x:k+D*Math.cos(x),y:O+D*Math.sin(x)}}function pp(D,x,k,O,B,H){const{x:q,y:et,startAngle:at,pixelMargin:dt,innerRadius:Nt}=x,Dt=Math.max(x.outerRadius+O+k-dt,0),Vt=Nt>0?Nt+O+k+dt:0;let ae=0;const Se=B-at;if(O){const vi=((Nt>0?Nt-O:0)+(Dt>0?Dt-O:0))/2;ae=(Se-(vi!==0?Se*vi/(vi+O):Se))/2}const me=(Se-Math.max(.001,Se*Dt-k/Le)/Dt)/2,we=at+me+ae,je=B-me-ae,{outerStart:pn,outerEnd:dn,innerStart:fn,innerEnd:An}=N1(x,Vt,Dt,je-we),Nn=Dt-pn,oi=Dt-dn,ci=we+pn/Nn,hi=je-dn/oi,gi=Vt+fn,zi=Vt+An,Li=we+fn/gi,Mi=je-An/zi;if(D.beginPath(),H){const vi=(ci+hi)/2;if(D.arc(q,et,Dt,ci,vi),D.arc(q,et,Dt,vi,hi),dn>0){const Pr=Gc(oi,hi,q,et);D.arc(Pr.x,Pr.y,dn,hi,je+ln)}const Ci=Gc(zi,je,q,et);if(D.lineTo(Ci.x,Ci.y),An>0){const Pr=Gc(zi,Mi,q,et);D.arc(Pr.x,Pr.y,An,je+ln,Mi+Math.PI)}const tn=(je-An/Vt+(we+fn/Vt))/2;if(D.arc(q,et,Vt,je-An/Vt,tn,!0),D.arc(q,et,Vt,tn,we+fn/Vt,!0),fn>0){const Pr=Gc(gi,Li,q,et);D.arc(Pr.x,Pr.y,fn,Li+Math.PI,we-ln)}const Ti=Gc(Nn,we,q,et);if(D.lineTo(Ti.x,Ti.y),pn>0){const Pr=Gc(Nn,ci,q,et);D.arc(Pr.x,Pr.y,pn,we-ln,ci)}}else{D.moveTo(q,et);const vi=Math.cos(ci)*Dt+q,Ci=Math.sin(ci)*Dt+et;D.lineTo(vi,Ci);const tn=Math.cos(hi)*Dt+q,Ti=Math.sin(hi)*Dt+et;D.lineTo(tn,Ti)}D.closePath()}function v0(D,x,k,O,B){const{fullCircles:H,startAngle:q,circumference:et,options:at}=x,{borderWidth:dt,borderJoinStyle:Nt}=at,Dt=at.borderAlign==="inner";if(!dt)return;Dt?(D.lineWidth=2*dt,D.lineJoin=Nt||"round"):(D.lineWidth=dt,D.lineJoin=Nt||"bevel");let Vt=x.endAngle;if(H){pp(D,x,k,O,Vt,B);for(let ae=0;ae<H;++ae)D.stroke();isNaN(et)||(Vt=q+(et%pe||pe))}Dt&&function(ae,Se,me){const{startAngle:we,pixelMargin:je,x:pn,y:dn,outerRadius:fn,innerRadius:An}=Se;let Nn=je/fn;ae.beginPath(),ae.arc(pn,dn,fn,we-Nn,me+Nn),An>je?(Nn=je/An,ae.arc(pn,dn,An,me+Nn,we-Nn,!0)):ae.arc(pn,dn,je,me+ln,we-ln),ae.closePath(),ae.clip()}(D,x,Vt),H||(pp(D,x,k,O,Vt,B),D.stroke())}function y0(D,x,k=x){D.lineCap=Bt(k.borderCapStyle,x.borderCapStyle),D.setLineDash(Bt(k.borderDash,x.borderDash)),D.lineDashOffset=Bt(k.borderDashOffset,x.borderDashOffset),D.lineJoin=Bt(k.borderJoinStyle,x.borderJoinStyle),D.lineWidth=Bt(k.borderWidth,x.borderWidth),D.strokeStyle=Bt(k.borderColor,x.borderColor)}function Br(D,x,k){D.lineTo(k.x,k.y)}function Yn(D,x,k={}){const O=D.length,{start:B=0,end:H=O-1}=k,{start:q,end:et}=x,at=Math.max(B,q),dt=Math.min(H,et),Nt=B<q&&H<q||B>et&&H>et;return{count:O,start:at,loop:x.loop,ilen:dt<at&&!Nt?O+dt-at:dt-at}}function uo(D,x,k,O){const{points:B,options:H}=x,{count:q,start:et,loop:at,ilen:dt}=Yn(B,k,O),Nt=function(we){return we.stepped?Qi:we.tension||we.cubicInterpolationMode==="monotone"?wh:Br}(H);let Dt,Vt,ae,{move:Se=!0,reverse:me}=O||{};for(Dt=0;Dt<=dt;++Dt)Vt=B[(et+(me?dt-Dt:Dt))%q],Vt.skip||(Se?(D.moveTo(Vt.x,Vt.y),Se=!1):Nt(D,ae,Vt,me,H.stepped),ae=Vt);return at&&(Vt=B[(et+(me?dt:0))%q],Nt(D,ae,Vt,me,H.stepped)),!!at}function Qa(D,x,k,O){const B=x.points,{count:H,start:q,ilen:et}=Yn(B,k,O),{move:at=!0,reverse:dt}=O||{};let Nt,Dt,Vt,ae,Se,me,we=0,je=0;const pn=fn=>(q+(dt?et-fn:fn))%H,dn=()=>{ae!==Se&&(D.lineTo(we,Se),D.lineTo(we,ae),D.lineTo(we,me))};for(at&&(Dt=B[pn(0)],D.moveTo(Dt.x,Dt.y)),Nt=0;Nt<=et;++Nt){if(Dt=B[pn(Nt)],Dt.skip)continue;const fn=Dt.x,An=Dt.y,Nn=0|fn;Nn===Vt?(An<ae?ae=An:An>Se&&(Se=An),we=(je*we+fn)/++je):(dn(),D.lineTo(fn,An),Vt=Nn,je=0,ae=Se=An),me=An}dn()}function Ss(D){const x=D.options,k=x.borderDash&&x.borderDash.length;return D._decimated||D._loop||x.tension||x.cubicInterpolationMode==="monotone"||x.stepped||k?uo:Qa}const Xc=typeof Path2D=="function";function Zf(D,x,k,O){Xc&&!x.options.segment?function(B,H,q,et){let at=H._path;at||(at=H._path=new Path2D,H.path(at,q,et)&&at.closePath()),y0(B,H.options),B.stroke(at)}(D,x,k,O):function(B,H,q,et){const{segments:at,options:dt}=H,Nt=Ss(H);for(const Dt of at)y0(B,dt,Dt.style),B.beginPath(),Nt(B,H,Dt,{start:q,end:q+et-1})&&B.closePath(),B.stroke()}(D,x,k,O)}class Al extends Za{constructor(x){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,x&&Object.assign(this,x)}updateControlPoints(x,k){const O=this.options;if((O.tension||O.cubicInterpolationMode==="monotone")&&!O.stepped&&!this._pointsUpdated){const B=O.spanGaps?this._loop:this._fullLoop;Ch(this._points,O,x,B,k),this._pointsUpdated=!0}}set points(x){this._points=x,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Tu(this,this.options.segment))}first(){const x=this.segments,k=this.points;return x.length&&k[x[0].start]}last(){const x=this.segments,k=this.points,O=x.length;return O&&k[x[O-1].end]}interpolate(x,k){const O=this.options,B=x[k],H=this.points,q=Jd(this,{property:k,start:B,end:B});if(!q.length)return;const et=[],at=function(Dt){return Dt.stepped?Go:Dt.tension||Dt.cubicInterpolationMode==="monotone"?Hf:ja}(O);let dt,Nt;for(dt=0,Nt=q.length;dt<Nt;++dt){const{start:Dt,end:Vt}=q[dt],ae=H[Dt],Se=H[Vt];if(ae===Se){et.push(ae);continue}const me=at(ae,Se,Math.abs((B-ae[k])/(Se[k]-ae[k])),O.stepped);me[k]=x[k],et.push(me)}return et.length===1?et[0]:et}pathSegment(x,k,O){return Ss(this)(x,this,k,O)}path(x,k,O){const B=this.segments,H=Ss(this);let q=this._loop;k=k||0,O=O||this.points.length-k;for(const et of B)q&=H(x,this,et,{start:k,end:k+O-1});return!!q}draw(x,k,O,B){const H=this.options||{};(this.points||[]).length&&H.borderWidth&&(x.save(),Zf(x,this,O,B),x.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}qi(Al,"id","line"),qi(Al,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),qi(Al,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),qi(Al,"descriptors",{_scriptable:!0,_indexable:x=>x!=="borderDash"&&x!=="fill"});function fp(D,x,k,O){const B=D.options,{[k]:H}=D.getProps([k],O);return Math.abs(x-H)<B.radius+B.hitRadius}function Kf(D,x){const{x:k,y:O,base:B,width:H,height:q}=D.getProps(["x","y","base","width","height"],x);let et,at,dt,Nt,Dt;return D.horizontal?(Dt=q/2,et=Math.min(k,B),at=Math.max(k,B),dt=O-Dt,Nt=O+Dt):(Dt=H/2,et=k-Dt,at=k+Dt,dt=Math.min(O,B),Nt=Math.max(O,B)),{left:et,top:dt,right:at,bottom:Nt}}function Ml(D,x,k,O){return D?0:wn(x,k,O)}function gp(D){const x=Kf(D),k=x.right-x.left,O=x.bottom-x.top,B=function(q,et,at){const dt=q.options.borderWidth,Nt=q.borderSkipped,Dt=Ya(dt);return{t:Ml(Nt.top,Dt.top,0,at),r:Ml(Nt.right,Dt.right,0,et),b:Ml(Nt.bottom,Dt.bottom,0,at),l:Ml(Nt.left,Dt.left,0,et)}}(D,k/2,O/2),H=function(q,et,at){const{enableBorderRadius:dt}=q.getProps(["enableBorderRadius"]),Nt=q.options.borderRadius,Dt=Xo(Nt),Vt=Math.min(et,at),ae=q.borderSkipped,Se=dt||Jt(Nt);return{topLeft:Ml(!Se||ae.top||ae.left,Dt.topLeft,0,Vt),topRight:Ml(!Se||ae.top||ae.right,Dt.topRight,0,Vt),bottomLeft:Ml(!Se||ae.bottom||ae.left,Dt.bottomLeft,0,Vt),bottomRight:Ml(!Se||ae.bottom||ae.right,Dt.bottomRight,0,Vt)}}(D,k/2,O/2);return{outer:{x:x.left,y:x.top,w:k,h:O,radius:H},inner:{x:x.left+B.l,y:x.top+B.t,w:k-B.l-B.r,h:O-B.t-B.b,radius:{topLeft:Math.max(0,H.topLeft-Math.max(B.t,B.l)),topRight:Math.max(0,H.topRight-Math.max(B.t,B.r)),bottomLeft:Math.max(0,H.bottomLeft-Math.max(B.b,B.l)),bottomRight:Math.max(0,H.bottomRight-Math.max(B.b,B.r))}}}}function ho(D,x,k,O){const B=x===null,H=k===null,q=D&&!(B&&H)&&Kf(D,O);return q&&(B||Un(x,q.left,q.right))&&(H||Un(k,q.top,q.bottom))}function ma(D,x){D.rect(x.x,x.y,x.w,x.h)}function Ph(D,x,k={}){const O=D.x!==k.x?-x:0,B=D.y!==k.y?-x:0,H=(D.x+D.w!==k.x+k.w?x:0)-O,q=(D.y+D.h!==k.y+k.h?x:0)-B;return{x:D.x+O,y:D.y+B,w:D.w+H,h:D.h+q,radius:D.radius}}var Bu=Object.freeze({__proto__:null,ArcElement:(zr=class extends Za{constructor(D){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,D&&Object.assign(this,D)}inRange(D,x,k){const O=this.getProps(["x","y"],k),{angle:B,distance:H}=Gn(O,{x:D,y:x}),{startAngle:q,endAngle:et,innerRadius:at,outerRadius:dt,circumference:Nt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],k),Dt=this.options.spacing/2,Vt=Bt(Nt,et-q)>=pe||Yi(B,q,et),ae=Un(H,at+Dt,dt+Dt);return Vt&&ae}getCenterPoint(D){const{x,y:k,startAngle:O,endAngle:B,innerRadius:H,outerRadius:q}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],D),{offset:et,spacing:at}=this.options,dt=(O+B)/2,Nt=(H+q+at+et)/2;return{x:x+Math.cos(dt)*Nt,y:k+Math.sin(dt)*Nt}}tooltipPosition(D){return this.getCenterPoint(D)}draw(D){const{options:x,circumference:k}=this,O=(x.offset||0)/4,B=(x.spacing||0)/2,H=x.circular;if(this.pixelMargin=x.borderAlign==="inner"?.33:0,this.fullCircles=k>pe?Math.floor(k/pe):0,k===0||this.innerRadius<0||this.outerRadius<0)return;D.save();const q=(this.startAngle+this.endAngle)/2;D.translate(Math.cos(q)*O,Math.sin(q)*O);const et=O*(1-Math.sin(Math.min(Le,k||0)));D.fillStyle=x.backgroundColor,D.strokeStyle=x.borderColor,function(at,dt,Nt,Dt,Vt){const{fullCircles:ae,startAngle:Se,circumference:me}=dt;let we=dt.endAngle;if(ae){pp(at,dt,Nt,Dt,we,Vt);for(let je=0;je<ae;++je)at.fill();isNaN(me)||(we=Se+(me%pe||pe))}pp(at,dt,Nt,Dt,we,Vt),at.fill()}(D,this,et,B,H),v0(D,this,et,B,H),D.restore()}},qi(zr,"id","arc"),qi(zr,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),qi(zr,"defaultRoutes",{backgroundColor:"backgroundColor"}),zr),LineElement:Al,PointElement:(Hs=class extends Za{constructor(D){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,D&&Object.assign(this,D)}inRange(D,x,k){const O=this.options,{x:B,y:H}=this.getProps(["x","y"],k);return Math.pow(D-B,2)+Math.pow(x-H,2)<Math.pow(O.hitRadius+O.radius,2)}inXRange(D,x){return fp(this,D,"x",x)}inYRange(D,x){return fp(this,D,"y",x)}getCenterPoint(D){const{x,y:k}=this.getProps(["x","y"],D);return{x,y:k}}size(D){let x=(D=D||this.options||{}).radius||0;return x=Math.max(x,x&&D.hoverRadius||0),2*(x+(x&&D.borderWidth||0))}draw(D,x){const k=this.options;this.skip||k.radius<.1||!to(this,x,this.size(k)/2)||(D.strokeStyle=k.borderColor,D.lineWidth=k.borderWidth,D.fillStyle=k.backgroundColor,Mn(D,k,this.x,this.y))}getRange(){const D=this.options||{};return D.radius+D.hitRadius}},qi(Hs,"id","point"),qi(Hs,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),qi(Hs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Hs),BarElement:(Ws=class extends Za{constructor(D){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,D&&Object.assign(this,D)}draw(D){const{inflateAmount:x,options:{borderColor:k,backgroundColor:O}}=this,{inner:B,outer:H}=gp(this),q=(et=H.radius).topLeft||et.topRight||et.bottomLeft||et.bottomRight?_h:ma;var et;D.save(),H.w===B.w&&H.h===B.h||(D.beginPath(),q(D,Ph(H,x,B)),D.clip(),q(D,Ph(B,-x,H)),D.fillStyle=k,D.fill("evenodd")),D.beginPath(),q(D,Ph(B,x)),D.fillStyle=O,D.fill(),D.restore()}inRange(D,x,k){return ho(this,D,x,k)}inXRange(D,x){return ho(this,D,null,x)}inYRange(D,x){return ho(this,null,D,x)}getCenterPoint(D){const{x,y:k,base:O,horizontal:B}=this.getProps(["x","y","base","horizontal"],D);return{x:B?(x+O)/2:x,y:B?k:(k+O)/2}}getRange(D){return D==="x"?this.width/2:this.height/2}},qi(Ws,"id","bar"),qi(Ws,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),qi(Ws,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ws)});function Jf(D,x,k,O){const B=D.indexOf(x);return B===-1?((H,q,et,at)=>(typeof q=="string"?(et=H.push(q)-1,at.unshift({index:et,label:q})):isNaN(q)&&(et=null),et))(D,x,k,O):B!==D.lastIndexOf(x)?k:B}function Nh(D){const x=this.getLabels();return D>=0&&D<x.length?x[D]:D}function Qf(D,x,{horizontal:k,minRotation:O}){const B=he(O),H=(k?Math.sin(B):Math.cos(B))||.001,q=.75*x*(""+D).length;return Math.min(x/H,q)}class Da extends nl{constructor(x){super(x),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(x,k){return qt(x)||(typeof x=="number"||x instanceof Number)&&!isFinite(+x)?null:+x}handleTickRangeOptions(){const{beginAtZero:x}=this.options,{minDefined:k,maxDefined:O}=this.getUserBounds();let{min:B,max:H}=this;const q=at=>B=k?B:at,et=at=>H=O?H:at;if(x){const at=ye(B),dt=ye(H);at<0&&dt<0?et(0):at>0&&dt>0&&q(0)}if(B===H){let at=H===0?1:Math.abs(.05*H);et(H+at),x||q(B-at)}this.min=B,this.max=H}getTickLimit(){const x=this.options.ticks;let k,{maxTicksLimit:O,stepSize:B}=x;return B?(k=Math.ceil(this.max/B)-Math.floor(this.min/B)+1,k>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${B} would result generating up to ${k} ticks. Limiting to 1000.`),k=1e3)):(k=this.computeTickLimit(),O=O||11),O&&(k=Math.min(O,k)),k}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const x=this.options,k=x.ticks;let O=this.getTickLimit();O=Math.max(2,O);const B=function(H,q){const et=[],{bounds:at,step:dt,min:Nt,max:Dt,precision:Vt,count:ae,maxTicks:Se,maxDigits:me,includeBounds:we}=H,je=dt||1,pn=Se-1,{min:dn,max:fn}=q,An=!qt(Nt),Nn=!qt(Dt),oi=!qt(ae),ci=(fn-dn)/(me+1);let hi,gi,zi,Li,Mi=$e((fn-dn)/pn/je)*je;if(Mi<1e-14&&!An&&!Nn)return[{value:dn},{value:fn}];Li=Math.ceil(fn/Mi)-Math.floor(dn/Mi),Li>pn&&(Mi=$e(Li*Mi/pn/je)*je),qt(Vt)||(hi=Math.pow(10,Vt),Mi=Math.ceil(Mi*hi)/hi),at==="ticks"?(gi=Math.floor(dn/Mi)*Mi,zi=Math.ceil(fn/Mi)*Mi):(gi=dn,zi=fn),An&&Nn&&dt&&Be((Dt-Nt)/dt,Mi/1e3)?(Li=Math.round(Math.min((Dt-Nt)/Mi,Se)),Mi=(Dt-Nt)/Li,gi=Nt,zi=Dt):oi?(gi=An?Nt:gi,zi=Nn?Dt:zi,Li=ae-1,Mi=(zi-gi)/Li):(Li=(zi-gi)/Mi,Li=cn(Li,Math.round(Li),Mi/1e3)?Math.round(Li):Math.ceil(Li));const vi=Math.max(kn(Mi),kn(gi));hi=Math.pow(10,qt(Vt)?vi:Vt),gi=Math.round(gi*hi)/hi,zi=Math.round(zi*hi)/hi;let Ci=0;for(An&&(we&&gi!==Nt?(et.push({value:Nt}),gi<Nt&&Ci++,cn(Math.round((gi+Ci*Mi)*hi)/hi,Nt,Qf(Nt,ci,H))&&Ci++):gi<Nt&&Ci++);Ci<Li;++Ci)et.push({value:Math.round((gi+Ci*Mi)*hi)/hi});return Nn&&we&&zi!==Dt?et.length&&cn(et[et.length-1].value,Dt,Qf(Dt,ci,H))?et[et.length-1].value=Dt:et.push({value:Dt}):Nn&&zi!==Dt||et.push({value:zi}),et}({maxTicks:O,bounds:x.bounds,min:x.min,max:x.max,precision:k.precision,step:k.stepSize,count:k.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:k.minRotation||0,includeBounds:k.includeBounds!==!1},this._range||this);return x.bounds==="ticks"&&un(B,this,"value"),x.reverse?(B.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),B}configure(){const x=this.ticks;let k=this.min,O=this.max;if(super.configure(),this.options.offset&&x.length){const B=(O-k)/Math.max(x.length-1,1)/2;k-=B,O+=B}this._startValue=k,this._endValue=O,this._valueRange=O-k}getLabelForValue(x){return Et(x,this.chart.options.locale,this.options.ticks.format)}}class mp extends Da{determineDataLimits(){const{min:x,max:k}=this.getMinMax(!0);this.min=re(x)?x:0,this.max=re(k)?k:1,this.handleTickRangeOptions()}computeTickLimit(){const x=this.isHorizontal(),k=x?this.width:this.height,O=he(this.options.ticks.minRotation),B=(x?Math.sin(O):Math.cos(O))||.001,H=this._resolveTickFontOptions(0);return Math.ceil(k/Math.min(40,H.lineHeight/B))}getPixelForValue(x){return x===null?NaN:this.getPixelForDecimal((x-this._startValue)/this._valueRange)}getValueForPixel(x){return this._startValue+this.getDecimalForPixel(x)*this._valueRange}}qi(mp,"id","linear"),qi(mp,"defaults",{ticks:{callback:ue.formatters.numeric}});const zu=D=>Math.floor(U(D)),il=(D,x)=>Math.pow(10,zu(D)+x);function tg(D){return D/Math.pow(10,zu(D))===1}function Sr(D,x,k){const O=Math.pow(10,k),B=Math.floor(D/O);return Math.ceil(x/O)-B}function qm(D,{min:x,max:k}){x=Zt(D.min,x);const O=[],B=zu(x);let H=function(Se,me){let we=zu(me-Se);for(;Sr(Se,me,we)>10;)we++;for(;Sr(Se,me,we)<10;)we--;return Math.min(we,zu(Se))}(x,k),q=H<0?Math.pow(10,Math.abs(H)):1;const et=Math.pow(10,H),at=B>H?Math.pow(10,B):0,dt=Math.round((x-at)*q)/q,Nt=Math.floor((x-at)/et/10)*et*10;let Dt=Math.floor((dt-Nt)/Math.pow(10,H)),Vt=Zt(D.min,Math.round((at+Nt+Dt*Math.pow(10,H))*q)/q);for(;Vt<k;)O.push({value:Vt,major:tg(Vt),significand:Dt}),Dt>=10?Dt=Dt<15?15:20:Dt++,Dt>=20&&(H++,Dt=2,q=H>=0?1:q),Vt=Math.round((at+Nt+Dt*Math.pow(10,H))*q)/q;const ae=Zt(D.max,Vt);return O.push({value:ae,major:tg(ae),significand:Dt}),O}class eg extends nl{constructor(x){super(x),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(x,k){const O=Da.prototype.parse.apply(this,[x,k]);if(O!==0)return re(O)&&O>0?O:null;this._zero=!0}determineDataLimits(){const{min:x,max:k}=this.getMinMax(!0);this.min=re(x)?Math.max(0,x):null,this.max=re(k)?Math.max(0,k):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!re(this._userMin)&&(this.min=x===il(this.min,0)?il(this.min,-1):il(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:x,maxDefined:k}=this.getUserBounds();let O=this.min,B=this.max;const H=et=>O=x?O:et,q=et=>B=k?B:et;O===B&&(O<=0?(H(1),q(10)):(H(il(O,-1)),q(il(B,1)))),O<=0&&H(il(B,-1)),B<=0&&q(il(O,1)),this.min=O,this.max=B}buildTicks(){const x=this.options,k=qm({min:this._userMin,max:this._userMax},this);return x.bounds==="ticks"&&un(k,this,"value"),x.reverse?(k.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),k}getLabelForValue(x){return x===void 0?"0":Et(x,this.chart.options.locale,this.options.ticks.format)}configure(){const x=this.min;super.configure(),this._startValue=U(x),this._valueRange=U(this.max)-U(x)}getPixelForValue(x){return x!==void 0&&x!==0||(x=this.min),x===null||isNaN(x)?NaN:this.getPixelForDecimal(x===this.min?0:(U(x)-this._startValue)/this._valueRange)}getValueForPixel(x){const k=this.getDecimalForPixel(x);return Math.pow(10,this._startValue+k*this._valueRange)}}qi(eg,"id","logarithmic"),qi(eg,"defaults",{ticks:{callback:ue.formatters.logarithmic,major:{enabled:!0}}});function vp(D){const x=D.ticks;if(x.display&&D.display){const k=Qo(x.backdropPadding);return Bt(x.font&&x.font.size,jt.font.size)+k.height}return 0}function Fr(D,x,k,O,B){return D===O||D===B?{start:x-k/2,end:x+k/2}:D<O||D>B?{start:x-k,end:x}:{start:x,end:x+k}}function qc(D){const x={l:D.left+D._padding.left,r:D.right-D._padding.right,t:D.top+D._padding.top,b:D.bottom-D._padding.bottom},k=Object.assign({},x),O=[],B=[],H=D._pointLabels.length,q=D.options.pointLabels,et=q.centerPointLabels?Le/H:0;for(let Dt=0;Dt<H;Dt++){const Vt=q.setContext(D.getPointLabelContext(Dt));B[Dt]=Vt.padding;const ae=D.getPointPosition(Dt,D.drawingArea+B[Dt],et),Se=Ir(Vt.font),me=(at=D.ctx,dt=Se,Nt=ke(Nt=D._pointLabels[Dt])?Nt:[Nt],{w:Js(at,dt.string,Nt),h:Nt.length*dt.lineHeight});O[Dt]=me;const we=Cr(D.getIndexAngle(Dt)+et),je=Math.round(In(we));Um(k,x,we,Fr(je,ae.x,me.w,0,180),Fr(je,ae.y,me.h,90,270))}var at,dt,Nt;D.setCenterPoint(x.l-k.l,k.r-x.r,x.t-k.t,k.b-x.b),D._pointLabelItems=function(Dt,Vt,ae){const Se=[],me=Dt._pointLabels.length,we=Dt.options,je=vp(we)/2,pn=Dt.drawingArea,dn=we.pointLabels.centerPointLabels?Le/me:0;for(let fn=0;fn<me;fn++){const An=Dt.getPointPosition(fn,pn+je+ae[fn],dn),Nn=Math.round(In(Cr(An.angle+ln))),oi=Vt[fn],ci=ng(An.y,oi.h,Nn),hi=Fu(Nn),gi=x0(An.x,oi.w,hi);Se.push({x:An.x,y:ci,textAlign:hi,left:gi,top:ci,right:gi+oi.w,bottom:ci+oi.h})}return Se}(D,O,B)}function Um(D,x,k,O,B){const H=Math.abs(Math.sin(k)),q=Math.abs(Math.cos(k));let et=0,at=0;O.start<x.l?(et=(x.l-O.start)/H,D.l=Math.min(D.l,x.l-et)):O.end>x.r&&(et=(O.end-x.r)/H,D.r=Math.max(D.r,x.r+et)),B.start<x.t?(at=(x.t-B.start)/q,D.t=Math.min(D.t,x.t-at)):B.end>x.b&&(at=(B.end-x.b)/q,D.b=Math.max(D.b,x.b+at))}function Fu(D){return D===0||D===180?"center":D<180?"left":"right"}function x0(D,x,k){return k==="right"?D-=x:k==="center"&&(D-=x/2),D}function ng(D,x,k){return k===90||k===270?D-=x/2:(k>270||k<90)&&(D-=x),D}function $m(D,x,k,O){const{ctx:B}=D;if(k)B.arc(D.xCenter,D.yCenter,x,0,pe);else{let H=D.getPointPosition(0,x);B.moveTo(H.x,H.y);for(let q=1;q<O;q++)H=D.getPointPosition(q,x),B.lineTo(H.x,H.y)}}class Fs extends Da{constructor(x){super(x),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const x=this._padding=Qo(vp(this.options)/2),k=this.width=this.maxWidth-x.width,O=this.height=this.maxHeight-x.height;this.xCenter=Math.floor(this.left+k/2+x.left),this.yCenter=Math.floor(this.top+O/2+x.top),this.drawingArea=Math.floor(Math.min(k,O)/2)}determineDataLimits(){const{min:x,max:k}=this.getMinMax(!1);this.min=re(x)&&!isNaN(x)?x:0,this.max=re(k)&&!isNaN(k)?k:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vp(this.options))}generateTickLabels(x){Da.prototype.generateTickLabels.call(this,x),this._pointLabels=this.getLabels().map((k,O)=>{const B=gt(this.options.pointLabels.callback,[k,O],this);return B||B===0?B:""}).filter((k,O)=>this.chart.getDataVisibility(O))}fit(){const x=this.options;x.display&&x.pointLabels.display?qc(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(x,k,O,B){this.xCenter+=Math.floor((x-k)/2),this.yCenter+=Math.floor((O-B)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(x,k,O,B))}getIndexAngle(x){return Cr(x*(pe/(this._pointLabels.length||1))+he(this.options.startAngle||0))}getDistanceFromCenterForValue(x){if(qt(x))return NaN;const k=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-x)*k:(x-this.min)*k}getValueForDistanceFromCenter(x){if(qt(x))return NaN;const k=x/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-k:this.min+k}getPointLabelContext(x){const k=this._pointLabels||[];if(x>=0&&x<k.length){const O=k[x];return function(B,H,q){return Xa(B,{label:q,index:H,type:"pointLabel"})}(this.getContext(),x,O)}}getPointPosition(x,k,O=0){const B=this.getIndexAngle(x)-ln+O;return{x:Math.cos(B)*k+this.xCenter,y:Math.sin(B)*k+this.yCenter,angle:B}}getPointPositionForValue(x,k){return this.getPointPosition(x,this.getDistanceFromCenterForValue(k))}getBasePosition(x){return this.getPointPositionForValue(x||0,this.getBaseValue())}getPointLabelPosition(x){const{left:k,top:O,right:B,bottom:H}=this._pointLabelItems[x];return{left:k,top:O,right:B,bottom:H}}drawBackground(){const{backgroundColor:x,grid:{circular:k}}=this.options;if(x){const O=this.ctx;O.save(),O.beginPath(),$m(this,this.getDistanceFromCenterForValue(this._endValue),k,this._pointLabels.length),O.closePath(),O.fillStyle=x,O.fill(),O.restore()}}drawGrid(){const x=this.ctx,k=this.options,{angleLines:O,grid:B,border:H}=k,q=this._pointLabels.length;let et,at,dt;if(k.pointLabels.display&&function(Nt,Dt){const{ctx:Vt,options:{pointLabels:ae}}=Nt;for(let Se=Dt-1;Se>=0;Se--){const me=ae.setContext(Nt.getPointLabelContext(Se)),we=Ir(me.font),{x:je,y:pn,textAlign:dn,left:fn,top:An,right:Nn,bottom:oi}=Nt._pointLabelItems[Se],{backdropColor:ci}=me;if(!qt(ci)){const hi=Xo(me.borderRadius),gi=Qo(me.backdropPadding);Vt.fillStyle=ci;const zi=fn-gi.left,Li=An-gi.top,Mi=Nn-fn+gi.width,vi=oi-An+gi.height;Object.values(hi).some(Ci=>Ci!==0)?(Vt.beginPath(),_h(Vt,{x:zi,y:Li,w:Mi,h:vi,radius:hi}),Vt.fill()):Vt.fillRect(zi,Li,Mi,vi)}Po(Vt,Nt._pointLabels[Se],je,pn+we.lineHeight/2,we,{color:me.color,textAlign:dn,textBaseline:"middle"})}}(this,q),B.display&&this.ticks.forEach((Nt,Dt)=>{if(Dt!==0){at=this.getDistanceFromCenterForValue(Nt.value);const Vt=this.getContext(Dt),ae=B.setContext(Vt),Se=H.setContext(Vt);(function(me,we,je,pn,dn){const fn=me.ctx,An=we.circular,{color:Nn,lineWidth:oi}=we;!An&&!pn||!Nn||!oi||je<0||(fn.save(),fn.strokeStyle=Nn,fn.lineWidth=oi,fn.setLineDash(dn.dash),fn.lineDashOffset=dn.dashOffset,fn.beginPath(),$m(me,je,An,pn),fn.closePath(),fn.stroke(),fn.restore())})(this,ae,at,q,Se)}}),O.display){for(x.save(),et=q-1;et>=0;et--){const Nt=O.setContext(this.getPointLabelContext(et)),{color:Dt,lineWidth:Vt}=Nt;Vt&&Dt&&(x.lineWidth=Vt,x.strokeStyle=Dt,x.setLineDash(Nt.borderDash),x.lineDashOffset=Nt.borderDashOffset,at=this.getDistanceFromCenterForValue(k.ticks.reverse?this.min:this.max),dt=this.getPointPosition(et,at),x.beginPath(),x.moveTo(this.xCenter,this.yCenter),x.lineTo(dt.x,dt.y),x.stroke())}x.restore()}}drawBorder(){}drawLabels(){const x=this.ctx,k=this.options,O=k.ticks;if(!O.display)return;const B=this.getIndexAngle(0);let H,q;x.save(),x.translate(this.xCenter,this.yCenter),x.rotate(B),x.textAlign="center",x.textBaseline="middle",this.ticks.forEach((et,at)=>{if(at===0&&!k.reverse)return;const dt=O.setContext(this.getContext(at)),Nt=Ir(dt.font);if(H=this.getDistanceFromCenterForValue(this.ticks[at].value),dt.showLabelBackdrop){x.font=Nt.string,q=x.measureText(et.label).width,x.fillStyle=dt.backdropColor;const Dt=Qo(dt.backdropPadding);x.fillRect(-q/2-Dt.left,-H-Nt.size/2-Dt.top,q+Dt.width,Nt.size+Dt.height)}Po(x,et.label,0,-H,Nt,{color:dt.color})}),x.restore()}drawTitle(){}}qi(Fs,"id","radialLinear"),qi(Fs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ue.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:x=>x,padding:5,centerPointLabels:!1}}),qi(Fs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),qi(Fs,"descriptors",{angleLines:{_fallback:"grid"}});const po={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wa=Object.keys(po);function yp(D,x){return D-x}function Uc(D,x){if(qt(x))return null;const k=D._adapter,{parser:O,round:B,isoWeekday:H}=D._parseOpts;let q=x;return typeof O=="function"&&(q=O(q)),re(q)||(q=typeof O=="string"?k.parse(q,O):k.parse(q)),q===null?null:(B&&(q=B!=="week"||!Re(H)&&H!==!0?k.startOf(q,B):k.startOf(q,"isoWeek",H)),+q)}function hr(D,x,k,O){const B=wa.length;for(let H=wa.indexOf(D);H<B-1;++H){const q=po[wa[H]],et=q.steps?q.steps:Number.MAX_SAFE_INTEGER;if(q.common&&Math.ceil((k-x)/(et*q.size))<=O)return wa[H]}return wa[B-1]}function b0(D,x,k){if(k){if(k.length){const{lo:O,hi:B}=_i(k,x);D[k[O]>=x?k[O]:k[B]]=!0}}else D[x]=!0}function Vu(D,x,k){const O=[],B={},H=x.length;let q,et;for(q=0;q<H;++q)et=x[q],B[et]=q,O.push({value:et,major:!1});return H!==0&&k?function(at,dt,Nt,Dt){const Vt=at._adapter,ae=+Vt.startOf(dt[0].value,Dt),Se=dt[dt.length-1].value;let me,we;for(me=ae;me<=Se;me=+Vt.add(me,1,Dt))we=Nt[me],we>=0&&(dt[we].major=!0);return dt}(D,O,B,k):O}class hc extends nl{constructor(x){super(x),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(x,k={}){const O=x.time||(x.time={}),B=this._adapter=new cc._date(x.adapters.date);B.init(k),At(O.displayFormats,B.formats()),this._parseOpts={parser:O.parser,round:O.round,isoWeekday:O.isoWeekday},super.init(x),this._normalized=k.normalized}parse(x,k){return x===void 0?null:Uc(this,x)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const x=this.options,k=this._adapter,O=x.time.unit||"day";let{min:B,max:H,minDefined:q,maxDefined:et}=this.getUserBounds();function at(dt){q||isNaN(dt.min)||(B=Math.min(B,dt.min)),et||isNaN(dt.max)||(H=Math.max(H,dt.max))}q&&et||(at(this._getLabelBounds()),x.bounds==="ticks"&&x.ticks.source==="labels"||at(this.getMinMax(!1))),B=re(B)&&!isNaN(B)?B:+k.startOf(Date.now(),O),H=re(H)&&!isNaN(H)?H:+k.endOf(Date.now(),O)+1,this.min=Math.min(B,H-1),this.max=Math.max(B+1,H)}_getLabelBounds(){const x=this.getLabelTimestamps();let k=Number.POSITIVE_INFINITY,O=Number.NEGATIVE_INFINITY;return x.length&&(k=x[0],O=x[x.length-1]),{min:k,max:O}}buildTicks(){const x=this.options,k=x.time,O=x.ticks,B=O.source==="labels"?this.getLabelTimestamps():this._generate();x.bounds==="ticks"&&B.length&&(this.min=this._userMin||B[0],this.max=this._userMax||B[B.length-1]);const H=this.min,q=Rt(B,H,this.max);return this._unit=k.unit||(O.autoSkip?hr(k.minUnit,this.min,this.max,this._getLabelCapacity(H)):function(et,at,dt,Nt,Dt){for(let Vt=wa.length-1;Vt>=wa.indexOf(dt);Vt--){const ae=wa[Vt];if(po[ae].common&&et._adapter.diff(Dt,Nt,ae)>=at-1)return ae}return wa[dt?wa.indexOf(dt):0]}(this,q.length,k.minUnit,this.min,this.max)),this._majorUnit=O.major.enabled&&this._unit!=="year"?function(et){for(let at=wa.indexOf(et)+1,dt=wa.length;at<dt;++at)if(po[wa[at]].common)return wa[at]}(this._unit):void 0,this.initOffsets(B),x.reverse&&q.reverse(),Vu(this,q,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(x=>+x.value))}initOffsets(x=[]){let k,O,B=0,H=0;this.options.offset&&x.length&&(k=this.getDecimalForValue(x[0]),B=x.length===1?1-k:(this.getDecimalForValue(x[1])-k)/2,O=this.getDecimalForValue(x[x.length-1]),H=x.length===1?O:(O-this.getDecimalForValue(x[x.length-2]))/2);const q=x.length<3?.5:.25;B=wn(B,0,q),H=wn(H,0,q),this._offsets={start:B,end:H,factor:1/(B+1+H)}}_generate(){const x=this._adapter,k=this.min,O=this.max,B=this.options,H=B.time,q=H.unit||hr(H.minUnit,k,O,this._getLabelCapacity(k)),et=Bt(B.ticks.stepSize,1),at=q==="week"&&H.isoWeekday,dt=Re(at)||at===!0,Nt={};let Dt,Vt,ae=k;if(dt&&(ae=+x.startOf(ae,"isoWeek",at)),ae=+x.startOf(ae,dt?"day":q),x.diff(O,k,q)>1e5*et)throw new Error(k+" and "+O+" are too far apart with stepSize of "+et+" "+q);const Se=B.ticks.source==="data"&&this.getDataTimestamps();for(Dt=ae,Vt=0;Dt<O;Dt=+x.add(Dt,et,q),Vt++)b0(Nt,Dt,Se);return Dt!==O&&B.bounds!=="ticks"&&Vt!==1||b0(Nt,Dt,Se),Object.keys(Nt).sort((me,we)=>me-we).map(me=>+me)}getLabelForValue(x){const k=this._adapter,O=this.options.time;return O.tooltipFormat?k.format(x,O.tooltipFormat):k.format(x,O.displayFormats.datetime)}format(x,k){const O=this.options.time.displayFormats,B=this._unit,H=k||O[B];return this._adapter.format(x,H)}_tickFormatFunction(x,k,O,B){const H=this.options,q=H.ticks.callback;if(q)return gt(q,[x,k,O],this);const et=H.time.displayFormats,at=this._unit,dt=this._majorUnit,Nt=at&&et[at],Dt=dt&&et[dt],Vt=O[k],ae=dt&&Dt&&Vt&&Vt.major;return this._adapter.format(x,B||(ae?Dt:Nt))}generateTickLabels(x){let k,O,B;for(k=0,O=x.length;k<O;++k)B=x[k],B.label=this._tickFormatFunction(B.value,k,x)}getDecimalForValue(x){return x===null?NaN:(x-this.min)/(this.max-this.min)}getPixelForValue(x){const k=this._offsets,O=this.getDecimalForValue(x);return this.getPixelForDecimal((k.start+O)*k.factor)}getValueForPixel(x){const k=this._offsets,O=this.getDecimalForPixel(x)/k.factor-k.end;return this.min+O*(this.max-this.min)}_getLabelSize(x){const k=this.options.ticks,O=this.ctx.measureText(x).width,B=he(this.isHorizontal()?k.maxRotation:k.minRotation),H=Math.cos(B),q=Math.sin(B),et=this._resolveTickFontOptions(0).size;return{w:O*H+et*q,h:O*q+et*H}}_getLabelCapacity(x){const k=this.options.time,O=k.displayFormats,B=O[k.unit]||O.millisecond,H=this._tickFormatFunction(x,0,Vu(this,[x],this._majorUnit),B),q=this._getLabelSize(H),et=Math.floor(this.isHorizontal()?this.width/q.w:this.height/q.h)-1;return et>0?et:1}getDataTimestamps(){let x,k,O=this._cache.data||[];if(O.length)return O;const B=this.getMatchingVisibleMetas();if(this._normalized&&B.length)return this._cache.data=B[0].controller.getAllParsedValues(this);for(x=0,k=B.length;x<k;++x)O=O.concat(B[x].controller.getAllParsedValues(this));return this._cache.data=this.normalize(O)}getLabelTimestamps(){const x=this._cache.labels||[];let k,O;if(x.length)return x;const B=this.getLabels();for(k=0,O=B.length;k<O;++k)x.push(Uc(this,B[k]));return this._cache.labels=this._normalized?x:this.normalize(x)}normalize(x){return ve(x.sort(yp))}}qi(hc,"id","time"),qi(hc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function go(D,x,k){let O,B,H,q,et=0,at=D.length-1;k?(x>=D[et].pos&&x<=D[at].pos&&({lo:et,hi:at}=ui(D,"pos",x)),{pos:O,time:H}=D[et],{pos:B,time:q}=D[at]):(x>=D[et].time&&x<=D[at].time&&({lo:et,hi:at}=ui(D,"time",x)),{time:O,pos:H}=D[et],{time:B,pos:q}=D[at]);const dt=B-O;return dt?H+(q-H)*(x-O)/dt:H}var Zm=Object.freeze({__proto__:null,CategoryScale:(ts=class extends nl{constructor(D){super(D),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(D){const x=this._addedLabels;if(x.length){const k=this.getLabels();for(const{index:O,label:B}of x)k[O]===B&&k.splice(O,1);this._addedLabels=[]}super.init(D)}parse(D,x){if(qt(D))return null;const k=this.getLabels();return((O,B)=>O===null?null:wn(Math.round(O),0,B))(x=isFinite(x)&&k[x]===D?x:Jf(k,D,Bt(x,D),this._addedLabels),k.length-1)}determineDataLimits(){const{minDefined:D,maxDefined:x}=this.getUserBounds();let{min:k,max:O}=this.getMinMax(!0);this.options.bounds==="ticks"&&(D||(k=0),x||(O=this.getLabels().length-1)),this.min=k,this.max=O}buildTicks(){const D=this.min,x=this.max,k=this.options.offset,O=[];let B=this.getLabels();B=D===0&&x===B.length-1?B:B.slice(D,x+1),this._valueRange=Math.max(B.length-(k?0:1),1),this._startValue=this.min-(k?.5:0);for(let H=D;H<=x;H++)O.push({value:H});return O}getLabelForValue(D){return Nh.call(this,D)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(D){return typeof D!="number"&&(D=this.parse(D)),D===null?NaN:this.getPixelForDecimal((D-this._startValue)/this._valueRange)}getPixelForTick(D){const x=this.ticks;return D<0||D>x.length-1?null:this.getPixelForValue(x[D].value)}getValueForPixel(D){return Math.round(this._startValue+this.getDecimalForPixel(D)*this._valueRange)}getBasePixel(){return this.bottom}},qi(ts,"id","category"),qi(ts,"defaults",{ticks:{callback:Nh}}),ts),LinearScale:mp,LogarithmicScale:eg,RadialLinearScale:Fs,TimeScale:hc,TimeSeriesScale:(js=class extends hc{constructor(D){super(D),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const D=this._getTimestampsForTable(),x=this._table=this.buildLookupTable(D);this._minPos=go(x,this.min),this._tableRange=go(x,this.max)-this._minPos,super.initOffsets(D)}buildLookupTable(D){const{min:x,max:k}=this,O=[],B=[];let H,q,et,at,dt;for(H=0,q=D.length;H<q;++H)at=D[H],at>=x&&at<=k&&O.push(at);if(O.length<2)return[{time:x,pos:0},{time:k,pos:1}];for(H=0,q=O.length;H<q;++H)dt=O[H+1],et=O[H-1],at=O[H],Math.round((dt+et)/2)!==at&&B.push({time:at,pos:H/(q-1)});return B}_getTimestampsForTable(){let D=this._cache.all||[];if(D.length)return D;const x=this.getDataTimestamps(),k=this.getLabelTimestamps();return D=x.length&&k.length?this.normalize(x.concat(k)):x.length?x:k,D=this._cache.all=D,D}getDecimalForValue(D){return(go(this._table,D)-this._minPos)/this._tableRange}getValueForPixel(D){const x=this._offsets,k=this.getDecimalForPixel(D)/x.factor-x.end;return go(this._table,k*this._tableRange+this._minPos,!0)}},qi(js,"id","timeseries"),qi(js,"defaults",hc.defaults),js)});const dc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Tl=dc.map(D=>D.replace("rgb(","rgba(").replace(")",", 0.5)"));function Hu(D){return dc[D%dc.length]}function Rh(D){return Tl[D%Tl.length]}function Wu(D){let x=0;return(k,O)=>{const B=D.getDatasetMeta(O).controller;B instanceof Ei?x=function(H,q){return H.backgroundColor=H.data.map(()=>Hu(q++)),q}(k,x):B instanceof uc?x=function(H,q){return H.backgroundColor=H.data.map(()=>Rh(q++)),q}(k,x):B&&(x=function(H,q){return H.borderColor=Hu(q),H.backgroundColor=Rh(q),++q}(k,x))}}function $c(D){let x;for(x in D)if(D[x].borderColor||D[x].backgroundColor)return!0;return!1}var ao={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(D,x,k){if(!k.enabled)return;const{data:{datasets:O},options:B}=D.config,{elements:H}=B;if(!k.forceOverride&&($c(O)||(q=B)&&(q.borderColor||q.backgroundColor)||H&&$c(H)))return;var q;const et=Wu(D);O.forEach(et)}};function Bh(D){if(D._decimated){const x=D._data;delete D._decimated,delete D._data,Object.defineProperty(D,"data",{configurable:!0,enumerable:!0,writable:!0,value:x})}}function ig(D){D.data.datasets.forEach(x=>{Bh(x)})}var R1={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(D,x,k)=>{if(!k.enabled)return void ig(D);const O=D.width;D.data.datasets.forEach((B,H)=>{const{_data:q,indexAxis:et}=B,at=D.getDatasetMeta(H),dt=q||B.data;if(Ga([et,D.options.indexAxis])==="y"||!at.controller.supportsDecimation)return;const Nt=D.scales[at.xAxisID];if(Nt.type!=="linear"&&Nt.type!=="time"||D.options.parsing)return;let{start:Dt,count:Vt}=function(Se,me){const we=me.length;let je,pn=0;const{iScale:dn}=Se,{min:fn,max:An,minDefined:Nn,maxDefined:oi}=dn.getUserBounds();return Nn&&(pn=wn(ui(me,dn.axis,fn).lo,0,we-1)),je=oi?wn(ui(me,dn.axis,An).hi+1,pn,we)-pn:we-pn,{start:pn,count:je}}(at,dt);if(Vt<=(k.threshold||4*O))return void Bh(B);let ae;switch(qt(q)&&(B._data=dt,delete B.data,Object.defineProperty(B,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Se){this._data=Se}})),k.algorithm){case"lttb":ae=function(Se,me,we,je,pn){const dn=pn.samples||je;if(dn>=we)return Se.slice(me,me+we);const fn=[],An=(we-2)/(dn-2);let Nn=0;const oi=me+we-1;let ci,hi,gi,zi,Li,Mi=me;for(fn[Nn++]=Se[Mi],ci=0;ci<dn-2;ci++){let vi,Ci=0,tn=0;const Ti=Math.floor((ci+1)*An)+1+me,Pr=Math.min(Math.floor((ci+2)*An)+1,we)+me,Gr=Pr-Ti;for(vi=Ti;vi<Pr;vi++)Ci+=Se[vi].x,tn+=Se[vi].y;Ci/=Gr,tn/=Gr;const es=Math.floor(ci*An)+1+me,ns=Math.min(Math.floor((ci+1)*An)+1,we)+me,{x:Kr,y:ia}=Se[Mi];for(gi=zi=-1,vi=es;vi<ns;vi++)zi=.5*Math.abs((Kr-Ci)*(Se[vi].y-ia)-(Kr-Se[vi].x)*(tn-ia)),zi>gi&&(gi=zi,hi=Se[vi],Li=vi);fn[Nn++]=hi,Mi=Li}return fn[Nn++]=Se[oi],fn}(dt,Dt,Vt,O,k);break;case"min-max":ae=function(Se,me,we,je){let pn,dn,fn,An,Nn,oi,ci,hi,gi,zi,Li=0,Mi=0;const vi=[],Ci=me+we-1,tn=Se[me].x,Ti=Se[Ci].x-tn;for(pn=me;pn<me+we;++pn){dn=Se[pn],fn=(dn.x-tn)/Ti*je,An=dn.y;const Pr=0|fn;if(Pr===Nn)An<gi?(gi=An,oi=pn):An>zi&&(zi=An,ci=pn),Li=(Mi*Li+dn.x)/++Mi;else{const Gr=pn-1;if(!qt(oi)&&!qt(ci)){const es=Math.min(oi,ci),ns=Math.max(oi,ci);es!==hi&&es!==Gr&&vi.push({...Se[es],x:Li}),ns!==hi&&ns!==Gr&&vi.push({...Se[ns],x:Li})}pn>0&&Gr!==hi&&vi.push(Se[Gr]),vi.push(dn),Nn=Pr,Mi=0,gi=zi=An,oi=ci=hi=pn}}return vi}(dt,Dt,Vt,O);break;default:throw new Error(`Unsupported decimation algorithm '${k.algorithm}'`)}B._decimated=ae})},destroy(D){ig(D)}};function Fo(D,x,k,O){if(O)return;let B=x[D],H=k[D];return D==="angle"&&(B=Cr(B),H=Cr(H)),{property:D,start:B,end:H}}function rg(D,x,k){for(;x>D;x--){const O=k[x];if(!isNaN(O.x)&&!isNaN(O.y))break}return x}function zh(D,x,k,O){return D&&x?O(D[k],x[k]):D?D[k]:x?x[k]:0}function Il(D,x){let k=[],O=!1;return ke(D)?(O=!0,k=D):k=function(B,H){const{x:q=null,y:et=null}=B||{},at=H.points,dt=[];return H.segments.forEach(({start:Nt,end:Dt})=>{Dt=rg(Nt,Dt,at);const Vt=at[Nt],ae=at[Dt];et!==null?(dt.push({x:Vt.x,y:et}),dt.push({x:ae.x,y:et})):q!==null&&(dt.push({x:q,y:Vt.y}),dt.push({x:q,y:ae.y}))}),dt}(D,x),k.length?new Al({points:k,options:{tension:0},_loop:O,_fullLoop:O}):null}function pc(D){return D&&D.fill!==!1}function Km(D,x,k){let O=D[x].fill;const B=[x];let H;if(!k)return O;for(;O!==!1&&B.indexOf(O)===-1;){if(!re(O))return O;if(H=D[O],!H)return!1;if(H.visible)return O;B.push(O),O=H.fill}return!1}function Jm(D,x,k){const O=function(H){const q=H.options,et=q.fill;let at=Bt(et&&et.target,et);return at===void 0&&(at=!!q.backgroundColor),at===!1||at===null?!1:at===!0?"origin":at}(D);if(Jt(O))return!isNaN(O.value)&&O;let B=parseFloat(O);return re(B)&&Math.floor(B)===B?function(H,q,et,at){return H!=="-"&&H!=="+"||(et=q+et),et===q||et<0||et>=at?!1:et}(O[0],x,B,k):["origin","start","end","stack","shape"].indexOf(O)>=0&&O}function w0(D,x,k){const O=[];for(let B=0;B<k.length;B++){const H=k[B],{first:q,last:et,point:at}=xp(H,x,"x");if(!(!at||q&&et)){if(q)O.unshift(at);else if(D.push(at),!et)break}}D.push(...O)}function xp(D,x,k){const O=D.interpolate(x,k);if(!O)return{};const B=O[k],H=D.segments,q=D.points;let et=!1,at=!1;for(let dt=0;dt<H.length;dt++){const Nt=H[dt],Dt=q[Nt.start][k],Vt=q[Nt.end][k];if(Un(B,Dt,Vt)){et=B===Dt,at=B===Vt;break}}return{first:et,last:at,point:O}}class Qm{constructor(x){this.x=x.x,this.y=x.y,this.radius=x.radius}pathSegment(x,k,O){const{x:B,y:H,radius:q}=this;return k=k||{start:0,end:pe},x.arc(B,H,q,k.end,k.start,!0),!O.bounds}interpolate(x){const{x:k,y:O,radius:B}=this,H=x.angle;return{x:k+Math.cos(H)*B,y:O+Math.sin(H)*B,angle:H}}}function Fh(D){const{chart:x,fill:k,line:O}=D;if(re(k))return function(H,q){const et=H.getDatasetMeta(q);return et&&H.isDatasetVisible(q)?et.dataset:null}(x,k);if(k==="stack")return function(H){const{scale:q,index:et,line:at}=H,dt=[],Nt=at.segments,Dt=at.points,Vt=function(ae,Se){const me=[],we=ae.getMatchingVisibleMetas("line");for(let je=0;je<we.length;je++){const pn=we[je];if(pn.index===Se)break;pn.hidden||me.unshift(pn.dataset)}return me}(q,et);Vt.push(Il({x:null,y:q.bottom},at));for(let ae=0;ae<Nt.length;ae++){const Se=Nt[ae];for(let me=Se.start;me<=Se.end;me++)w0(dt,Dt[me],Vt)}return new Al({points:dt,options:{}})}(D);if(k==="shape")return!0;const B=function(H){return(H.scale||{}).getPointPositionForValue?function(q){const{scale:et,fill:at}=q,dt=et.options,Nt=et.getLabels().length,Dt=dt.reverse?et.max:et.min,Vt=function(Se,me,we){let je;return je=Se==="start"?we:Se==="end"?me.options.reverse?me.min:me.max:Jt(Se)?Se.value:me.getBaseValue(),je}(at,et,Dt),ae=[];if(dt.grid.circular){const Se=et.getPointPositionForValue(0,Dt);return new Qm({x:Se.x,y:Se.y,radius:et.getDistanceFromCenterForValue(Vt)})}for(let Se=0;Se<Nt;++Se)ae.push(et.getPointPositionForValue(Se,Vt));return ae}(H):function(q){const{scale:et={},fill:at}=q,dt=function(Nt,Dt){let Vt=null;return Nt==="start"?Vt=Dt.bottom:Nt==="end"?Vt=Dt.top:Jt(Nt)?Vt=Dt.getPixelForValue(Nt.value):Dt.getBasePixel&&(Vt=Dt.getBasePixel()),Vt}(at,et);if(re(dt)){const Nt=et.isHorizontal();return{x:Nt?dt:null,y:Nt?null:dt}}return null}(H)}(D);return B instanceof Qm?B:Il(B,O)}function Zc(D,x,k){const O=Fh(x),{line:B,scale:H,axis:q}=x,et=B.options,at=et.fill,dt=et.backgroundColor,{above:Nt=dt,below:Dt=dt}=at||{};O&&B.points.length&&(fs(D,k),function(Vt,ae){const{line:Se,target:me,above:we,below:je,area:pn,scale:dn}=ae,fn=Se._loop?"angle":ae.axis;Vt.save(),fn==="x"&&je!==we&&(ju(Vt,me,pn.top),tv(Vt,{line:Se,target:me,color:we,scale:dn,property:fn}),Vt.restore(),Vt.save(),ju(Vt,me,pn.bottom)),tv(Vt,{line:Se,target:me,color:je,scale:dn,property:fn}),Vt.restore()}(D,{line:B,target:O,above:Nt,below:Dt,area:k,scale:H,axis:q}),Tr(D))}function ju(D,x,k){const{segments:O,points:B}=x;let H=!0,q=!1;D.beginPath();for(const et of O){const{start:at,end:dt}=et,Nt=B[at],Dt=B[rg(at,dt,B)];H?(D.moveTo(Nt.x,Nt.y),H=!1):(D.lineTo(Nt.x,k),D.lineTo(Nt.x,Nt.y)),q=!!x.pathSegment(D,et,{move:q}),q?D.closePath():D.lineTo(Dt.x,k)}D.lineTo(x.first().x,k),D.closePath(),D.clip()}function tv(D,x){const{line:k,target:O,property:B,color:H,scale:q}=x,et=function(at,dt,Nt){const Dt=at.segments,Vt=at.points,ae=dt.points,Se=[];for(const me of Dt){let{start:we,end:je}=me;je=rg(we,je,Vt);const pn=Fo(Nt,Vt[we],Vt[je],me.loop);if(!dt.segments){Se.push({source:me,target:pn,start:Vt[we],end:Vt[je]});continue}const dn=Jd(dt,pn);for(const fn of dn){const An=Fo(Nt,ae[fn.start],ae[fn.end],fn.loop),Nn=Kd(me,Vt,An);for(const oi of Nn)Se.push({source:oi,target:fn,start:{[Nt]:zh(pn,An,"start",Math.max)},end:{[Nt]:zh(pn,An,"end",Math.min)}})}}return Se}(k,O,B);for(const{source:at,target:dt,start:Nt,end:Dt}of et){const{style:{backgroundColor:Vt=H}={}}=at,ae=O!==!0;D.save(),D.fillStyle=Vt,Kc(D,q,ae&&Fo(B,Nt,Dt)),D.beginPath();const Se=!!k.pathSegment(D,at);let me;if(ae){Se?D.closePath():og(D,O,Dt,B);const we=!!O.pathSegment(D,dt,{move:Se,reverse:!0});me=Se&&we,me||og(D,O,Nt,B)}D.closePath(),D.fill(me?"evenodd":"nonzero"),D.restore()}}function Kc(D,x,k){const{top:O,bottom:B}=x.chart.chartArea,{property:H,start:q,end:et}=k||{};H==="x"&&(D.beginPath(),D.rect(q,O,et-q,B-O),D.clip())}function og(D,x,k,O){const B=x.interpolate(k,O);B&&D.lineTo(B.x,B.y)}var B1={id:"filler",afterDatasetsUpdate(D,x,k){const O=(D.data.datasets||[]).length,B=[];let H,q,et,at;for(q=0;q<O;++q)H=D.getDatasetMeta(q),et=H.dataset,at=null,et&&et.options&&et instanceof Al&&(at={visible:D.isDatasetVisible(q),index:q,fill:Jm(et,q,O),chart:D,axis:H.controller.options.indexAxis,scale:H.vScale,line:et}),H.$filler=at,B.push(at);for(q=0;q<O;++q)at=B[q],at&&at.fill!==!1&&(at.fill=Km(B,q,k.propagate))},beforeDraw(D,x,k){const O=k.drawTime==="beforeDraw",B=D.getSortedVisibleDatasetMetas(),H=D.chartArea;for(let q=B.length-1;q>=0;--q){const et=B[q].$filler;et&&(et.line.updateControlPoints(H,et.axis),O&&et.fill&&Zc(D.ctx,et,H))}},beforeDatasetsDraw(D,x,k){if(k.drawTime!=="beforeDatasetsDraw")return;const O=D.getSortedVisibleDatasetMetas();for(let B=O.length-1;B>=0;--B){const H=O[B].$filler;pc(H)&&Zc(D.ctx,H,D.chartArea)}},beforeDatasetDraw(D,x,k){const O=x.meta.$filler;pc(O)&&k.drawTime==="beforeDatasetDraw"&&Zc(D.ctx,O,D.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bp=(D,x)=>{let{boxHeight:k=x,boxWidth:O=x}=D;return D.usePointStyle&&(k=Math.min(k,x),O=D.pointStyleWidth||Math.min(O,x)),{boxWidth:O,boxHeight:k,itemHeight:Math.max(x,k)}};class _0 extends Za{constructor(x){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=x.chart,this.options=x.options,this.ctx=x.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(x,k,O){this.maxWidth=x,this.maxHeight=k,this._margins=O,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const x=this.options.labels||{};let k=gt(x.generateLabels,[this.chart],this)||[];x.filter&&(k=k.filter(O=>x.filter(O,this.chart.data))),x.sort&&(k=k.sort((O,B)=>x.sort(O,B,this.chart.data))),this.options.reverse&&k.reverse(),this.legendItems=k}fit(){const{options:x,ctx:k}=this;if(!x.display)return void(this.width=this.height=0);const O=x.labels,B=Ir(O.font),H=B.size,q=this._computeTitleHeight(),{boxWidth:et,itemHeight:at}=bp(O,H);let dt,Nt;k.font=B.string,this.isHorizontal()?(dt=this.maxWidth,Nt=this._fitRows(q,H,et,at)+10):(Nt=this.maxHeight,dt=this._fitCols(q,B,et,at)+10),this.width=Math.min(dt,x.maxWidth||this.maxWidth),this.height=Math.min(Nt,x.maxHeight||this.maxHeight)}_fitRows(x,k,O,B){const{ctx:H,maxWidth:q,options:{labels:{padding:et}}}=this,at=this.legendHitBoxes=[],dt=this.lineWidths=[0],Nt=B+et;let Dt=x;H.textAlign="left",H.textBaseline="middle";let Vt=-1,ae=-Nt;return this.legendItems.forEach((Se,me)=>{const we=O+k/2+H.measureText(Se.text).width;(me===0||dt[dt.length-1]+we+2*et>q)&&(Dt+=Nt,dt[dt.length-(me>0?0:1)]=0,ae+=Nt,Vt++),at[me]={left:0,top:ae,row:Vt,width:we,height:B},dt[dt.length-1]+=we+et}),Dt}_fitCols(x,k,O,B){const{ctx:H,maxHeight:q,options:{labels:{padding:et}}}=this,at=this.legendHitBoxes=[],dt=this.columnSizes=[],Nt=q-x;let Dt=et,Vt=0,ae=0,Se=0,me=0;return this.legendItems.forEach((we,je)=>{const{itemWidth:pn,itemHeight:dn}=function(fn,An,Nn,oi,ci){const hi=function(zi,Li,Mi,vi){let Ci=zi.text;return Ci&&typeof Ci!="string"&&(Ci=Ci.reduce((tn,Ti)=>tn.length>Ti.length?tn:Ti)),Li+Mi.size/2+vi.measureText(Ci).width}(oi,fn,An,Nn),gi=function(zi,Li,Mi){let vi=zi;return typeof Li.text!="string"&&(vi=Jc(Li,Mi)),vi}(ci,oi,An.lineHeight);return{itemWidth:hi,itemHeight:gi}}(O,k,H,we,B);je>0&&ae+dn+2*et>Nt&&(Dt+=Vt+et,dt.push({width:Vt,height:ae}),Se+=Vt+et,me++,Vt=ae=0),at[je]={left:Se,top:ae,col:me,width:pn,height:dn},Vt=Math.max(Vt,pn),ae+=dn+et}),Dt+=Vt,dt.push({width:Vt,height:ae}),Dt}adjustHitBoxes(){if(!this.options.display)return;const x=this._computeTitleHeight(),{legendHitBoxes:k,options:{align:O,labels:{padding:B},rtl:H}}=this,q=Ql(H,this.left,this.width);if(this.isHorizontal()){let et=0,at=Fe(O,this.left+B,this.right-this.lineWidths[et]);for(const dt of k)et!==dt.row&&(et=dt.row,at=Fe(O,this.left+B,this.right-this.lineWidths[et])),dt.top+=this.top+x+B,dt.left=q.leftForLtr(q.x(at),dt.width),at+=dt.width+B}else{let et=0,at=Fe(O,this.top+x+B,this.bottom-this.columnSizes[et].height);for(const dt of k)dt.col!==et&&(et=dt.col,at=Fe(O,this.top+x+B,this.bottom-this.columnSizes[et].height)),dt.top=at,dt.left+=this.left+B,dt.left=q.leftForLtr(q.x(dt.left),dt.width),at+=dt.height+B}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const x=this.ctx;fs(x,this),this._draw(),Tr(x)}}_draw(){const{options:x,columnSizes:k,lineWidths:O,ctx:B}=this,{align:H,labels:q}=x,et=jt.color,at=Ql(x.rtl,this.left,this.width),dt=Ir(q.font),{padding:Nt}=q,Dt=dt.size,Vt=Dt/2;let ae;this.drawTitle(),B.textAlign=at.textAlign("left"),B.textBaseline="middle",B.lineWidth=.5,B.font=dt.string;const{boxWidth:Se,boxHeight:me,itemHeight:we}=bp(q,Dt),je=this.isHorizontal(),pn=this._computeTitleHeight();ae=je?{x:Fe(H,this.left+Nt,this.right-O[0]),y:this.top+Nt+pn,line:0}:{x:this.left+Nt,y:Fe(H,this.top+pn+Nt,this.bottom-k[0].height),line:0},Ro(this.ctx,x.textDirection);const dn=we+Nt;this.legendItems.forEach((fn,An)=>{B.strokeStyle=fn.fontColor,B.fillStyle=fn.fontColor;const Nn=B.measureText(fn.text).width,oi=at.textAlign(fn.textAlign||(fn.textAlign=q.textAlign)),ci=Se+Vt+Nn;let hi=ae.x,gi=ae.y;if(at.setWidth(this.width),je?An>0&&hi+ci+Nt>this.right&&(gi=ae.y+=dn,ae.line++,hi=ae.x=Fe(H,this.left+Nt,this.right-O[ae.line])):An>0&&gi+dn>this.bottom&&(hi=ae.x=hi+k[ae.line].width+Nt,ae.line++,gi=ae.y=Fe(H,this.top+pn+Nt,this.bottom-k[ae.line].height)),function(zi,Li,Mi){if(isNaN(Se)||Se<=0||isNaN(me)||me<0)return;B.save();const vi=Bt(Mi.lineWidth,1);if(B.fillStyle=Bt(Mi.fillStyle,et),B.lineCap=Bt(Mi.lineCap,"butt"),B.lineDashOffset=Bt(Mi.lineDashOffset,0),B.lineJoin=Bt(Mi.lineJoin,"miter"),B.lineWidth=vi,B.strokeStyle=Bt(Mi.strokeStyle,et),B.setLineDash(Bt(Mi.lineDash,[])),q.usePointStyle){const Ci={radius:me*Math.SQRT2/2,pointStyle:Mi.pointStyle,rotation:Mi.rotation,borderWidth:vi},tn=at.xPlus(zi,Se/2);$r(B,Ci,tn,Li+Vt,q.pointStyleWidth&&Se)}else{const Ci=Li+Math.max((Dt-me)/2,0),tn=at.leftForLtr(zi,Se),Ti=Xo(Mi.borderRadius);B.beginPath(),Object.values(Ti).some(Pr=>Pr!==0)?_h(B,{x:tn,y:Ci,w:Se,h:me,radius:Ti}):B.rect(tn,Ci,Se,me),B.fill(),vi!==0&&B.stroke()}B.restore()}(at.x(hi),gi,fn),hi=Qn(oi,hi+Se+Vt,je?hi+ci:this.right,x.rtl),function(zi,Li,Mi){Po(B,Mi.text,zi,Li+we/2,dt,{strikethrough:Mi.hidden,textAlign:at.textAlign(Mi.textAlign)})}(at.x(hi),gi,fn),je)ae.x+=ci+Nt;else if(typeof fn.text!="string"){const zi=dt.lineHeight;ae.y+=Jc(fn,zi)}else ae.y+=dn}),Ah(this.ctx,x.textDirection)}drawTitle(){const x=this.options,k=x.title,O=Ir(k.font),B=Qo(k.padding);if(!k.display)return;const H=Ql(x.rtl,this.left,this.width),q=this.ctx,et=k.position,at=O.size/2,dt=B.top+at;let Nt,Dt=this.left,Vt=this.width;if(this.isHorizontal())Vt=Math.max(...this.lineWidths),Nt=this.top+dt,Dt=Fe(x.align,Dt,this.right-Vt);else{const Se=this.columnSizes.reduce((me,we)=>Math.max(me,we.height),0);Nt=dt+Fe(x.align,this.top,this.bottom-Se-x.labels.padding-this._computeTitleHeight())}const ae=Fe(et,Dt,Dt+Vt);q.textAlign=H.textAlign(Ne(et)),q.textBaseline="middle",q.strokeStyle=k.color,q.fillStyle=k.color,q.font=O.string,Po(q,k.text,ae,Nt,O)}_computeTitleHeight(){const x=this.options.title,k=Ir(x.font),O=Qo(x.padding);return x.display?k.lineHeight+O.height:0}_getLegendItemAt(x,k){let O,B,H;if(Un(x,this.left,this.right)&&Un(k,this.top,this.bottom)){for(H=this.legendHitBoxes,O=0;O<H.length;++O)if(B=H[O],Un(x,B.left,B.left+B.width)&&Un(k,B.top,B.top+B.height))return this.legendItems[O]}return null}handleEvent(x){const k=this.options;if(!function(q,et){return!!((q==="mousemove"||q==="mouseout")&&(et.onHover||et.onLeave)||et.onClick&&(q==="click"||q==="mouseup"))}(x.type,k))return;const O=this._getLegendItemAt(x.x,x.y);if(x.type==="mousemove"||x.type==="mouseout"){const q=this._hoveredItem,et=(H=O,(B=q)!==null&&H!==null&&B.datasetIndex===H.datasetIndex&&B.index===H.index);q&&!et&&gt(k.onLeave,[x,q,this],this),this._hoveredItem=O,O&&!et&&gt(k.onHover,[x,O,this],this)}else O&&gt(k.onClick,[x,O,this],this);var B,H}}function Jc(D,x){return x*(D.text?D.text.length+.5:0)}var S0={id:"legend",_element:_0,start(D,x,k){const O=D.legend=new _0({ctx:D.ctx,options:k,chart:D});ta.configure(D,O,k),ta.addBox(D,O)},stop(D){ta.removeBox(D,D.legend),delete D.legend},beforeUpdate(D,x,k){const O=D.legend;ta.configure(D,O,k),O.options=k},afterUpdate(D){const x=D.legend;x.buildLabels(),x.adjustHitBoxes()},afterEvent(D,x){x.replay||D.legend.handleEvent(x.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(D,x,k){const O=x.datasetIndex,B=k.chart;B.isDatasetVisible(O)?(B.hide(O),x.hidden=!0):(B.show(O),x.hidden=!1)},onHover:null,onLeave:null,labels:{color:D=>D.chart.options.color,boxWidth:40,padding:10,generateLabels(D){const x=D.data.datasets,{labels:{usePointStyle:k,pointStyle:O,textAlign:B,color:H,useBorderRadius:q,borderRadius:et}}=D.legend.options;return D._getSortedDatasetMetas().map(at=>{const dt=at.controller.getStyle(k?0:void 0),Nt=Qo(dt.borderWidth);return{text:x[at.index].label,fillStyle:dt.backgroundColor,fontColor:H,hidden:!at.visible,lineCap:dt.borderCapStyle,lineDash:dt.borderDash,lineDashOffset:dt.borderDashOffset,lineJoin:dt.borderJoinStyle,lineWidth:(Nt.width+Nt.height)/4,strokeStyle:dt.borderColor,pointStyle:O||dt.pointStyle,rotation:dt.rotation,textAlign:B||dt.textAlign,borderRadius:q&&(et||dt.borderRadius),datasetIndex:at.index}},this)}},title:{color:D=>D.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:D=>!D.startsWith("on"),labels:{_scriptable:D=>!["generateLabels","filter","sort"].includes(D)}}};class Qc extends Za{constructor(x){super(),this.chart=x.chart,this.options=x.options,this.ctx=x.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(x,k){const O=this.options;if(this.left=0,this.top=0,!O.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=x,this.height=this.bottom=k;const B=ke(O.text)?O.text.length:1;this._padding=Qo(O.padding);const H=B*Ir(O.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=H:this.width=H}isHorizontal(){const x=this.options.position;return x==="top"||x==="bottom"}_drawArgs(x){const{top:k,left:O,bottom:B,right:H,options:q}=this,et=q.align;let at,dt,Nt,Dt=0;return this.isHorizontal()?(dt=Fe(et,O,H),Nt=k+x,at=H-O):(q.position==="left"?(dt=O+x,Nt=Fe(et,B,k),Dt=-.5*Le):(dt=H-x,Nt=Fe(et,k,B),Dt=.5*Le),at=B-k),{titleX:dt,titleY:Nt,maxWidth:at,rotation:Dt}}draw(){const x=this.ctx,k=this.options;if(!k.display)return;const O=Ir(k.font),B=O.lineHeight/2+this._padding.top,{titleX:H,titleY:q,maxWidth:et,rotation:at}=this._drawArgs(B);Po(x,k.text,0,0,O,{color:k.color,maxWidth:et,rotation:at,textAlign:Ne(k.align),textBaseline:"middle",translation:[H,q]})}}var ev={id:"title",_element:Qc,start(D,x,k){(function(O,B){const H=new Qc({ctx:O.ctx,options:B,chart:O});ta.configure(O,H,B),ta.addBox(O,H),O.titleBlock=H})(D,k)},stop(D){const x=D.titleBlock;ta.removeBox(D,x),delete D.titleBlock},beforeUpdate(D,x,k){const O=D.titleBlock;ta.configure(D,O,k),O.options=k},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yu=new WeakMap;var kr={id:"subtitle",start(D,x,k){const O=new Qc({ctx:D.ctx,options:k,chart:D});ta.configure(D,O,k),ta.addBox(D,O),Yu.set(D,O)},stop(D){ta.removeBox(D,Yu.get(D)),Yu.delete(D)},beforeUpdate(D,x,k){const O=Yu.get(D);ta.configure(D,O,k),O.options=k},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tu={average(D){if(!D.length)return!1;let x,k,O=0,B=0,H=0;for(x=0,k=D.length;x<k;++x){const q=D[x].element;if(q&&q.hasValue()){const et=q.tooltipPosition();O+=et.x,B+=et.y,++H}}return{x:O/H,y:B/H}},nearest(D,x){if(!D.length)return!1;let k,O,B,H=x.x,q=x.y,et=Number.POSITIVE_INFINITY;for(k=0,O=D.length;k<O;++k){const at=D[k].element;if(at&&at.hasValue()){const dt=fi(x,at.getCenterPoint());dt<et&&(et=dt,B=at)}}if(B){const at=B.tooltipPosition();H=at.x,q=at.y}return{x:H,y:q}}};function $o(D,x){return x&&(ke(x)?Array.prototype.push.apply(D,x):D.push(x)),D}function no(D){return(typeof D=="string"||D instanceof String)&&D.indexOf(`
`)>-1?D.split(`
`):D}function _a(D,x){const{element:k,datasetIndex:O,index:B}=x,H=D.getDatasetMeta(O).controller,{label:q,value:et}=H.getLabelAndValue(B);return{chart:D,label:q,parsed:H.getParsed(B),raw:D.data.datasets[O].data[B],formattedValue:et,dataset:H.getDataset(),dataIndex:B,datasetIndex:O,element:k}}function Vh(D,x){const k=D.chart.ctx,{body:O,footer:B,title:H}=D,{boxWidth:q,boxHeight:et}=x,at=Ir(x.bodyFont),dt=Ir(x.titleFont),Nt=Ir(x.footerFont),Dt=H.length,Vt=B.length,ae=O.length,Se=Qo(x.padding);let me=Se.height,we=0,je=O.reduce((fn,An)=>fn+An.before.length+An.lines.length+An.after.length,0);je+=D.beforeBody.length+D.afterBody.length,Dt&&(me+=Dt*dt.lineHeight+(Dt-1)*x.titleSpacing+x.titleMarginBottom),je&&(me+=ae*(x.displayColors?Math.max(et,at.lineHeight):at.lineHeight)+(je-ae)*at.lineHeight+(je-1)*x.bodySpacing),Vt&&(me+=x.footerMarginTop+Vt*Nt.lineHeight+(Vt-1)*x.footerSpacing);let pn=0;const dn=function(fn){we=Math.max(we,k.measureText(fn).width+pn)};return k.save(),k.font=dt.string,ft(D.title,dn),k.font=at.string,ft(D.beforeBody.concat(D.afterBody),dn),pn=x.displayColors?q+2+x.boxPadding:0,ft(O,fn=>{ft(fn.before,dn),ft(fn.lines,dn),ft(fn.after,dn)}),pn=0,k.font=Nt.string,ft(D.footer,dn),k.restore(),we+=Se.width,{width:we,height:me}}function ag(D,x,k,O){const{x:B,width:H}=k,{width:q,chartArea:{left:et,right:at}}=D;let dt="center";return O==="center"?dt=B<=(et+at)/2?"left":"right":B<=H/2?dt="left":B>=q-H/2&&(dt="right"),function(Nt,Dt,Vt,ae){const{x:Se,width:me}=ae,we=Vt.caretSize+Vt.caretPadding;return Nt==="left"&&Se+me+we>Dt.width||Nt==="right"&&Se-me-we<0||void 0}(dt,D,x,k)&&(dt="center"),dt}function mo(D,x,k){const O=k.yAlign||x.yAlign||function(B,H){const{y:q,height:et}=H;return q<et/2?"top":q>B.height-et/2?"bottom":"center"}(D,k);return{xAlign:k.xAlign||x.xAlign||ag(D,x,k,O),yAlign:O}}function Zr(D,x,k,O){const{caretSize:B,caretPadding:H,cornerRadius:q}=D,{xAlign:et,yAlign:at}=k,dt=B+H,{topLeft:Nt,topRight:Dt,bottomLeft:Vt,bottomRight:ae}=Xo(q);let Se=function(we,je){let{x:pn,width:dn}=we;return je==="right"?pn-=dn:je==="center"&&(pn-=dn/2),pn}(x,et);const me=function(we,je,pn){let{y:dn,height:fn}=we;return je==="top"?dn+=pn:dn-=je==="bottom"?fn+pn:fn/2,dn}(x,at,dt);return at==="center"?et==="left"?Se+=dt:et==="right"&&(Se-=dt):et==="left"?Se-=Math.max(Nt,Vt)+B:et==="right"&&(Se+=Math.max(Dt,ae)+B),{x:wn(Se,0,O.width-x.width),y:wn(me,0,O.height-x.height)}}function Hh(D,x,k){const O=Qo(k.padding);return x==="center"?D.x+D.width/2:x==="right"?D.x+D.width-O.right:D.x+O.left}function rl(D){return $o([],no(D))}function ol(D,x){const k=x&&x.dataset&&x.dataset.tooltip&&x.dataset.tooltip.callbacks;return k?D.override(k):D}const Gu={beforeTitle:Wt,title(D){if(D.length>0){const x=D[0],k=x.chart.data.labels,O=k?k.length:0;if(this&&this.options&&this.options.mode==="dataset")return x.dataset.label||"";if(x.label)return x.label;if(O>0&&x.dataIndex<O)return k[x.dataIndex]}return""},afterTitle:Wt,beforeBody:Wt,beforeLabel:Wt,label(D){if(this&&this.options&&this.options.mode==="dataset")return D.label+": "+D.formattedValue||D.formattedValue;let x=D.dataset.label||"";x&&(x+=": ");const k=D.formattedValue;return qt(k)||(x+=k),x},labelColor(D){const x=D.chart.getDatasetMeta(D.datasetIndex).controller.getStyle(D.dataIndex);return{borderColor:x.borderColor,backgroundColor:x.backgroundColor,borderWidth:x.borderWidth,borderDash:x.borderDash,borderDashOffset:x.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(D){const x=D.chart.getDatasetMeta(D.datasetIndex).controller.getStyle(D.dataIndex);return{pointStyle:x.pointStyle,rotation:x.rotation}},afterLabel:Wt,afterBody:Wt,beforeFooter:Wt,footer:Wt,afterFooter:Wt};function Vo(D,x,k,O){const B=D[x].call(k,O);return B===void 0?Gu[x].call(k,O):B}class Vs extends Za{constructor(x){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=x.chart,this.options=x.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(x){this.options=x,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const x=this._cachedAnimations;if(x)return x;const k=this.chart,O=this.options.setContext(this.getContext()),B=O.enabled&&k.options.animation&&O.animations,H=new wo(this.chart,B);return B._cacheable&&(this._cachedAnimations=Object.freeze(H)),H}getContext(){return this.$context||(this.$context=(x=this.chart.getContext(),k=this,O=this._tooltipItems,Xa(x,{tooltip:k,tooltipItems:O,type:"tooltip"})));var x,k,O}getTitle(x,k){const{callbacks:O}=k,B=Vo(O,"beforeTitle",this,x),H=Vo(O,"title",this,x),q=Vo(O,"afterTitle",this,x);let et=[];return et=$o(et,no(B)),et=$o(et,no(H)),et=$o(et,no(q)),et}getBeforeBody(x,k){return rl(Vo(k.callbacks,"beforeBody",this,x))}getBody(x,k){const{callbacks:O}=k,B=[];return ft(x,H=>{const q={before:[],lines:[],after:[]},et=ol(O,H);$o(q.before,no(Vo(et,"beforeLabel",this,H))),$o(q.lines,Vo(et,"label",this,H)),$o(q.after,no(Vo(et,"afterLabel",this,H))),B.push(q)}),B}getAfterBody(x,k){return rl(Vo(k.callbacks,"afterBody",this,x))}getFooter(x,k){const{callbacks:O}=k,B=Vo(O,"beforeFooter",this,x),H=Vo(O,"footer",this,x),q=Vo(O,"afterFooter",this,x);let et=[];return et=$o(et,no(B)),et=$o(et,no(H)),et=$o(et,no(q)),et}_createItems(x){const k=this._active,O=this.chart.data,B=[],H=[],q=[];let et,at,dt=[];for(et=0,at=k.length;et<at;++et)dt.push(_a(this.chart,k[et]));return x.filter&&(dt=dt.filter((Nt,Dt,Vt)=>x.filter(Nt,Dt,Vt,O))),x.itemSort&&(dt=dt.sort((Nt,Dt)=>x.itemSort(Nt,Dt,O))),ft(dt,Nt=>{const Dt=ol(x.callbacks,Nt);B.push(Vo(Dt,"labelColor",this,Nt)),H.push(Vo(Dt,"labelPointStyle",this,Nt)),q.push(Vo(Dt,"labelTextColor",this,Nt))}),this.labelColors=B,this.labelPointStyles=H,this.labelTextColors=q,this.dataPoints=dt,dt}update(x,k){const O=this.options.setContext(this.getContext()),B=this._active;let H,q=[];if(B.length){const et=tu[O.position].call(this,B,this._eventPosition);q=this._createItems(O),this.title=this.getTitle(q,O),this.beforeBody=this.getBeforeBody(q,O),this.body=this.getBody(q,O),this.afterBody=this.getAfterBody(q,O),this.footer=this.getFooter(q,O);const at=this._size=Vh(this,O),dt=Object.assign({},et,at),Nt=mo(this.chart,O,dt),Dt=Zr(O,dt,Nt,this.chart);this.xAlign=Nt.xAlign,this.yAlign=Nt.yAlign,H={opacity:1,x:Dt.x,y:Dt.y,width:at.width,height:at.height,caretX:et.x,caretY:et.y}}else this.opacity!==0&&(H={opacity:0});this._tooltipItems=q,this.$context=void 0,H&&this._resolveAnimations().update(this,H),x&&O.external&&O.external.call(this,{chart:this.chart,tooltip:this,replay:k})}drawCaret(x,k,O,B){const H=this.getCaretPosition(x,O,B);k.lineTo(H.x1,H.y1),k.lineTo(H.x2,H.y2),k.lineTo(H.x3,H.y3)}getCaretPosition(x,k,O){const{xAlign:B,yAlign:H}=this,{caretSize:q,cornerRadius:et}=O,{topLeft:at,topRight:dt,bottomLeft:Nt,bottomRight:Dt}=Xo(et),{x:Vt,y:ae}=x,{width:Se,height:me}=k;let we,je,pn,dn,fn,An;return H==="center"?(fn=ae+me/2,B==="left"?(we=Vt,je=we-q,dn=fn+q,An=fn-q):(we=Vt+Se,je=we+q,dn=fn-q,An=fn+q),pn=we):(je=B==="left"?Vt+Math.max(at,Nt)+q:B==="right"?Vt+Se-Math.max(dt,Dt)-q:this.caretX,H==="top"?(dn=ae,fn=dn-q,we=je-q,pn=je+q):(dn=ae+me,fn=dn+q,we=je+q,pn=je-q),An=dn),{x1:we,x2:je,x3:pn,y1:dn,y2:fn,y3:An}}drawTitle(x,k,O){const B=this.title,H=B.length;let q,et,at;if(H){const dt=Ql(O.rtl,this.x,this.width);for(x.x=Hh(this,O.titleAlign,O),k.textAlign=dt.textAlign(O.titleAlign),k.textBaseline="middle",q=Ir(O.titleFont),et=O.titleSpacing,k.fillStyle=O.titleColor,k.font=q.string,at=0;at<H;++at)k.fillText(B[at],dt.x(x.x),x.y+q.lineHeight/2),x.y+=q.lineHeight+et,at+1===H&&(x.y+=O.titleMarginBottom-et)}}_drawColorBox(x,k,O,B,H){const q=this.labelColors[O],et=this.labelPointStyles[O],{boxHeight:at,boxWidth:dt,boxPadding:Nt}=H,Dt=Ir(H.bodyFont),Vt=Hh(this,"left",H),ae=B.x(Vt),Se=at<Dt.lineHeight?(Dt.lineHeight-at)/2:0,me=k.y+Se;if(H.usePointStyle){const we={radius:Math.min(dt,at)/2,pointStyle:et.pointStyle,rotation:et.rotation,borderWidth:1},je=B.leftForLtr(ae,dt)+dt/2,pn=me+at/2;x.strokeStyle=H.multiKeyBackground,x.fillStyle=H.multiKeyBackground,Mn(x,we,je,pn),x.strokeStyle=q.borderColor,x.fillStyle=q.backgroundColor,Mn(x,we,je,pn)}else{x.lineWidth=Jt(q.borderWidth)?Math.max(...Object.values(q.borderWidth)):q.borderWidth||1,x.strokeStyle=q.borderColor,x.setLineDash(q.borderDash||[]),x.lineDashOffset=q.borderDashOffset||0;const we=B.leftForLtr(ae,dt-Nt),je=B.leftForLtr(B.xPlus(ae,1),dt-Nt-2),pn=Xo(q.borderRadius);Object.values(pn).some(dn=>dn!==0)?(x.beginPath(),x.fillStyle=H.multiKeyBackground,_h(x,{x:we,y:me,w:dt,h:at,radius:pn}),x.fill(),x.stroke(),x.fillStyle=q.backgroundColor,x.beginPath(),_h(x,{x:je,y:me+1,w:dt-2,h:at-2,radius:pn}),x.fill()):(x.fillStyle=H.multiKeyBackground,x.fillRect(we,me,dt,at),x.strokeRect(we,me,dt,at),x.fillStyle=q.backgroundColor,x.fillRect(je,me+1,dt-2,at-2))}x.fillStyle=this.labelTextColors[O]}drawBody(x,k,O){const{body:B}=this,{bodySpacing:H,bodyAlign:q,displayColors:et,boxHeight:at,boxWidth:dt,boxPadding:Nt}=O,Dt=Ir(O.bodyFont);let Vt=Dt.lineHeight,ae=0;const Se=Ql(O.rtl,this.x,this.width),me=function(ci){k.fillText(ci,Se.x(x.x+ae),x.y+Vt/2),x.y+=Vt+H},we=Se.textAlign(q);let je,pn,dn,fn,An,Nn,oi;for(k.textAlign=q,k.textBaseline="middle",k.font=Dt.string,x.x=Hh(this,we,O),k.fillStyle=O.bodyColor,ft(this.beforeBody,me),ae=et&&we!=="right"?q==="center"?dt/2+Nt:dt+2+Nt:0,fn=0,Nn=B.length;fn<Nn;++fn){for(je=B[fn],pn=this.labelTextColors[fn],k.fillStyle=pn,ft(je.before,me),dn=je.lines,et&&dn.length&&(this._drawColorBox(k,x,fn,Se,O),Vt=Math.max(Dt.lineHeight,at)),An=0,oi=dn.length;An<oi;++An)me(dn[An]),Vt=Dt.lineHeight;ft(je.after,me)}ae=0,Vt=Dt.lineHeight,ft(this.afterBody,me),x.y-=H}drawFooter(x,k,O){const B=this.footer,H=B.length;let q,et;if(H){const at=Ql(O.rtl,this.x,this.width);for(x.x=Hh(this,O.footerAlign,O),x.y+=O.footerMarginTop,k.textAlign=at.textAlign(O.footerAlign),k.textBaseline="middle",q=Ir(O.footerFont),k.fillStyle=O.footerColor,k.font=q.string,et=0;et<H;++et)k.fillText(B[et],at.x(x.x),x.y+q.lineHeight/2),x.y+=q.lineHeight+O.footerSpacing}}drawBackground(x,k,O,B){const{xAlign:H,yAlign:q}=this,{x:et,y:at}=x,{width:dt,height:Nt}=O,{topLeft:Dt,topRight:Vt,bottomLeft:ae,bottomRight:Se}=Xo(B.cornerRadius);k.fillStyle=B.backgroundColor,k.strokeStyle=B.borderColor,k.lineWidth=B.borderWidth,k.beginPath(),k.moveTo(et+Dt,at),q==="top"&&this.drawCaret(x,k,O,B),k.lineTo(et+dt-Vt,at),k.quadraticCurveTo(et+dt,at,et+dt,at+Vt),q==="center"&&H==="right"&&this.drawCaret(x,k,O,B),k.lineTo(et+dt,at+Nt-Se),k.quadraticCurveTo(et+dt,at+Nt,et+dt-Se,at+Nt),q==="bottom"&&this.drawCaret(x,k,O,B),k.lineTo(et+ae,at+Nt),k.quadraticCurveTo(et,at+Nt,et,at+Nt-ae),q==="center"&&H==="left"&&this.drawCaret(x,k,O,B),k.lineTo(et,at+Dt),k.quadraticCurveTo(et,at,et+Dt,at),k.closePath(),k.fill(),B.borderWidth>0&&k.stroke()}_updateAnimationTarget(x){const k=this.chart,O=this.$animations,B=O&&O.x,H=O&&O.y;if(B||H){const q=tu[x.position].call(this,this._active,this._eventPosition);if(!q)return;const et=this._size=Vh(this,x),at=Object.assign({},q,this._size),dt=mo(k,x,at),Nt=Zr(x,at,dt,k);B._to===Nt.x&&H._to===Nt.y||(this.xAlign=dt.xAlign,this.yAlign=dt.yAlign,this.width=et.width,this.height=et.height,this.caretX=q.x,this.caretY=q.y,this._resolveAnimations().update(this,Nt))}}_willRender(){return!!this.opacity}draw(x){const k=this.options.setContext(this.getContext());let O=this.opacity;if(!O)return;this._updateAnimationTarget(k);const B={width:this.width,height:this.height},H={x:this.x,y:this.y};O=Math.abs(O)<.001?0:O;const q=Qo(k.padding),et=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;k.enabled&&et&&(x.save(),x.globalAlpha=O,this.drawBackground(H,x,B,k),Ro(x,k.textDirection),H.y+=q.top,this.drawTitle(H,x,k),this.drawBody(H,x,k),this.drawFooter(H,x,k),Ah(x,k.textDirection),x.restore())}getActiveElements(){return this._active||[]}setActiveElements(x,k){const O=this._active,B=x.map(({datasetIndex:et,index:at})=>{const dt=this.chart.getDatasetMeta(et);if(!dt)throw new Error("Cannot find a dataset at index "+et);return{datasetIndex:et,element:dt.data[at],index:at}}),H=!It(O,B),q=this._positionChanged(B,k);(H||q)&&(this._active=B,this._eventPosition=k,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(x,k,O=!0){if(k&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const B=this.options,H=this._active||[],q=this._getActiveElements(x,H,k,O),et=this._positionChanged(q,x),at=k||!It(q,H)||et;return at&&(this._active=q,(B.enabled||B.external)&&(this._eventPosition={x:x.x,y:x.y},this.update(!0,k))),at}_getActiveElements(x,k,O,B){const H=this.options;if(x.type==="mouseout")return[];if(!B)return k;const q=this.chart.getElementsAtEventForMode(x,H.mode,H,O);return H.reverse&&q.reverse(),q}_positionChanged(x,k){const{caretX:O,caretY:B,options:H}=this,q=tu[H.position].call(this,x,k);return q!==!1&&(O!==q.x||B!==q.y)}}qi(Vs,"positioners",tu);var fc={id:"tooltip",_element:Vs,positioners:tu,afterInit(D,x,k){k&&(D.tooltip=new Vs({chart:D,options:k}))},beforeUpdate(D,x,k){D.tooltip&&D.tooltip.initialize(k)},reset(D,x,k){D.tooltip&&D.tooltip.initialize(k)},afterDraw(D){const x=D.tooltip;if(x&&x._willRender()){const k={tooltip:x};if(D.notifyPlugins("beforeTooltipDraw",{...k,cancelable:!0})===!1)return;x.draw(D.ctx),D.notifyPlugins("afterTooltipDraw",k)}},afterEvent(D,x){if(D.tooltip){const k=x.replay;D.tooltip.handleEvent(x.event,k,x.inChartArea)&&(x.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(D,x)=>x.bodyFont.size,boxWidth:(D,x)=>x.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Gu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:D=>D!=="filter"&&D!=="itemSort"&&D!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return Wr.register(Yc,Zm,Bu,Ve),Wr.helpers={...Vm},Wr._adapters=cc,Wr.Animation=Xf,Wr.Animations=wo,Wr.animator=Ln,Wr.controllers=na.controllers.items,Wr.DatasetController=Dn,Wr.Element=Za,Wr.elements=Bu,Wr.Interaction=qa,Wr.layouts=ta,Wr.platforms=Ua,Wr.Scale=nl,Wr.Ticks=ue,Object.assign(Wr,Yc,Zm,Bu,Ve,Ua),Wr.Chart=Wr,typeof window<"u"&&(window.Chart=Wr),Wr});(function(Ve,Wt){typeof bh=="object"&&typeof Xl<"u"?Wt(bh):typeof define=="function"&&define.amd?define(["exports"],Wt):Wt((Ve=typeof globalThis<"u"?globalThis:Ve||self).echarts={})})(globalThis,function(Ve){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Wt=function(n,e){return Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},Wt(n,e)};function wt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Wt(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var qt=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},ke=new function(){this.browser=new qt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(ke.wxa=!0,ke.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?ke.worker=!0:typeof navigator>"u"?(ke.node=!0,ke.svgSupported=!0):function(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),o&&(t.edge=!0,t.version=o[1],t.newEdge=+o[1].split(".")[0]>18),a&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,ke);var Jt="sans-serif",re="12px sans-serif",Zt,Bt,yt=function(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var i=String.fromCharCode(t+32),r=(n.charCodeAt(t)-20)/100;e[i]=r}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),pt={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(n,e){if(!Zt){var t=pt.createCanvas();Zt=t&&t.getContext("2d")}if(Zt)return Bt!==e&&(Bt=Zt.font=e||re),Zt.measureText(n);n=n||"";var i=/(\d+)px/.exec(e=e||re),r=i&&+i[1]||12,o=0;if(e.indexOf("mono")>=0)o=r*n.length;else for(var a=0;a<n.length;a++){var l=yt[n[a]];o+=l==null?r:l*r}return{width:o}},loadImage:function(n,e,t){var i=new Image;return i.onload=e,i.onerror=t,i.src=n,i}};function gt(n){for(var e in pt)n[e]&&(pt[e]=n[e])}var ft=cn(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),It=cn(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),Mt=Object.prototype.toString,Ct=Array.prototype,ct=Ct.forEach,te=Ct.filter,At=Ct.slice,Ft=Ct.map,Kt=function(){}.constructor,se=Kt?Kt.prototype:null,Me="__proto__",fe=2311;function ne(){return fe++}function Ht(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function Gt(n){if(n==null||typeof n!="object")return n;var e=n,t=Mt.call(n);if(t==="[object Array]"){if(!Ne(n)){e=[];for(var i=0,r=n.length;i<r;i++)e[i]=Gt(n[i])}}else if(It[t]){if(!Ne(n)){var o=n.constructor;if(o.from)e=o.from(n);else for(e=new o(n.length),i=0,r=n.length;i<r;i++)e[i]=n[i]}}else if(!ft[t]&&!Ne(n)&&!wn(n))for(var a in e={},n)n.hasOwnProperty(a)&&a!==Me&&(e[a]=Gt(n[a]));return e}function ie(n,e,t){if(!Zn(e)||!Zn(n))return t?Gt(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==Me){var r=n[i],o=e[i];!Zn(o)||!Zn(r)||he(o)||he(r)||wn(o)||wn(r)||Cr(o)||Cr(r)||Ne(o)||Ne(r)?!t&&i in n||(n[i]=Gt(e[i])):ie(r,o,t)}return n}function Le(n,e){for(var t=n[0],i=1,r=n.length;i<r;i++)t=ie(t,n[i],e);return t}function pe(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==Me&&(n[t]=e[t]);return n}function De(n,e,t){for(var i=Re(e),r=0;r<i.length;r++){var o=i[r];(t?e[o]!=null:n[o]==null)&&(n[o]=e[o])}return n}var Bn=pt.createCanvas;function rn(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function ln(n,e){var t=n.prototype;function i(){}for(var r in i.prototype=e.prototype,n.prototype=new i,t)t.hasOwnProperty(r)&&(n.prototype[r]=t[r]);n.prototype.constructor=n,n.superClass=e}function oe(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];o!=="constructor"&&(t?e[o]!=null:n[o]==null)&&(n[o]=e[o])}else De(n,e,t)}function Oe(n){return!!n&&typeof n!="string"&&typeof n.length=="number"}function U(n,e,t){if(n&&e)if(n.forEach&&n.forEach===ct)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&e.call(t,n[o],o,n)}function ye(n,e,t){if(!n)return[];if(!e)return Tt(n);if(n.map&&n.map===Ft)return n.map(e,t);for(var i=[],r=0,o=n.length;r<o;r++)i.push(e.call(t,n[r],r,n));return i}function cn(n,e,t,i){if(n&&e){for(var r=0,o=n.length;r<o;r++)t=e.call(i,t,n[r],r,n);return t}}function $e(n,e,t){if(!n)return[];if(!e)return Tt(n);if(n.filter&&n.filter===te)return n.filter(e,t);for(var i=[],r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}function We(n,e,t){if(n&&e){for(var i=0,r=n.length;i<r;i++)if(e.call(t,n[i],i,n))return n[i]}}function Re(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}var Be=se&&In(se.bind)?se.call.bind(se.bind):function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(At.call(arguments)))}};function un(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(At.call(arguments)))}}function he(n){return Array.isArray?Array.isArray(n):Mt.call(n)==="[object Array]"}function In(n){return typeof n=="function"}function kn(n){return typeof n=="string"}function Gn(n){return Mt.call(n)==="[object String]"}function fi(n){return typeof n=="number"}function Zn(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function Cr(n){return!!ft[Mt.call(n)]}function Yi(n){return!!It[Mt.call(n)]}function wn(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function zn(n){return n.colorStops!=null}function Un(n){return n.image!=null}function _i(n){return Mt.call(n)==="[object RegExp]"}function ui(n){return n!=n}function Ri(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(n[t]!=null)return n[t]}function Rt(n,e){return n??e}function kt(n,e,t){return n??e??t}function Tt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return At.apply(n,e)}function Ut(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function ve(n,e){if(!n)throw new Error(e)}function Pe(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Te="__ec_primitive__";function Ee(n){n[Te]=!0}function Ne(n){return n[Te]}var Fe=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return Re(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},n}(),Qn=typeof Map=="function",Si=function(){function n(e){var t=he(e);this.data=Qn?new Map:new Fe;var i=this;function r(o,a){t?i.set(o,a):i.set(a,o)}e instanceof n?e.each(r):e&&U(e,r)}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(i,r){e.call(t,i,r)})},n.prototype.keys=function(){var e=this.data.keys();return Qn?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function yn(n){return new Si(n)}function jn(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];var r=n.length;for(i=0;i<e.length;i++)t[i+r]=e[i];return t}function Ln(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&pe(t,e),t}function xi(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function vn(n,e){return n.hasOwnProperty(e)}function En(){}var gn=180/Math.PI,Di=Object.freeze({__proto__:null,guid:ne,logError:Ht,clone:Gt,merge:ie,mergeAll:Le,extend:pe,defaults:De,createCanvas:Bn,indexOf:rn,inherits:ln,mixin:oe,isArrayLike:Oe,each:U,map:ye,reduce:cn,filter:$e,find:We,keys:Re,bind:Be,curry:un,isArray:he,isFunction:In,isString:kn,isStringSafe:Gn,isNumber:fi,isObject:Zn,isBuiltInObject:Cr,isTypedArray:Yi,isDom:wn,isGradientObject:zn,isImagePatternObject:Un,isRegExp:_i,eqNaN:ui,retrieve:Ri,retrieve2:Rt,retrieve3:kt,slice:Tt,normalizeCssArray:Ut,assert:ve,trim:Pe,setAsPrimitive:Ee,isPrimitive:Ne,HashMap:Si,createHashMap:yn,concatArray:jn,createObject:Ln,disableUserSelect:xi,hasOwn:vn,noop:En,RADIAN_TO_DEGREE:gn});function ar(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function Ni(n,e){return n[0]=e[0],n[1]=e[1],n}function Ji(n){return[n[0],n[1]]}function ir(n,e,t){return n[0]=e,n[1]=t,n}function Bi(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function yr(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function mr(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function Oi(n){return Math.sqrt(Jn(n))}var ei=Oi;function Jn(n){return n[0]*n[0]+n[1]*n[1]}var rr=Jn;function mi(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function Hi(n,e){var t=Oi(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function Gi(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var sr=Gi;function ur(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var er=ur;function Jr(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function Or(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n}function $t(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function h(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var d=Object.freeze({__proto__:null,create:ar,copy:Ni,clone:Ji,set:ir,add:Bi,scaleAndAdd:yr,sub:mr,len:Oi,length:ei,lenSquare:Jn,lengthSquare:rr,mul:function(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n},div:function(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n},dot:function(n,e){return n[0]*e[0]+n[1]*e[1]},scale:mi,normalize:Hi,distance:Gi,dist:sr,distanceSquare:ur,distSquare:er,negate:function(n,e){return n[0]=-e[0],n[1]=-e[1],n},lerp:Jr,applyTransform:Or,min:$t,max:h}),y=function(n,e){this.target=n,this.topTarget=e&&e.topTarget},C=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new y(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,t.drift(o,a,e),this.handler.dispatchToElement(new y(t,e),"drag",e.event);var l=this.handler.findHover(i,r,t).target,u=this._dropTarget;this._dropTarget=l,t!==l&&(u&&l!==u&&this.handler.dispatchToElement(new y(u,e),"dragleave",e.event),l&&l!==u&&this.handler.dispatchToElement(new y(l,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new y(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new y(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}(),M=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof t=="function"&&(r=i,i=t,t=null),!i||!e)return this;var a=this._$eventProcessor;t!=null&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),o[e]||(o[e]=[]);for(var l=0;l<o[e].length;l++)if(o[e][l].h===i)return this;var u={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},f=o[e].length-1,g=o[e][f];return g&&g.callAtLast?o[e].splice(f,0,u):o[e].push(u),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],o=0,a=i[e].length;o<a;o++)i[e][o].h!==t&&r.push(i[e][o]);i[e]=r}i[e]&&i[e].length===0&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=t.length,l=r.length,u=0;u<l;u++){var f=r[u];if(!o||!o.filter||f.query==null||o.filter(e,f.query))switch(a){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,t[0]);break;case 2:f.h.call(f.ctx,t[0],t[1]);break;default:f.h.apply(f.ctx,t)}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=t.length,l=t[a-1],u=r.length,f=0;f<u;f++){var g=r[f];if(!o||!o.filter||g.query==null||o.filter(e,g.query))switch(a){case 0:g.h.call(l);break;case 1:g.h.call(l,t[0]);break;case 2:g.h.call(l,t[0],t[1]);break;default:g.h.apply(l,t.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n}(),N=Math.log(2);function P(n,e,t,i,r,o){var a=i+"-"+r,l=n.length;if(o.hasOwnProperty(a))return o[a];if(e===1){var u=Math.round(Math.log((1<<l)-1&~r)/N);return n[t][u]}for(var f=i|1<<t,g=t+1;i&1<<g;)g++;for(var v=0,w=0,_=0;w<l;w++){var A=1<<w;A&r||(v+=(_%2?-1:1)*n[t][w]*P(n,e-1,g,f,r|A,o),_++)}return o[a]=v,v}function V(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},r=P(t,8,0,0,0,i);if(r!==0){for(var o=[],a=0;a<8;a++)for(var l=0;l<8;l++)o[l]==null&&(o[l]=0),o[l]+=((a+l)%2?-1:1)*P(t,7,a===0?1:0,1<<a,1<<l,i)/r*e[a];return function(u,f,g){var v=f*o[6]+g*o[7]+1;u[0]=(f*o[0]+g*o[1]+o[2])/v,u[1]=(f*o[3]+g*o[4]+o[5])/v}}}var G=[];function K(n,e,t,i,r){if(e.getBoundingClientRect&&ke.domSupported&&!J(e)){var o=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),a=function(u,f){var g=f.markers;if(g)return g;g=f.markers=[];for(var v=["left","right"],w=["top","bottom"],_=0;_<4;_++){var A=document.createElement("div"),T=_%2,L=(_>>1)%2;A.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",v[T]+":0",w[L]+":0",v[1-T]+":auto",w[1-L]+":auto",""].join("!important;"),u.appendChild(A),g.push(A)}return g}(e,o),l=function(u,f,g){for(var v=g?"invTrans":"trans",w=f[v],_=f.srcCoords,A=[],T=[],L=!0,R=0;R<4;R++){var z=u[R].getBoundingClientRect(),j=2*R,X=z.left,Z=z.top;A.push(X,Z),L=L&&_&&X===_[j]&&Z===_[j+1],T.push(u[R].offsetLeft,u[R].offsetTop)}return L&&w?w:(f.srcCoords=A,f[v]=g?V(T,A):V(A,T))}(a,o,r);if(l)return l(n,t,i),!0}return!1}function J(n){return n.nodeName.toUpperCase()==="CANVAS"}var rt=/([&<>"'])/g,vt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Lt(n){return n==null?"":(n+"").replace(rt,function(e,t){return vt[t]})}var Et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=[],ue=ke.browser.firefox&&+ke.browser.version.split(".")[0]<39;function Ce(n,e,t,i){return t=t||{},i?de(n,e,t):ue&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):de(n,e,t),t}function de(n,e,t){if(ke.domSupported&&n.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(J(n)){var o=n.getBoundingClientRect();return t.zrX=i-o.left,void(t.zrY=r-o.top)}if(K(Qt,n,i,r))return t.zrX=Qt[0],void(t.zrY=Qt[1])}t.zrX=t.zrY=0}function Y(n){return n||window.event}function ot(n,e,t){if((e=Y(e)).zrX!=null)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];r&&Ce(n,r,e,t)}else{Ce(n,e,e,t);var o=function(l){var u=l.wheelDelta;if(u)return u;var f=l.deltaX,g=l.deltaY;return f==null||g==null?u:3*Math.abs(g!==0?g:f)*(g>0?-1:g<0?1:f>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return e.which==null&&a!==void 0&&Et.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function zt(n,e,t,i){n.addEventListener(e,t,i)}var jt=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function xe(n){return n.which===2||n.which===3}var an=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var o={points:[],touches:[],target:t,event:e},a=0,l=r.length;a<l;a++){var u=r[a],f=Ce(i,u,{});o.points.push([f.zrX,f.zrY]),o.touches.push(u)}this._track.push(o)}},n.prototype._recognize=function(e){for(var t in On)if(On.hasOwnProperty(t)){var i=On[t](this._track,e);if(i)return i}},n}();function Qe(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}var On={pinch:function(n,e){var t=n.length;if(t){var i,r=(n[t-1]||{}).points,o=(n[t-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=Qe(r)/Qe(o);!isFinite(a)&&(a=1),e.pinchScale=a;var l=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:n[0].target,event:e}}}}};function Pn(){return[1,0,0,1,0,0]}function ii(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function ri(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Wi(n,e,t){var i=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],l=e[0]*t[4]+e[2]*t[5]+e[4],u=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=i,n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=u,n}function lr(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function xr(n,e,t){var i=e[0],r=e[2],o=e[4],a=e[1],l=e[3],u=e[5],f=Math.sin(t),g=Math.cos(t);return n[0]=i*g+a*f,n[1]=-i*f+a*g,n[2]=r*g+l*f,n[3]=-r*f+g*l,n[4]=g*o+f*u,n[5]=g*u-f*o,n}function Ar(n,e,t){var i=t[0],r=t[1];return n[0]=e[0]*i,n[1]=e[1]*r,n[2]=e[2]*i,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*r,n}function Er(n,e){var t=e[0],i=e[2],r=e[4],o=e[1],a=e[3],l=e[5],u=t*a-o*i;return u?(u=1/u,n[0]=a*u,n[1]=-o*u,n[2]=-i*u,n[3]=t*u,n[4]=(i*l-a*r)*u,n[5]=(o*r-t*l)*u,n):null}function Qr(n){var e=[1,0,0,1,0,0];return ri(e,n),e}var ha=Object.freeze({__proto__:null,create:Pn,identity:ii,copy:ri,mul:Wi,translate:lr,rotate:xr,scale:Ar,invert:Er,clone:Qr}),ti=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},n.lerp=function(e,t,i,r){var o=1-r;e.x=o*t.x+r*i.x,e.y=o*t.y+r*i.y},n}(),Js=Math.min,xa=Math.max,Wa=new ti,Mn=new ti,$r=new ti,to=new ti,fs=new ti,Tr=new ti,Qi=function(){function n(e,t,i,r){i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=i,this.height=r}return n.prototype.union=function(e){var t=Js(e.x,this.x),i=Js(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=xa(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=xa(e.y+e.height,this.y+this.height)-i:this.height=e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,r=e.height/t.height,o=[1,0,0,1,0,0];return lr(o,o,[-t.x,-t.y]),Ar(o,o,[i,r]),lr(o,o,[e.x,e.y]),o},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,l=i.y+i.height,u=e.x,f=e.x+e.width,g=e.y,v=e.y+e.height,w=!(o<u||f<r||l<g||v<a);if(t){var _=1/0,A=0,T=Math.abs(o-u),L=Math.abs(f-r),R=Math.abs(l-g),z=Math.abs(v-a),j=Math.min(T,L),X=Math.min(R,z);o<u||f<r?j>A&&(A=j,T<L?ti.set(Tr,-T,0):ti.set(Tr,L,0)):j<_&&(_=j,T<L?ti.set(fs,T,0):ti.set(fs,-L,0)),l<g||v<a?X>A&&(A=X,R<z?ti.set(Tr,0,-R):ti.set(Tr,0,z)):j<_&&(_=j,R<z?ti.set(fs,0,R):ti.set(fs,0,-z))}return t&&ti.copy(t,w?fs:Tr),w},n.prototype.contain=function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],l=i[5];return e.x=t.x*r+a,e.y=t.y*o+l,e.width=t.width*r,e.height=t.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Wa.x=$r.x=t.x,Wa.y=to.y=t.y,Mn.x=to.x=t.x+t.width,Mn.y=$r.y=t.y+t.height,Wa.transform(i),to.transform(i),Mn.transform(i),$r.transform(i),e.x=Js(Wa.x,Mn.x,$r.x,to.x),e.y=Js(Wa.y,Mn.y,$r.y,to.y);var u=xa(Wa.x,Mn.x,$r.x,to.x),f=xa(Wa.y,Mn.y,$r.y,to.y);e.width=u-e.x,e.height=f-e.y}else e!==t&&n.copy(e,t)},n}(),wh="silent";function Po(){jt(this.event)}var gs=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return wt(e,n),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(M),Gd=function(n,e){this.x=n,this.y=e},_h=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Rc=new Qi(0,0,0,0),ql=function(n){function e(t,i,r,o,a){var l=n.call(this)||this;return l._hovered=new Gd(0,0),l.storage=t,l.painter=i,l.painterRoot=o,l._pointerSize=a,r=r||new gs,l.proxy=null,l.setHandlerProxy(r),l._draggingMgr=new C(l),l}return wt(e,n),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(U(_h,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,o=Ma(this,i,r),a=this._hovered,l=a.target;l&&!l.__zr&&(l=(a=this.findHover(a.x,a.y)).target);var u=this._hovered=o?new Gd(i,r):this.findHover(i,r),f=u.target,g=this.proxy;g.setCursor&&g.setCursor(f?f.cursor:"default"),l&&f!==l&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(u,"mousemove",t),f&&f!==l&&this.dispatchToElement(u,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Gd(0,0)},e.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,r){var o=(t=t||{}).target;if(!o||!o.silent){for(var a="on"+i,l=function(u,f,g){return{type:u,event:g,target:f.target,topTarget:f.topTarget,cancelBubble:!1,offsetX:g.zrX,offsetY:g.zrY,gestureEvent:g.gestureEvent,pinchX:g.pinchX,pinchY:g.pinchY,pinchScale:g.pinchScale,wheelDelta:g.zrDelta,zrByTouch:g.zrByTouch,which:g.which,stop:Po}}(i,t,r);o&&(o[a]&&(l.cancelBubble=!!o[a].call(o,l)),o.trigger(i,l),o=o.__hostTarget?o.__hostTarget:o.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(i,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[a]=="function"&&u[a].call(u,l),u.trigger&&u.trigger(i,l)}))}},e.prototype.findHover=function(t,i,r){var o=this.storage.getDisplayList(),a=new Gd(t,i);if(Ul(o,a,t,i,r),this._pointerSize&&!a.target){for(var l=[],u=this._pointerSize,f=u/2,g=new Qi(t-f,i-f,u,u),v=o.length-1;v>=0;v--){var w=o[v];w===r||w.ignore||w.ignoreCoarsePointer||w.parent&&w.parent.ignoreCoarsePointer||(Rc.copy(w.getBoundingRect()),w.transform&&Rc.applyTransform(w.transform),Rc.intersect(g)&&l.push(w))}if(l.length){for(var _=Math.PI/12,A=2*Math.PI,T=0;T<f;T+=4)for(var L=0;L<A;L+=_)if(Ul(l,a,t+T*Math.cos(L),i+T*Math.sin(L),r),a.target)return a}}return a},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new an);var r=this._gestureMgr;i==="start"&&r.clear();var o=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(i==="end"&&r.clear(),o){var a=o.type;t.gestureEvent=a;var l=new Gd;l.target=o.target,this.dispatchToElement(l,a,o.event)}},e}(M);function Mo(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,t))return!1;i.silent&&(r=!0)}var l=i.__hostTarget;i=l||i.parent}return!r||wh}return!1}function Ul(n,e,t,i,r){for(var o=n.length-1;o>=0;o--){var a=n[o],l=void 0;if(a!==r&&!a.ignore&&(l=Mo(a,t,i))&&(!e.topTarget&&(e.topTarget=a),l!==wh)){e.target=a;break}}}function Ma(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}U(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){ql.prototype[n]=function(e){var t,i,r=e.zrX,o=e.zrY,a=Ma(this,r,o);if(n==="mouseup"&&a||(i=(t=this.findHover(r,o)).target),n==="mousedown")this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if(n==="mouseup")this._upEl=i;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||sr(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(t,n,e)}});function Qs(n,e,t,i){var r=e+1;if(r===t)return 1;if(i(n[r++],n[e])<0){for(;r<t&&i(n[r],n[r-1])<0;)r++;(function(o,a,l){for(l--;a<l;){var u=o[a];o[a++]=o[l],o[l--]=u}})(n,e,r)}else for(;r<t&&i(n[r],n[r-1])>=0;)r++;return r-e}function Sh(n,e,t,i,r){for(i===e&&i++;i<t;i++){for(var o,a=n[i],l=e,u=i;l<u;)r(a,n[o=l+u>>>1])<0?u=o:l=o+1;var f=i-l;switch(f){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;f>0;)n[l+f]=n[l+f-1],f--}n[l]=a}}function No(n,e,t,i,r,o){var a=0,l=0,u=1;if(o(n,e[t+r])>0){for(l=i-r;u<l&&o(n,e[t+r+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),a+=r,u+=r}else{for(l=r+1;u<l&&o(n,e[t+r-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var f=a;a=r-u,u=r-f}for(a++;a<u;){var g=a+(u-a>>>1);o(n,e[t+g])>0?a=g+1:u=g}return u}function Ff(n,e,t,i,r,o){var a=0,l=0,u=1;if(o(n,e[t+r])<0){for(l=r+1;u<l&&o(n,e[t+r-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var f=a;a=r-u,u=r-f}else{for(l=i-r;u<l&&o(n,e[t+r+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),a+=r,u+=r}for(a++;a<u;){var g=a+(u-a>>>1);o(n,e[t+g])<0?u=g:a=g+1}return u}function Xd(n,e){var t,i,r=7,o=0;n.length;var a=[];function l(u){var f=t[u],g=i[u],v=t[u+1],w=i[u+1];i[u]=g+w,u===o-3&&(t[u+1]=t[u+2],i[u+1]=i[u+2]),o--;var _=Ff(n[v],n,f,g,0,e);f+=_,(g-=_)!==0&&(w=No(n[f+g-1],n,v,w,w-1,e))!==0&&(g<=w?function(A,T,L,R){var z=0;for(z=0;z<T;z++)a[z]=n[A+z];var j=0,X=L,Z=A;if(n[Z++]=n[X++],--R==0){for(z=0;z<T;z++)n[Z+z]=a[j+z];return}if(T===1){for(z=0;z<R;z++)n[Z+z]=n[X+z];return void(n[Z+R]=a[j])}for(var Q,nt,it,mt=r;;){Q=0,nt=0,it=!1;do if(e(n[X],a[j])<0){if(n[Z++]=n[X++],nt++,Q=0,--R==0){it=!0;break}}else if(n[Z++]=a[j++],Q++,nt=0,--T==1){it=!0;break}while((Q|nt)<mt);if(it)break;do{if((Q=Ff(n[X],a,j,T,0,e))!==0){for(z=0;z<Q;z++)n[Z+z]=a[j+z];if(Z+=Q,j+=Q,(T-=Q)<=1){it=!0;break}}if(n[Z++]=n[X++],--R==0){it=!0;break}if((nt=No(a[j],n,X,R,0,e))!==0){for(z=0;z<nt;z++)n[Z+z]=n[X+z];if(Z+=nt,X+=nt,(R-=nt)===0){it=!0;break}}if(n[Z++]=a[j++],--T==1){it=!0;break}mt--}while(Q>=7||nt>=7);if(it)break;mt<0&&(mt=0),mt+=2}if((r=mt)<1&&(r=1),T===1){for(z=0;z<R;z++)n[Z+z]=n[X+z];n[Z+R]=a[j]}else{if(T===0)throw new Error;for(z=0;z<T;z++)n[Z+z]=a[j+z]}}(f,g,v,w):function(A,T,L,R){var z=0;for(z=0;z<R;z++)a[z]=n[L+z];var j=A+T-1,X=R-1,Z=L+R-1,Q=0,nt=0;if(n[Z--]=n[j--],--T==0){for(Q=Z-(R-1),z=0;z<R;z++)n[Q+z]=a[z];return}if(R===1){for(nt=(Z-=T)+1,Q=(j-=T)+1,z=T-1;z>=0;z--)n[nt+z]=n[Q+z];return void(n[Z]=a[X])}for(var it=r;;){var mt=0,bt=0,St=!1;do if(e(a[X],n[j])<0){if(n[Z--]=n[j--],mt++,bt=0,--T==0){St=!0;break}}else if(n[Z--]=a[X--],bt++,mt=0,--R==1){St=!0;break}while((mt|bt)<it);if(St)break;do{if((mt=T-Ff(a[X],n,A,T,T-1,e))!==0){for(T-=mt,nt=(Z-=mt)+1,Q=(j-=mt)+1,z=mt-1;z>=0;z--)n[nt+z]=n[Q+z];if(T===0){St=!0;break}}if(n[Z--]=a[X--],--R==1){St=!0;break}if((bt=R-No(n[j],a,0,R,R-1,e))!==0){for(R-=bt,nt=(Z-=bt)+1,Q=(X-=bt)+1,z=0;z<bt;z++)n[nt+z]=a[Q+z];if(R<=1){St=!0;break}}if(n[Z--]=n[j--],--T==0){St=!0;break}it--}while(mt>=7||bt>=7);if(St)break;it<0&&(it=0),it+=2}if((r=it)<1&&(r=1),R===1){for(nt=(Z-=T)+1,Q=(j-=T)+1,z=T-1;z>=0;z--)n[nt+z]=n[Q+z];n[Z]=a[X]}else{if(R===0)throw new Error;for(Q=Z-(R-1),z=0;z<R;z++)n[Q+z]=a[z]}}(f,g,v,w))}return t=[],i=[],{mergeRuns:function(){for(;o>1;){var u=o-2;if(u>=1&&i[u-1]<=i[u]+i[u+1]||u>=2&&i[u-2]<=i[u]+i[u-1])i[u-1]<i[u+1]&&u--;else if(i[u]>i[u+1])break;l(u)}},forceMergeRuns:function(){for(;o>1;){var u=o-2;u>0&&i[u-1]<i[u+1]&&u--,l(u)}},pushRun:function(u,f){t[o]=u,i[o]=f,o+=1}}}function $l(n,e,t,i){t||(t=0),i||(i=n.length);var r=i-t;if(!(r<2)){var o=0;if(r<32)Sh(n,t,i,t+(o=Qs(n,t,i,e)),e);else{var a=Xd(n,e),l=function(f){for(var g=0;f>=32;)g|=1&f,f>>=1;return f+g}(r);do{if((o=Qs(n,t,i,e))<l){var u=r;u>l&&(u=l),Sh(n,t,t+u,t+o,e),o=u}a.pushRun(t,o),a.mergeRuns(),r-=o,t+=o}while(r!==0);a.forceMergeRuns()}}}var Vf=!1;function qd(){Vf||(Vf=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Ud(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var $d=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Ud}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return!e&&i.length||this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,o=t.length;r<o;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,$l(i,Ud)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var o=r,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),a=o,o=o.getClipPath()}if(e.childrenRef){for(var l=e.childrenRef(),u=0;u<l.length;u++){var f=l[u];e.__dirty&&(f.__dirty|=1),this._updateAndAddDisplayable(f,t,i)}e.__dirty=0}else{var g=e;t&&t.length?g.__clipPaths=t:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(qd(),g.z=0),isNaN(g.z2)&&(qd(),g.z2=0),isNaN(g.zlevel)&&(qd(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var v=e.getDecalElement&&e.getDecalElement();v&&this._updateAndAddDisplayable(v,t,i);var w=e.getTextGuideLine();w&&this._updateAndAddDisplayable(w,t,i);var _=e.getTextContent();_&&this._updateAndAddDisplayable(_,t,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);else{var r=rn(this._roots,e);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),Zl=ke.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},Kl={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1;return n===0?0:n===1?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4))},elasticOut:function(n){var e,t=.1;return n===0?0:n===1?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var e,t=.1,i=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=.1):e=i*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-Kl.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*Kl.bounceIn(2*n):.5*Kl.bounceOut(2*n-1)+.5}},Au=Math.pow,ms=Math.sqrt,Jl=1e-8,Ch=1e-4,bo=ms(3),xl=1/3,Xe=ar(),da=ar(),ja=ar();function Go(n){return n>-1e-8&&n<Jl}function Hf(n){return n>Jl||n<-1e-8}function tr(n,e,t,i,r){var o=1-r;return o*o*(o*n+3*r*e)+r*r*(r*i+3*o*t)}function bl(n,e,t,i,r){var o=1-r;return 3*(((e-n)*o+2*(t-e)*r)*o+(i-t)*r*r)}function kh(n,e,t,i,r,o){var a=i+3*(e-t)-n,l=3*(t-2*e+n),u=3*(e-n),f=n-r,g=l*l-3*a*u,v=l*u-9*a*f,w=u*u-3*l*f,_=0;if(Go(g)&&Go(v))Go(l)?o[0]=0:(it=-u/l)>=0&&it<=1&&(o[_++]=it);else{var A=v*v-4*g*w;if(Go(A)){var T=v/g,L=-T/2;(it=-l/a+T)>=0&&it<=1&&(o[_++]=it),L>=0&&L<=1&&(o[_++]=L)}else if(A>0){var R=ms(A),z=g*l+1.5*a*(-v+R),j=g*l+1.5*a*(-v-R);(it=(-l-((z=z<0?-Au(-z,xl):Au(z,xl))+(j=j<0?-Au(-j,xl):Au(j,xl))))/(3*a))>=0&&it<=1&&(o[_++]=it)}else{var X=(2*g*l-3*a*v)/(2*ms(g*g*g)),Z=Math.acos(X)/3,Q=ms(g),nt=Math.cos(Z),it=(-l-2*Q*nt)/(3*a),mt=(L=(-l+Q*(nt+bo*Math.sin(Z)))/(3*a),(-l+Q*(nt-bo*Math.sin(Z)))/(3*a));it>=0&&it<=1&&(o[_++]=it),L>=0&&L<=1&&(o[_++]=L),mt>=0&&mt<=1&&(o[_++]=mt)}}return _}function vs(n,e,t,i,r){var o=6*t-12*e+6*n,a=9*e+3*i-3*n-9*t,l=3*e-3*n,u=0;if(Go(a))Hf(o)&&(g=-l/o)>=0&&g<=1&&(r[u++]=g);else{var f=o*o-4*a*l;if(Go(f))r[0]=-o/(2*a);else if(f>0){var g,v=ms(f),w=(-o-v)/(2*a);(g=(-o+v)/(2*a))>=0&&g<=1&&(r[u++]=g),w>=0&&w<=1&&(r[u++]=w)}}return u}function Ya(n,e,t,i,r,o){var a=(e-n)*r+n,l=(t-e)*r+e,u=(i-t)*r+t,f=(l-a)*r+a,g=(u-l)*r+l,v=(g-f)*r+f;o[0]=n,o[1]=a,o[2]=f,o[3]=v,o[4]=v,o[5]=g,o[6]=u,o[7]=i}function Xo(n,e,t,i,r,o,a,l,u,f,g){var v,w,_,A,T,L=.005,R=1/0;Xe[0]=u,Xe[1]=f;for(var z=0;z<1;z+=.05)da[0]=tr(n,t,r,a,z),da[1]=tr(e,i,o,l,z),(A=er(Xe,da))<R&&(v=z,R=A);R=1/0;for(var j=0;j<32&&!(L<Ch);j++)w=v-L,_=v+L,da[0]=tr(n,t,r,a,w),da[1]=tr(e,i,o,l,w),A=er(da,Xe),w>=0&&A<R?(v=w,R=A):(ja[0]=tr(n,t,r,a,_),ja[1]=tr(e,i,o,l,_),T=er(ja,Xe),_<=1&&T<R?(v=_,R=T):L*=.5);return g&&(g[0]=tr(n,t,r,a,v),g[1]=tr(e,i,o,l,v)),ms(R)}function Qo(n,e,t,i,r,o,a,l,u){for(var f=n,g=e,v=0,w=1/u,_=1;_<=u;_++){var A=_*w,T=tr(n,t,r,a,A),L=tr(e,i,o,l,A),R=T-f,z=L-g;v+=Math.sqrt(R*R+z*z),f=T,g=L}return v}function Ir(n,e,t,i){var r=1-i;return r*(r*n+2*i*e)+i*i*t}function Ga(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function Mu(n,e,t){var i=n+t-2*e;return i===0?.5:(n-e)/i}function Xa(n,e,t,i,r){var o=(e-n)*i+n,a=(t-e)*i+e,l=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=l,r[3]=l,r[4]=a,r[5]=t}function Ql(n,e,t,i,r,o,a,l,u){var f,g=.005,v=1/0;Xe[0]=a,Xe[1]=l;for(var w=0;w<1;w+=.05)da[0]=Ir(n,t,r,w),da[1]=Ir(e,i,o,w),(L=er(Xe,da))<v&&(f=w,v=L);v=1/0;for(var _=0;_<32&&!(g<Ch);_++){var A=f-g,T=f+g;da[0]=Ir(n,t,r,A),da[1]=Ir(e,i,o,A);var L=er(da,Xe);if(A>=0&&L<v)f=A,v=L;else{ja[0]=Ir(n,t,r,T),ja[1]=Ir(e,i,o,T);var R=er(ja,Xe);T<=1&&R<v?(f=T,v=R):g*=.5}}return u&&(u[0]=Ir(n,t,r,f),u[1]=Ir(e,i,o,f)),ms(v)}function Ro(n,e,t,i,r,o,a){for(var l=n,u=e,f=0,g=1/a,v=1;v<=a;v++){var w=v*g,_=Ir(n,t,r,w),A=Ir(e,i,o,w),T=_-l,L=A-u;f+=Math.sqrt(T*T+L*L),l=_,u=A}return f}var Ah=/cubic-bezier\(([0-9,\.e ]+)\)/;function Zd(n){var e=n&&Ah.exec(n);if(e){var t=e[1].split(","),i=+Pe(t[0]),r=+Pe(t[1]),o=+Pe(t[2]),a=+Pe(t[3]);if(isNaN(i+r+o+a))return;var l=[];return function(u){return u<=0?0:u>=1?1:kh(0,i,o,1,u,l)&&tr(0,r,a,1,l[0])}}}var Wf=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||En,this.ondestroy=e.ondestroy||En,this.onrestart=e.onrestart||En,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var i=this._life,r=e-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,l=a?a(o):o;if(this.onframe(l),o===1){if(!this.loop)return!0;var u=r%i;this._startTime=e-u,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=In(e)?e:Kl[e]||Zd(e)},n}(),Kd=function(n){this.value=n},Jd=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new Kd(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),Tu=function(){function n(e){this._list=new Jd,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,r=this._map,o=null;if(r[e]==null){var a=i.len(),l=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var u=i.head;i.remove(u),delete r[u.key],o=u.value,this._lastRemovedEntry=u}l?l.value=t:l=new Kd(t),l.key=e,i.insertEntry(l),r[e]=l}return o},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(t!=null)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),Fm={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function qo(n){return(n=Math.round(n))<0?0:n>255?255:n}function Iu(n){return n<0?0:n>1?1:n}function Vm(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?qo(parseFloat(e)/100*255):qo(parseInt(e,10))}function Bc(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?Iu(parseFloat(e)/100):Iu(parseFloat(e))}function Du(n,e,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?n+(e-n)*t*6:2*t<1?e:3*t<2?n+(e-n)*(2/3-t)*6:n}function Ta(n,e,t){return n+(e-n)*t}function ys(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function Mh(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var Th=new Tu(20),qa=null;function zc(n,e){qa&&Mh(qa,e),qa=Th.put(n,qa||e.slice())}function To(n,e){if(n){e=e||[];var t=Th.get(n);if(t)return Mh(e,t);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in Fm)return Mh(e,Fm[i]),zc(n,e),e;var r,o=i.length;if(i.charAt(0)==="#")return o===4||o===5?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(ys(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,o===5?parseInt(i.slice(4),16)/15:1),zc(n,e),e):void ys(e,0,0,0,1):o===7||o===9?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(ys(e,(16711680&r)>>16,(65280&r)>>8,255&r,o===9?parseInt(i.slice(7),16)/255:1),zc(n,e),e):void ys(e,0,0,0,1):void 0;var a=i.indexOf("("),l=i.indexOf(")");if(a!==-1&&l+1===o){var u=i.substr(0,a),f=i.substr(a+1,l-(a+1)).split(","),g=1;switch(u){case"rgba":if(f.length!==4)return f.length===3?ys(e,+f[0],+f[1],+f[2],1):ys(e,0,0,0,1);g=Bc(f.pop());case"rgb":return f.length>=3?(ys(e,Vm(f[0]),Vm(f[1]),Vm(f[2]),f.length===3?g:Bc(f[3])),zc(n,e),e):void ys(e,0,0,0,1);case"hsla":return f.length!==4?void ys(e,0,0,0,1):(f[3]=Bc(f[3]),Qd(f,e),zc(n,e),e);case"hsl":return f.length!==3?void ys(e,0,0,0,1):(Qd(f,e),zc(n,e),e);default:return}}ys(e,0,0,0,1)}}function Qd(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=Bc(n[1]),r=Bc(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return ys(e=e||[],qo(255*Du(a,o,t+1/3)),qo(255*Du(a,o,t)),qo(255*Du(a,o,t-1/3)),1),n.length===4&&(e[3]=n[3]),e}function tc(n,e){var t=To(n);if(t){for(var i=0;i<3;i++)t[i]=e<0?t[i]*(1-e)|0:(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return _r(t,t.length===4?"rgba":"rgb")}}function pa(n,e,t){if(e&&e.length&&n>=0&&n<=1){t=t||[];var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=e[r],l=e[o],u=i-r;return t[0]=qo(Ta(a[0],l[0],u)),t[1]=qo(Ta(a[1],l[1],u)),t[2]=qo(Ta(a[2],l[2],u)),t[3]=Iu(Ta(a[3],l[3],u)),t}}var ec=pa;function tp(n,e,t){if(e&&e.length&&n>=0&&n<=1){var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=To(e[r]),l=To(e[o]),u=i-r,f=_r([qo(Ta(a[0],l[0],u)),qo(Ta(a[1],l[1],u)),qo(Ta(a[2],l[2],u)),Iu(Ta(a[3],l[3],u))],"rgba");return t?{color:f,leftIndex:r,rightIndex:o,value:i}:f}}var Bo=tp;function Rs(n,e,t,i){var r=To(n);if(n)return r=function(o){if(o){var a,l,u=o[0]/255,f=o[1]/255,g=o[2]/255,v=Math.min(u,f,g),w=Math.max(u,f,g),_=w-v,A=(w+v)/2;if(_===0)a=0,l=0;else{l=A<.5?_/(w+v):_/(2-w-v);var T=((w-u)/6+_/2)/_,L=((w-f)/6+_/2)/_,R=((w-g)/6+_/2)/_;u===w?a=R-L:f===w?a=1/3+T-R:g===w&&(a=2/3+L-T),a<0&&(a+=1),a>1&&(a-=1)}var z=[360*a,l,A];return o[3]!=null&&z.push(o[3]),z}}(r),e!=null&&(r[0]=function(o){return(o=Math.round(o))<0?0:o>360?360:o}(e)),t!=null&&(r[1]=Bc(t)),i!=null&&(r[2]=Bc(i)),_r(Qd(r),"rgba")}function xs(n,e){var t=To(n);if(t&&e!=null)return t[3]=Iu(e),_r(t,"rgba")}function _r(n,e){if(n&&n.length){var t=n[0]+","+n[1]+","+n[2];return e!=="rgba"&&e!=="hsva"&&e!=="hsla"||(t+=","+n[3]),e+"("+t+")"}}function bs(n,e){var t=To(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var ta=Object.freeze({__proto__:null,parse:To,lift:tc,toHex:function(n){var e=To(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},fastLerp:pa,fastMapToColor:ec,lerp:tp,mapToColor:Bo,modifyHSL:Rs,modifyAlpha:xs,stringify:_r,lum:bs,random:function(){return _r([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}}),Lu=Math.round;function nc(n){var e;if(n&&n!=="transparent"){if(typeof n=="string"&&n.indexOf("rgba")>-1){var t=To(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}}else n="none";return{color:n,opacity:e??1}}var E1=1e-4;function ic(n){return n<E1&&n>-1e-4}function Ih(n){return Lu(1e3*n)/1e3}function Fc(n){return Lu(1e4*n)/1e4}var Ou={left:"start",right:"end",center:"middle",middle:"middle"};function jf(n){return n&&!!n.image}function ep(n){return jf(n)||function(e){return e&&!!e.svgElement}(n)}function Eu(n){return n.type==="linear"}function Yf(n){return n.type==="radial"}function Gf(n){return n&&(n.type==="linear"||n.type==="radial")}function np(n){return"url(#"+n+")"}function ip(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function Hm(n){var e=n.x||0,t=n.y||0,i=(n.rotation||0)*gn,r=Rt(n.scaleX,1),o=Rt(n.scaleY,1),a=n.skewX||0,l=n.skewY||0,u=[];return(e||t)&&u.push("translate("+e+"px,"+t+"px)"),i&&u.push("rotate("+i+")"),r===1&&o===1||u.push("scale("+r+","+o+")"),(a||l)&&u.push("skew("+Lu(a*gn)+"deg, "+Lu(l*gn)+"deg)"),u.join(" ")}var rc=ke.hasGlobalWindow&&In(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},wl=Array.prototype.slice;function Ua(n,e,t){return(e-n)*t+n}function Vc(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=Ua(e[o],t[o],i);return n}function _l(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=e[o]+t[o]*i;return n}function Xf(n,e,t,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var l=0;l<o;l++)n[a][l]=e[a][l]+t[a][l]*i}return n}function wo(n,e){for(var t=n.length,i=e.length,r=t>i?e:n,o=Math.min(t,i),a=r[o-1]||{color:[0,0,0,0],offset:0},l=o;l<Math.max(t,i);l++)r.push({offset:a.offset,color:a.color.slice()})}function Hc(n,e,t){var i=n,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var l=o;l<a;l++)i.push(t===1?r[l]:wl.call(r[l]));var u=i[0]&&i[0].length;for(l=0;l<i.length;l++)if(t===1)isNaN(i[l])&&(i[l]=r[l]);else for(var f=0;f<u;f++)isNaN(i[l][f])&&(i[l][f]=r[l][f])}}function oc(n){if(Oe(n)){var e=n.length;if(Oe(n[0])){for(var t=[],i=0;i<e;i++)t.push(wl.call(n[i]));return t}return wl.call(n)}return n}function li(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function rp(n){return n===4||n===5}function $a(n){return n===1||n===2}var ac=[0,0,0,0],Wm=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var r=this.keyframes,o=r.length,a=!1,l=6,u=t;if(Oe(t)){var f=function(_){return Oe(_&&_[0])?2:1}(t);l=f,(f===1&&!fi(t[0])||f===2&&!fi(t[0][0]))&&(a=!0)}else if(fi(t)&&!ui(t))l=0;else if(kn(t))if(isNaN(+t)){var g=To(t);g&&(u=g,l=3)}else l=0;else if(zn(t)){var v=pe({},u);v.colorStops=ye(t.colorStops,function(_){return{offset:_.offset,color:To(_.color)}}),Eu(t)?l=4:Yf(t)&&(l=5),u=v}o===0?this.valType=l:l===this.valType&&l!==6||(a=!0),this.discrete=this.discrete||a;var w={time:e,value:u,rawValue:t,percent:0};return i&&(w.easing=i,w.easingFunc=In(i)?i:Kl[i]||Zd(i)),r.push(w),w},n.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(T,L){return T.time-L.time});for(var r=this.valType,o=i.length,a=i[o-1],l=this.discrete,u=$a(r),f=rp(r),g=0;g<o;g++){var v=i[g],w=v.value,_=a.value;v.percent=v.time/e,l||(u&&g!==o-1?Hc(w,_,r):f&&wo(w.colorStops,_.colorStops))}if(!l&&r!==5&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;var A=i[0].value;for(g=0;g<o;g++)r===0?i[g].additiveValue=i[g].value-A:r===3?i[g].additiveValue=_l([],i[g].value,A,-1):$a(r)&&(i[g].additiveValue=r===1?_l([],i[g].value,A,-1):Xf([],i[g].value,A,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,r,o,a=this._additiveTrack!=null,l=a?"additiveValue":"value",u=this.valType,f=this.keyframes,g=f.length,v=this.propName,w=u===3,_=this._lastFr,A=Math.min;if(g===1)r=o=f[0];else{if(t<0)i=0;else if(t<this._lastFrP){for(i=A(_+1,g-1);i>=0&&!(f[i].percent<=t);i--);i=A(i,g-2)}else{for(i=_;i<g&&!(f[i].percent>t);i++);i=A(i-1,g-2)}o=f[i+1],r=f[i]}if(r&&o){this._lastFr=i,this._lastFrP=t;var T=o.percent-r.percent,L=T===0?1:A((t-r.percent)/T,1);o.easingFunc&&(L=o.easingFunc(L));var R=a?this._additiveValue:w?ac:e[v];if(!$a(u)&&!w||R||(R=this._additiveValue=[]),this.discrete)e[v]=L<1?r.rawValue:o.rawValue;else if($a(u))u===1?Vc(R,r[l],o[l],L):function(Q,nt,it,mt){for(var bt=nt.length,St=bt&&nt[0].length,Ot=0;Ot<bt;Ot++){Q[Ot]||(Q[Ot]=[]);for(var Yt=0;Yt<St;Yt++)Q[Ot][Yt]=Ua(nt[Ot][Yt],it[Ot][Yt],mt)}}(R,r[l],o[l],L);else if(rp(u)){var z=r[l],j=o[l],X=u===4;e[v]={type:X?"linear":"radial",x:Ua(z.x,j.x,L),y:Ua(z.y,j.y,L),colorStops:ye(z.colorStops,function(Q,nt){var it=j.colorStops[nt];return{offset:Ua(Q.offset,it.offset,L),color:li(Vc([],Q.color,it.color,L))}}),global:j.global},X?(e[v].x2=Ua(z.x2,j.x2,L),e[v].y2=Ua(z.y2,j.y2,L)):e[v].r=Ua(z.r,j.r,L)}else if(w)Vc(R,r[l],o[l],L),a||(e[v]=li(R));else{var Z=Ua(r[l],o[l],L);a?this._additiveValue=Z:e[v]=Z}a&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,r=this._additiveValue;t===0?e[i]=e[i]+r:t===3?(To(e[i],ac),_l(ac,ac,r,1),e[i]=li(ac)):t===1?_l(e[i],e[i],r,1):t===2&&Xf(e[i],e[i],r,1)},n}(),tl=function(){function n(e,t,i,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r?Ht("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=i)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,Re(t),i)},n.prototype.whenWithKeys=function(e,t,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var l=i[a],u=o[l];if(!u){u=o[l]=new Wm(l);var f=void 0,g=this._getAdditiveTrack(l);if(g){var v=g.keyframes,w=v[v.length-1];f=w&&w.value,g.valType===3&&f&&(f=li(f))}else f=this._target[l];if(f==null)continue;e>0&&u.addKeyframe(0,oc(f),r),this._trackKeys.push(l)}u.addKeyframe(e,oc(t[l]),r)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(e);o&&(t=o)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],l=this._tracks[a],u=this._getAdditiveTrack(a),f=l.keyframes,g=f.length;if(l.prepare(r,u),l.needsAnimate())if(!this._allowDiscrete&&l.discrete){var v=f[g-1];v&&(t._target[l.propName]=v.rawValue),l.setFinished()}else i.push(l)}if(i.length||this._force){var w=new Wf({life:r,loop:this._loop,delay:this._delay||0,onframe:function(_){t._started=2;var A=t._additiveAnimators;if(A){for(var T=!1,L=0;L<A.length;L++)if(A[L]._clip){T=!0;break}T||(t._additiveAnimators=null)}for(L=0;L<i.length;L++)i[L].step(t._target,_);var R=t._onframeCbs;if(R)for(L=0;L<R.length;L++)R[L](t._target,_)},ondestroy:function(){t._doneCallback()}});this._clip=w,this.animation&&this.animation.addClip(w),e&&w.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return ye(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<e.length;o++){var a=i[e[o]];a&&!a.isFinished()&&(t?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}var l=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},n.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var o=t[r],a=this._tracks[o];if(a&&!a.isFinished()){var l=a.keyframes,u=l[i?0:l.length-1];u&&(e[o]=oc(u.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||Re(e);for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var l=a.pop();o.addKeyframe(l.time,e[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();function ea(){return new Date().getTime()}var op,ap,Dn=function(n){function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,t=t||{},i.stage=t.stage||{},i}return wt(e,n),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=ea()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next;o.step(i,r)&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,Zl(function i(){t._running&&(Zl(i),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=ea(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=ea(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=ea()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,i){i=i||{},this.start();var r=new tl(t,i.loop);return this.addAnimator(r),r},e}(M),Za=ke.domSupported,jm=(ap={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:op=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:ye(op,function(n){var e=n.replace("mouse","pointer");return ap.hasOwnProperty(e)?e:n})}),el=["mousemove","mouseup"],Dh=["pointermove","pointerup"],sp=!1;function oo(n){var e=n.pointerType;return e==="pen"||e==="touch"}function qf(n){n&&(n.zrByTouch=!0)}function ba(n,e){for(var t=e,i=!1;t&&t.nodeType!==9&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var Yr=function(n,e){this.stopPropagation=En,this.stopImmediatePropagation=En,this.preventDefault=En,this.type=e.type,this.target=this.currentTarget=n.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Ka={mousedown:function(n){n=ot(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=ot(this.dom,n);var e=this.__mayPointerCapture;!e||n.zrX===e[0]&&n.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=ot(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){ba(this,(n=ot(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){sp=!0,n=ot(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){sp||(n=ot(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){qf(n=ot(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),Ka.mousemove.call(this,n),Ka.mousedown.call(this,n)},touchmove:function(n){qf(n=ot(this.dom,n)),this.handler.processGesture(n,"change"),Ka.mousemove.call(this,n)},touchend:function(n){qf(n=ot(this.dom,n)),this.handler.processGesture(n,"end"),Ka.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&Ka.click.call(this,n)},pointerdown:function(n){Ka.mousedown.call(this,n)},pointermove:function(n){oo(n)||Ka.mousemove.call(this,n)},pointerup:function(n){Ka.mouseup.call(this,n)},pointerout:function(n){oo(n)||Ka.mouseout.call(this,n)}};U(["click","dblclick","contextmenu"],function(n){Ka[n]=function(e){e=ot(this.dom,e),this.trigger(n,e)}});var nl={pointermove:function(n){oo(n)||nl.mousemove.call(this,n)},pointerup:function(n){nl.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function ws(n,e){var t=e.domHandlers;ke.pointerEventsSupported?U(jm.pointer,function(i){na(e,i,function(r){t[i].call(n,r)})}):(ke.touchEventsSupported&&U(jm.touch,function(i){na(e,i,function(r){t[i].call(n,r),function(o){o.touching=!0,o.touchTimer!=null&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)}(e)})}),U(jm.mouse,function(i){na(e,i,function(r){r=Y(r),e.touching||t[i].call(n,r)})}))}function P1(n,e){function t(i){na(e,i,function(r){r=Y(r),ba(n,r.target)||(r=function(o,a){return ot(o.dom,new Yr(o,a),!0)}(n,r),e.domHandlers[i].call(n,r))},{capture:!0})}ke.pointerEventsSupported?U(Dh,t):ke.touchEventsSupported||U(el,t)}function na(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,zt(n.domTarget,e,t,i)}function zo(n){var e,t,i,r,o=n.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=n.domTarget,t=a,i=o[a],r=n.listenerOpts[a],e.removeEventListener(t,i,r));n.mounted={}}var Ym=function(n,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=e},fa=function(n){function e(t,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new Ym(t,Ka),Za&&(r._globalHandlerScope=new Ym(document,nl)),ws(r,r._localHandlerScope),r}return wt(e,n),e.prototype.dispose=function(){zo(this._localHandlerScope),Za&&zo(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Za&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?P1(this,i):zo(i)}},e}(M),lp=1;ke.hasGlobalWindow&&(lp=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var sc=lp,cp="#333",Uf="#ccc",Sl=ii,Bs=5e-5;function zs(n){return n>Bs||n<-5e-5}var ga=[],Pu=[],Lh=[1,0,0,1,0,0],Nu=Math.abs,lc=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return zs(this.rotation)||zs(this.x)||zs(this.y)||zs(this.scaleX-1)||zs(this.scaleY-1)||zs(this.skewX)||zs(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;t||e?(i=i||[1,0,0,1,0,0],t?this.getLocalTransform(i):Sl(i),e&&(t?Wi(i,e,i):ri(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&Sl(i)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(ga);var i=ga[0]<0?-1:1,r=ga[1]<0?-1:1,o=((ga[0]-i)*t+i)/ga[0]||0,a=((ga[1]-r)*t+r)/ga[1]||0;e[0]*=o,e[1]*=o,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],Er(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),o=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Wi(Pu,e.invTransform,t),t=Pu);var i=this.originX,r=this.originY;(i||r)&&(Lh[4]=i,Lh[5]=r,Wi(Pu,t,Lh),Pu[4]-=i,Pu[5]-=r,t=Pu),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&Or(i,i,r),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&Or(i,i,r),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&Nu(e[0]-1)>1e-10&&Nu(e[3]-1)>1e-10?Math.sqrt(Nu(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){Oh(this,e)},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,o=e.scaleX,a=e.scaleY,l=e.anchorX,u=e.anchorY,f=e.rotation||0,g=e.x,v=e.y,w=e.skewX?Math.tan(e.skewX):0,_=e.skewY?Math.tan(-e.skewY):0;if(i||r||l||u){var A=i+l,T=r+u;t[4]=-A*o-w*T*a,t[5]=-T*a-_*A*o}else t[4]=t[5]=0;return t[0]=o,t[3]=a,t[1]=_*o,t[2]=w*a,f&&xr(t,t,f),t[4]+=i+g,t[5]+=r+v,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),Ia=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Oh(n,e){for(var t=0;t<Ia.length;t++){var i=Ia[t];n[i]=e[i]}}var Gm={};function _s(n,e){var t=Gm[e=e||re];t||(t=Gm[e]=new Tu(500));var i=t.get(n);return i==null&&(i=pt.measureText(n,e).width,t.put(n,i)),i}function up(n,e,t,i){var r=_s(n,e),o=Wr(e),a=Eh(0,r,t),l=Co(0,o,i);return new Qi(a,l,r,o)}function Ja(n,e,t,i){var r=((n||"")+"").split(`
`);if(r.length===1)return up(r[0],e,t,i);for(var o=new Qi(0,0,0,0),a=0;a<r.length;a++){var l=up(r[a],e,t,i);a===0?o.copy(l):o.union(l)}return o}function Eh(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function Co(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function Wr(n){return _s("国",n)}function Ho(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function Cl(n,e,t){var i=e.position||"inside",r=e.distance!=null?e.distance:5,o=t.height,a=t.width,l=o/2,u=t.x,f=t.y,g="left",v="top";if(i instanceof Array)u+=Ho(i[0],t.width),f+=Ho(i[1],t.height),g=null,v=null;else switch(i){case"left":u-=r,f+=l,g="right",v="middle";break;case"right":u+=r+a,f+=l,v="middle";break;case"top":u+=a/2,f-=r,g="center",v="bottom";break;case"bottom":u+=a/2,f+=o+r,g="center";break;case"inside":u+=a/2,f+=l,g="center",v="middle";break;case"insideLeft":u+=r,f+=l,v="middle";break;case"insideRight":u+=a-r,f+=l,g="right",v="middle";break;case"insideTop":u+=a/2,f+=r,g="center";break;case"insideBottom":u+=a/2,f+=o-r,g="center",v="bottom";break;case"insideTopLeft":u+=r,f+=r;break;case"insideTopRight":u+=a-r,f+=r,g="right";break;case"insideBottomLeft":u+=r,f+=o-r,v="bottom";break;case"insideBottomRight":u+=a-r,f+=o-r,g="right",v="bottom"}return(n=n||{}).x=u,n.y=f,n.align=g,n.verticalAlign=v,n}var kl="__zr_normal__",cc=Ia.concat(["ignore"]),Wc=cn(Ia,function(n,e){return n[e]=!0,n},{ignore:!1}),Uo={},Xm=new Qi(0,0,0,0),jc=function(){function n(e){this.id=ne(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=t.innerTransformable,a=void 0,l=void 0,u=!1;o.parent=r?this:null;var f=!1;if(o.copyTransform(t),i.position!=null){var g=Xm;i.layoutRect?g.copy(i.layoutRect):g.copy(this.getBoundingRect()),r||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Uo,i,g):Cl(Uo,i,g),o.x=Uo.x,o.y=Uo.y,a=Uo.align,l=Uo.verticalAlign;var v=i.origin;if(v&&i.rotation!=null){var w=void 0,_=void 0;v==="center"?(w=.5*g.width,_=.5*g.height):(w=Ho(v[0],g.width),_=Ho(v[1],g.height)),f=!0,o.originX=-o.x+w+(r?0:g.x),o.originY=-o.y+_+(r?0:g.y)}}i.rotation!=null&&(o.rotation=i.rotation);var A=i.offset;A&&(o.x+=A[0],o.y+=A[1],f||(o.originX=-A[0],o.originY=-A[1]));var T=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,L=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),R=void 0,z=void 0,j=void 0;T&&this.canBeInsideText()?(R=i.insideFill,z=i.insideStroke,R!=null&&R!=="auto"||(R=this.getInsideTextFill()),z!=null&&z!=="auto"||(z=this.getInsideTextStroke(R),j=!0)):(R=i.outsideFill,z=i.outsideStroke,R!=null&&R!=="auto"||(R=this.getOutsideFill()),z!=null&&z!=="auto"||(z=this.getOutsideStroke(R),j=!0)),(R=R||"#000")===L.fill&&z===L.stroke&&j===L.autoStroke&&a===L.align&&l===L.verticalAlign||(u=!0,L.fill=R,L.stroke=z,L.autoStroke=j,L.align=a,L.verticalAlign=l,t.setDefaultTextStyle(L)),t.__dirty|=1,u&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Uf:cp},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i=typeof t=="string"&&To(t);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,_r(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},pe(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Zn(e))for(var i=Re(e),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,e[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==kl)){var a=r.targetName,l=a?t[a]:t;r.saveTo(l)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,cc)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var o=i[r];e[o]==null||o in t||(t[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(kl,!1,e)},n.prototype.useState=function(e,t,i,r){var o=e===kl;if(this.hasState()||!o){var a=this.currentStates,l=this.stateTransition;if(!(rn(a,e)>=0)||!t&&a.length!==1){var u;if(this.stateProxy&&!o&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),u||o){o||this.saveCurrentToNormalState(u);var f=!!(u&&u.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!i&&!this.__inHover&&l&&l.duration>0,l);var g=this._textContent,v=this._textGuide;return g&&g.useState(e,t,i,f),v&&v.useState(e,t,i,f),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}Ht("State "+e+" not exists.")}}},n.prototype.useStates=function(e,t,i){if(e.length){var r=[],o=this.currentStates,a=e.length,l=a===o.length;if(l){for(var u=0;u<a;u++)if(e[u]!==o[u]){l=!1;break}}if(l)return;for(u=0;u<a;u++){var f=e[u],g=void 0;this.stateProxy&&(g=this.stateProxy(f,e)),g||(g=this.states[f]),g&&r.push(g)}var v=r[a-1],w=!!(v&&v.hoverLayer||i);w&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(r),A=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(e.join(","),_,this._normalState,!1,!t&&!this.__inHover&&A&&A.duration>0,A);var T=this._textContent,L=this._textGuide;T&&T.useStates(e,t,w),L&&L.useStates(e,t,w),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!w&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=rn(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),o=rn(r,e),a=rn(r,t)>=0;o>=0?a?r.splice(o,1):r[o]=t:i&&!a&&r.push(t),this.useStates(r)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t,i={},r=0;r<e.length;r++){var o=e[r];pe(i,o),o.textConfig&&pe(t=t||{},o.textConfig)}return t&&(i.textConfig=t),i},n.prototype._applyStateObj=function(e,t,i,r,o,a){var l=!(t&&r);t&&t.textConfig?(this.textConfig=pe({},r?this.textConfig:i.textConfig),pe(this.textConfig,t.textConfig)):l&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},f=!1,g=0;g<cc.length;g++){var v=cc[g],w=o&&Wc[v];t&&t[v]!=null?w?(f=!0,u[v]=t[v]):this[v]=t[v]:l&&i[v]!=null&&(w?(f=!0,u[v]=i[v]):this[v]=i[v])}if(!o)for(g=0;g<this.animators.length;g++){var _=this.animators[g],A=_.targetName;_.getLoop()||_.__changeFinalValue(A?(t||i)[A]:t||i)}f&&this._transitionState(e,u,a)},n.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new lc,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),pe(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,i){var r=e?this[e]:this,o=new tl(r,t,i);return e&&(o.targetName=e),this.addAnimator(o,e),o},n.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var o=r.animators,a=rn(o,e);a>=0&&o.splice(a,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var l=i[a];e&&e!==l.scope?o.push(l):l.stop(t)}return this.animators=o,this},n.prototype.animateTo=function(e,t,i){hp(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){hp(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,r){for(var o=hp(this,t,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=1;function t(i,r,o,a){function l(u,f){Object.defineProperty(f,0,{get:function(){return u[o]},set:function(g){u[o]=g}}),Object.defineProperty(f,1,{get:function(){return u[a]},set:function(g){u[a]=g}})}Object.defineProperty(e,i,{get:function(){return this[r]||l(this,this[r]=[]),this[r]},set:function(u){this[o]=u[0],this[a]=u[1],this[r]=u,l(this,u)}})}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();function hp(n,e,t,i,r){var o=[];$f(n,"",n,e,t=t||{},i,o,r);var a=o.length,l=!1,u=t.done,f=t.aborted,g=function(){l=!0,--a<=0&&(l?u&&u():f&&f())},v=function(){--a<=0&&(l?u&&u():f&&f())};a||u&&u(),o.length>0&&t.during&&o[0].during(function(A,T){t.during(T)});for(var w=0;w<o.length;w++){var _=o[w];g&&_.done(g),v&&_.aborted(v),t.force&&_.duration(t.duration),_.start(t.easing)}return o}function Ru(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function dp(n,e,t){if(Oe(e[t]))if(Oe(n[t])||(n[t]=[]),Yi(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),Ru(n[t],e[t],i))}else{var r=e[t],o=n[t],a=r.length;if(Oe(r[0]))for(var l=r[0].length,u=0;u<a;u++)o[u]?Ru(o[u],r[u],l):o[u]=Array.prototype.slice.call(r[u]);else Ru(o,r,a);o.length=r.length}else n[t]=e[t]}function $f(n,e,t,i,r,o,a,l){for(var u=Re(i),f=r.duration,g=r.delay,v=r.additive,w=r.setToFinal,_=!Zn(o),A=n.animators,T=[],L=0;L<u.length;L++){var R=u[L],z=i[R];if(z!=null&&t[R]!=null&&(_||o[R]))if(!Zn(z)||Oe(z)||zn(z))T.push(R);else{if(e){l||(t[R]=z,n.updateDuringAnimation(e));continue}$f(n,R,t[R],z,r,o&&o[R],a,l)}else l||(t[R]=z,n.updateDuringAnimation(e),T.push(R))}var j=T.length;if(!v&&j){for(var X=0;X<A.length;X++)if((Q=A[X]).targetName===e&&Q.stopTracks(T)){var Z=rn(A,Q);A.splice(Z,1)}}if(r.force||(T=$e(T,function(bt){return St=i[bt],Ot=t[bt],!(St===Ot||Oe(St)&&Oe(Ot)&&function(Yt,ee){var le=Yt.length;if(le!==ee.length)return!1;for(var ge=0;ge<le;ge++)if(Yt[ge]!==ee[ge])return!1;return!0}(St,Ot));var St,Ot}),j=T.length),j>0||r.force&&!a.length){var Q,nt=void 0,it=void 0,mt=void 0;if(l)for(it={},w&&(nt={}),X=0;X<j;X++)it[R=T[X]]=t[R],w?nt[R]=i[R]:t[R]=i[R];else if(w)for(mt={},X=0;X<j;X++)mt[R=T[X]]=oc(t[R]),dp(t,i,R);(Q=new tl(t,!1,!1,v?$e(A,function(bt){return bt.targetName===e}):null)).targetName=e,r.scope&&(Q.scope=r.scope),w&&nt&&Q.whenWithKeys(0,nt,T),mt&&Q.whenWithKeys(0,mt,T),Q.whenWithKeys(f??500,l?it:i,T).delay(g||0),n.addAnimator(Q,e),a.push(Q)}}oe(jc,M),oe(jc,lc);var Ei=function(n){function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return wt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var r=rn(this._children,t);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(t,i){var r=this._children,o=r[i];if(t&&t!==this&&t.parent!==this&&t!==o){r[i]=t,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,r=this._children,o=rn(r,t);return o<0||(r.splice(o,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var o=t[r];i&&o.removeSelfFromZr(i),o.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var r=this._children,o=0;o<r.length;o++){var a=r[o];t.call(i,a,o)}return this},e.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=t.call(i,o);o.isGroup&&!a&&o.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},e.prototype.getBoundingRect=function(t){for(var i=new Qi(0,0,0,0),r=t||this._children,o=[],a=null,l=0;l<r.length;l++){var u=r[l];if(!u.ignore&&!u.invisible){var f=u.getBoundingRect(),g=u.getLocalTransform(o);g?(Qi.applyTransform(i,f,g),(a=a||i.clone()).union(i)):(a=a||f.clone()).union(f)}}return a||i},e}(jc);Ei.prototype.type="group";/*!
    * ZRender, a high performance 2d drawing library.
    *
    * Copyright (c) 2013, Baidu Inc.
    * All rights reserved.
    *
    * LICENSE
    * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
    */var uc={},Yc={},N1=function(){function n(e,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var o=new $d,a=i.renderer||"canvas";uc[a]||(a=Re(uc)[0]),i.useDirtyRect=i.useDirtyRect!=null&&i.useDirtyRect;var l=new uc[a](t,o,i,e),u=i.ssr||l.ssrOnly;this.storage=o,this.painter=l;var f,g=ke.node||ke.worker||u?null:new fa(l.getViewportRoot(),l.root),v=i.useCoarsePointer;(v==null||v==="auto"?ke.touchEventsSupported:v)&&(f=Rt(i.pointerSize,44)),this.handler=new ql(o,l,g,l.root,f),this.animation=new Dn({stage:{update:u?null:function(){return r._flush(!0)}}}),u||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(t){if(!t)return!1;if(typeof t=="string")return bs(t,1)<.4;if(t.colorStops){for(var i=t.colorStops,r=0,o=i.length,a=0;a<o;a++)r+=bs(i[a].color,1);return(r/=o)<.4}return!1}(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,i=ea();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=ea();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Ei&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){var e;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,e=this.id,delete Yc[e]},n}();function Gc(n,e){var t=new N1(ne(),n,e);return Yc[t.id]=t,t}function pp(n,e){uc[n]=e}var v0=Object.freeze({__proto__:null,init:Gc,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in Yc)Yc.hasOwnProperty(n)&&Yc[n].dispose();Yc={}},getInstance:function(n){return Yc[n]},registerPainter:pp,version:"5.4.1"}),y0=1e-4;function Br(n,e,t,i){var r=e[0],o=e[1],a=t[0],l=t[1],u=o-r,f=l-a;if(u===0)return f===0?a:(a+l)/2;if(i)if(u>0){if(n<=r)return a;if(n>=o)return l}else{if(n>=r)return a;if(n<=o)return l}else{if(n===r)return a;if(n===o)return l}return(n-r)/u*f+a}function Yn(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return kn(n)?(t=n,t.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n;var t}function uo(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),20),n=(+n).toFixed(e),t?n:+n}function Qa(n){return n.sort(function(e,t){return e-t}),n}function Ss(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return Xc(n)}function Xc(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,r=t>0?t:e.length,o=e.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}function Zf(n,e){var t=Math.log,i=Math.LN10,r=Math.floor(t(n[1]-n[0])/i),o=Math.round(t(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Al(n,e){var t=cn(n,function(_,A){return _+(isNaN(A)?0:A)},0);if(t===0)return[];for(var i=Math.pow(10,e),r=ye(n,function(_){return(isNaN(_)?0:_)/t*i*100}),o=100*i,a=ye(r,function(_){return Math.floor(_)}),l=cn(a,function(_,A){return _+A},0),u=ye(r,function(_,A){return _-a[A]});l<o;){for(var f=Number.NEGATIVE_INFINITY,g=null,v=0,w=u.length;v<w;++v)u[v]>f&&(f=u[v],g=v);++a[g],u[g]=0,++l}return ye(a,function(_){return _/i})}function fp(n,e){var t=Math.max(Ss(n),Ss(e)),i=n+e;return t>20?i:uo(i,t)}var Kf=9007199254740991;function Ml(n){var e=2*Math.PI;return(n%e+e)%e}function gp(n){return n>-1e-4&&n<y0}var ho=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ma(n){if(n instanceof Date)return n;if(kn(n)){var e=ho.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return n==null?new Date(NaN):new Date(Math.round(n))}function Ph(n){return Math.pow(10,Bu(n))}function Bu(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function Jf(n,e){var t=Bu(n),i=Math.pow(10,t),r=n/i;return n=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,t>=-20?+n.toFixed(t<0?-t:0):n}function Nh(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),r=+n[i-1],o=t-i;return o?r+o*(n[i]-r):r}function Qf(n){n.sort(function(u,f){return l(u,f,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-t),e=r[a],t=o[a];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function l(u,f,g){return u.interval[g]<f.interval[g]||u.interval[g]===f.interval[g]&&(u.close[g]-f.close[g]==(g?-1:1)||!g&&l(u,f,1))}}function Da(n){var e=parseFloat(n);return e==n&&(e!==0||!kn(n)||n.indexOf("x")<=0)?e:NaN}function mp(n){return!isNaN(Da(n))}function zu(){return Math.round(9*Math.random())}function il(n,e){return e===0?n:il(e,n%e)}function tg(n,e){return n==null?e:e==null?n:n*e/il(n,e)}function Sr(n){throw new Error(n)}function qm(n,e,t){return(e-n)*t+n}var eg="series\0",vp="\0_ec_\0";function Fr(n){return n instanceof Array?n:n==null?[]:[n]}function qc(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,r=t.length;i<r;i++){var o=t[i];!n.emphasis[e].hasOwnProperty(o)&&n[e].hasOwnProperty(o)&&(n.emphasis[e][o]=n[e][o])}}}var Um=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Fu(n){return!Zn(n)||he(n)||n instanceof Date?n:n.value}function x0(n){return Zn(n)&&!(n instanceof Array)}function ng(n,e,t){var i=t==="normalMerge",r=t==="replaceMerge",o=t==="replaceAll";n=n||[],e=(e||[]).slice();var a=yn();U(e,function(g,v){Zn(g)||(e[v]=null)});var l,u,f=function(g,v,w){var _=[];if(w==="replaceAll")return _;for(var A=0;A<g.length;A++){var T=g[A];T&&T.id!=null&&v.set(T.id,A),_.push({existing:w==="replaceMerge"||yp(T)?null:T,newOption:null,keyInfo:null,brandNew:null})}return _}(n,a,t);return(i||r)&&function(g,v,w,_){U(_,function(A,T){if(A&&A.id!=null){var L=Fs(A.id),R=w.get(L);if(R!=null){var z=g[R];ve(!z.newOption,'Duplicated option on id "'+L+'".'),z.newOption=A,z.existing=v[R],_[T]=null}}})}(f,n,a,e),i&&function(g,v){U(v,function(w,_){if(w&&w.name!=null)for(var A=0;A<g.length;A++){var T=g[A].existing;if(!g[A].newOption&&T&&(T.id==null||w.id==null)&&!yp(w)&&!yp(T)&&$m("name",T,w))return g[A].newOption=w,void(v[_]=null)}})}(f,e),i||r?function(g,v,w){U(v,function(_){if(_){for(var A,T=0;(A=g[T])&&(A.newOption||yp(A.existing)||A.existing&&_.id!=null&&!$m("id",_,A.existing));)T++;A?(A.newOption=_,A.brandNew=w):g.push({newOption:_,brandNew:w,existing:null,keyInfo:null}),T++}})}(f,e,r):o&&function(g,v){U(v,function(w){g.push({newOption:w,brandNew:!0,existing:null,keyInfo:null})})}(f,e),l=f,u=yn(),U(l,function(g){var v=g.existing;v&&u.set(v.id,g)}),U(l,function(g){var v=g.newOption;ve(!v||v.id==null||!u.get(v.id)||u.get(v.id)===g,"id duplicates: "+(v&&v.id)),v&&v.id!=null&&u.set(v.id,g),!g.keyInfo&&(g.keyInfo={})}),U(l,function(g,v){var w=g.existing,_=g.newOption,A=g.keyInfo;if(Zn(_)){if(A.name=_.name!=null?Fs(_.name):w?w.name:eg+v,w)A.id=Fs(w.id);else if(_.id!=null)A.id=Fs(_.id);else{var T=0;do A.id="\0"+A.name+"\0"+T++;while(u.get(A.id))}u.set(A.id,g)}}),f}function $m(n,e,t){var i=po(e[n],null),r=po(t[n],null);return i!=null&&r!=null&&i===r}function Fs(n){return po(n,"")}function po(n,e){return n==null?e:kn(n)?n:fi(n)||Gn(n)?n+"":e}function wa(n){var e=n.name;return!(!e||!e.indexOf(eg))}function yp(n){return n&&n.id!=null&&Fs(n.id).indexOf(vp)===0}function Uc(n,e){return e.dataIndexInside!=null?e.dataIndexInside:e.dataIndex!=null?he(e.dataIndex)?ye(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex):e.name!=null?he(e.name)?ye(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name):void 0}function hr(){var n="__ec_inner_"+b0++;return function(e){return e[n]||(e[n]={})}}var b0=zu();function Vu(n,e,t){var i=hc(e,t),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,l=t?t.defaultMainType:null;return!r&&l&&o.set(l,{}),o.each(function(u,f){var g=dc(n,f,u,{useDefault:l===f,enableAll:!t||t.enableAll==null||t.enableAll,enableNone:!t||t.enableNone==null||t.enableNone});a[f+"Models"]=g.models,a[f+"Model"]=g.models[0]}),a}function hc(n,e){var t;if(kn(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var r=yn(),o={},a=!1;return U(t,function(l,u){if(u!=="dataIndex"&&u!=="dataIndexInside"){var f=u.match(/^(\w+)(Index|Id|Name)$/)||[],g=f[1],v=(f[2]||"").toLowerCase();g&&v&&!(e&&e.includeMainTypes&&rn(e.includeMainTypes,g)<0)&&(a=a||!!g,(r.get(g)||r.set(g,{}))[v]=l)}else o[u]=l}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var go={useDefault:!0,enableAll:!1,enableNone:!1},Zm={useDefault:!1,enableAll:!0,enableNone:!0};function dc(n,e,t,i){i=i||go;var r=t.index,o=t.id,a=t.name,l={models:null,specified:r!=null||o!=null||a!=null};if(!l.specified){var u=void 0;return l.models=i.useDefault&&(u=n.getComponent(e))?[u]:[],l}return r==="none"||r===!1?(ve(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):(r==="all"&&(ve(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),l.models=n.queryComponents({mainType:e,index:r,id:o,name:a}),l)}function Tl(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function Hu(n,e){var t=yn(),i=[];return U(n,function(r){var o=e(r);(t.get(o)||(i.push(o),t.set(o,[]))).push(r)}),{keys:i,buckets:t}}function Rh(n,e,t,i,r){var o=e==null||e==="auto";if(i==null)return i;if(fi(i))return uo(A=qm(t||0,i,r),o?Math.max(Ss(t||0),Ss(i)):e);if(kn(i))return r<1?t:i;for(var a=[],l=t,u=i,f=Math.max(l?l.length:0,u.length),g=0;g<f;++g){var v=n.getDimensionInfo(g);if(v&&v.type==="ordinal")a[g]=(r<1&&l?l:u)[g];else{var w=l&&l[g]?l[g]:0,_=u[g],A=qm(w,_,r);a[g]=uo(A,o?Math.max(Ss(w),Ss(_)):e)}}return a}var Wu="___EC__COMPONENT__CONTAINER___",$c="___EC__EXTENDED_CLASS___";function ao(n){var e={main:"",sub:""};if(n){var t=n.split(".");e.main=t[0]||"",e.sub=t[1]||""}return e}function Bh(n,e){n.$constructor=n,n.extend=function(t){var i,r,o=this;return In(r=o)&&/^class\s/.test(Function.prototype.toString.call(r))?i=function(a){function l(){return a.apply(this,arguments)||this}return wt(l,a),l}(o):(i=function(){(t.$constructor||o).apply(this,arguments)},ln(i,this)),pe(i.prototype,t),i[$c]=!0,i.extend=this.extend,i.superCall=Fo,i.superApply=rg,i.superClass=o,i}}function ig(n,e){n.extend=e.extend}var R1=Math.round(10*Math.random());function Fo(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function rg(n,e,t){return this.superClass.prototype[e].apply(n,t)}function zh(n){var e={};n.registerClass=function(t){var i,r=t.type||t.prototype.type;if(r){ve(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=r),'componentType "'+i+'" illegal'),t.prototype.type=r;var o=ao(r);if(o.sub){if(o.sub!==Wu){var a=function(l){var u=e[l.main];return u&&u[Wu]||((u=e[l.main]={})[Wu]=!0),u}(o);a[o.sub]=t}}else e[o.main]=t}return t},n.getClass=function(t,i,r){var o=e[t];if(o&&o[Wu]&&(o=i?o[i]:null),r&&!o)throw new Error(i?"Component "+t+"."+(i||"")+" is used but not imported.":t+".type should be specified.");return o},n.getClassesByMainType=function(t){var i=ao(t),r=[],o=e[i.main];return o&&o[Wu]?U(o,function(a,l){l!==Wu&&r.push(a)}):r.push(o),r},n.hasClass=function(t){var i=ao(t);return!!e[i.main]},n.getAllClassMainTypes=function(){var t=[];return U(e,function(i,r){t.push(r)}),t},n.hasSubTypes=function(t){var i=ao(t),r=e[i.main];return r&&r[Wu]}}function Il(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,r,o){for(var a={},l=0;l<n.length;l++){var u=n[l][1];if(!(r&&rn(r,u)>=0||o&&rn(o,u)<0)){var f=i.getShallow(u,e);f!=null&&(a[n[l][0]]=f)}}return a}}var pc=Il([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Km=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return pc(this,e,t)},n}(),Jm=new Tu(50);function w0(n){if(typeof n=="string"){var e=Jm.get(n);return e&&e.image}return n}function xp(n,e,t,i,r){if(n){if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var o=Jm.get(n),a={hostEl:t,cb:i,cbPayload:r};return o?!Fh(e=o.image)&&o.pending.push(a):((e=pt.loadImage(n,Qm,Qm)).__zrImageSrc=n,Jm.put(n,e.__cachedImgObj={image:e,pending:[a]})),e}return n}return e}function Qm(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function Fh(n){return n&&n.width&&n.height}var Zc=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function ju(n,e,t,i,r){if(!e)return"";var o=(n+"").split(`
`);r=tv(e,t,i,r);for(var a=0,l=o.length;a<l;a++)o[a]=Kc(o[a],r);return o.join(`
`)}function tv(n,e,t,i){var r=pe({},i=i||{});r.font=e,t=Rt(t,"..."),r.maxIterations=Rt(i.maxIterations,2);var o=r.minChar=Rt(i.minChar,0);r.cnCharWidth=_s("国",e);var a=r.ascCharWidth=_s("a",e);r.placeholder=Rt(i.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<o&&l>=a;u++)l-=a;var f=_s(t,e);return f>l&&(t="",f=0),l=n-f,r.ellipsis=t,r.ellipsisWidth=f,r.contentWidth=l,r.containerWidth=n,r}function Kc(n,e){var t=e.containerWidth,i=e.font,r=e.contentWidth;if(!t)return"";var o=_s(n,i);if(o<=t)return n;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){n+=e.ellipsis;break}var l=a===0?og(n,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=_s(n=n.substr(0,l),i)}return n===""&&(n=e.placeholder),n}function og(n,e,t,i){for(var r=0,o=0,a=n.length;o<a&&r<e;o++){var l=n.charCodeAt(o);r+=0<=l&&l<=127?t:i}return o}var B1=function(){},bp=function(n){this.tokens=[],n&&(this.tokens=n)},_0=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Jc(n,e,t,i,r){var o,a,l=e==="",u=r&&t.rich[r]||{},f=n.lines,g=u.font||t.font,v=!1;if(i){var w=u.padding,_=w?w[1]+w[3]:0;if(u.width!=null&&u.width!=="auto"){var A=Ho(u.width,i.width)+_;f.length>0&&A+i.accumWidth>i.width&&(o=e.split(`
`),v=!0),i.accumWidth=A}else{var T=ev(e,g,i.width,i.breakAll,i.accumWidth);i.accumWidth=T.accumWidth+_,a=T.linesWidths,o=T.lines}}else o=e.split(`
`);for(var L=0;L<o.length;L++){var R=o[L],z=new B1;if(z.styleName=r,z.text=R,z.isLineHolder=!R&&!l,typeof u.width=="number"?z.width=u.width:z.width=a?a[L]:_s(R,g),L||v)f.push(new bp([z]));else{var j=(f[f.length-1]||(f[0]=new bp)).tokens,X=j.length;X===1&&j[0].isLineHolder?j[0]=z:(R||!X||l)&&j.push(z)}}}var S0=cn(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function Qc(n){return!function(e){var t=e.charCodeAt(0);return t>=33&&t<=383}(n)||!!S0[n]}function ev(n,e,t,i,r){for(var o=[],a=[],l="",u="",f=0,g=0,v=0;v<n.length;v++){var w=n.charAt(v);if(w!==`
`){var _=_s(w,e),A=!i&&!Qc(w);(o.length?g+_>t:r+g+_>t)?g?(l||u)&&(A?(l||(l=u,u="",g=f=0),o.push(l),a.push(g-f),u+=w,l="",g=f+=_):(u&&(l+=u,u="",f=0),o.push(l),a.push(g),l=w,g=_)):A?(o.push(u),a.push(f),u=w,f=_):(o.push(w),a.push(_)):(g+=_,A?(u+=w,f+=_):(u&&(l+=u,u="",f=0),l+=w))}else u&&(l+=u,g+=f),o.push(l),a.push(g),l="",u="",f=0,g=0}return o.length||l||(l=n,u="",f=0),u&&(l+=u),l&&(o.push(l),a.push(g)),o.length===1&&(g+=r),{accumWidth:g,lines:o,linesWidths:a}}var Yu="__zr_style_"+Math.round(10*Math.random()),kr={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},tu={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};kr[Yu]=!0;var $o=["z","z2","invisible"],no=["invisible"],_a=function(n){function e(i){return n.call(this,i)||this}var t;return wt(e,n),e.prototype._init=function(i){for(var r=Re(i),o=0;o<r.length;o++){var a=r[o];a==="style"?this.useStyle(i[a]):n.prototype.attrKV.call(this,a,i[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(i,r,o,a){var l=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&function(g,v,w){return Vh.copy(g.getBoundingRect()),g.transform&&Vh.applyTransform(g.transform),ag.width=v,ag.height=w,!Vh.intersect(ag)}(this,i,r)||l&&!l[0]&&!l[3])return!1;if(o&&this.__clipPaths){for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1}if(a&&this.parent)for(var f=this.parent;f;){if(f.ignore)return!1;f=f.parent}return!0},e.prototype.contain=function(i,r){return this.rectContain(i,r)},e.prototype.traverse=function(i,r){i.call(r,this)},e.prototype.rectContain=function(i,r){var o=this.transformCoordToLocal(i,r);return this.getBoundingRect().contain(o[0],o[1])},e.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),a=this.style,l=a.shadowBlur||0,u=a.shadowOffsetX||0,f=a.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new Qi(0,0,0,0)),r?Qi.applyTransform(i,o,r):i.copy(o),(l||u||f)&&(i.width+=2*l+Math.abs(u),i.height+=2*l+Math.abs(f),i.x=Math.min(i.x,i.x+u-l),i.y=Math.min(i.y,i.y+f-l));var g=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-g),i.y=Math.floor(i.y-g),i.width=Math.ceil(i.width+1+2*g),i.height=Math.ceil(i.height+1+2*g))}return i},e.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new Qi(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(i){return this.animate("style",i)},e.prototype.updateDuringAnimation=function(i){i==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(i,r){i!=="style"?n.prototype.attrKV.call(this,i,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(i,r){return typeof i=="string"?this.style[i]=r:pe(this.style,i),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(i){return Ln(kr,i)},e.prototype.useStyle=function(i){i[Yu]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},e.prototype.isStyleObject=function(i){return i[Yu]},e.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,r,$o)},e.prototype._applyStateObj=function(i,r,o,a,l,u){n.prototype._applyStateObj.call(this,i,r,o,a,l,u);var f,g=!(r&&a);if(r&&r.style?l?a?f=r.style:(f=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(f,r.style)):(f=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(f,r.style)):g&&(f=o.style),f)if(l){var v=this.style;if(this.style=this.createStyle(g?{}:v),g)for(var w=Re(v),_=0;_<w.length;_++)(T=w[_])in f&&(f[T]=f[T],this.style[T]=v[T]);var A=Re(f);for(_=0;_<A.length;_++){var T=A[_];this.style[T]=this.style[T]}this._transitionState(i,{style:f},u,this.getAnimationStyleProps())}else this.useStyle(f);var L=this.__inHover?no:$o;for(_=0;_<L.length;_++)T=L[_],r&&r[T]!=null?this[T]=r[T]:g&&o[T]!=null&&(this[T]=o[T])},e.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var l=i[a];l.style&&(r=r||{},this._mergeStyle(r,l.style))}return r&&(o.style=r),o},e.prototype._mergeStyle=function(i,r){return pe(i,r),i},e.prototype.getAnimationStyleProps=function(){return tu},e.initDefaultProps=((t=e.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=3)),e}(jc),Vh=new Qi(0,0,0,0),ag=new Qi(0,0,0,0),mo=Math.min,Zr=Math.max,Hh=Math.sin,rl=Math.cos,ol=2*Math.PI,Gu=ar(),Vo=ar(),Vs=ar();function fc(n,e,t){if(n.length!==0){for(var i=n[0],r=i[0],o=i[0],a=i[1],l=i[1],u=1;u<n.length;u++)i=n[u],r=mo(r,i[0]),o=Zr(o,i[0]),a=mo(a,i[1]),l=Zr(l,i[1]);e[0]=r,e[1]=a,t[0]=o,t[1]=l}}function Dl(n,e,t,i,r,o){r[0]=mo(n,t),r[1]=mo(e,i),o[0]=Zr(n,t),o[1]=Zr(e,i)}var Ll=[],Ol=[];function wp(n,e,t,i,r,o,a,l,u,f){var g=vs,v=tr,w=g(n,t,r,a,Ll);u[0]=1/0,u[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var _=0;_<w;_++){var A=v(n,t,r,a,Ll[_]);u[0]=mo(A,u[0]),f[0]=Zr(A,f[0])}for(w=g(e,i,o,l,Ol),_=0;_<w;_++){var T=v(e,i,o,l,Ol[_]);u[1]=mo(T,u[1]),f[1]=Zr(T,f[1])}u[0]=mo(n,u[0]),f[0]=Zr(n,f[0]),u[0]=mo(a,u[0]),f[0]=Zr(a,f[0]),u[1]=mo(e,u[1]),f[1]=Zr(e,f[1]),u[1]=mo(l,u[1]),f[1]=Zr(l,f[1])}function Wh(n,e,t,i,r,o,a,l){var u=Mu,f=Ir,g=Zr(mo(u(n,t,r),1),0),v=Zr(mo(u(e,i,o),1),0),w=f(n,t,r,g),_=f(e,i,o,v);a[0]=mo(n,r,w),a[1]=mo(e,o,_),l[0]=Zr(n,r,w),l[1]=Zr(e,o,_)}function jh(n,e,t,i,r,o,a,l,u){var f=$t,g=h,v=Math.abs(r-o);if(v%ol<1e-4&&v>1e-4)return l[0]=n-t,l[1]=e-i,u[0]=n+t,void(u[1]=e+i);if(Gu[0]=rl(r)*t+n,Gu[1]=Hh(r)*i+e,Vo[0]=rl(o)*t+n,Vo[1]=Hh(o)*i+e,f(l,Gu,Vo),g(u,Gu,Vo),(r%=ol)<0&&(r+=ol),(o%=ol)<0&&(o+=ol),r>o&&!a?o+=ol:r<o&&a&&(r+=ol),a){var w=o;o=r,r=w}for(var _=0;_<o;_+=Math.PI/2)_>r&&(Vs[0]=rl(_)*t+n,Vs[1]=Hh(_)*i+e,f(l,Vs,l),g(u,Vs,u))}var zr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Hs=[],Ws=[],ts=[],js=[],D=[],x=[],k=Math.min,O=Math.max,B=Math.cos,H=Math.sin,q=Math.abs,et=Math.PI,at=2*et,dt=typeof Float32Array<"u",Nt=[];function Dt(n){return Math.round(n/et*1e8)/1e8%2*et}function Vt(n,e){var t=Dt(n[0]);t<0&&(t+=at);var i=t-n[0],r=n[1];r+=i,!e&&r-t>=at?r=t+at:e&&t-r>=at?r=t-at:!e&&t>r?r=t+(at-Dt(t-r)):e&&t<r&&(r=t-(at-Dt(r-t))),n[0]=t,n[1]=r}var ae=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){(i=i||0)>0&&(this._ux=q(i/sc/e)||0,this._uy=q(i/sc/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(zr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=q(e-this._xi),r=q(t-this._yi),o=i>this._ux||r>this._uy;if(this.addData(zr.L,e,t),this._ctx&&o&&this._ctx.lineTo(e,t),o)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(e,t,i,r,o,a){return this._drawPendingPt(),this.addData(zr.C,e,t,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(zr.Q,e,t,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(e,t,i,r,o,a){this._drawPendingPt(),Nt[0]=r,Nt[1]=o,Vt(Nt,a),r=Nt[0];var l=(o=Nt[1])-r;return this.addData(zr.A,e,t,i,i,r,l,0,a?0:1),this._ctx&&this._ctx.arc(e,t,i,r,o,a),this._xi=B(o)*i+e,this._yi=H(o)*i+t,this},n.prototype.arcTo=function(e,t,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,o),this},n.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(zr.R,e,t,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(zr.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!dt||(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,o=0;o<t;o++)i+=e[o].len();for(dt&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<t;o++)for(var a=e[o].data,l=0;l<a.length;l++)this.data[r++]=a[l];this._len=r},n.prototype.addData=function(e,t,i,r,o,a,l,u,f){if(this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var v=0;v<arguments.length;v++)g[this._len++]=arguments[v]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,dt&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){ts[0]=ts[1]=D[0]=D[1]=Number.MAX_VALUE,js[0]=js[1]=x[0]=x[1]=-Number.MAX_VALUE;var e,t=this.data,i=0,r=0,o=0,a=0;for(e=0;e<this._len;){var l=t[e++],u=e===1;switch(u&&(o=i=t[e],a=r=t[e+1]),l){case zr.M:i=o=t[e++],r=a=t[e++],D[0]=o,D[1]=a,x[0]=o,x[1]=a;break;case zr.L:Dl(i,r,t[e],t[e+1],D,x),i=t[e++],r=t[e++];break;case zr.C:wp(i,r,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],D,x),i=t[e++],r=t[e++];break;case zr.Q:Wh(i,r,t[e++],t[e++],t[e],t[e+1],D,x),i=t[e++],r=t[e++];break;case zr.A:var f=t[e++],g=t[e++],v=t[e++],w=t[e++],_=t[e++],A=t[e++]+_;e+=1;var T=!t[e++];u&&(o=B(_)*v+f,a=H(_)*w+g),jh(f,g,v,w,_,A,T,D,x),i=B(A)*v+f,r=H(A)*w+g;break;case zr.R:Dl(o=i=t[e++],a=r=t[e++],o+t[e++],a+t[e++],D,x);break;case zr.Z:i=o,r=a}$t(ts,ts,D),h(js,js,x)}return e===0&&(ts[0]=ts[1]=js[0]=js[1]=0),new Qi(ts[0],ts[1],js[0]-ts[0],js[1]-ts[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,o=0,a=0,l=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,g=0,v=0,w=0;w<t;){var _=e[w++],A=w===1;A&&(l=o=e[w],u=a=e[w+1]);var T=-1;switch(_){case zr.M:o=l=e[w++],a=u=e[w++];break;case zr.L:var L=e[w++],R=(X=e[w++])-a;(q(ee=L-o)>i||q(R)>r||w===t-1)&&(T=Math.sqrt(ee*ee+R*R),o=L,a=X);break;case zr.C:var z=e[w++],j=e[w++],X=(L=e[w++],e[w++]),Z=e[w++],Q=e[w++];T=Qo(o,a,z,j,L,X,Z,Q,10),o=Z,a=Q;break;case zr.Q:T=Ro(o,a,z=e[w++],j=e[w++],L=e[w++],X=e[w++],10),o=L,a=X;break;case zr.A:var nt=e[w++],it=e[w++],mt=e[w++],bt=e[w++],St=e[w++],Ot=e[w++],Yt=Ot+St;w+=1,e[w++],A&&(l=B(St)*mt+nt,u=H(St)*bt+it),T=O(mt,bt)*k(at,Math.abs(Ot)),o=B(Yt)*mt+nt,a=H(Yt)*bt+it;break;case zr.R:l=o=e[w++],u=a=e[w++],T=2*e[w++]+2*e[w++];break;case zr.Z:var ee=l-o;R=u-a,T=Math.sqrt(ee*ee+R*R),o=l,a=u}T>=0&&(f[v++]=T,g+=T)}return this._pathLen=g,g},n.prototype.rebuildPath=function(e,t){var i,r,o,a,l,u,f,g,v,w,_=this.data,A=this._ux,T=this._uy,L=this._len,R=t<1,z=0,j=0,X=0;if(!R||(this._pathSegLen||this._calculateLength(),f=this._pathSegLen,g=t*this._pathLen))t:for(var Z=0;Z<L;){var Q=_[Z++],nt=Z===1;switch(nt&&(i=o=_[Z],r=a=_[Z+1]),Q!==zr.L&&X>0&&(e.lineTo(v,w),X=0),Q){case zr.M:i=o=_[Z++],r=a=_[Z++],e.moveTo(o,a);break;case zr.L:l=_[Z++],u=_[Z++];var it=q(l-o),mt=q(u-a);if(it>A||mt>T){if(R){if(z+(Zi=f[j++])>g){var bt=(g-z)/Zi;e.lineTo(o*(1-bt)+l*bt,a*(1-bt)+u*bt);break t}z+=Zi}e.lineTo(l,u),o=l,a=u,X=0}else{var St=it*it+mt*mt;St>X&&(v=l,w=u,X=St)}break;case zr.C:var Ot=_[Z++],Yt=_[Z++],ee=_[Z++],le=_[Z++],ge=_[Z++],be=_[Z++];if(R){if(z+(Zi=f[j++])>g){Ya(o,Ot,ee,ge,bt=(g-z)/Zi,Hs),Ya(a,Yt,le,be,bt,Ws),e.bezierCurveTo(Hs[1],Ws[1],Hs[2],Ws[2],Hs[3],Ws[3]);break t}z+=Zi}e.bezierCurveTo(Ot,Yt,ee,le,ge,be),o=ge,a=be;break;case zr.Q:if(Ot=_[Z++],Yt=_[Z++],ee=_[Z++],le=_[Z++],R){if(z+(Zi=f[j++])>g){Xa(o,Ot,ee,bt=(g-z)/Zi,Hs),Xa(a,Yt,le,bt,Ws),e.quadraticCurveTo(Hs[1],Ws[1],Hs[2],Ws[2]);break t}z+=Zi}e.quadraticCurveTo(Ot,Yt,ee,le),o=ee,a=le;break;case zr.A:var Ie=_[Z++],He=_[Z++],qe=_[Z++],Ke=_[Z++],bn=_[Z++],Rn=_[Z++],Je=_[Z++],Tn=!_[Z++],Fn=qe>Ke?qe:Ke,Xn=q(qe-Ke)>.001,Vn=bn+Rn,qn=!1;if(R&&(z+(Zi=f[j++])>g&&(Vn=bn+Rn*(g-z)/Zi,qn=!0),z+=Zi),Xn&&e.ellipse?e.ellipse(Ie,He,qe,Ke,Je,bn,Vn,Tn):e.arc(Ie,He,Fn,bn,Vn,Tn),qn)break t;nt&&(i=B(bn)*qe+Ie,r=H(bn)*Ke+He),o=B(Vn)*qe+Ie,a=H(Vn)*Ke+He;break;case zr.R:i=o=_[Z],r=a=_[Z+1],l=_[Z++],u=_[Z++];var Hn=_[Z++],ni=_[Z++];if(R){if(z+(Zi=f[j++])>g){var wi=g-z;e.moveTo(l,u),e.lineTo(l+k(wi,Hn),u),(wi-=Hn)>0&&e.lineTo(l+Hn,u+k(wi,ni)),(wi-=ni)>0&&e.lineTo(l+O(Hn-wi,0),u+ni),(wi-=Hn)>0&&e.lineTo(l,u+O(ni-wi,0));break t}z+=Zi}e.rect(l,u,Hn,ni);break;case zr.Z:if(R){var Zi;if(z+(Zi=f[j++])>g){bt=(g-z)/Zi,e.lineTo(o*(1-bt)+i*bt,a*(1-bt)+r*bt);break t}z+=Zi}e.closePath(),o=i,a=r}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=zr,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();function Se(n,e,t,i,r,o,a){if(r===0)return!1;var l=r,u=0;if(a>e+l&&a>i+l||a<e-l&&a<i-l||o>n+l&&o>t+l||o<n-l&&o<t-l)return!1;if(n===t)return Math.abs(o-n)<=l/2;var f=(u=(e-i)/(n-t))*o-a+(n*i-t*e)/(n-t);return f*f/(u*u+1)<=l/2*l/2}function me(n,e,t,i,r,o,a,l,u,f,g){if(u===0)return!1;var v=u;return!(g>e+v&&g>i+v&&g>o+v&&g>l+v||g<e-v&&g<i-v&&g<o-v&&g<l-v||f>n+v&&f>t+v&&f>r+v&&f>a+v||f<n-v&&f<t-v&&f<r-v&&f<a-v)&&Xo(n,e,t,i,r,o,a,l,f,g,null)<=v/2}function we(n,e,t,i,r,o,a,l,u){if(a===0)return!1;var f=a;return!(u>e+f&&u>i+f&&u>o+f||u<e-f&&u<i-f&&u<o-f||l>n+f&&l>t+f&&l>r+f||l<n-f&&l<t-f&&l<r-f)&&Ql(n,e,t,i,r,o,l,u,null)<=f/2}var je=2*Math.PI;function pn(n){return(n%=je)<0&&(n+=je),n}var dn=2*Math.PI;function fn(n,e,t,i,r,o,a,l,u){if(a===0)return!1;var f=a;l-=n,u-=e;var g=Math.sqrt(l*l+u*u);if(g-f>t||g+f<t)return!1;if(Math.abs(i-r)%dn<1e-4)return!0;if(o){var v=i;i=pn(r),r=pn(v)}else i=pn(i),r=pn(r);i>r&&(r+=dn);var w=Math.atan2(u,l);return w<0&&(w+=dn),w>=i&&w<=r||w+dn>=i&&w+dn<=r}function An(n,e,t,i,r,o){if(o>e&&o>i||o<e&&o<i||i===e)return 0;var a=(o-e)/(i-e),l=i<e?1:-1;a!==1&&a!==0||(l=i<e?.5:-.5);var u=a*(t-n)+n;return u===r?1/0:u>r?l:0}var Nn=ae.CMD,oi=2*Math.PI,ci=[-1,-1,-1],hi=[-1,-1];function gi(n,e,t,i,r,o,a,l,u,f){if(f>e&&f>i&&f>o&&f>l||f<e&&f<i&&f<o&&f<l)return 0;var g,v=kh(e,i,o,l,f,ci);if(v===0)return 0;for(var w=0,_=-1,A=void 0,T=void 0,L=0;L<v;L++){var R=ci[L],z=R===0||R===1?.5:1;tr(n,t,r,a,R)<u||(_<0&&(_=vs(e,i,o,l,hi),hi[1]<hi[0]&&_>1&&(g=void 0,g=hi[0],hi[0]=hi[1],hi[1]=g),A=tr(e,i,o,l,hi[0]),_>1&&(T=tr(e,i,o,l,hi[1]))),_===2?R<hi[0]?w+=A<e?z:-z:R<hi[1]?w+=T<A?z:-z:w+=l<T?z:-z:R<hi[0]?w+=A<e?z:-z:w+=l<A?z:-z)}return w}function zi(n,e,t,i,r,o,a,l){if(l>e&&l>i&&l>o||l<e&&l<i&&l<o)return 0;var u=function(A,T,L,R,z){var j=A-2*T+L,X=2*(T-A),Z=A-R,Q=0;if(Go(j))Hf(X)&&(it=-Z/X)>=0&&it<=1&&(z[Q++]=it);else{var nt=X*X-4*j*Z;if(Go(nt))(it=-X/(2*j))>=0&&it<=1&&(z[Q++]=it);else if(nt>0){var it,mt=ms(nt),bt=(-X-mt)/(2*j);(it=(-X+mt)/(2*j))>=0&&it<=1&&(z[Q++]=it),bt>=0&&bt<=1&&(z[Q++]=bt)}}return Q}(e,i,o,l,ci);if(u===0)return 0;var f=Mu(e,i,o);if(f>=0&&f<=1){for(var g=0,v=Ir(e,i,o,f),w=0;w<u;w++){var _=ci[w]===0||ci[w]===1?.5:1;Ir(n,t,r,ci[w])<a||(ci[w]<f?g+=v<e?_:-_:g+=o<v?_:-_)}return g}return _=ci[0]===0||ci[0]===1?.5:1,Ir(n,t,r,ci[0])<a?0:o<e?_:-_}function Li(n,e,t,i,r,o,a,l){if((l-=e)>t||l<-t)return 0;var u=Math.sqrt(t*t-l*l);ci[0]=-u,ci[1]=u;var f=Math.abs(i-r);if(f<1e-4)return 0;if(f>=oi-1e-4){i=0,r=oi;var g=o?1:-1;return a>=ci[0]+n&&a<=ci[1]+n?g:0}if(i>r){var v=i;i=r,r=v}i<0&&(i+=oi,r+=oi);for(var w=0,_=0;_<2;_++){var A=ci[_];if(A+n>a){var T=Math.atan2(l,A);g=o?1:-1,T<0&&(T=oi+T),(T>=i&&T<=r||T+oi>=i&&T+oi<=r)&&(T>Math.PI/2&&T<1.5*Math.PI&&(g=-g),w+=g)}}return w}function Mi(n,e,t,i,r){for(var o,a,l,u,f=n.data,g=n.len(),v=0,w=0,_=0,A=0,T=0,L=0;L<g;){var R=f[L++],z=L===1;switch(R===Nn.M&&L>1&&(t||(v+=An(w,_,A,T,i,r))),z&&(A=w=f[L],T=_=f[L+1]),R){case Nn.M:w=A=f[L++],_=T=f[L++];break;case Nn.L:if(t){if(Se(w,_,f[L],f[L+1],e,i,r))return!0}else v+=An(w,_,f[L],f[L+1],i,r)||0;w=f[L++],_=f[L++];break;case Nn.C:if(t){if(me(w,_,f[L++],f[L++],f[L++],f[L++],f[L],f[L+1],e,i,r))return!0}else v+=gi(w,_,f[L++],f[L++],f[L++],f[L++],f[L],f[L+1],i,r)||0;w=f[L++],_=f[L++];break;case Nn.Q:if(t){if(we(w,_,f[L++],f[L++],f[L],f[L+1],e,i,r))return!0}else v+=zi(w,_,f[L++],f[L++],f[L],f[L+1],i,r)||0;w=f[L++],_=f[L++];break;case Nn.A:var j=f[L++],X=f[L++],Z=f[L++],Q=f[L++],nt=f[L++],it=f[L++];L+=1;var mt=!!(1-f[L++]);o=Math.cos(nt)*Z+j,a=Math.sin(nt)*Q+X,z?(A=o,T=a):v+=An(w,_,o,a,i,r);var bt=(i-j)*Q/Z+j;if(t){if(fn(j,X,Q,nt,nt+it,mt,e,bt,r))return!0}else v+=Li(j,X,Q,nt,nt+it,mt,bt,r);w=Math.cos(nt+it)*Z+j,_=Math.sin(nt+it)*Q+X;break;case Nn.R:if(A=w=f[L++],T=_=f[L++],o=A+f[L++],a=T+f[L++],t){if(Se(A,T,o,T,e,i,r)||Se(o,T,o,a,e,i,r)||Se(o,a,A,a,e,i,r)||Se(A,a,A,T,e,i,r))return!0}else v+=An(o,T,o,a,i,r),v+=An(A,a,A,T,i,r);break;case Nn.Z:if(t){if(Se(w,_,A,T,e,i,r))return!0}else v+=An(w,_,A,T,i,r);w=A,_=T}}return t||(l=_,u=T,Math.abs(l-u)<1e-4)||(v+=An(w,_,A,T,i,r)||0),v!==0}var vi=De({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},kr),Ci={style:De({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},tu.style)},tn=Ia.concat(["invisible","culling","z","z2","zlevel","parent"]),Ti=function(n){function e(i){return n.call(this,i)||this}var t;return wt(e,n),e.prototype.update=function(){var i=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new e;o.buildPath===e.prototype.buildPath&&(o.buildPath=function(f){i.buildPath(f,i.shape)}),o.silent=!0;var a=o.style;for(var l in r)a[l]!==r[l]&&(a[l]=r[l]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var u=0;u<tn.length;++u)o[tn[u]]=this[tn[u]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(i){var r=Re(i);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<r.length;a++){var l=r[a],u=i[l];l==="style"?this.style?pe(this.style,u):this.useStyle(u):l==="shape"?pe(this.shape,u):n.prototype.attrKV.call(this,l,u)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var i=this.style.fill;if(i!=="none"){if(kn(i)){var r=bs(i,0);return r>.5?cp:r>.2?"#eee":Uf}if(i)return Uf}return cp},e.prototype.getInsideTextStroke=function(i){var r=this.style.fill;if(kn(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==bs(i,0)<.4)return r}},e.prototype.buildPath=function(i,r,o){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},e.prototype.createPathProxy=function(){this.path=new ae(!1)},e.prototype.hasStroke=function(){var i=this.style,r=i.stroke;return!(r==null||r==="none"||!(i.lineWidth>0))},e.prototype.hasFill=function(){var i=this.style.fill;return i!=null&&i!=="none"},e.prototype.getBoundingRect=function(){var i=this._rect,r=this.style,o=!i;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var l=this.path;(a||4&this.__dirty)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),i=l.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectStroke||(this._rectStroke=i.clone());if(this.__dirty||o){u.copy(i);var f=r.strokeNoScale?this.getLineScale():1,g=r.lineWidth;if(!this.hasFill()){var v=this.strokeContainThreshold;g=Math.max(g,v??4)}f>1e-10&&(u.width+=g/f,u.height+=g/f,u.x-=g/f/2,u.y-=g/f/2)}return u}return i},e.prototype.contain=function(i,r){var o=this.transformCoordToLocal(i,r),a=this.getBoundingRect(),l=this.style;if(i=o[0],r=o[1],a.contain(i,r)){var u=this.path;if(this.hasStroke()){var f=l.lineWidth,g=l.strokeNoScale?this.getLineScale():1;if(g>1e-10&&(this.hasFill()||(f=Math.max(f,this.strokeContainThreshold)),function(v,w,_,A){return Mi(v,w,!0,_,A)}(u,f/g,i,r)))return!0}if(this.hasFill())return function(v,w,_){return Mi(v,0,!1,w,_)}(u,i,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(i){return this.animate("shape",i)},e.prototype.updateDuringAnimation=function(i){i==="style"?this.dirtyStyle():i==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(i,r){i==="shape"?this.setShape(r):n.prototype.attrKV.call(this,i,r)},e.prototype.setShape=function(i,r){var o=this.shape;return o||(o=this.shape={}),typeof i=="string"?o[i]=r:pe(o,i),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(4&this.__dirty)},e.prototype.createStyle=function(i){return Ln(vi,i)},e.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.shape&&!r.shape&&(r.shape=pe({},this.shape))},e.prototype._applyStateObj=function(i,r,o,a,l,u){n.prototype._applyStateObj.call(this,i,r,o,a,l,u);var f,g=!(r&&a);if(r&&r.shape?l?a?f=r.shape:(f=pe({},o.shape),pe(f,r.shape)):(f=pe({},a?this.shape:o.shape),pe(f,r.shape)):g&&(f=o.shape),f)if(l){this.shape=pe({},this.shape);for(var v={},w=Re(f),_=0;_<w.length;_++){var A=w[_];typeof f[A]=="object"?this.shape[A]=f[A]:v[A]=f[A]}this._transitionState(i,{shape:v},u)}else this.shape=f,this.dirtyShape()},e.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var l=i[a];l.shape&&(r=r||{},this._mergeStyle(r,l.shape))}return r&&(o.shape=r),o},e.prototype.getAnimationStyleProps=function(){return Ci},e.prototype.isZeroArea=function(){return!1},e.extend=function(i){var r=function(a){function l(u){var f=a.call(this,u)||this;return i.init&&i.init.call(f,u),f}return wt(l,a),l.prototype.getDefaultStyle=function(){return Gt(i.style)},l.prototype.getDefaultShape=function(){return Gt(i.shape)},l}(e);for(var o in i)typeof i[o]=="function"&&(r.prototype[o]=i[o]);return r},e.initDefaultProps=((t=e.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=7)),e}(_a),Pr=De({strokeFirst:!0,font:re,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},vi),Gr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return i!=null&&i!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return t!=null&&t!=="none"},e.prototype.createStyle=function(t){return Ln(Pr,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;i!=null?i+="":i="";var r=Ja(i,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var o=t.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(_a);Gr.prototype.type="tspan";var es=De({x:0,y:0},kr),ns={style:De({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},tu.style)},Kr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.createStyle=function(t){return Ln(es,t)},e.prototype._getSize=function(t){var i=this.style,r=i[t];if(r!=null)return r;var o,a=(o=i.image)&&typeof o!="string"&&o.width&&o.height?i.image:this.__image;if(!a)return 0;var l=t==="width"?"height":"width",u=i[l];return u==null?a[t]:a[t]/a[l]*u},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return ns},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Qi(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(_a);Kr.prototype.type="image";var ia=Math.round;function al(n,e,t){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var l=t&&t.lineWidth;return l&&(ia(2*i)===ia(2*r)&&(n.x1=n.x2=Sa(i,l,!0)),ia(2*o)===ia(2*a)&&(n.y1=n.y2=Sa(o,l,!0))),n}}function Cs(n,e,t){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;n.x=i,n.y=r,n.width=o,n.height=a;var l=t&&t.lineWidth;return l&&(n.x=Sa(i,l,!0),n.y=Sa(r,l,!0),n.width=Math.max(Sa(i+o,l,!1)-n.x,o===0?0:1),n.height=Math.max(Sa(r+a,l,!1)-n.y,a===0?0:1)),n}}function Sa(n,e,t){if(!e)return n;var i=ia(2*n);return(i+ia(e))%2==0?i/2:(i+(t?1:-1))/2}var Wk=function(){this.x=0,this.y=0,this.width=0,this.height=0},C0={},br=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultShape=function(){return new Wk},e.prototype.buildPath=function(t,i){var r,o,a,l;if(this.subPixelOptimize){var u=Cs(C0,i,this.style);r=u.x,o=u.y,a=u.width,l=u.height,u.r=i.r,i=u}else r=i.x,o=i.y,a=i.width,l=i.height;i.r?function(f,g){var v,w,_,A,T,L=g.x,R=g.y,z=g.width,j=g.height,X=g.r;z<0&&(L+=z,z=-z),j<0&&(R+=j,j=-j),typeof X=="number"?v=w=_=A=X:X instanceof Array?X.length===1?v=w=_=A=X[0]:X.length===2?(v=_=X[0],w=A=X[1]):X.length===3?(v=X[0],w=A=X[1],_=X[2]):(v=X[0],w=X[1],_=X[2],A=X[3]):v=w=_=A=0,v+w>z&&(v*=z/(T=v+w),w*=z/T),_+A>z&&(_*=z/(T=_+A),A*=z/T),w+_>j&&(w*=j/(T=w+_),_*=j/T),v+A>j&&(v*=j/(T=v+A),A*=j/T),f.moveTo(L+v,R),f.lineTo(L+z-w,R),w!==0&&f.arc(L+z-w,R+w,w,-Math.PI/2,0),f.lineTo(L+z,R+j-_),_!==0&&f.arc(L+z-_,R+j-_,_,0,Math.PI/2),f.lineTo(L+A,R+j),A!==0&&f.arc(L+A,R+j-A,A,Math.PI/2,Math.PI),f.lineTo(L,R+v),v!==0&&f.arc(L+v,R+v,v,Math.PI,1.5*Math.PI)}(t,i):t.rect(r,o,a,l)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Ti);br.prototype.type="rect";var k0={fill:"#000"},jk={style:De({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},tu.style)},wr=function(n){function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=k0,i.attr(t),i}return wt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,H1(t=this.style),U(t.rich,H1),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Qi(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var l=i[a],u=l.getBoundingRect(),f=l.getLocalTransform(r);f?(t.copy(u),t.applyTransform(f),(o=o||t.clone()).union(t)):(o=o||u.clone()).union(u)}this._rect=o||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||k0},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,o=t.rich||r&&{};return pe(t,i),r&&o?(this._mergeRich(o,r),t.rich=o):o&&(t.rich=o),t},e.prototype._mergeRich=function(t,i){for(var r=Re(i),o=0;o<r.length;o++){var a=r[o];t[a]=t[a]||{},pe(t[a],i[a])}},e.prototype.getAnimationStyleProps=function(){return jk},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return i&&i instanceof t||(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||re,r=t.padding,o=function(ge,be){ge!=null&&(ge+="");var Ie,He=be.overflow,qe=be.padding,Ke=be.font,bn=He==="truncate",Rn=Wr(Ke),Je=Rt(be.lineHeight,Rn),Tn=!!be.backgroundColor,Fn=be.lineOverflow==="truncate",Xn=be.width,Vn=(Ie=Xn==null||He!=="break"&&He!=="breakAll"?ge?ge.split(`
`):[]:ge?ev(ge,be.font,Xn,He==="breakAll",0).lines:[]).length*Je,qn=Rt(be.height,Vn);if(Vn>qn&&Fn){var Hn=Math.floor(qn/Je);Ie=Ie.slice(0,Hn)}if(ge&&bn&&Xn!=null)for(var ni=tv(Xn,Ke,be.ellipsis,{minChar:be.truncateMinChar,placeholder:be.placeholder}),wi=0;wi<Ie.length;wi++)Ie[wi]=Kc(Ie[wi],ni);var Zi=qn,nr=0;for(wi=0;wi<Ie.length;wi++)nr=Math.max(_s(Ie[wi],Ke),nr);Xn==null&&(Xn=nr);var Ur=nr;return qe&&(Zi+=qe[0]+qe[2],Ur+=qe[1]+qe[3],Xn+=qe[1]+qe[3]),Tn&&(Ur=Xn),{lines:Ie,height:qn,outerWidth:Ur,outerHeight:Zi,lineHeight:Je,calculatedLineHeight:Rn,contentWidth:nr,contentHeight:Vn,width:Xn}}(qk(t),t),a=W1(t),l=!!t.backgroundColor,u=o.outerHeight,f=o.outerWidth,g=o.contentWidth,v=o.lines,w=o.lineHeight,_=this._defaultStyle,A=t.x||0,T=t.y||0,L=t.align||_.align||"left",R=t.verticalAlign||_.verticalAlign||"top",z=A,j=Co(T,o.contentHeight,R);if(a||r){var X=Eh(A,f,L),Z=Co(T,u,R);a&&this._renderBackground(t,t,X,Z,f,u)}j+=w/2,r&&(z=Xk(A,L,r),R==="top"?j+=r[0]:R==="bottom"&&(j-=r[2]));for(var Q=0,nt=!1,it=gc("fill"in t?t.fill:(nt=!0,_.fill)),mt=La("stroke"in t?t.stroke:l||_.autoStroke&&!nt?null:(Q=2,_.stroke)),bt=t.textShadowBlur>0,St=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),Ot=o.calculatedLineHeight,Yt=0;Yt<v.length;Yt++){var ee=this._getOrCreateChild(Gr),le=ee.createStyle();ee.useStyle(le),le.text=v[Yt],le.x=z,le.y=j,L&&(le.textAlign=L),le.textBaseline="middle",le.opacity=t.opacity,le.strokeFirst=!0,bt&&(le.shadowBlur=t.textShadowBlur||0,le.shadowColor=t.textShadowColor||"transparent",le.shadowOffsetX=t.textShadowOffsetX||0,le.shadowOffsetY=t.textShadowOffsetY||0),le.stroke=mt,le.fill=it,mt&&(le.lineWidth=t.lineWidth||Q,le.lineDash=t.lineDash,le.lineDashOffset=t.lineDashOffset||0),le.font=i,A0(le,t),j+=w,St&&ee.setBoundingRect(new Qi(Eh(le.x,t.width,le.textAlign),Co(le.y,Ot,le.textBaseline),g,Ot))}},e.prototype._updateRichTexts=function(){var t=this.style,i=function(ee,le){var ge=new _0;if(ee!=null&&(ee+=""),!ee)return ge;for(var be,Ie=le.width,He=le.height,qe=le.overflow,Ke=qe!=="break"&&qe!=="breakAll"||Ie==null?null:{width:Ie,accumWidth:0,breakAll:qe==="breakAll"},bn=Zc.lastIndex=0;(be=Zc.exec(ee))!=null;){var Rn=be.index;Rn>bn&&Jc(ge,ee.substring(bn,Rn),le,Ke),Jc(ge,be[2],le,Ke,be[1]),bn=Zc.lastIndex}bn<ee.length&&Jc(ge,ee.substring(bn,ee.length),le,Ke);var Je=[],Tn=0,Fn=0,Xn=le.padding,Vn=qe==="truncate",qn=le.lineOverflow==="truncate";function Hn(Eo,la,ca){Eo.width=la,Eo.lineHeight=ca,Tn+=ca,Fn=Math.max(Fn,la)}t:for(var ni=0;ni<ge.lines.length;ni++){for(var wi=ge.lines[ni],Zi=0,nr=0,Ur=0;Ur<wi.tokens.length;Ur++){var gr=(Ki=wi.tokens[Ur]).styleName&&le.rich[Ki.styleName]||{},vr=Ki.textPadding=gr.padding,eo=vr?vr[1]+vr[3]:0,ro=Ki.font=gr.font||le.font;Ki.contentHeight=Wr(ro);var sa=Rt(gr.height,Ki.contentHeight);if(Ki.innerHeight=sa,vr&&(sa+=vr[0]+vr[2]),Ki.height=sa,Ki.lineHeight=kt(gr.lineHeight,le.lineHeight,sa),Ki.align=gr&&gr.align||le.align,Ki.verticalAlign=gr&&gr.verticalAlign||"middle",qn&&He!=null&&Tn+Ki.lineHeight>He){Ur>0?(wi.tokens=wi.tokens.slice(0,Ur),Hn(wi,nr,Zi),ge.lines=ge.lines.slice(0,ni+1)):ge.lines=ge.lines.slice(0,ni);break t}var ya=gr.width,Gl=ya==null||ya==="auto";if(typeof ya=="string"&&ya.charAt(ya.length-1)==="%")Ki.percentWidth=ya,Je.push(Ki),Ki.contentWidth=_s(Ki.text,ro);else{if(Gl){var Yd=gr.backgroundColor,Rr=Yd&&Yd.image;Rr&&Fh(Rr=w0(Rr))&&(Ki.width=Math.max(Ki.width,Rr.width*sa/Rr.height))}var dr=Vn&&Ie!=null?Ie-nr:null;dr!=null&&dr<Ki.width?!Gl||dr<eo?(Ki.text="",Ki.width=Ki.contentWidth=0):(Ki.text=ju(Ki.text,dr-eo,ro,le.ellipsis,{minChar:le.truncateMinChar}),Ki.width=Ki.contentWidth=_s(Ki.text,ro)):Ki.contentWidth=_s(Ki.text,ro)}Ki.width+=eo,nr+=Ki.width,gr&&(Zi=Math.max(Zi,Ki.lineHeight))}Hn(wi,nr,Zi)}for(ge.outerWidth=ge.width=Rt(Ie,Fn),ge.outerHeight=ge.height=Rt(He,Tn),ge.contentHeight=Tn,ge.contentWidth=Fn,Xn&&(ge.outerWidth+=Xn[1]+Xn[3],ge.outerHeight+=Xn[0]+Xn[2]),ni=0;ni<Je.length;ni++){var Ki,fo=(Ki=Je[ni]).percentWidth;Ki.width=parseInt(fo,10)/100*ge.width}return ge}(qk(t),t),r=i.width,o=i.outerWidth,a=i.outerHeight,l=t.padding,u=t.x||0,f=t.y||0,g=this._defaultStyle,v=t.align||g.align,w=t.verticalAlign||g.verticalAlign,_=Eh(u,o,v),A=Co(f,a,w),T=_,L=A;l&&(T+=l[3],L+=l[0]);var R=T+r;W1(t)&&this._renderBackground(t,t,_,A,o,a);for(var z=!!t.backgroundColor,j=0;j<i.lines.length;j++){for(var X=i.lines[j],Z=X.tokens,Q=Z.length,nt=X.lineHeight,it=X.width,mt=0,bt=T,St=R,Ot=Q-1,Yt=void 0;mt<Q&&(!(Yt=Z[mt]).align||Yt.align==="left");)this._placeToken(Yt,t,nt,L,bt,"left",z),it-=Yt.width,bt+=Yt.width,mt++;for(;Ot>=0&&(Yt=Z[Ot]).align==="right";)this._placeToken(Yt,t,nt,L,St,"right",z),it-=Yt.width,St-=Yt.width,Ot--;for(bt+=(r-(bt-T)-(R-St)-it)/2;mt<=Ot;)Yt=Z[mt],this._placeToken(Yt,t,nt,L,bt+Yt.width/2,"center",z),bt+=Yt.width,mt++;L+=nt}},e.prototype._placeToken=function(t,i,r,o,a,l,u){var f=i.rich[t.styleName]||{};f.text=t.text;var g=t.verticalAlign,v=o+r/2;g==="top"?v=o+t.height/2:g==="bottom"&&(v=o+r-t.height/2),!t.isLineHolder&&W1(f)&&this._renderBackground(f,i,l==="right"?a-t.width:l==="center"?a-t.width/2:a,v-t.height/2,t.width,t.height);var w=!!f.backgroundColor,_=t.textPadding;_&&(a=Xk(a,l,_),v-=t.height/2-_[0]-t.innerHeight/2);var A=this._getOrCreateChild(Gr),T=A.createStyle();A.useStyle(T);var L=this._defaultStyle,R=!1,z=0,j=gc("fill"in f?f.fill:"fill"in i?i.fill:(R=!0,L.fill)),X=La("stroke"in f?f.stroke:"stroke"in i?i.stroke:w||u||L.autoStroke&&!R?null:(z=2,L.stroke)),Z=f.textShadowBlur>0||i.textShadowBlur>0;T.text=t.text,T.x=a,T.y=v,Z&&(T.shadowBlur=f.textShadowBlur||i.textShadowBlur||0,T.shadowColor=f.textShadowColor||i.textShadowColor||"transparent",T.shadowOffsetX=f.textShadowOffsetX||i.textShadowOffsetX||0,T.shadowOffsetY=f.textShadowOffsetY||i.textShadowOffsetY||0),T.textAlign=l,T.textBaseline="middle",T.font=t.font||re,T.opacity=kt(f.opacity,i.opacity,1),A0(T,f),X&&(T.lineWidth=kt(f.lineWidth,i.lineWidth,z),T.lineDash=Rt(f.lineDash,i.lineDash),T.lineDashOffset=i.lineDashOffset||0,T.stroke=X),j&&(T.fill=j);var Q=t.contentWidth,nt=t.contentHeight;A.setBoundingRect(new Qi(Eh(T.x,Q,T.textAlign),Co(T.y,nt,T.textBaseline),Q,nt))},e.prototype._renderBackground=function(t,i,r,o,a,l){var u,f,g,v=t.backgroundColor,w=t.borderWidth,_=t.borderColor,A=v&&v.image,T=v&&!A,L=t.borderRadius,R=this;if(T||t.lineHeight||w&&_){(u=this._getOrCreateChild(br)).useStyle(u.createStyle()),u.style.fill=null;var z=u.shape;z.x=r,z.y=o,z.width=a,z.height=l,z.r=L,u.dirtyShape()}if(T)(g=u.style).fill=v||null,g.fillOpacity=Rt(t.fillOpacity,1);else if(A){(f=this._getOrCreateChild(Kr)).onload=function(){R.dirtyStyle()};var j=f.style;j.image=v.image,j.x=r,j.y=o,j.width=a,j.height=l}w&&_&&((g=u.style).lineWidth=w,g.stroke=_,g.strokeOpacity=Rt(t.strokeOpacity,1),g.lineDash=t.borderDash,g.lineDashOffset=t.borderDashOffset||0,u.strokeContainThreshold=0,u.hasFill()&&u.hasStroke()&&(g.strokeFirst=!0,g.lineWidth*=2));var X=(u||f).style;X.shadowBlur=t.shadowBlur||0,X.shadowColor=t.shadowColor||"transparent",X.shadowOffsetX=t.shadowOffsetX||0,X.shadowOffsetY=t.shadowOffsetY||0,X.opacity=kt(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";return V1(t)&&(i=[t.fontStyle,t.fontWeight,F1(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),i&&Pe(i)||t.textFont||t.font},e}(_a),Yk={left:!0,right:1,center:1},Gk={top:1,bottom:1,middle:1},z1=["fontStyle","fontWeight","fontSize","fontFamily"];function F1(n){return typeof n!="string"||n.indexOf("px")===-1&&n.indexOf("rem")===-1&&n.indexOf("em")===-1?isNaN(+n)?"12px":n+"px":n}function A0(n,e){for(var t=0;t<z1.length;t++){var i=z1[t],r=e[i];r!=null&&(n[i]=r)}}function V1(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function H1(n){if(n){n.font=wr.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||Yk[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||Gk[t]?t:"top",n.padding&&(n.padding=Ut(n.padding))}}function La(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function gc(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function Xk(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function qk(n){var e=n.text;return e!=null&&(e+=""),e}function W1(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var Ui=hr(),M0=function(n,e,t,i){if(i){var r=Ui(i);r.dataIndex=t,r.dataType=e,r.seriesIndex=n,i.type==="group"&&i.traverse(function(o){var a=Ui(o);a.seriesIndex=n,a.dataIndex=t,a.dataType=e})}},j1=1,T0={},Uk=hr(),Y1=hr(),is=["emphasis","blur","select"],di=["normal","emphasis","blur","select"],G1=10,Yh="highlight",I0="downplay",nv="select",iv="unselect",rv="toggleSelect";function sg(n){return n!=null&&n!=="none"}var X1=new Tu(100);function $k(n){if(kn(n)){var e=X1.get(n);return e||(e=tc(n,-.1),X1.put(n,e)),e}if(zn(n)){var t=pe({},n);return t.colorStops=ye(n.colorStops,function(i){return{offset:i.offset,color:tc(i.color,-.1)}}),t}return n}function Oa(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function lg(n){Oa(n,"emphasis",2)}function Zk(n){n.hoverState===2&&Oa(n,"normal",0)}function q1(n){Oa(n,"blur",1)}function Kk(n){n.hoverState===1&&Oa(n,"normal",0)}function QI(n){n.selected=!0}function tD(n){n.selected=!1}function U1(n,e,t){e(n,t)}function eu(n,e,t){U1(n,e,t),n.isGroup&&n.traverse(function(i){U1(i,e,t)})}function D0(n,e){switch(e){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function L0(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return function(i,r,o,a){var l=o&&rn(o,"select")>=0,u=!1;if(i instanceof Ti){var f=Uk(i),g=l&&f.selectFill||f.normalFill,v=l&&f.selectStroke||f.normalStroke;if(sg(g)||sg(v)){var w=(a=a||{}).style||{};w.fill==="inherit"?(u=!0,a=pe({},a),(w=pe({},w)).fill=g):!sg(w.fill)&&sg(g)?(u=!0,a=pe({},a),(w=pe({},w)).fill=$k(g)):!sg(w.stroke)&&sg(v)&&(u||(a=pe({},a),w=pe({},w)),w.stroke=$k(v)),a.style=w}}if(a&&a.z2==null){u||(a=pe({},a));var _=i.z2EmphasisLift;a.z2=i.z2+(_??G1)}return a}(this,0,e,t);if(n==="blur")return function(i,r,o){var a=rn(i.currentStates,r)>=0,l=i.style.opacity,u=a?null:function(g,v,w,_){for(var A=g.style,T={},L=0;L<v.length;L++){var R=v[L],z=A[R];T[R]=z??(_&&_[R])}for(L=0;L<g.animators.length;L++){var j=g.animators[L];j.__fromStateTransition&&j.__fromStateTransition.indexOf(w)<0&&j.targetName==="style"&&j.saveTo(T,v)}return T}(i,["opacity"],r,{opacity:1}),f=(o=o||{}).style||{};return f.opacity==null&&(o=pe({},o),f=pe({opacity:a?l:.1*u.opacity},f),o.style=f),o}(this,n,t);if(n==="select")return function(i,r,o){if(o&&o.z2==null){o=pe({},o);var a=i.z2SelectLift;o.z2=i.z2+(a??9)}return o}(this,0,t)}return t}function _p(n){n.stateProxy=L0;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=L0),t&&(t.stateProxy=L0)}function Jk(n,e){!Z1(n,e)&&!n.__highByOuter&&eu(n,lg)}function Qk(n,e){!Z1(n,e)&&!n.__highByOuter&&eu(n,Zk)}function Xu(n,e){n.__highByOuter|=1<<(e||0),eu(n,lg)}function qu(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&eu(n,Zk)}function tA(n){eu(n,q1)}function ov(n){eu(n,Kk)}function $1(n){eu(n,QI)}function eA(n){eu(n,tD)}function Z1(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function nA(n){var e=n.getModel(),t=[],i=[];e.eachComponent(function(r,o){var a=Y1(o),l=r==="series",u=l?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!l&&i.push(u),a.isBlured&&(u.group.traverse(function(f){Kk(f)}),l&&t.push(o)),a.isBlured=!1}),U(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,e)})}function K1(n,e,t,i){var r=i.getModel();function o(f,g){for(var v=0;v<g.length;v++){var w=f.getItemGraphicEl(g[v]);w&&ov(w)}}if(t=t||"coordinateSystem",n!=null&&e&&e!=="none"){var a=r.getSeriesByIndex(n),l=a.coordinateSystem;l&&l.master&&(l=l.master);var u=[];r.eachSeries(function(f){var g=a===f,v=f.coordinateSystem;if(v&&v.master&&(v=v.master),!(t==="series"&&!g||t==="coordinateSystem"&&!(v&&l?v===l:g)||e==="series"&&g)){if(i.getViewOfSeriesModel(f).group.traverse(function(A){q1(A)}),Oe(e))o(f.getData(),e);else if(Zn(e))for(var w=Re(e),_=0;_<w.length;_++)o(f.getData(w[_]),e[w[_]]);u.push(f),Y1(f).isBlured=!0}}),r.eachComponent(function(f,g){if(f!=="series"){var v=i.getViewOfComponentModel(g);v&&v.toggleBlurSeries&&v.toggleBlurSeries(u,!0,r)}})}}function J1(n,e,t){if(n!=null&&e!=null){var i=t.getModel().getComponent(n,e);if(i){Y1(i).isBlured=!0;var r=t.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(o){q1(o)})}}}function O0(n,e,t,i){var r={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return r;var o=i.getModel().getComponent(n,e);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var l,u=a.findHighDownDispatchers(t),f=0;f<u.length;f++)if(Ui(u[f]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:u}}function iA(n){U(n.getAllData(),function(e){var t=e.data,i=e.type;t.eachItemGraphicEl(function(r,o){n.isSelected(o,i)?$1(r):eA(r)})})}function eD(n){var e=[];return n.eachSeries(function(t){U(t.getAllData(),function(i){i.data;var r=i.type,o=t.getSelectedDataIndices();if(o.length>0){var a={dataIndex:o,seriesIndex:t.seriesIndex};r!=null&&(a.dataType=r),e.push(a)}})}),e}function Uu(n,e,t){Sp(n,!0),eu(n,_p),Q1(n,e,t)}function Io(n,e,t,i){i?function(r){Sp(r,!1)}(n):Uu(n,e,t)}function Q1(n,e,t){var i=Ui(n);e!=null?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var tw=["emphasis","blur","select"],nD={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Wo(n,e,t,i){t=t||"itemStyle";for(var r=0;r<tw.length;r++){var o=tw[r],a=e.getModel([o,t]);n.ensureState(o).style=i?i(a):a[nD[t]]()}}function Sp(n,e){var t=e===!1,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),t&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function Cp(n){return!(!n||!n.__highDownDispatcher)}function ew(n){var e=n.type;return e===nv||e===iv||e===rv}function cg(n){var e=n.type;return e===Yh||e===I0}var ug=ae.CMD,iD=[[],[],[]],rA=Math.sqrt,rD=Math.atan2;function oA(n,e){if(e){var t,i,r,o,a,l,u=n.data,f=n.len(),g=ug.M,v=ug.C,w=ug.L,_=ug.R,A=ug.A,T=ug.Q;for(r=0,o=0;r<f;){switch(t=u[r++],o=r,i=0,t){case g:case w:i=1;break;case v:i=3;break;case T:i=2;break;case A:var L=e[4],R=e[5],z=rA(e[0]*e[0]+e[1]*e[1]),j=rA(e[2]*e[2]+e[3]*e[3]),X=rD(-e[1]/j,e[0]/z);u[r]*=z,u[r++]+=L,u[r]*=j,u[r++]+=R,u[r++]*=z,u[r++]*=j,u[r++]+=X,u[r++]+=X,o=r+=2;break;case _:l[0]=u[r++],l[1]=u[r++],Or(l,l,e),u[o++]=l[0],u[o++]=l[1],l[0]+=u[r++],l[1]+=u[r++],Or(l,l,e),u[o++]=l[0],u[o++]=l[1]}for(a=0;a<i;a++){var Z=iD[a];Z[0]=u[r++],Z[1]=u[r++],Or(Z,Z,e),u[o++]=Z[0],u[o++]=Z[1]}}n.increaseVersion()}}var av=Math.sqrt,E0=Math.sin,P0=Math.cos,sv=Math.PI;function aA(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function nw(n,e){return(n[0]*e[0]+n[1]*e[1])/(aA(n)*aA(e))}function sA(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(nw(n,e))}function iw(n,e,t,i,r,o,a,l,u,f,g){var v=u*(sv/180),w=P0(v)*(n-t)/2+E0(v)*(e-i)/2,_=-1*E0(v)*(n-t)/2+P0(v)*(e-i)/2,A=w*w/(a*a)+_*_/(l*l);A>1&&(a*=av(A),l*=av(A));var T=(r===o?-1:1)*av((a*a*(l*l)-a*a*(_*_)-l*l*(w*w))/(a*a*(_*_)+l*l*(w*w)))||0,L=T*a*_/l,R=T*-l*w/a,z=(n+t)/2+P0(v)*L-E0(v)*R,j=(e+i)/2+E0(v)*L+P0(v)*R,X=sA([1,0],[(w-L)/a,(_-R)/l]),Z=[(w-L)/a,(_-R)/l],Q=[(-1*w-L)/a,(-1*_-R)/l],nt=sA(Z,Q);if(nw(Z,Q)<=-1&&(nt=sv),nw(Z,Q)>=1&&(nt=0),nt<0){var it=Math.round(nt/sv*1e6)/1e6;nt=2*sv+it%2*sv}g.addData(f,z,j,a,l,X,nt,v,o)}var lA=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,N0=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,cA=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.applyTransform=function(t){},e}(Ti);function uA(n){return n.setData!=null}function hA(n,e){var t=function(r){var o=new ae;if(!r)return o;var a,l=0,u=0,f=l,g=u,v=ae.CMD,w=r.match(lA);if(!w)return o;for(var _=0;_<w.length;_++){for(var A=w[_],T=A.charAt(0),L=void 0,R=A.match(N0)||[],z=R.length,j=0;j<z;j++)R[j]=parseFloat(R[j]);for(var X=0;X<z;){var Z=void 0,Q=void 0,nt=void 0,it=void 0,mt=void 0,bt=void 0,St=void 0,Ot=l,Yt=u,ee=void 0,le=void 0;switch(T){case"l":l+=R[X++],u+=R[X++],L=v.L,o.addData(L,l,u);break;case"L":l=R[X++],u=R[X++],L=v.L,o.addData(L,l,u);break;case"m":l+=R[X++],u+=R[X++],L=v.M,o.addData(L,l,u),f=l,g=u,T="l";break;case"M":l=R[X++],u=R[X++],L=v.M,o.addData(L,l,u),f=l,g=u,T="L";break;case"h":l+=R[X++],L=v.L,o.addData(L,l,u);break;case"H":l=R[X++],L=v.L,o.addData(L,l,u);break;case"v":u+=R[X++],L=v.L,o.addData(L,l,u);break;case"V":u=R[X++],L=v.L,o.addData(L,l,u);break;case"C":L=v.C,o.addData(L,R[X++],R[X++],R[X++],R[X++],R[X++],R[X++]),l=R[X-2],u=R[X-1];break;case"c":L=v.C,o.addData(L,R[X++]+l,R[X++]+u,R[X++]+l,R[X++]+u,R[X++]+l,R[X++]+u),l+=R[X-2],u+=R[X-1];break;case"S":Z=l,Q=u,ee=o.len(),le=o.data,a===v.C&&(Z+=l-le[ee-4],Q+=u-le[ee-3]),L=v.C,Ot=R[X++],Yt=R[X++],l=R[X++],u=R[X++],o.addData(L,Z,Q,Ot,Yt,l,u);break;case"s":Z=l,Q=u,ee=o.len(),le=o.data,a===v.C&&(Z+=l-le[ee-4],Q+=u-le[ee-3]),L=v.C,Ot=l+R[X++],Yt=u+R[X++],l+=R[X++],u+=R[X++],o.addData(L,Z,Q,Ot,Yt,l,u);break;case"Q":Ot=R[X++],Yt=R[X++],l=R[X++],u=R[X++],L=v.Q,o.addData(L,Ot,Yt,l,u);break;case"q":Ot=R[X++]+l,Yt=R[X++]+u,l+=R[X++],u+=R[X++],L=v.Q,o.addData(L,Ot,Yt,l,u);break;case"T":Z=l,Q=u,ee=o.len(),le=o.data,a===v.Q&&(Z+=l-le[ee-4],Q+=u-le[ee-3]),l=R[X++],u=R[X++],L=v.Q,o.addData(L,Z,Q,l,u);break;case"t":Z=l,Q=u,ee=o.len(),le=o.data,a===v.Q&&(Z+=l-le[ee-4],Q+=u-le[ee-3]),l+=R[X++],u+=R[X++],L=v.Q,o.addData(L,Z,Q,l,u);break;case"A":nt=R[X++],it=R[X++],mt=R[X++],bt=R[X++],St=R[X++],iw(Ot=l,Yt=u,l=R[X++],u=R[X++],bt,St,nt,it,mt,L=v.A,o);break;case"a":nt=R[X++],it=R[X++],mt=R[X++],bt=R[X++],St=R[X++],iw(Ot=l,Yt=u,l+=R[X++],u+=R[X++],bt,St,nt,it,mt,L=v.A,o)}}T!=="z"&&T!=="Z"||(L=v.Z,o.addData(L),l=f,u=g),a=L}return o.toStatic(),o}(n),i=pe({},e);return i.buildPath=function(r){if(uA(r))r.setData(t.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;t.rebuildPath(o,1)}},i.applyTransform=function(r){oA(t,r),this.dirtyShape()},i}function dA(n,e){return new cA(hA(n,e))}function R0(n,e){e=e||{};var t=new Ti;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?oA(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var oD=function(){this.cx=0,this.cy=0,this.r=0},El=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultShape=function(){return new oD},e.prototype.buildPath=function(t,i){t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,2*Math.PI)},e}(Ti);El.prototype.type="circle";var aD=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},lv=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultShape=function(){return new aD},e.prototype.buildPath=function(t,i){var r=.5522848,o=i.cx,a=i.cy,l=i.rx,u=i.ry,f=l*r,g=u*r;t.moveTo(o-l,a),t.bezierCurveTo(o-l,a-g,o-f,a-u,o,a-u),t.bezierCurveTo(o+f,a-u,o+l,a-g,o+l,a),t.bezierCurveTo(o+l,a+g,o+f,a+u,o,a+u),t.bezierCurveTo(o-f,a+u,o-l,a+g,o-l,a),t.closePath()},e}(Ti);lv.prototype.type="ellipse";var pA=Math.PI,rw=2*pA,kp=Math.sin,hg=Math.cos,B0=Math.acos,rs=Math.atan2,fA=Math.abs,cv=Math.sqrt,uv=Math.max,nu=Math.min,mc=1e-4;function z0(n,e,t,i,r,o,a){var l=n-t,u=e-i,f=(a?o:-o)/cv(l*l+u*u),g=f*u,v=-f*l,w=n+g,_=e+v,A=t+g,T=i+v,L=(w+A)/2,R=(_+T)/2,z=A-w,j=T-_,X=z*z+j*j,Z=r-o,Q=w*T-A*_,nt=(j<0?-1:1)*cv(uv(0,Z*Z*X-Q*Q)),it=(Q*j-z*nt)/X,mt=(-Q*z-j*nt)/X,bt=(Q*j+z*nt)/X,St=(-Q*z+j*nt)/X,Ot=it-L,Yt=mt-R,ee=bt-L,le=St-R;return Ot*Ot+Yt*Yt>ee*ee+le*le&&(it=bt,mt=St),{cx:it,cy:mt,x0:-g,y0:-v,x1:it*(r/Z-1),y1:mt*(r/Z-1)}}function sD(n,e){var t,i=uv(e.r,0),r=uv(e.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var l=e.startAngle,u=e.endAngle;if(!isNaN(l)&&!isNaN(u)){var f=e.cx,g=e.cy,v=!!e.clockwise,w=fA(u-l),_=w>rw&&w%rw;if(_>mc&&(w=_),i>mc)if(w>rw-mc)n.moveTo(f+i*hg(l),g+i*kp(l)),n.arc(f,g,i,l,u,!v),r>mc&&(n.moveTo(f+r*hg(u),g+r*kp(u)),n.arc(f,g,r,u,l,v));else{var A=void 0,T=void 0,L=void 0,R=void 0,z=void 0,j=void 0,X=void 0,Z=void 0,Q=void 0,nt=void 0,it=void 0,mt=void 0,bt=void 0,St=void 0,Ot=void 0,Yt=void 0,ee=i*hg(l),le=i*kp(l),ge=r*hg(u),be=r*kp(u),Ie=w>mc;if(Ie){var He=e.cornerRadius;He&&(t=function(wi){var Zi;if(he(wi)){var nr=wi.length;if(!nr)return wi;Zi=nr===1?[wi[0],wi[0],0,0]:nr===2?[wi[0],wi[0],wi[1],wi[1]]:nr===3?wi.concat(wi[2]):wi}else Zi=[wi,wi,wi,wi];return Zi}(He),A=t[0],T=t[1],L=t[2],R=t[3]);var qe=fA(i-r)/2;if(z=nu(qe,L),j=nu(qe,R),X=nu(qe,A),Z=nu(qe,T),it=Q=uv(z,j),mt=nt=uv(X,Z),(Q>mc||nt>mc)&&(bt=i*hg(u),St=i*kp(u),Ot=r*hg(l),Yt=r*kp(l),w<pA)){var Ke=function(wi,Zi,nr,Ur,gr,vr,eo,ro){var sa=nr-wi,ya=Ur-Zi,Gl=eo-gr,Yd=ro-vr,Rr=Yd*sa-Gl*ya;if(!(Rr*Rr<mc))return[wi+(Rr=(Gl*(Zi-vr)-Yd*(wi-gr))/Rr)*sa,Zi+Rr*ya]}(ee,le,Ot,Yt,bt,St,ge,be);if(Ke){var bn=ee-Ke[0],Rn=le-Ke[1],Je=bt-Ke[0],Tn=St-Ke[1],Fn=1/kp(B0((bn*Je+Rn*Tn)/(cv(bn*bn+Rn*Rn)*cv(Je*Je+Tn*Tn)))/2),Xn=cv(Ke[0]*Ke[0]+Ke[1]*Ke[1]);it=nu(Q,(i-Xn)/(Fn+1)),mt=nu(nt,(r-Xn)/(Fn-1))}}}if(Ie)if(it>mc){var Vn=nu(L,it),qn=nu(R,it),Hn=z0(Ot,Yt,ee,le,i,Vn,v),ni=z0(bt,St,ge,be,i,qn,v);n.moveTo(f+Hn.cx+Hn.x0,g+Hn.cy+Hn.y0),it<Q&&Vn===qn?n.arc(f+Hn.cx,g+Hn.cy,it,rs(Hn.y0,Hn.x0),rs(ni.y0,ni.x0),!v):(Vn>0&&n.arc(f+Hn.cx,g+Hn.cy,Vn,rs(Hn.y0,Hn.x0),rs(Hn.y1,Hn.x1),!v),n.arc(f,g,i,rs(Hn.cy+Hn.y1,Hn.cx+Hn.x1),rs(ni.cy+ni.y1,ni.cx+ni.x1),!v),qn>0&&n.arc(f+ni.cx,g+ni.cy,qn,rs(ni.y1,ni.x1),rs(ni.y0,ni.x0),!v))}else n.moveTo(f+ee,g+le),n.arc(f,g,i,l,u,!v);else n.moveTo(f+ee,g+le);r>mc&&Ie?mt>mc?(Vn=nu(A,mt),Hn=z0(ge,be,bt,St,r,-(qn=nu(T,mt)),v),ni=z0(ee,le,Ot,Yt,r,-Vn,v),n.lineTo(f+Hn.cx+Hn.x0,g+Hn.cy+Hn.y0),mt<nt&&Vn===qn?n.arc(f+Hn.cx,g+Hn.cy,mt,rs(Hn.y0,Hn.x0),rs(ni.y0,ni.x0),!v):(qn>0&&n.arc(f+Hn.cx,g+Hn.cy,qn,rs(Hn.y0,Hn.x0),rs(Hn.y1,Hn.x1),!v),n.arc(f,g,r,rs(Hn.cy+Hn.y1,Hn.cx+Hn.x1),rs(ni.cy+ni.y1,ni.cx+ni.x1),v),Vn>0&&n.arc(f+ni.cx,g+ni.cy,Vn,rs(ni.y1,ni.x1),rs(ni.y0,ni.x0),!v))):(n.lineTo(f+ge,g+be),n.arc(f,g,r,u,l,v)):n.lineTo(f+ge,g+be)}else n.moveTo(f,g);n.closePath()}}}var lD=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},os=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultShape=function(){return new lD},e.prototype.buildPath=function(t,i){sD(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Ti);os.prototype.type="sector";var cD=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Ap=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultShape=function(){return new cD},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=2*Math.PI;t.moveTo(r+i.r,o),t.arc(r,o,i.r,0,a,!1),t.moveTo(r+i.r0,o),t.arc(r,o,i.r0,0,a,!0)},e}(Ti);function gA(n,e,t){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=function(w,_,A,T){var L,R,z,j,X=[],Z=[],Q=[],nt=[];if(T){z=[1/0,1/0],j=[-1/0,-1/0];for(var it=0,mt=w.length;it<mt;it++)$t(z,z,w[it]),h(j,j,w[it]);$t(z,z,T[0]),h(j,j,T[1])}for(it=0,mt=w.length;it<mt;it++){var bt=w[it];if(A)L=w[it?it-1:mt-1],R=w[(it+1)%mt];else{if(it===0||it===mt-1){X.push(Ji(w[it]));continue}L=w[it-1],R=w[it+1]}mr(Z,R,L),mi(Z,Z,_);var St=Gi(bt,L),Ot=Gi(bt,R),Yt=St+Ot;Yt!==0&&(St/=Yt,Ot/=Yt),mi(Q,Z,-St),mi(nt,Z,Ot);var ee=Bi([],bt,Q),le=Bi([],bt,nt);T&&(h(ee,ee,z),$t(ee,ee,j),h(le,le,z),$t(le,le,j)),X.push(ee),X.push(le)}return A&&X.push(X.shift()),X}(r,i,t,e.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,l=0;l<(t?a:a-1);l++){var u=o[2*l],f=o[2*l+1],g=r[(l+1)%a];n.bezierCurveTo(u[0],u[1],f[0],f[1],g[0],g[1])}}else{n.moveTo(r[0][0],r[0][1]),l=1;for(var v=r.length;l<v;l++)n.lineTo(r[l][0],r[l][1])}t&&n.closePath()}}Ap.prototype.type="ring";var uD=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},as=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultShape=function(){return new uD},e.prototype.buildPath=function(t,i){gA(t,i,!0)},e}(Ti);as.prototype.type="polygon";var mA=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},ss=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new mA},e.prototype.buildPath=function(t,i){gA(t,i,!1)},e}(Ti);ss.prototype.type="polyline";var hD={},vA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Zo=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new vA},e.prototype.buildPath=function(t,i){var r,o,a,l;if(this.subPixelOptimize){var u=al(hD,i,this.style);r=u.x1,o=u.y1,a=u.x2,l=u.y2}else r=i.x1,o=i.y1,a=i.x2,l=i.y2;var f=i.percent;f!==0&&(t.moveTo(r,o),f<1&&(a=r*(1-f)+a*f,l=o*(1-f)+l*f),t.lineTo(a,l))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e}(Ti);Zo.prototype.type="line";var ks=[],yA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function ow(n,e,t){var i=n.cpx2,r=n.cpy2;return i!=null||r!=null?[(t?bl:tr)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?bl:tr)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?Ga:Ir)(n.x1,n.cpx1,n.x2,e),(t?Ga:Ir)(n.y1,n.cpy1,n.y2,e)]}var dg=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new yA},e.prototype.buildPath=function(t,i){var r=i.x1,o=i.y1,a=i.x2,l=i.y2,u=i.cpx1,f=i.cpy1,g=i.cpx2,v=i.cpy2,w=i.percent;w!==0&&(t.moveTo(r,o),g==null||v==null?(w<1&&(Xa(r,u,a,w,ks),u=ks[1],a=ks[2],Xa(o,f,l,w,ks),f=ks[1],l=ks[2]),t.quadraticCurveTo(u,f,a,l)):(w<1&&(Ya(r,u,g,a,w,ks),u=ks[1],g=ks[2],a=ks[3],Ya(o,f,v,l,w,ks),f=ks[1],v=ks[2],l=ks[3]),t.bezierCurveTo(u,f,g,v,a,l)))},e.prototype.pointAt=function(t){return ow(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=ow(this.shape,t,!0);return Hi(i,i)},e}(Ti);dg.prototype.type="bezier-curve";var Mp=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},hv=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Mp},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),l=i.startAngle,u=i.endAngle,f=i.clockwise,g=Math.cos(l),v=Math.sin(l);t.moveTo(g*a+r,v*a+o),t.arc(r,o,a,l,u,!f)},e}(Ti);hv.prototype.type="arc";var F0=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return wt(e,n),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),r=0;r<t.length;r++)i=i||t[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(i[0],i[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(t,r[o].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ti.prototype.getBoundingRect.call(this)},e}(Ti),xA=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}(),Tp=function(n){function e(t,i,r,o,a,l){var u=n.call(this,a)||this;return u.x=t??0,u.y=i??0,u.x2=r??1,u.y2=o??0,u.type="linear",u.global=l||!1,u}return wt(e,n),e}(xA),aw=function(n){function e(t,i,r,o,a){var l=n.call(this,o)||this;return l.x=t??.5,l.y=i??.5,l.r=r??.5,l.type="radial",l.global=a||!1,l}return wt(e,n),e}(xA),Gh=[0,0],vc=[0,0],Xh=new ti,V0=new ti,pg=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new ti;for(i=0;i<2;i++)this._axes[i]=new ti;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,o=e.x,a=e.y,l=o+e.width,u=a+e.height;if(i[0].set(o,a),i[1].set(l,a),i[2].set(l,u),i[3].set(o,u),t)for(var f=0;f<4;f++)i[f].transform(t);for(ti.sub(r[0],i[1],i[0]),ti.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),f=0;f<2;f++)this._origin[f]=r[f].dot(i[0])},n.prototype.intersect=function(e,t){var i=!0,r=!t;return Xh.set(1/0,1/0),V0.set(0,0),!this._intersectCheckOneSide(this,e,Xh,V0,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,Xh,V0,r,-1)&&(i=!1,r)||r||ti.copy(t,i?Xh:V0),i},n.prototype._intersectCheckOneSide=function(e,t,i,r,o,a){for(var l=!0,u=0;u<2;u++){var f=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,Gh),this._getProjMinMaxOnAxis(u,t._corners,vc),Gh[1]<vc[0]||Gh[0]>vc[1]){if(l=!1,o)return l;var g=Math.abs(vc[0]-Gh[1]),v=Math.abs(Gh[0]-vc[1]);Math.min(g,v)>r.len()&&(g<v?ti.scale(r,f,-g*a):ti.scale(r,f,v*a))}else i&&(g=Math.abs(vc[0]-Gh[1]),v=Math.abs(Gh[0]-vc[1]),Math.min(g,v)<i.len()&&(g<v?ti.scale(i,f,g*a):ti.scale(i,f,-v*a)))}return l},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],o=this._origin,a=t[0].dot(r)+o[e],l=a,u=a,f=1;f<t.length;f++){var g=t[f].dot(r)+o[e];l=Math.min(g,l),u=Math.max(g,u)}i[0]=l,i[1]=u},n}(),dD=[],sw=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return wt(e,n),e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).parent=this,i.update(),i.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Qi(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(dD)),t.union(o)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);if(this.getBoundingRect().contain(r[0],r[1])){for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(t,i))return!0}return!1},e}(_a),lw=hr();function Ip(n,e,t,i,r){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var l=n==="update";if(e&&e.isAnimationEnabled()){var u=void 0,f=void 0,g=void 0;return i?(u=Rt(i.duration,200),f=Rt(i.easing,"cubicOut"),g=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),f=e.getShallow(l?"animationEasingUpdate":"animationEasing"),g=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(u=o.duration),o.easing!=null&&(f=o.easing),o.delay!=null&&(g=o.delay)),In(g)&&(g=g(t,r)),In(u)&&(u=u(t)),{duration:u||0,delay:g,easing:f}}return null}function cw(n,e,t,i,r,o,a){var l,u=!1;In(r)?(a=o,o=r,r=null):Zn(r)&&(o=r.cb,a=r.during,u=r.isFrom,l=r.removeOpt,r=r.dataIndex);var f=n==="leave";f||e.stopAnimation("leave");var g=Ip(n,i,r,f?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(g&&g.duration>0){var v={duration:g.duration,delay:g.delay||0,easing:g.easing,done:o,force:!!o||!!a,setToFinal:!f,scope:n,during:a};u?e.animateFrom(t,v):e.animateTo(t,v)}else e.stopAnimation(),!u&&e.attr(t),a&&a(1),o&&o()}function Mr(n,e,t,i,r,o){cw("update",n,e,t,i,r,o)}function vo(n,e,t,i,r,o){cw("enter",n,e,t,i,r,o)}function yc(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++)if(n.animators[e].scope==="leave")return!0;return!1}function Ys(n,e,t,i,r,o){yc(n)||cw("leave",n,e,t,i,r,o)}function dv(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),Ys(n,{style:{opacity:0}},e,t,i)}function $u(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||dv(r,e,t,i)}):dv(n,e,t,i)}function Ca(n){lw(n).oldStyle=n.style}var sl=Math.max,fg=Math.min,H0={};function bA(n){return Ti.extend(n)}var wA=function(n,e){var t=hA(n,e);return function(i){function r(o){var a=i.call(this,o)||this;return a.applyTransform=t.applyTransform,a.buildPath=t.buildPath,a}return wt(r,i),r}(cA)};function gg(n,e){return wA(n,e)}function ls(n,e){H0[n]=e}function mg(n){if(H0.hasOwnProperty(n))return H0[n]}function vg(n,e,t,i){var r=dA(n,e);return t&&(i==="center"&&(t=pv(t,r.getBoundingRect())),yg(r,t)),r}function Dp(n,e,t){var i=new Kr({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){if(t==="center"){var o={width:r.width,height:r.height};i.setStyle(pv(e,o))}}});return i}function pv(n,e){var t,i=e.width/e.height,r=n.height*i;return t=r<=n.width?n.height:(r=n.width)/i,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-t/2,width:r,height:t}}var As=function(n,e){for(var t=[],i=n.length,r=0;r<i;r++){var o=n[r];t.push(o.getUpdatedPathProxy(!0))}var a=new Ti(e);return a.createPathProxy(),a.buildPath=function(l){if(uA(l)){l.appendPath(t);var u=l.getContext();u&&l.rebuildPath(u,1)}},a};function yg(n,e){if(n.applyTransform){var t=n.getBoundingRect().calculateTransform(e);n.applyTransform(t)}}function _o(n,e){return al(n,n,{lineWidth:e}),n}var W0=Sa;function Ea(n,e){for(var t=ii([]);n&&n!==e;)Wi(t,n.getLocalTransform(),t),n=n.parent;return t}function Pl(n,e,t){return e&&!Oe(e)&&(e=lc.getLocalTransform(e)),t&&(e=Er([],e)),Or([],n,e)}function xg(n,e,t){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),r=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),o=[n==="left"?-i:n==="right"?i:0,n==="top"?-r:n==="bottom"?r:0];return o=Pl(o,e,t),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Lp(n){return!n.isGroup}function bg(n,e,t){if(n&&e){var i,r=(i={},n.traverse(function(a){Lp(a)&&a.anid&&(i[a.anid]=a)}),i);e.traverse(function(a){if(Lp(a)&&a.anid){var l=r[a.anid];if(l){var u=o(a);a.attr(o(l)),Mr(a,u,t,Ui(a).dataIndex)}}})}function o(a){var l={x:a.x,y:a.y,rotation:a.rotation};return function(u){return u.shape!=null}(a)&&(l.shape=pe({},a.shape)),l}}function wg(n,e){return ye(n,function(t){var i=t[0];i=sl(i,e.x),i=fg(i,e.x+e.width);var r=t[1];return r=sl(r,e.y),[i,r=fg(r,e.y+e.height)]})}function uw(n,e){var t=sl(n.x,e.x),i=fg(n.x+n.width,e.x+e.width),r=sl(n.y,e.y),o=fg(n.y+n.height,e.y+e.height);if(i>=t&&o>=r)return{x:t,y:r,width:i-t,height:o-r}}function Op(n,e,t){var i=pe({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(r.image=n.slice(8),De(r,t),new Kr(i)):vg(n.replace("path://",""),i,t,"center")}function Ep(n,e,t,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var l=r[o];if(xc(n,e,t,i,l[0],l[1],a[0],a[1]))return!0;a=l}}function xc(n,e,t,i,r,o,a,l){var u,f=t-n,g=i-e,v=a-r,w=l-o,_=j0(v,w,f,g);if((u=_)<=1e-6&&u>=-1e-6)return!1;var A=n-r,T=e-o,L=j0(A,T,f,g)/_;if(L<0||L>1)return!1;var R=j0(A,T,v,w)/_;return!(R<0||R>1)}function j0(n,e,t,i){return n*i-t*e}function Pp(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,r=kn(e)?{formatter:e}:e,o=t.mainType,a=t.componentIndex,l={componentType:o,name:i,$vars:["name"]};l[o+"Index"]=a;var u=n.formatterParamsExtra;u&&U(Re(u),function(g){vn(l,g)||(l[g]=u[g],l.$vars.push(g))});var f=Ui(n.el);f.componentMainType=o,f.componentIndex=a,f.tooltipConfig={name:i,option:De({content:i,formatterParams:l},r)}}function hw(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function ra(n,e){if(n)if(he(n))for(var t=0;t<n.length;t++)hw(n[t],e);else hw(n,e)}ls("circle",El),ls("ellipse",lv),ls("sector",os),ls("ring",Ap),ls("polygon",as),ls("polyline",ss),ls("rect",br),ls("line",Zo),ls("bezierCurve",dg),ls("arc",hv);var qh=Object.freeze({__proto__:null,updateProps:Mr,initProps:vo,removeElement:Ys,removeElementWithFadeOut:$u,isElementRemoved:yc,extendShape:bA,extendPath:gg,registerShape:ls,getShapeClass:mg,makePath:vg,makeImage:Dp,mergePath:As,resizePath:yg,subPixelOptimizeLine:_o,subPixelOptimizeRect:function(n){return Cs(n.shape,n.shape,n.style),n},subPixelOptimize:W0,getTransform:Ea,applyTransform:Pl,transformDirection:xg,groupTransition:bg,clipPointsByRect:wg,clipRectByRect:uw,createIcon:Op,linePolygonIntersect:Ep,lineLineIntersect:xc,setTooltipConfig:Pp,traverseElements:ra,Group:Ei,Image:Kr,Text:wr,Circle:El,Ellipse:lv,Sector:os,Ring:Ap,Polygon:as,Polyline:ss,Rect:br,Line:Zo,BezierCurve:dg,Arc:hv,IncrementalDisplayable:sw,CompoundPath:F0,LinearGradient:Tp,RadialGradient:aw,BoundingRect:Qi,OrientedBoundingRect:pg,Point:ti,Path:Ti}),fv={};function Np(n,e){for(var t=0;t<is.length;t++){var i=is[t],r=e[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(a,!0)}function Pa(n,e,t){var i,r=n.labelFetcher,o=n.labelDataIndex,a=n.labelDimIndex,l=e.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,l&&l.get("formatter"),t!=null?{interpolatedValue:t}:null)),i==null&&(i=In(n.defaultText)?n.defaultText(o,n,t):n.defaultText);for(var u={normal:i},f=0;f<is.length;f++){var g=is[f],v=e[g];u[g]=Rt(r?r.getFormattedLabel(o,g,null,a,v&&v.get("formatter")):null,i)}return u}function so(n,e,t,i){t=t||fv;for(var r=n instanceof wr,o=!1,a=0;a<di.length;a++)if((w=e[di[a]])&&w.getShallow("show")){o=!0;break}var l=r?n:n.getTextContent();if(o){r||(l||(l=new wr,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=Pa(t,e),f=e.normal,g=!!f.getShallow("show"),v=Dr(f,i&&i.normal,t,!1,!r);for(v.text=u.normal,r||n.setTextConfig(_g(f,t,!1)),a=0;a<is.length;a++){var w,_=is[a];if(w=e[_]){var A=l.ensureState(_),T=!!Rt(w.getShallow("show"),g);T!==g&&(A.ignore=!T),A.style=Dr(w,i&&i[_],t,!0,!r),A.style.text=u[_],!r&&(n.ensureState(_).textConfig=_g(w,t,!0))}}l.silent=!!f.getShallow("silent"),l.style.x!=null&&(v.x=l.style.x),l.style.y!=null&&(v.y=l.style.y),l.ignore=!g,l.useStyle(v),l.dirty(),t.enableTextSetter&&(Rp(l).setLabelText=function(L){var R=Pa(t,e,L);Np(l,R)})}else l&&(l.ignore=!0);n.dirty()}function Xr(n,e){e=e||"label";for(var t={normal:n.getModel(e)},i=0;i<is.length;i++){var r=is[i];t[r]=n.getModel([r,e])}return t}function Dr(n,e,t,i,r){var o={};return function(a,l,u,f,g){u=u||fv;var v,w=l.ecModel,_=w&&w.option.textStyle,A=function(j){for(var X;j&&j!==j.ecModel;){var Z=(j.option||fv).rich;if(Z){X=X||{};for(var Q=Re(Z),nt=0;nt<Q.length;nt++)X[Q[nt]]=1}j=j.parentModel}return X}(l);if(A){for(var T in v={},A)if(A.hasOwnProperty(T)){var L=l.getModel(["rich",T]);pw(v[T]={},L,_,u,f,g,!1,!0)}}v&&(a.rich=v);var R=l.get("overflow");R&&(a.overflow=R);var z=l.get("minMargin");z!=null&&(a.margin=z),pw(a,l,_,u,f,g,!0,!1)}(o,n,t,i,r),e&&pe(o,e),o}function _g(n,e,t){e=e||{};var i,r={},o=n.getShallow("rotate"),a=Rt(n.getShallow("distance"),t?null:5),l=n.getShallow("offset");return(i=n.getShallow("position")||(t?null:"inside"))==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),l!=null&&(r.offset=l),o!=null&&(o*=Math.PI/180,r.rotation=o),a!=null&&(r.distance=a),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}var Nl=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Uh=["align","lineHeight","width","height","tag","verticalAlign"],dw=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function pw(n,e,t,i,r,o,a,l){t=!r&&t||fv;var u=i&&i.inheritColor,f=e.getShallow("color"),g=e.getShallow("textBorderColor"),v=Rt(e.getShallow("opacity"),t.opacity);f!=="inherit"&&f!=="auto"||(f=u||null),g!=="inherit"&&g!=="auto"||(g=u||null),o||(f=f||t.color,g=g||t.textBorderColor),f!=null&&(n.fill=f),g!=null&&(n.stroke=g);var w=Rt(e.getShallow("textBorderWidth"),t.textBorderWidth);w!=null&&(n.lineWidth=w);var _=Rt(e.getShallow("textBorderType"),t.textBorderType);_!=null&&(n.lineDash=_);var A=Rt(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);A!=null&&(n.lineDashOffset=A),r||v!=null||l||(v=i&&i.defaultOpacity),v!=null&&(n.opacity=v),r||o||n.fill==null&&i.inheritColor&&(n.fill=i.inheritColor);for(var T=0;T<Nl.length;T++){var L=Nl[T];(z=Rt(e.getShallow(L),t[L]))!=null&&(n[L]=z)}for(T=0;T<Uh.length;T++)L=Uh[T],(z=e.getShallow(L))!=null&&(n[L]=z);if(n.verticalAlign==null){var R=e.getShallow("baseline");R!=null&&(n.verticalAlign=R)}if(!a||!i.disableBox){for(T=0;T<dw.length;T++){var z;L=dw[T],(z=e.getShallow(L))!=null&&(n[L]=z)}var j=e.getShallow("borderType");j!=null&&(n.borderDash=j),n.backgroundColor!=="auto"&&n.backgroundColor!=="inherit"||!u||(n.backgroundColor=u),n.borderColor!=="auto"&&n.borderColor!=="inherit"||!u||(n.borderColor=u)}}function gv(n,e){var t=e&&e.getModel("textStyle");return Pe([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Rp=hr();function _A(n,e,t,i){if(n){var r=Rp(n);r.prevValue=r.value,r.value=t;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function fw(n,e,t,i,r){var o=Rp(n);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,l=Rt(o.interpolatedValue,o.prevValue),u=o.value;n.percent=0,(o.prevValue==null?vo:Mr)(n,{percent:1},i,e,null,function(f){var g=Rh(t,o.precision,l,u,f);o.interpolatedValue=f===1?null:g;var v=Pa({labelDataIndex:e,labelFetcher:r,defaultText:a?a(g):g+""},o.statesModels,g);Np(n,v)})}}var Y0,mv,SA=["textStyle","color"],gw=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],mw=new wr,ll=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(SA):null)},n.prototype.getFont=function(){return gv({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<gw.length;i++)t[gw[i]]=this.getShallow(gw[i]);return mw.useStyle(t),mw.update(),mw.getBoundingRect()},n}(),vv=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Sg=Il(vv),vw=function(){function n(){}return n.prototype.getLineStyle=function(e){return Sg(this,e)},n}(),G0=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],pD=Il(G0),fD=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return pD(this,e,t)},n}(),Nr=function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(e,t){ie(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,r=i==null?i:i[e];if(r==null&&!t){var o=this.parentModel;o&&(r=o.getShallow(e))}return r},n.prototype.getModel=function(e,t){var i=e!=null,r=i?this.parsePath(e):null;return new n(i?this._doGet(r):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(Gt(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!ke.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&(!e[r]||(i=i&&typeof i=="object"?i[e[r]]:null)!=null);r++);return i==null&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n}();Bh(Nr),Y0=Nr,mv=["__\0is_clz",R1++].join("_"),Y0.prototype[mv]=!0,Y0.isInstance=function(n){return!(!n||!n[mv])},oe(Nr,vw),oe(Nr,fD),oe(Nr,Km),oe(Nr,ll);var CA=Math.round(10*Math.random());function Bp(n){return[n||"",CA++].join("_")}function bc(n,e){return ie(ie({},n,!0),e,!0)}var Cg="ZH",X0="EN",kg=X0,$h={},q0={},U0=ke.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(Cg)>-1?Cg:kg;function yv(n,e){n=n.toUpperCase(),q0[n]=new Nr(e),$h[n]=e}function xv(n){return q0[n]}yv(X0,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),yv(Cg,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}});var bv=1e3,$0=6e4,yw=36e5,Zh=864e5,Z0=31536e6,wc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},kA="{yyyy}-{MM}-{dd}",AA={year:"{yyyy}",month:"{yyyy}-{MM}",day:kA,hour:"{yyyy}-{MM}-{dd} "+wc.hour,minute:"{yyyy}-{MM}-{dd} "+wc.minute,second:"{yyyy}-{MM}-{dd} "+wc.second,millisecond:wc.none},K0=["year","month","day","hour","minute","second","millisecond"],J0=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function va(n,e){return"0000".substr(0,e-(n+="").length)+n}function Kh(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function MA(n){return n===Kh(n)}function Rl(n,e,t,i){var r=ma(n),o=r[Ag(t)](),a=r[zp(t)]()+1,l=Math.floor((a-1)/3)+1,u=r[Fp(t)](),f=r["get"+(t?"UTC":"")+"Day"](),g=r[Vp(t)](),v=(g-1)%12+1,w=r[cl(t)](),_=r[cs(t)](),A=r[ko(t)](),T=(i instanceof Nr?i:xv(i||U0)||q0.EN).getModel("time"),L=T.get("month"),R=T.get("monthAbbr"),z=T.get("dayOfWeek"),j=T.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,l+"").replace(/{MMMM}/g,L[a-1]).replace(/{MMM}/g,R[a-1]).replace(/{MM}/g,va(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,va(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,z[f]).replace(/{ee}/g,j[f]).replace(/{e}/g,f+"").replace(/{HH}/g,va(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,va(v+"",2)).replace(/{h}/g,v+"").replace(/{mm}/g,va(w,2)).replace(/{m}/g,w+"").replace(/{ss}/g,va(_,2)).replace(/{s}/g,_+"").replace(/{SSS}/g,va(A,3)).replace(/{S}/g,A+"")}function Q0(n,e){var t=ma(n),i=t[zp(e)]()+1,r=t[Fp(e)](),o=t[Vp(e)](),a=t[cl(e)](),l=t[cs(e)](),u=t[ko(e)]()===0,f=u&&l===0,g=f&&a===0,v=g&&o===0,w=v&&r===1;return w&&i===1?"year":w?"month":v?"day":g?"hour":f?"minute":u?"second":"millisecond"}function tx(n,e,t){var i=fi(n)?ma(n):n;switch(e=e||Q0(n,t)){case"year":return i[Ag(t)]();case"half-year":return i[zp(t)]()>=6?1:0;case"quarter":return Math.floor((i[zp(t)]()+1)/4);case"month":return i[zp(t)]();case"day":return i[Fp(t)]();case"half-day":return i[Vp(t)]()/24;case"hour":return i[Vp(t)]();case"minute":return i[cl(t)]();case"second":return i[cs(t)]();case"millisecond":return i[ko(t)]()}}function Ag(n){return n?"getUTCFullYear":"getFullYear"}function zp(n){return n?"getUTCMonth":"getMonth"}function Fp(n){return n?"getUTCDate":"getDate"}function Vp(n){return n?"getUTCHours":"getHours"}function cl(n){return n?"getUTCMinutes":"getMinutes"}function cs(n){return n?"getUTCSeconds":"getSeconds"}function ko(n){return n?"getUTCMilliseconds":"getMilliseconds"}function xw(n){return n?"setUTCFullYear":"setFullYear"}function Hp(n){return n?"setUTCMonth":"setMonth"}function bw(n){return n?"setUTCDate":"setDate"}function ww(n){return n?"setUTCHours":"setHours"}function TA(n){return n?"setUTCMinutes":"setMinutes"}function _w(n){return n?"setUTCSeconds":"setSeconds"}function Sw(n){return n?"setUTCMilliseconds":"setMilliseconds"}function Cw(n){if(!mp(n))return kn(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function kw(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Jh=Ut;function ex(n,e,t){function i(f){return f&&Pe(f)?f:"-"}function r(f){return!(f==null||isNaN(f)||!isFinite(f))}var o=e==="time",a=n instanceof Date;if(o||a){var l=o?ma(n):n;if(!isNaN(+l))return Rl(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(a)return"-"}if(e==="ordinal")return Gn(n)?i(n):fi(n)&&r(n)?n+"":"-";var u=Da(n);return r(u)?Cw(u):Gn(n)?i(n):typeof n=="boolean"?n+"":"-"}var Aw=["a","b","c","d","e","f","g"],nx=function(n,e){return"{"+n+(e??"")+"}"};function Mg(n,e,t){he(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=Aw[o];n=n.replace(nx(a),nx(a,0))}for(var l=0;l<i;l++)for(var u=0;u<r.length;u++){var f=e[l][r[u]];n=n.replace(nx(Aw[u],l),t?Lt(f):f)}return n}function Mw(n,e){var t=kn(n)?{color:n,extraCssText:e}:n||{},i=t.color,r=t.type;e=t.extraCssText;var o=t.renderMode||"html";return i?o==="html"?r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Lt(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Lt(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(t.markerId||"markerX")+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function ul(n,e){return e=e||"transparent",kn(n)?n:Zn(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function Qh(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var ix=U,Tw=["left","right","top","bottom","width","height"],td=[["width","left","right"],["height","top","bottom"]];function Iw(n,e,t,i,r){var o=0,a=0;i==null&&(i=1/0),r==null&&(r=1/0);var l=0;e.eachChild(function(u,f){var g,v,w=u.getBoundingRect(),_=e.childAt(f+1),A=_&&_.getBoundingRect();if(n==="horizontal"){var T=w.width+(A?-A.x+w.x:0);(g=o+T)>i||u.newline?(o=0,g=T,a+=l+t,l=w.height):l=Math.max(l,w.height)}else{var L=w.height+(A?-A.y+w.y:0);(v=a+L)>r||u.newline?(o+=l+t,a=0,v=L,l=w.width):l=Math.max(l,w.width)}u.newline||(u.x=o,u.y=a,u.markRedraw(),n==="horizontal"?o=g+t:a=v+t)})}var ed=Iw;un(Iw,"vertical"),un(Iw,"horizontal");function Ao(n,e,t){t=Jh(t||0);var i=e.width,r=e.height,o=Yn(n.left,i),a=Yn(n.top,r),l=Yn(n.right,i),u=Yn(n.bottom,r),f=Yn(n.width,i),g=Yn(n.height,r),v=t[2]+t[0],w=t[1]+t[3],_=n.aspect;switch(isNaN(f)&&(f=i-l-w-o),isNaN(g)&&(g=r-u-v-a),_!=null&&(isNaN(f)&&isNaN(g)&&(_>i/r?f=.8*i:g=.8*r),isNaN(f)&&(f=_*g),isNaN(g)&&(g=f/_)),isNaN(o)&&(o=i-l-f-w),isNaN(a)&&(a=r-u-g-v),n.left||n.right){case"center":o=i/2-f/2-t[3];break;case"right":o=i-f-w}switch(n.top||n.bottom){case"middle":case"center":a=r/2-g/2-t[0];break;case"bottom":a=r-g-v}o=o||0,a=a||0,isNaN(f)&&(f=i-w-o-(l||0)),isNaN(g)&&(g=r-v-a-(u||0));var A=new Qi(o+t[3],a+t[0],f,g);return A.margin=t,A}function wv(n,e,t,i,r,o){var a,l=!r||!r.hv||r.hv[0],u=!r||!r.hv||r.hv[1],f=r&&r.boundingMode||"all";if((o=o||n).x=n.x,o.y=n.y,!l&&!u)return!1;if(f==="raw")a=n.type==="group"?new Qi(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(a=n.getBoundingRect(),n.needLocalTransform()){var g=n.getLocalTransform();(a=a.clone()).applyTransform(g)}var v=Ao(De({width:a.width,height:a.height},e),t,i),w=l?v.x-a.x:0,_=u?v.y-a.y:0;return f==="raw"?(o.x=w,o.y=_):(o.x+=w,o.y+=_),o===n&&n.markRedraw(),!0}function Tg(n){var e=n.layoutMode||n.constructor.layoutMode;return Zn(e)?e:e?{type:e}:null}function Zu(n,e,t){var i=t&&t.ignoreSize;!he(i)&&(i=[i,i]);var r=a(td[0],0),o=a(td[1],1);function a(g,v){var w={},_=0,A={},T=0;if(ix(g,function(z){A[z]=n[z]}),ix(g,function(z){l(e,z)&&(w[z]=A[z]=e[z]),u(w,z)&&_++,u(A,z)&&T++}),i[v])return u(e,g[1])?A[g[2]]=null:u(e,g[2])&&(A[g[1]]=null),A;if(T!==2&&_){if(_>=2)return w;for(var L=0;L<g.length;L++){var R=g[L];if(!l(w,R)&&l(n,R)){w[R]=n[R];break}}return w}return A}function l(g,v){return g.hasOwnProperty(v)}function u(g,v){return g[v]!=null&&g[v]!=="auto"}function f(g,v,w){ix(g,function(_){v[_]=w[_]})}f(td[0],n,r),f(td[1],n,o)}function Wp(n){return Dw({},n)}function Dw(n,e){return e&&n&&ix(Tw,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var IA=hr(),pr=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.uid=Bp("ec_cpt_model"),o}return wt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=Tg(this),o=r?Wp(t):{};ie(t,i.getTheme().get(this.mainType)),ie(t,this.getDefaultOption()),r&&Zu(t,o,r)},e.prototype.mergeOption=function(t,i){ie(this.option,t,!0);var r=Tg(this);r&&Zu(this.option,t,r)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(f){return!(!f||!f[$c])}(t))return t.defaultOption;var i=IA(this);if(!i.defaultOption){for(var r=[],o=t;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var l={},u=r.length-1;u>=0;u--)l=ie(l,r[u],!0);i.defaultOption=l}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var r=t+"Index",o=t+"Id";return dc(this.ecModel,t,{index:this.get(r,!0),id:this.get(o,!0)},i)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Nr);ig(pr,Nr),zh(pr),function(n){var e={};n.registerSubTypeDefaulter=function(t,i){var r=ao(t);e[r.main]=i},n.determineSubType=function(t,i){var r=i.type;if(!r){var o=ao(t).main;n.hasSubTypes(t)&&e[o]&&(r=e[o](i))}return r}}(pr),function(n,e){function t(i,r){return i[r]||(i[r]={predecessor:[],successor:[]}),i[r]}n.topologicalTravel=function(i,r,o,a){if(i.length){var l=function(L){var R={},z=[];return U(L,function(j){var X=t(R,j),Z=function(Q,nt){var it=[];return U(Q,function(mt){rn(nt,mt)>=0&&it.push(mt)}),it}(X.originalDeps=e(j),L);X.entryCount=Z.length,X.entryCount===0&&z.push(j),U(Z,function(Q){rn(X.predecessor,Q)<0&&X.predecessor.push(Q);var nt=t(R,Q);rn(nt.successor,Q)<0&&nt.successor.push(j)})}),{graph:R,noEntryList:z}}(r),u=l.graph,f=l.noEntryList,g={};for(U(i,function(L){g[L]=!0});f.length;){var v=f.pop(),w=u[v],_=!!g[v];_&&(o.call(a,v,w.originalDeps.slice()),delete g[v]),U(w.successor,_?T:A)}U(g,function(){var L="";throw new Error(L)})}function A(L){u[L].entryCount--,u[L].entryCount===0&&f.push(L)}function T(L){g[L]=!0,A(L)}}}(pr,function(n){var e=[];return U(pr.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=ye(e,function(t){return ao(t).main}),n!=="dataset"&&rn(e,"dataset")<=0&&e.unshift("dataset"),e});var Ai="";typeof navigator<"u"&&(Ai=navigator.platform||"");var iu="rgba(0, 0, 0, 0.2)",DA={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:iu,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:iu,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:iu,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:iu,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:iu,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:iu,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Ai.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},_v=yn(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),ru="original",ou="arrayRows",Ku="objectRows",nd="keyedColumns",au="typedArray",Lw="unknown",id="column",Ow="row",Ig=1,su=2,Gs=3,jp=hr();function Sv(n,e,t){var i={},r=rx(e);if(!r||!n)return i;var o,a,l=[],u=[],f=e.ecModel,g=jp(f).datasetMap,v=r.uid+"_"+t.seriesLayoutBy;U(n=n.slice(),function(T,L){var R=Zn(T)?T:n[L]={name:T};R.type==="ordinal"&&o==null&&(o=L,a=A(R)),i[R.name]=[]});var w=g.get(v)||g.set(v,{categoryWayDim:a,valueWayDim:0});function _(T,L,R){for(var z=0;z<R;z++)T.push(L+z)}function A(T){var L=T.dimsDef;return L?L.length:1}return U(n,function(T,L){var R=T.name,z=A(T);if(o==null){var j=w.valueWayDim;_(i[R],j,z),_(u,j,z),w.valueWayDim+=z}else o===L?(_(i[R],0,z),_(l,0,z)):(j=w.categoryWayDim,_(i[R],j,z),_(u,j,z),w.categoryWayDim+=z)}),l.length&&(i.itemName=l),u.length&&(i.seriesName=u),i}function Ew(n,e,t){var i={};if(!rx(n))return i;var r,o=e.sourceFormat,a=e.dimensionsDefine;o!==Ku&&o!==nd||U(a,function(f,g){(Zn(f)?f.name:f)==="name"&&(r=g)});var l=function(){for(var f={},g={},v=[],w=0,_=Math.min(5,t);w<_;w++){var A=LA(e.data,o,e.seriesLayoutBy,a,e.startIndex,w);v.push(A);var T=A===Gs;if(T&&f.v==null&&w!==r&&(f.v=w),(f.n==null||f.n===f.v||!T&&v[f.n]===Gs)&&(f.n=w),L(f)&&v[f.n]!==Gs)return f;T||(A===su&&g.v==null&&w!==r&&(g.v=w),g.n!=null&&g.n!==g.v||(g.n=w))}function L(R){return R.v!=null&&R.n!=null}return L(f)?f:L(g)?g:null}();if(l){i.value=[l.v];var u=r??l.n;i.itemName=[u],i.seriesName=[u]}return i}function rx(n){if(!n.get("data",!0))return dc(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},go).models[0]}function ox(n,e){return LA(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function LA(n,e,t,i,r,o){var a,l,u;if(Yi(n))return Gs;if(i){var f=i[o];Zn(f)?(l=f.name,u=f.type):kn(f)&&(l=f)}if(u!=null)return u==="ordinal"?Ig:Gs;if(e===ou){var g=n;if(t===Ow){for(var v=g[o],w=0;w<(v||[]).length&&w<5;w++)if((a=z(v[r+w]))!=null)return a}else for(w=0;w<g.length&&w<5;w++){var _=g[r+w];if(_&&(a=z(_[o]))!=null)return a}}else if(e===Ku){var A=n;if(!l)return Gs;for(w=0;w<A.length&&w<5;w++)if((L=A[w])&&(a=z(L[l]))!=null)return a}else if(e===nd){if(!l||!(v=n[l])||Yi(v))return Gs;for(w=0;w<v.length&&w<5;w++)if((a=z(v[w]))!=null)return a}else if(e===ru){var T=n;for(w=0;w<T.length&&w<5;w++){var L,R=Fu(L=T[w]);if(!he(R))return Gs;if((a=z(R[o]))!=null)return a}}function z(j){var X=kn(j);return j!=null&&isFinite(j)&&j!==""?X?su:Gs:X&&j!=="-"?Ig:void 0}return Gs}var ax=yn(),Dg,Lg,OA,EA=hr(),PA=hr(),Cv=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var r=Fr(this.get("color",!0)),o=this.get("colorLayer",!0);return kv(this,EA,r,o,e,t,i)},n.prototype.clearColorPalette=function(){(function(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}})(this,EA)},n}();function sx(n,e,t,i){var r=Fr(n.get(["aria","decal","decals"]));return kv(n,PA,r,null,e,t,i)}function kv(n,e,t,i,r,o,a){var l=e(o=o||n),u=l.paletteIdx||0,f=l.paletteNameMap=l.paletteNameMap||{};if(f.hasOwnProperty(r))return f[r];var g=a!=null&&i?function(w,_){for(var A=w.length,T=0;T<A;T++)if(w[T].length>_)return w[T];return w[A-1]}(i,a):t;if((g=g||t)&&g.length){var v=g[u];return r&&(f[r]=v),l.paletteIdx=(u+1)%g.length,v}}var Og=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.init=function(t,i,r,o,a,l){o=o||{},this.option=null,this._theme=new Nr(o),this._locale=new Nr(a),this._optionManager=l},e.prototype.setOption=function(t,i,r){var o=NA(i);this._optionManager.setOption(t,r,o),this._resetOption(null,o)},e.prototype.resetOption=function(t,i){return this._resetOption(t,NA(i))},e.prototype._resetOption=function(t,i){var r=!1,o=this._optionManager;if(!t||t==="recreate"){var a=o.mountOption(t==="recreate");this.option&&t!=="recreate"?(this.restoreData(),this._mergeOption(a,i)):OA(this,a),r=!0}if(t!=="timeline"&&t!=="media"||this.restoreData(),!t||t==="recreate"||t==="timeline"){var l=o.getTimelineOption(this);l&&(r=!0,this._mergeOption(l,i))}if(!t||t==="recreate"||t==="media"){var u=o.getMediaOption(this);u.length&&U(u,function(f){r=!0,this._mergeOption(f,i)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,l=[],u=yn(),f=i&&i.replaceMergeMainTypeMap;jp(this).datasetMap=yn(),U(t,function(g,v){g!=null&&(pr.hasClass(v)?v&&(l.push(v),u.set(v,!0)):r[v]=r[v]==null?Gt(g):ie(r[v],g,!0))}),f&&f.each(function(g,v){pr.hasClass(v)&&!u.get(v)&&(l.push(v),u.set(v,!0))}),pr.topologicalTravel(l,pr.getAllClassMainTypes(),function(g){var v=function(j,X,Z){var Q=ax.get(X);if(!Q)return Z;var nt=Q(j);return nt?Z.concat(nt):Z}(this,g,Fr(t[g])),w=o.get(g),_=w?f&&f.get(g)?"replaceMerge":"normalMerge":"replaceAll",A=ng(w,v,_);(function(j,X,Z){U(j,function(Q){var nt=Q.newOption;Zn(nt)&&(Q.keyInfo.mainType=X,Q.keyInfo.subType=function(it,mt,bt,St){return mt.type?mt.type:bt?bt.subType:St.determineSubType(it,mt)}(X,nt,Q.existing,Z))})})(A,g,pr),r[g]=null,o.set(g,null),a.set(g,0);var T,L=[],R=[],z=0;U(A,function(j,X){var Z=j.existing,Q=j.newOption;if(Q){var nt=g==="series",it=pr.getClass(g,j.keyInfo.subType,!nt);if(!it)return;if(g==="tooltip"){if(T)return;T=!0}if(Z&&Z.constructor===it)Z.name=j.keyInfo.name,Z.mergeOption(Q,this),Z.optionUpdated(Q,!1);else{var mt=pe({componentIndex:X},j.keyInfo);pe(Z=new it(Q,this,this,mt),mt),j.brandNew&&(Z.__requireNewView=!0),Z.init(Q,this,this),Z.optionUpdated(null,!0)}}else Z&&(Z.mergeOption({},this),Z.optionUpdated({},!1));Z?(L.push(Z.option),R.push(Z),z++):(L.push(void 0),R.push(void 0))},this),r[g]=L,o.set(g,R),a.set(g,z),g==="series"&&Dg(this)},this),this._seriesIndices||Dg(this)},e.prototype.getOption=function(){var t=Gt(this.option);return U(t,function(i,r){if(pr.hasClass(r)){for(var o=Fr(i),a=o.length,l=!1,u=a-1;u>=0;u--)o[u]&&!yp(o[u])?l=!0:(o[u]=null,!l&&a--);o.length=a,t[r]=o}}),delete t["\0_ec_inner"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var o=r[i||0];if(o)return o;if(i==null){for(var a=0;a<r.length;a++)if(r[a])return r[a]}}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var r,o=t.index,a=t.id,l=t.name,u=this._componentsMap.get(i);return u&&u.length?(o!=null?(r=[],U(Fr(o),function(f){u[f]&&r.push(u[f])})):r=a!=null?Av("id",a,u):l!=null?Av("name",l,u):$e(u,function(f){return!!f}),rd(r,t)):[]},e.prototype.findComponents=function(t){var i,r,o,a,l,u=t.query,f=t.mainType,g=(r=f+"Index",o=f+"Id",a=f+"Name",!(i=u)||i[r]==null&&i[o]==null&&i[a]==null?null:{mainType:f,index:i[r],id:i[o],name:i[a]}),v=g?this.queryComponents(g):$e(this._componentsMap.get(f),function(w){return!!w});return l=rd(v,t),t.filter?$e(l,t.filter):l},e.prototype.eachComponent=function(t,i,r){var o=this._componentsMap;if(In(t)){var a=i,l=t;o.each(function(v,w){for(var _=0;v&&_<v.length;_++){var A=v[_];A&&l.call(a,w,A,A.componentIndex)}})}else for(var u=kn(t)?o.get(t):Zn(t)?this.findComponents(t):null,f=0;u&&f<u.length;f++){var g=u[f];g&&i.call(r,g,g.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=po(t,null);return $e(this._componentsMap.get("series"),function(r){return!!r&&i!=null&&r.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return $e(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return $e(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){Lg(this),U(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];t.call(i,o,r)},this)},e.prototype.eachRawSeries=function(t,i){U(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,r){Lg(this),U(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===t&&i.call(r,a,o)},this)},e.prototype.eachRawSeriesByType=function(t,i,r){return U(this.getSeriesByType(t),i,r)},e.prototype.isSeriesFiltered=function(t){return Lg(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){Lg(this);var r=[];U(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];t.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=yn(r)},e.prototype.restoreData=function(t){Dg(this);var i=this._componentsMap,r=[];i.each(function(o,a){pr.hasClass(a)&&r.push(a)}),pr.topologicalTravel(r,pr.getAllClassMainTypes(),function(o){U(i.get(o),function(a){!a||o==="series"&&function(l,u){if(u){var f=u.seriesIndex,g=u.seriesId,v=u.seriesName;return f!=null&&l.componentIndex!==f||g!=null&&l.id!==g||v!=null&&l.name!==v}}(a,t)||a.restoreData()})})},e.internalField=(Dg=function(t){var i=t._seriesIndices=[];U(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=yn(i)},Lg=function(t){},void(OA=function(t,i){t.option={},t.option["\0_ec_inner"]=1,t._componentsMap=yn({series:[]}),t._componentsCount=yn();var r=i.aria;Zn(r)&&r.enabled==null&&(r.enabled=!0),function(o,a){var l=o.color&&!o.colorLayer;U(a,function(u,f){f==="colorLayer"&&l||pr.hasClass(f)||(typeof u=="object"?o[f]=o[f]?ie(o[f],u,!1):Gt(u):o[f]==null&&(o[f]=u))})}(i,t._theme.option),ie(i,DA,!1),t._mergeOption(i,null)})),e}(Nr);function Av(n,e,t){if(he(e)){var i=yn();return U(e,function(o){o!=null&&po(o,null)!=null&&i.set(o,!0)}),$e(t,function(o){return o&&i.get(o[n])})}var r=po(e,null);return $e(t,function(o){return o&&r!=null&&o[n]===r})}function rd(n,e){return e.hasOwnProperty("subType")?$e(n,function(t){return t&&t.subType===e.subType}):n}function NA(n){var e=yn();return n&&U(Fr(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}oe(Og,Cv);var RA=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Pw=function(n){U(RA,function(e){this[e]=Be(n[e],n)},this)},Nw={},od=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var i=[];U(Nw,function(r,o){var a=r.create(e,t);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(e,t){U(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){Nw[e]=t},n.get=function(e){return Nw[e]},n}(),BA=/^(min|max)?(.+)$/,zA=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(U(Fr(e.series),function(a){a&&a.data&&Yi(a.data)&&Ee(a.data)}),U(Fr(e.dataset),function(a){a&&a.source&&Yi(a.source)&&Ee(a.source)})),e=Gt(e);var r=this._optionBackup,o=function(a,l,u){var f,g,v=[],w=a.baseOption,_=a.timeline,A=a.options,T=a.media,L=!!a.media,R=!!(A||_||w&&w.timeline);w?(g=w).timeline||(g.timeline=_):((R||L)&&(a.options=a.media=null),g=a),L&&he(T)&&U(T,function(j){j&&j.option&&(j.query?v.push(j):f||(f=j))});function z(j){U(l,function(X){X(j,u)})}return z(g),U(A,function(j){return z(j)}),U(v,function(j){return z(j.option)}),{baseOption:g,timelineOptions:A||[],mediaDefault:f,mediaList:v}}(e,t,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Gt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=Gt(i[r.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t,i,r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,l=this._mediaDefault,u=[],f=[];if(!a.length&&!l)return f;for(var g=0,v=a.length;g<v;g++)FA(a[g].query,r,o)&&u.push(g);return!u.length&&l&&(u=[-1]),u.length&&(t=u,i=this._currentMediaIndices,t.join(",")!==i.join(","))&&(f=ye(u,function(w){return Gt(w===-1?l.option:a[w].option)})),this._currentMediaIndices=u,f},n}();function FA(n,e,t){var i={width:e,height:t,aspectratio:e/t},r=!0;return U(n,function(o,a){var l=a.match(BA);if(l&&l[1]&&l[2]){var u=l[1],f=l[2].toLowerCase();(function(g,v,w){return w==="min"?g>=v:w==="max"?g<=v:g===v})(i[f],o,u)||(r=!1)}}),r}var _c=U,Eg=Zn,VA=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Mv(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=VA.length;t<i;t++){var r=VA[t],o=e.normal,a=e.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?ie(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?ie(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function Na(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,r=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,De(n[e],i)):n[e]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[e]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function Pg(n){Na(n,"itemStyle"),Na(n,"lineStyle"),Na(n,"areaStyle"),Na(n,"label"),Na(n,"labelLine"),Na(n,"upperLabel"),Na(n,"edgeLabel")}function jo(n,e){var t=Eg(n)&&n[e],i=Eg(t)&&t.textStyle;if(i)for(var r=0,o=Um.length;r<o;r++){var a=Um[r];i.hasOwnProperty(a)&&(t[a]=i[a])}}function Bl(n){n&&(Pg(n),jo(n,"label"),n.emphasis&&jo(n.emphasis,"label"))}function Ju(n){return he(n)?n:n?[n]:[]}function HA(n){return(he(n)?n[0]:n)||{}}function gD(n,e){_c(Ju(n.series),function(i){Eg(i)&&function(r){if(Eg(r)){Mv(r),Pg(r),jo(r,"label"),jo(r,"upperLabel"),jo(r,"edgeLabel"),r.emphasis&&(jo(r.emphasis,"label"),jo(r.emphasis,"upperLabel"),jo(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&(Mv(o),Bl(o));var a=r.markLine;a&&(Mv(a),Bl(a));var l=r.markArea;l&&Bl(l);var u=r.data;if(r.type==="graph"){u=u||r.nodes;var f=r.links||r.edges;if(f&&!Yi(f))for(var g=0;g<f.length;g++)Bl(f[g]);U(r.categories,function(_){Pg(_)})}if(u&&!Yi(u))for(g=0;g<u.length;g++)Bl(u[g]);if((o=r.markPoint)&&o.data){var v=o.data;for(g=0;g<v.length;g++)Bl(v[g])}if((a=r.markLine)&&a.data){var w=a.data;for(g=0;g<w.length;g++)he(w[g])?(Bl(w[g][0]),Bl(w[g][1])):Bl(w[g])}r.type==="gauge"?(jo(r,"axisLabel"),jo(r,"title"),jo(r,"detail")):r.type==="treemap"?(Na(r.breadcrumb,"itemStyle"),U(r.levels,function(_){Pg(_)})):r.type==="tree"&&Pg(r.leaves)}}(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),_c(t,function(i){_c(Ju(n[i]),function(r){r&&(jo(r,"axisLabel"),jo(r.axisPointer,"label"))})}),_c(Ju(n.parallel),function(i){var r=i&&i.parallelAxisDefault;jo(r,"axisLabel"),jo(r&&r.axisPointer,"label")}),_c(Ju(n.calendar),function(i){Na(i,"itemStyle"),jo(i,"dayLabel"),jo(i,"monthLabel"),jo(i,"yearLabel")}),_c(Ju(n.radar),function(i){jo(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),_c(Ju(n.geo),function(i){Eg(i)&&(Bl(i),_c(Ju(i.regions),function(r){Bl(r)}))}),_c(Ju(n.timeline),function(i){Bl(i),Na(i,"label"),Na(i,"itemStyle"),Na(i,"controlStyle",!0);var r=i.data;he(r)&&U(r,function(o){Zn(o)&&(Na(o,"label"),Na(o,"itemStyle"))})}),_c(Ju(n.toolbox),function(i){Na(i,"iconStyle"),_c(i.feature,function(r){Na(r,"iconStyle")})}),jo(HA(n.axisPointer),"label"),jo(HA(n.tooltip).axisPointer,"label")}function Ng(n){n&&U(WA,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var WA=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],jA=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Tv=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Rg(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<Tv.length;t++){var i=Tv[t][1],r=Tv[t][0];e[i]!=null&&(e[r]=e[i])}}function YA(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function Rw(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function Bw(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&Bw(n[t].children,e)}function GA(n,e){gD(n,e),n.series=Fr(n.series),U(n.series,function(t){if(Zn(t)){var i=t.type;if(i==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(i==="pie"||i==="gauge"){if(t.clockWise!=null&&(t.clockwise=t.clockWise),YA(t.label),(a=t.data)&&!Yi(a))for(var r=0;r<a.length;r++)YA(a[r]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(i==="gauge"){var o=function(u,f){for(var g=f.split(","),v=u,w=0;w<g.length&&(v=v&&v[g[w]])!=null;w++);return v}(t,"pointer.color");o!=null&&function(u,f,g,v){for(var w,_=f.split(","),A=u,T=0;T<_.length-1;T++)A[w=_[T]]==null&&(A[w]={}),A=A[w];(v||A[_[T]]==null)&&(A[_[T]]=g)}(t,"itemStyle.color",o)}else if(i==="bar"){var a;if(Rg(t),Rg(t.backgroundStyle),Rg(t.emphasis),(a=t.data)&&!Yi(a))for(r=0;r<a.length;r++)typeof a[r]=="object"&&(Rg(a[r]),Rg(a[r]&&a[r].emphasis))}else if(i==="sunburst"){var l=t.highlightPolicy;l&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=l)),Rw(t),Bw(t.data,Rw)}else i==="graph"||i==="sankey"?function(u){u&&u.focusNodeAdjacency!=null&&(u.emphasis=u.emphasis||{},u.emphasis.focus==null&&(u.emphasis.focus="adjacency"))}(t):i==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&De(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),Ng(t)}}),n.dataRange&&(n.visualMap=n.dataRange),U(jA,function(t){var i=n[t];i&&(he(i)||(i=[i]),U(i,function(r){Ng(r)}))})}function mD(n){U(n,function(e,t){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,l=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(f,g,v){var w,_,A=a.get(e.stackedDimension,v);if(isNaN(A))return r;l?_=a.getRawIndex(v):w=a.get(e.stackedByDimension,v);for(var T=NaN,L=t-1;L>=0;L--){var R=n[L];if(l||(_=R.data.rawIndexOf(R.stackedByDimension,w)),_>=0){var z=R.data.getByRawIndex(R.stackResultDimension,_);if(u==="all"||u==="positive"&&z>0||u==="negative"&&z<0||u==="samesign"&&A>=0&&z>0||u==="samesign"&&A<=0&&z<0){A=fp(A,z),T=z;break}}}return i[0]=A,i[1]=T,i})})}var ad,sd,Yp,Xs,Gp,Bg=function(n){this.data=n.data||(n.sourceFormat===nd?{}:[]),this.sourceFormat=n.sourceFormat||Lw,this.seriesLayoutBy=n.seriesLayoutBy||id,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var e=this.dimensionsDefine=n.dimensionsDefine;if(e)for(var t=0;t<e.length;t++){var i=e[t];i.type==null&&ox(this,t)===Ig&&(i.type="ordinal")}};function zg(n){return n instanceof Bg}function zw(n,e,t){t=t||Vw(n);var i=e.seriesLayoutBy,r=function(o,a,l,u,f){var g,v;if(!o)return{dimensionsDefine:lx(f),startIndex:v,dimensionsDetectedCount:g};if(a===ou){var w=o;u==="auto"||u==null?ld(function(A){A!=null&&A!=="-"&&(kn(A)?v==null&&(v=1):v=0)},l,w,10):v=fi(u)?u:u?1:0,f||v!==1||(f=[],ld(function(A,T){f[T]=A!=null?A+"":""},l,w,1/0)),g=f?f.length:l===Ow?w.length:w[0]?w[0].length:null}else if(a===Ku)f||(f=function(A){for(var T,L=0;L<A.length&&!(T=A[L++]););if(T){var R=[];return U(T,function(z,j){R.push(j)}),R}}(o));else if(a===nd)f||(f=[],U(o,function(A,T){f.push(T)}));else if(a===ru){var _=Fu(o[0]);g=he(_)&&_.length||1}return{startIndex:v,dimensionsDefine:lx(f),dimensionsDetectedCount:g}}(n,t,i,e.sourceHeader,e.dimensions);return new Bg({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Gt(e)})}function Fw(n){return new Bg({data:n,sourceFormat:Yi(n)?au:ru})}function Vw(n){var e=Lw;if(Yi(n))e=au;else if(he(n)){n.length===0&&(e=ou);for(var t=0,i=n.length;t<i;t++){var r=n[t];if(r!=null){if(he(r)){e=ou;break}if(Zn(r)){e=Ku;break}}}}else if(Zn(n)){for(var o in n)if(vn(n,o)&&Oe(n[o])){e=nd;break}}return e}function lx(n){if(n){var e=yn();return ye(n,function(t,i){var r={name:(t=Zn(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r})}}function ld(n,e,t,i){if(e===Ow)for(var r=0;r<t.length&&r<i;r++)n(t[r]?t[r][0]:null,r);else{var o=t[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function cx(n){var e=n.sourceFormat;return e===Ku||e===nd}var Hw=function(){function n(e,t){var i=zg(e)?e:Fw(e);this._source=i;var r=this._data=i.data;i.sourceFormat===au&&(this._offset=0,this._dimSize=t,this._data=r),Gp(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;Gp=function(a,l,u){var f=u.sourceFormat,g=u.seriesLayoutBy,v=u.startIndex,w=u.dimensionsDefine,_=Xs[Xw(f,g)];if(pe(a,_),f===au)a.getItem=t,a.count=r,a.fillStorage=i;else{var A=jw(f,g);a.getItem=Be(A,null,l,v,w);var T=Yw(f,g);a.count=Be(T,null,l,v,w)}};var t=function(a,l){a-=this._offset,l=l||[];for(var u=this._data,f=this._dimSize,g=f*a,v=0;v<f;v++)l[v]=u[g+v];return l},i=function(a,l,u,f){for(var g=this._data,v=this._dimSize,w=0;w<v;w++){for(var _=f[w],A=_[0]==null?1/0:_[0],T=_[1]==null?-1/0:_[1],L=l-a,R=u[w],z=0;z<L;z++){var j=g[z*v+w];R[a+z]=j,j<A&&(A=j),j>T&&(T=j)}_[0]=A,_[1]=T}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var l=0;l<a.length;l++)this._data.push(a[l])}(e={}).arrayRows_column={pure:!0,appendData:o},e.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e.objectRows={pure:!0,appendData:o},e.keyedColumns={pure:!0,appendData:function(a){var l=this._data;U(a,function(u,f){for(var g=l[f]||(l[f]=[]),v=0;v<(u||[]).length;v++)g.push(u[v])})}},e.original={appendData:o},e.typedArray={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},Xs=e}(),n}(),Ww=function(n,e,t,i){return n[i]},XA=((ad={}).arrayRows_column=function(n,e,t,i){return n[i+e]},ad.arrayRows_row=function(n,e,t,i,r){i+=e;for(var o=r||[],a=n,l=0;l<a.length;l++){var u=a[l];o[l]=u?u[i]:null}return o},ad.objectRows=Ww,ad.keyedColumns=function(n,e,t,i,r){for(var o=r||[],a=0;a<t.length;a++){var l=t[a].name,u=n[l];o[a]=u?u[i]:null}return o},ad.original=Ww,ad);function jw(n,e){var t=XA[Xw(n,e)];return t}var ux=function(n,e,t){return n.length},vD=((sd={}).arrayRows_column=function(n,e,t){return Math.max(0,n.length-e)},sd.arrayRows_row=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},sd.objectRows=ux,sd.keyedColumns=function(n,e,t){var i=t[0].name,r=n[i];return r?r.length:0},sd.original=ux,sd);function Yw(n,e){var t=vD[Xw(n,e)];return t}var hx=function(n,e,t){return n[e]},yD=((Yp={}).arrayRows=hx,Yp.objectRows=function(n,e,t){return n[t]},Yp.keyedColumns=hx,Yp.original=function(n,e,t){var i=Fu(n);return i instanceof Array?i[e]:i},Yp.typedArray=hx,Yp);function Gw(n){var e=yD[n];return e}function Xw(n,e){return n===ou?n+"_"+e:n}function Qu(n,e,t){if(n){var i=n.getRawDataItem(e);if(i!=null){var r=n.getStore(),o=r.getSource().sourceFormat;if(t!=null){var a=n.getDimensionIndex(t),l=r.getDimensionProperty(a);return Gw(o)(i,a,l)}var u=i;return o===ru&&(u=Fu(i)),u}}}var xD=/\{@(.+?)\}/g,dx=function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),o=i.getRawIndex(e),a=i.getName(e),l=i.getRawDataItem(e),u=i.getItemVisual(e,"style"),f=u&&u[i.getItemVisual(e,"drawType")||"fill"],g=u&&u.stroke,v=this.mainType,w=v==="series",_=i.userOutput&&i.userOutput.get();return{componentType:v,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:w?this.subType:null,seriesIndex:this.seriesIndex,seriesId:w?this.id:null,seriesName:w?this.name:null,name:a,dataIndex:o,data:l,dataType:t,value:r,color:f,borderColor:g,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,r,o,a){t=t||"normal";var l=this.getData(i),u=this.getDataParams(e,i);return a&&(u.value=a.interpolatedValue),r!=null&&he(u.value)&&(u.value=u.value[r]),o||(o=l.getItemModel(e).get(t==="normal"?["label","formatter"]:[t,"label","formatter"])),In(o)?(u.status=t,u.dimensionIndex=r,o(u)):kn(o)?Mg(o,u).replace(xD,function(f,g){var v=g.length,w=g;w.charAt(0)==="["&&w.charAt(v-1)==="]"&&(w=+w.slice(1,v-1));var _=Qu(l,e,w);if(a&&he(a.interpolatedValue)){var A=l.getDimensionIndex(w);A>=0&&(_=a.interpolatedValue[A])}return _!=null?_+"":""}):void 0},n.prototype.getRawValue=function(e,t){return Qu(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n}();function Ra(n){var e,t;return Zn(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function Fg(n){return new bD(n)}var bD=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t,i=this._upstream,r=e&&e.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(t=this._plan(this.context));var a,l=v(this._modBy),u=this._modDataCount||0,f=v(e&&e.modBy),g=e&&e.modDataCount||0;function v(z){return!(z>=1)&&(z=1),z}l===f&&u===g||(t="reset"),(this._dirty||t==="reset")&&(this._dirty=!1,a=this._doReset(r)),this._modBy=f,this._modDataCount=g;var w=e&&e.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var _=this._dueIndex,A=Math.min(w!=null?this._dueIndex+w:1/0,this._dueEnd);if(!r&&(a||_<A)){var T=this._progress;if(he(T))for(var L=0;L<T.length;L++)this._doProgress(T[L],_,A,f,g);else this._doProgress(T,_,A,f,g)}this._dueIndex=A;var R=this._settedOutputEnd!=null?this._settedOutputEnd:A;this._outputDueEnd=R}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,r,o){qw.reset(t,i,r,o),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:qw.next},this.context)},n.prototype._doReset=function(e){var t,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),he(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),qw=function(){var n,e,t,i,r,o={reset:function(u,f,g,v){e=u,n=f,t=g,i=v,r=Math.ceil(i/t),o.next=t>1&&i>0?l:a}};return o;function a(){return e<n?e++:null}function l(){var u=e%r*t+Math.ceil(e/r),f=e>=n?null:u<i?u:e;return e++,f}}();function cd(n,e){var t=e&&e.type;return t==="ordinal"?n:(t!=="time"||fi(n)||n==null||n==="-"||(n=+ma(n)),n==null||n===""?NaN:+n)}var qA=yn({number:function(n){return parseFloat(n)},time:function(n){return+ma(n)},trim:function(n){return kn(n)?Pe(n):n}});function Uw(n){return qA.get(n)}var UA={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},$A=function(){function n(e,t){if(!fi(t)){var i="";Sr(i)}this._opFn=UA[e],this._rvalFloat=Da(t)}return n.prototype.evaluate=function(e){return fi(e)?this._opFn(e,this._rvalFloat):this._opFn(Da(e),this._rvalFloat)},n}(),$w=function(){function n(e,t){var i=e==="desc";this._resultLT=i?1:-1,t==null&&(t=i?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=fi(e)?e:Da(e),r=fi(t)?t:Da(t),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var l=kn(e),u=kn(t);l&&(i=u?e:0),u&&(r=l?t:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n}(),ud=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Da(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i===this._rvalTypeof||i!=="number"&&this._rvalTypeof!=="number"||(t=Da(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function ZA(n,e){return n==="eq"||n==="ne"?new ud(n==="eq",e):vn(UA,n)?new $A(n,e):null}var KA=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return cd(e,t)},n}();function Zw(n){var e=n.sourceFormat;if(!lu(e)){var t="";Sr(t)}return n.data}function wD(n){var e=n.sourceFormat,t=n.data;if(!lu(e)){var i="";Sr(i)}if(e===ou){for(var r=[],o=0,a=t.length;o<a;o++)r.push(t[o].slice());return r}if(e===Ku){for(r=[],o=0,a=t.length;o<a;o++)r.push(pe({},t[o]));return r}}function JA(n,e,t){if(t!=null)return fi(t)||!isNaN(t)&&!vn(e,t)?n[t]:vn(e,t)?e[t]:void 0}function Kw(n){return Gt(n)}var px=yn();function _D(n,e,t,i){var r="";e.length||Sr(r),Zn(n)||Sr(r);var o=n.type,a=px.get(o);a||Sr(r);var l=ye(e,function(f){return function(g,v){var w=new KA,_=g.data,A=w.sourceFormat=g.sourceFormat,T=g.startIndex,L="";g.seriesLayoutBy!==id&&Sr(L);var R=[],z={},j=g.dimensionsDefine;if(j)U(j,function(mt,bt){var St=mt.name,Ot={index:bt,name:St,displayName:mt.displayName};if(R.push(Ot),St!=null){var Yt="";vn(z,St)&&Sr(Yt),z[St]=Ot}});else for(var X=0;X<g.dimensionsDetectedCount;X++)R.push({index:X});var Z=jw(A,id);v.__isBuiltIn&&(w.getRawDataItem=function(mt){return Z(_,T,R,mt)},w.getRawData=Be(Zw,null,g)),w.cloneRawData=Be(wD,null,g);var Q=Yw(A,id);w.count=Be(Q,null,_,T,R);var nt=Gw(A);w.retrieveValue=function(mt,bt){var St=Z(_,T,R,mt);return it(St,bt)};var it=w.retrieveValueFromItem=function(mt,bt){if(mt!=null){var St=R[bt];return St?nt(mt,bt,St.name):void 0}};return w.getDimensionInfo=Be(JA,null,R,z),w.cloneAllDimensionInfo=Be(Kw,null,R),w}(f,a)}),u=Fr(a.transform({upstream:l[0],upstreamList:l,config:Gt(n.config)}));return ye(u,function(f,g){var v,w="";Zn(f)||Sr(w),f.data||Sr(w),lu(Vw(f.data))||Sr(w);var _=e[0];if(_&&g===0&&!f.dimensions){var A=_.startIndex;A&&(f.data=_.data.slice(0,A).concat(f.data)),v={seriesLayoutBy:id,sourceHeader:A,dimensions:_.metaRawOption.dimensions}}else v={seriesLayoutBy:id,sourceHeader:0,dimensions:f.dimensions};return zw(f.data,v,null)})}function lu(n){return n===ou||n===Ku}var fx,Iv="undefined",SD=typeof Uint32Array===Iv?Array:Uint32Array,CD=typeof Uint16Array===Iv?Array:Uint16Array,Vg=typeof Int32Array===Iv?Array:Int32Array,Hg=typeof Float64Array===Iv?Array:Float64Array,Jw={float:Hg,int:Vg,ordinal:Array,number:Array,time:Hg};function Wg(n){return n>65535?SD:CD}function th(n,e,t,i,r){var o=Jw[t||"float"];if(r){var a=n[e],l=a&&a.length;if(l!==i){for(var u=new o(i),f=0;f<l;f++)u[f]=a[f];n[e]=u}}else n[e]=new o(i)}var cu=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=yn()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),o=this.defaultDimValueGetter=fx[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],cx(r),this._dimensions=ye(t,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(e);if(o!=null){if(r[o].type===t)return o}else o=r.length;return r[o]={type:t},i.set(e,o),this._chunks[o]=new Jw[t||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],o=this._rawExtent,a=r.ordinalOffset||0,l=i.length;a===0&&(o[e]=[1/0,-1/0]);for(var u=o[e],f=a;f<l;f++){var g=i[f]=t.parseAndCollect(i[f]);isNaN(g)||(u[0]=Math.min(g,u[0]),u[1]=Math.max(g,u[1]))}r.ordinalMeta=t,r.ordinalOffset=l,r.type="ordinal"},n.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,l=this.count(),u=l+Math.max(e.length,t||0),f=0;f<o;f++)th(i,f,(A=r[f]).type,u,!0);for(var g=[],v=l;v<u;v++)for(var w=v-l,_=0;_<o;_++){var A=r[_],T=fx.arrayRows.call(this,e[w]||g,A.property,w,_);i[_][v]=T;var L=a[_];T<L[0]&&(L[0]=T),T>L[1]&&(L[1]=T)}return this._rawCount=this._count=u,{start:l,end:u}},n.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,l=a.length,u=this._rawExtent,f=ye(a,function(z){return z.property}),g=0;g<l;g++){var v=a[g];u[g]||(u[g]=[1/0,-1/0]),th(o,g,v.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,o,u);else for(var w=[],_=e;_<t;_++){w=r.getItem(_,w);for(var A=0;A<l;A++){var T=o[A],L=this._dimValueGetter(w,f[A],_,A);T[_]=L;var R=u[A];L<R[0]&&(R[0]=L),L>R[1]&&(R[1]=L)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],r=[];if(t==null){t=e,e=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=e;o=0;for(var a=r.length;o<a;o++)i.push(this.get(r[o],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var i=0,r=this.count();i<r;i++){var o=this.get(e,i);isNaN(o)||(t+=o)}return t},n.prototype.getMedian=function(e){var t=[];this.each([e],function(o){isNaN(o)||t.push(o)});var i=t.sort(function(o,a){return o-a}),r=this.count();return r===0?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(i!=null&&i<this._count&&i===e)return e;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(t[a]<e)r=a+1;else{if(!(t[a]>e))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(e,t,i){var r=this._chunks[e],o=[];if(!r)return o;i==null&&(i=1/0);for(var a=1/0,l=-1,u=0,f=0,g=this.count();f<g;f++){var v=t-r[this.getRawIndex(f)],w=Math.abs(v);w<=i&&((w<a||w===a&&v>=0&&l<0)&&(a=w,l=v,u=0),v===l&&(o[u++]=f))}return o.length=u,o},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var i=t.constructor,r=this._count;if(i===Array){e=new i(r);for(var o=0;o<r;o++)e[o]=t[o]}else e=new i(t.buffer,0,r)}else for(e=new(i=Wg(this._rawCount))(this.count()),o=0;o<e.length;o++)e[o]=o;return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=new(Wg(i._rawCount))(r),a=[],l=e.length,u=0,f=e[0],g=i._chunks,v=0;v<r;v++){var w=void 0,_=i.getRawIndex(v);if(l===0)w=t(v);else if(l===1)w=t(g[f][_],v);else{for(var A=0;A<l;A++)a[A]=g[e[A]][_];a[A]=v,w=t.apply(null,a)}w&&(o[u++]=_)}return u<r&&(i._indices=o),i._count=u,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=Re(e),o=r.length;if(!o)return this;var a=t.count(),l=new(Wg(t._rawCount))(a),u=0,f=r[0],g=e[f][0],v=e[f][1],w=t._chunks,_=!1;if(!t._indices){var A=0;if(o===1){for(var T=w[r[0]],L=0;L<i;L++)((X=T[L])>=g&&X<=v||isNaN(X))&&(l[u++]=A),A++;_=!0}else if(o===2){T=w[r[0]];var R=w[r[1]],z=e[r[1]][0],j=e[r[1]][1];for(L=0;L<i;L++){var X=T[L],Z=R[L];(X>=g&&X<=v||isNaN(X))&&(Z>=z&&Z<=j||isNaN(Z))&&(l[u++]=A),A++}_=!0}}if(!_)if(o===1)for(L=0;L<a;L++){var Q=t.getRawIndex(L);((X=w[r[0]][Q])>=g&&X<=v||isNaN(X))&&(l[u++]=Q)}else for(L=0;L<a;L++){for(var nt=!0,it=(Q=t.getRawIndex(L),0);it<o;it++){var mt=r[it];((X=w[mt][Q])<e[mt][0]||X>e[mt][1])&&(nt=!1)}nt&&(l[u++]=t.getRawIndex(L))}return u<a&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var r=e._chunks,o=[],a=t.length,l=e.count(),u=[],f=e._rawExtent,g=0;g<t.length;g++)f[t[g]]=[1/0,-1/0];for(var v=0;v<l;v++){for(var w=e.getRawIndex(v),_=0;_<a;_++)u[_]=r[t[_]][w];u[a]=v;var A=i&&i.apply(null,u);if(A!=null)for(typeof A!="object"&&(o[0]=A,A=o),g=0;g<A.length;g++){var T=t[g],L=A[g],R=f[T],z=r[T];z&&(z[w]=L),L<R[0]&&(R[0]=L),L>R[1]&&(R[1]=L)}}},n.prototype.lttbDownSample=function(e,t){var i,r,o,a=this.clone([e],!0),l=a._chunks[e],u=this.count(),f=0,g=Math.floor(1/t),v=this.getRawIndex(0),w=new(Wg(this._rawCount))(Math.min(2*(Math.ceil(u/g)+2),u));w[f++]=v;for(var _=1;_<u-1;_+=g){for(var A=Math.min(_+g,u-1),T=Math.min(_+2*g,u),L=(T+A)/2,R=0,z=A;z<T;z++){var j=l[bt=this.getRawIndex(z)];isNaN(j)||(R+=j)}R/=T-A;var X=_,Z=Math.min(_+g,u),Q=_-1,nt=l[v];i=-1,o=X;var it=-1,mt=0;for(z=X;z<Z;z++){var bt;j=l[bt=this.getRawIndex(z)],isNaN(j)?(mt++,it<0&&(it=bt)):(r=Math.abs((Q-L)*(j-nt)-(Q-z)*(R-nt)))>i&&(i=r,o=bt)}mt>0&&mt<Z-X&&(w[f++]=Math.min(it,o),o=Math.max(it,o)),w[f++]=o,v=o}return w[f++]=this.getRawIndex(u-1),a._count=f,a._indices=w,a.getRawIndex=this._getRawIdx,a},n.prototype.downSample=function(e,t,i,r){for(var o=this.clone([e],!0),a=o._chunks,l=[],u=Math.floor(1/t),f=a[e],g=this.count(),v=o._rawExtent[e]=[1/0,-1/0],w=new(Wg(this._rawCount))(Math.ceil(g/u)),_=0,A=0;A<g;A+=u){u>g-A&&(u=g-A,l.length=u);for(var T=0;T<u;T++){var L=this.getRawIndex(A+T);l[T]=f[L]}var R=i(l),z=this.getRawIndex(Math.min(A+r(l,R)||0,g-1));f[z]=R,R<v[0]&&(v[0]=R),R>v[1]&&(v[1]=R),w[_++]=z}return o._count=_,o._indices=w,o._updateGetRawIdx(),o},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,o=0,a=this.count();o<a;o++){var l=this.getRawIndex(o);switch(i){case 0:t(o);break;case 1:t(r[e[0]][l],o);break;case 2:t(r[e[0]][l],r[e[1]][l],o);break;default:for(var u=0,f=[];u<i;u++)f[u]=r[e[u]][l];f[u]=o,t.apply(null,f)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=[1/0,-1/0];if(!t)return i;var r,o=this.count();if(!this._indices)return this._rawExtent[e].slice();if(r=this._extent[e])return r.slice();for(var a=(r=i)[0],l=r[1],u=0;u<o;u++){var f=t[this.getRawIndex(u)];f<a&&(a=f),f>l&&(l=f)}return r=[a,l],this._extent[e]=r,r},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][t]);return i},n.prototype.clone=function(e,t){var i,r,o=new n,a=this._chunks,l=e&&cn(e,function(f,g){return f[g]=!0,f},{});if(l)for(var u=0;u<a.length;u++)o._chunks[u]=l[u]?(i=a[u],r=void 0,(r=i.constructor)===Array?i.slice():new r(i)):a[u];else o._chunks=a;return this._copyCommonProps(o),t||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Gt(this._extent),e._rawExtent=Gt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,i,r,o){return cd(t[o],this._dimensions[o])}fx={arrayRows:e,objectRows:function(t,i,r,o){return cd(t[i],this._dimensions[o])},keyedColumns:e,original:function(t,i,r,o){var a=t&&(t.value==null?t:t.value);return cd(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(t,i,r,o){return t[o]}}}(),n}(),Qw=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,i=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(jg(i)){var a=i,l=void 0,u=void 0,f=void 0;if(o){var g=r[0];g.prepareSource(),l=(f=g.getSource()).data,u=f.sourceFormat,t=[g._getVersionSign()]}else u=Yi(l=a.get("data",!0))?au:ru,t=[];var v=this._getSourceMetaRawOption()||{},w=f&&f.metaRawOption||{},_=Rt(v.seriesLayoutBy,w.seriesLayoutBy)||null,A=Rt(v.sourceHeader,w.sourceHeader),T=Rt(v.dimensions,w.dimensions);e=_!==w.seriesLayoutBy||!!A!=!!w.sourceHeader||T?[zw(l,{seriesLayoutBy:_,sourceHeader:A,dimensions:T},u)]:[]}else{var L=i;if(o){var R=this._applyTransform(r);e=R.sourceList,t=R.upstreamSignList}else e=[zw(L.get("source",!0),this._getSourceMetaRawOption(),null)],t=[]}this._setLocalSource(e,t)},n.prototype._applyTransform=function(e){var t,i=this._sourceHost,r=i.get("transform",!0),o=i.get("fromTransformResult",!0);if(o!=null){var a="";e.length!==1&&t_(a)}var l,u=[],f=[];return U(e,function(g){g.prepareSource();var v=g.getSource(o||0),w="";o==null||v||t_(w),u.push(v),f.push(g._getVersionSign())}),r?t=function(g,v,w){var _=Fr(g),A=_.length,T="";A||Sr(T);for(var L=0,R=A;L<R;L++)v=_D(_[L],v),L!==R-1&&(v.length=Math.max(v.length,1));return v}(r,u,i.componentIndex):o!=null&&(t=[(l=u[0],new Bg({data:l.data,sourceFormat:l.sourceFormat,seriesLayoutBy:l.seriesLayoutBy,dimensionsDefine:Gt(l.dimensionsDefine),startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount}))]),{sourceList:t,upstreamSignList:f}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var r=this._storeList,o=r[0];o||(o=r[0]={});var a=o[i];if(!a){var l=this._getUpstreamSourceManagers()[0];jg(this._sourceHost)&&l?a=l._innerGetDataStore(e,t,i):(a=new cu).initData(new Hw(t,e.length),e),o[i]=a}return a},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(jg(e)){var t=rx(e);return t?[t.getSourceManager()]:[]}return ye(function(i){return i.get("transform",!0)||i.get("fromTransformResult",!0)?dc(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},go).models:[]}(e),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e,t,i,r=this._sourceHost;if(jg(r))e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),i=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;e=o.get("seriesLayoutBy",!0),t=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:i}},n}();function uu(n){n.option.transform&&Ee(n.option.transform)}function jg(n){return n.mainType==="series"}function t_(n){throw new Error(n)}function e_(n,e){var t=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,l=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Lt(i+"")+"px;color:"+Lt(t)+";font-weight:"+Lt(r+""),valueStyle:"font-size:"+Lt(a+"")+"px;color:"+Lt(o)+";font-weight:"+Lt(l+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:l}}}var QA=[0,10,20,30],n_=["",`
`,`

`,`


`];function oa(n,e){return e.type=n,e}function i_(n){return n.type==="section"}function tM(n){return i_(n)?gx:r_}function eM(n){if(i_(n)){var e=0,t=n.blocks.length,i=t>1||t>0&&!n.noHeader;return U(n.blocks,function(r){var o=eM(r);o>=e&&(e=o+ +(i&&(!o||i_(r)&&!r.noHeader)))}),e}return 0}function gx(n,e,t,i){var r,o=e.noHeader,a=(r=eM(e),{html:QA[r],richText:n_[r]}),l=[],u=e.blocks||[];ve(!u||he(u)),u=u||[];var f=n.orderMode;if(e.sortBlocks&&f){u=u.slice();var g={valueAsc:"asc",valueDesc:"desc"};if(vn(g,f)){var v=new $w(g[f],null);u.sort(function(T,L){return v.evaluate(T.sortParam,L.sortParam)})}else f==="seriesDesc"&&u.reverse()}U(u,function(T,L){var R=e.valueFormatter,z=tM(T)(R?pe(pe({},n),{valueFormatter:R}):n,T,L>0?a.html:0,i);z!=null&&l.push(z)});var w=n.renderMode==="richText"?l.join(a.richText):o_(l.join(""),o?t:a.html);if(o)return w;var _=ex(e.header,"ordinal",n.useUTC),A=e_(i,n.renderMode).nameStyle;return n.renderMode==="richText"?nM(n,_,A)+a.richText+w:o_('<div style="'+A+';line-height:1;">'+Lt(_)+"</div>"+w,t)}function r_(n,e,t,i){var r=n.renderMode,o=e.noName,a=e.noValue,l=!e.markerType,u=e.name,f=n.useUTC,g=e.valueFormatter||n.valueFormatter||function(X){return ye(X=he(X)?X:[X],function(Z,Q){return ex(Z,he(_)?_[Q]:_,f)})};if(!o||!a){var v=l?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),w=o?"":ex(u,"ordinal",f),_=e.valueType,A=a?[]:g(e.value),T=!l||!o,L=!l&&o,R=e_(i,r),z=R.nameStyle,j=R.valueStyle;return r==="richText"?(l?"":v)+(o?"":nM(n,w,z))+(a?"":function(X,Z,Q,nt,it){var mt=[it],bt=nt?10:20;return Q&&mt.push({padding:[0,0,0,bt],align:"right"}),X.markupStyleCreator.wrapRichTextStyle(he(Z)?Z.join("  "):Z,mt)}(n,A,T,L,j)):o_((l?"":v)+(o?"":function(X,Z,Q){return'<span style="'+Q+";"+(Z?"margin-left:2px":"")+'">'+Lt(X)+"</span>"}(w,!l,z))+(a?"":function(X,Z,Q,nt){var it=Q?"10px":"20px",mt=Z?"float:right;margin-left:"+it:"";return X=he(X)?X:[X],'<span style="'+mt+";"+nt+'">'+ye(X,function(bt){return Lt(bt)}).join("&nbsp;&nbsp;")+"</span>"}(A,T,L,j)),t)}}function mx(n,e,t,i,r,o){if(n)return tM(n)({useUTC:r,renderMode:t,orderMode:i,markupStyleCreator:e,valueFormatter:n.valueFormatter},n,0,o)}function o_(n,e){return'<div style="'+("margin: "+e+"px 0 0")+';line-height:1;">'+n+'<div style="clear:both"></div></div>'}function nM(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function a_(n,e){return ul(n.getData().getItemVisual(e,"style")[n.visualDrawType])}function s_(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var vx=function(){function n(){this.richTextStyles={},this._nextStyleNameId=zu()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var r=i==="richText"?this._generateStyleName():null,o=Mw({color:t,type:e,renderMode:i,markerId:r});return kn(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};he(t)?U(t,function(o){return pe(i,o)}):pe(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},n}();function l_(n){var e,t,i,r,o=n.series,a=n.dataIndex,l=n.multipleSeries,u=o.getData(),f=u.mapDimensionsAll("defaultedTooltip"),g=f.length,v=o.getRawValue(a),w=he(v),_=a_(o,a);if(g>1||w&&!g){var A=function(X,Z,Q,nt,it){var mt=Z.getData(),bt=cn(X,function(le,ge,be){var Ie=mt.getDimensionInfo(be);return le||Ie&&Ie.tooltip!==!1&&Ie.displayName!=null},!1),St=[],Ot=[],Yt=[];function ee(le,ge){var be=mt.getDimensionInfo(ge);be&&be.otherDims.tooltip!==!1&&(bt?Yt.push(oa("nameValue",{markerType:"subItem",markerColor:it,name:be.displayName,value:le,valueType:be.type})):(St.push(le),Ot.push(be.type)))}return nt.length?U(nt,function(le){ee(Qu(mt,Q,le),le)}):U(X,ee),{inlineValues:St,inlineValueTypes:Ot,blocks:Yt}}(v,o,a,f,_);e=A.inlineValues,t=A.inlineValueTypes,i=A.blocks,r=A.inlineValues[0]}else if(g){var T=u.getDimensionInfo(f[0]);r=e=Qu(u,a,f[0]),t=T.type}else r=e=w?v[0]:v;var L=wa(o),R=L&&o.name||"",z=u.getName(a),j=l?R:z;return oa("section",{header:R,noHeader:l||!L,sortParam:r,blocks:[oa("nameValue",{markerType:"item",markerColor:_,name:j,noName:!Pe(j),value:e,valueType:t})].concat(i||[])})}var hu=hr();function Dv(n,e){return n.getName(e)||n.getId(e)}var Vr=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return wt(e,n),e.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=Fg({count:c_,reset:iM}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(hu(this).sourceManager=new Qw(this)).prepareSource();var o=this.getInitialData(t,r);u_(o,this),this.dataTask.context.data=o,hu(this).dataBeforeProcessed=o,Yg(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=Tg(this),o=r?Wp(t):{},a=this.subType;pr.hasClass(a)&&(a+="Series"),ie(t,i.getTheme().get(this.subType)),ie(t,this.getDefaultOption()),qc(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&Zu(t,o,r)},e.prototype.mergeOption=function(t,i){t=ie(this.option,t,!0),this.fillDataTextStyle(t.data);var r=Tg(this);r&&Zu(this.option,t,r);var o=hu(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(t,i);u_(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,hu(this).dataBeforeProcessed=a,Yg(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(t){if(t&&!Yi(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&qc(t[r],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var i=h_(this);if(i){var r=i.context.data;return t==null?r:r.getLinkedData(t)}return hu(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=h_(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}hu(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return yn(t)},e.prototype.getSourceManager=function(){return hu(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return hu(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,i,r){return l_({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(ke.node&&(!t||!t.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,r){var o=this.ecModel,a=Cv.prototype.getColorFromPalette.call(this,t,i,r);return a||(a=o.getColorFromPalette(t,i,r)),a},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if(o==="series"||r==="all")return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var l=0;l<t.length;l++){var u=Dv(a,t[l]);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,i){for(var r=[],o=0;o<t.length;o++)r[0]=t[o],this.isSelected(t[o],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,i=Re(t),r=[],o=0;o<i.length;o++){var a=t[i[o]];a>=0&&r.push(a)}return r},e.prototype.isSelected=function(t,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return(r==="all"||r[Dv(o,t)])&&!o.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var t=this.option.universalTransition;return!!t&&(t===!0||t&&t.enabled)},e.prototype._innerSelect=function(t,i){var r,o,a=this.option,l=a.selectedMode,u=i.length;if(l&&u){if(l==="series")a.selectedMap="all";else if(l==="multiple"){Zn(a.selectedMap)||(a.selectedMap={});for(var f=a.selectedMap,g=0;g<u;g++){var v=i[g];f[_=Dv(t,v)]=!0,this._selectedDataIndicesMap[_]=t.getRawIndex(v)}}else if(l==="single"||l===!0){var w=i[u-1],_=Dv(t,w);a.selectedMap=((r={})[_]=!0,r),this._selectedDataIndicesMap=((o={})[_]=t.getRawIndex(w),o)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var o=t.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return pr.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(pr);function Yg(n){var e=n.name;wa(n)||(n.name=function(t){var i=t.getRawData(),r=i.mapDimensionsAll("seriesName"),o=[];return U(r,function(a){var l=i.getDimensionInfo(a);l.displayName&&o.push(l.displayName)}),o.join(" ")}(n)||e)}function c_(n){return n.model.getRawData().count()}function iM(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),rM}function rM(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function u_(n,e){U(jn(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,un(oM,e))})}function oM(n,e){var t=h_(n);return t&&t.setOutputEnd((e||this).count()),e}function h_(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}oe(Vr,dx),oe(Vr,Cv),ig(Vr,pr);var io=function(){function n(){this.group=new Ei,this.uid=Bp("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){},n.prototype.updateLayout=function(e,t,i,r){},n.prototype.updateVisual=function(e,t,i,r){},n.prototype.toggleBlurSeries=function(e,t,i){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();function eh(){var n=hr();return function(e){var t=n(e),i=e.pipelineContext,r=!!t.large,o=!!t.progressiveRender,a=t.large=!(!i||!i.large),l=t.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===l)&&"reset"}}Bh(io),zh(io);var yx=hr(),d_=eh(),qr=function(){function n(){this.group=new Ei,this.uid=Bp("viewChart"),this.renderTask=Fg({plan:kD,reset:aM}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.highlight=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&f_(o,r,"emphasis")},n.prototype.downplay=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&f_(o,r,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.eachRendered=function(e){ra(this.group,e)},n.markUpdateMethod=function(e,t){yx(e).updateMethod=t},n.protoInitialize=void(n.prototype.type="chart"),n}();function p_(n,e,t){n&&Cp(n)&&(e==="emphasis"?Xu:qu)(n,t)}function f_(n,e,t){var i=Uc(n,e),r=e&&e.highlightKey!=null?function(o){var a=T0[o];return a==null&&j1<=32&&(a=T0[o]=j1++),a}(e.highlightKey):null;i!=null?U(Fr(i),function(o){p_(n.getItemGraphicEl(o),t,r)}):n.eachItemGraphicEl(function(o){p_(o,t,r)})}function kD(n){return d_(n.model)}function aM(n){var e=n.model,t=n.ecModel,i=n.api,r=n.payload,o=e.pipelineContext.progressiveRender,a=n.view,l=r&&yx(r).updateMethod,u=o?"incrementalPrepareRender":l&&a[l]?l:"render";return u!=="render"&&a[u](e,t,i,r),AD[u]}Bh(qr),zh(qr);var AD={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},xx="\0__throttleOriginMethod",hd="\0__throttleRate",sM="\0__throttleType";function du(n,e,t){var i,r,o,a,l,u=0,f=0,g=null;function v(){f=new Date().getTime(),g=null,n.apply(o,a||[])}e=e||0;var w=function(){for(var _=[],A=0;A<arguments.length;A++)_[A]=arguments[A];i=new Date().getTime(),o=this,a=_;var T=l||e,L=l||t;l=null,r=i-(L?u:f)-T,clearTimeout(g),L?g=setTimeout(v,T):r>=0?v():g=setTimeout(v,-r),u=i};return w.clear=function(){g&&(clearTimeout(g),g=null)},w.debounceNextCall=function(_){l=_},w}function hl(n,e,t,i){var r=n[e];if(r){var o=r[xx]||r,a=r[sM];if(r[hd]!==t||a!==i){if(t==null||!i)return n[e]=o;(r=n[e]=du(o,t,i==="debounce"))[xx]=o,r[sM]=i,r[hd]=t}return r}}function Ba(n,e){var t=n[e];t&&t[xx]&&(t.clear&&t.clear(),n[e]=t[xx])}var g_=hr(),m_={itemStyle:Il(G0,!0),lineStyle:Il(vv,!0)},lM={lineStyle:"stroke",itemStyle:"fill"};function v_(n,e){var t=n.visualStyleMapper||m_[e];return t||(console.warn("Unknown style type '"+e+"'."),m_.itemStyle)}function cM(n,e){var t=n.visualDrawType||lM[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var bx={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=v_(n,i)(r),a=r.getShallow("decal");a&&(t.setVisual("decal",a),a.dirty=!0);var l=cM(n,i),u=o[l],f=In(u)?u:null,g=o.fill==="auto"||o.stroke==="auto";if(!o[l]||f||g){var v=n.getColorFromPalette(n.name,null,e.getSeriesCount());o[l]||(o[l]=v,t.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||In(o.fill)?v:o.fill,o.stroke=o.stroke==="auto"||In(o.stroke)?v:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&f)return t.setVisual("colorFromPalette",!1),{dataEach:function(w,_){var A=n.getDataParams(_),T=pe({},o);T[l]=f(A),w.setItemVisual(_,"style",T)}}}},Xp=new Nr,uM={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.ignoreStyleOnData&&!e.isSeriesFiltered(n)){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=v_(n,i),o=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(a,l){var u=a.getRawDataItem(l);if(u&&u[i]){Xp.option=u[i];var f=r(Xp);pe(a.ensureUniqueItemVisual(l,"style"),f),Xp.option.decal&&(a.setItemVisual(l,"decal",Xp.option.decal),Xp.option.decal.dirty=!0),o in f&&a.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},hM={performRawSeries:!0,overallReset:function(n){var e=yn();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,o=e.get(r);o||(o={},e.set(r,o)),g_(t).scope=o}}),n.eachSeries(function(t){if(!t.isColorBySeries()&&!n.isSeriesFiltered(t)){var i=t.getRawData(),r={},o=t.getData(),a=g_(t).scope,l=t.visualStyleAccessPath||"itemStyle",u=cM(t,l);o.each(function(f){var g=o.getRawIndex(f);r[g]=f}),i.each(function(f){var g=r[f];if(o.getItemVisual(g,"colorFromPalette")){var v=o.ensureUniqueItemVisual(g,"style"),w=i.getName(f)||f+"",_=i.count();v[u]=t.getColorFromPalette(w,a,_)}})}})}},Gg=Math.PI,_x=function(){function n(e,t,i,r){this._stageTaskMap=yn(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,o=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,a=r&&r.modDataCount;return{step:o,modBy:a!=null?Math.ceil(a/o):null,modDataCount:a}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),r=e.getData().count(),o=i.progressiveEnabled&&t.incrementalPrepareRender&&r>=i.threshold,a=e.get("large")&&r>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?r:null;e.pipelineContext=i.context={progressiveRender:o,modDataCount:l,large:a}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=yn();e.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),t._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;U(this._allHandlers,function(r){var o=e.get(r.uid)||e.set(r.uid,{}),a="";ve(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,o,t,i),r.overallReset&&this._createOverallStageTask(r,o,t,i)},this)},n.prototype.prepareView=function(e,t,i,r){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=i,a.api=r,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,r){r=r||{};var o=!1,a=this;function l(u,f){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(f.__pipeline.id))}U(e,function(u,f){if(!r.visualType||r.visualType===u.visualType){var g=a._stageTaskMap.get(u.uid),v=g.seriesTaskMap,w=g.overallTask;if(w){var _,A=w.agentStubMap;A.each(function(L){l(r,L)&&(L.dirty(),_=!0)}),_&&w.dirty(),a.updatePayload(w,i);var T=a.getPerformArgs(w,r.block);A.each(function(L){L.perform(T)}),w.perform(T)&&(o=!0)}else v&&v.each(function(L,R){l(r,L)&&L.dirty();var z=a.getPerformArgs(L,r.block);z.skip=!u.performRawSeries&&t.isSeriesFiltered(L.context.model),a.updatePayload(L,i),L.perform(z)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,r){var o=this,a=t.seriesTaskMap,l=t.seriesTaskMap=yn(),u=e.seriesType,f=e.getTargetSeries;function g(v){var w=v.uid,_=l.set(w,a&&a.get(w)||Fg({plan:y_,reset:fM,count:mM}));_.context={model:v,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(v,_)}e.createOnAllSeries?i.eachRawSeries(g):u?i.eachRawSeriesByType(u,g):f&&f(i,r).each(g)},n.prototype._createOverallStageTask=function(e,t,i,r){var o=this,a=t.overallTask=t.overallTask||Fg({reset:Lv});a.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:o};var l=a.agentStubMap,u=a.agentStubMap=yn(),f=e.seriesType,g=e.getTargetSeries,v=!0,w=!1,_="";function A(T){var L=T.uid,R=u.set(L,l&&l.get(L)||(w=!0,Fg({reset:Sx,onDirty:pM})));R.context={model:T,overallProgress:v},R.agent=a,R.__block=v,o._pipe(T,R)}ve(!e.createOnAllSeries,_),f?i.eachRawSeriesByType(f,A):g?g(i,r).each(A):(v=!1,U(i.getSeries(),A)),w&&a.dirty()},n.prototype._pipe=function(e,t){var i=e.uid,r=this._pipelineMap.get(i);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},n.wrapStageHandler=function(e,t){return In(e)&&(e={overallReset:e,seriesType:MD(e)}),e.uid=Bp("stageHandler"),t&&(e.visualType=t),e},n}();function Lv(n){n.overallReset(n.ecModel,n.api,n.payload)}function Sx(n){return n.overallProgress&&dM}function dM(){this.agent.dirty(),this.getDownstream().dirty()}function pM(){this.agent&&this.agent.dirty()}function y_(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function fM(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Fr(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?ye(e,function(t,i){return Cx(i)}):gM}var gM=Cx(0);function Cx(n){return function(e,t){var i=t.data,r=t.resetDefines[n];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function mM(n){return n.data.count()}function MD(n){Ov=null;try{n(qp,x_)}catch{}return Ov}var Ov,qp={},x_={};function b_(n,e){for(var t in e.prototype)n[t]=En}b_(qp,Og),b_(x_,Pw),qp.eachSeriesByType=qp.eachRawSeriesByType=function(n){Ov=n},qp.eachComponent=function(n){n.mainType==="series"&&n.subType&&(Ov=n.subType)};var vM=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],w_={color:vM,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],vM]},Ms="#B9B8CE",__="#100C2A",Xg=function(){return{axisLine:{lineStyle:{color:Ms}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Ev=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],S_={darkMode:!0,color:Ev,backgroundColor:__,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Ms}},textStyle:{color:Ms},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Ms}},dataZoom:{borderColor:"#71708A",textStyle:{color:Ms},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Ms}},timeline:{lineStyle:{color:Ms},label:{color:Ms},controlStyle:{color:Ms,borderColor:Ms}},calendar:{itemStyle:{color:__},dayLabel:{color:Ms},monthLabel:{color:Ms},yearLabel:{color:Ms}},timeAxis:Xg(),logAxis:Xg(),valueAxis:Xg(),categoryAxis:Xg(),line:{symbol:"circle"},graph:{color:Ev},gauge:{title:{color:Ms},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Ms},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};S_.categoryAxis.splitLine.show=!1;var TD=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},r={};if(kn(e)){var o=ao(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};U(e,function(u,f){for(var g=!1,v=0;v<a.length;v++){var w=a[v],_=f.lastIndexOf(w);if(_>0&&_===f.length-w.length){var A=f.slice(0,_);A!=="data"&&(t.mainType=A,t[w.toLowerCase()]=u,g=!0)}}l.hasOwnProperty(f)&&(i[f]=u,g=!0),g||(r[f]=u)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,l=i.view;if(!a||!l)return!0;var u=t.cptQuery,f=t.dataQuery;return g(u,a,"mainType")&&g(u,a,"subType")&&g(u,a,"index","componentIndex")&&g(u,a,"name")&&g(u,a,"id")&&g(f,o,"name")&&g(f,o,"dataIndex")&&g(f,o,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(e,t.otherQuery,r,o));function g(v,w,_,A){return v[_]==null||w[A||_]===v[_]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),Pv=["symbol","symbolSize","symbolRotate","symbolOffset"],dd=Pv.concat(["symbolKeepAspect"]),ID={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<Pv.length;a++){var l=Pv[a],u=n.get(l);In(u)?(o=!0,r[l]=u):i[l]=u}if(i.symbol=i.symbol||n.defaultSymbol,t.setVisual(pe({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(n)){var f=Re(r);return{dataEach:o?function(g,v){for(var w=n.getRawValue(v),_=n.getDataParams(v),A=0;A<f.length;A++){var T=f[A];g.setItemVisual(v,T,r[T](w,_))}}:null}}}}},DD={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(n.hasSymbolVisual&&!e.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(t,i){for(var r=t.getItemModel(i),o=0;o<dd.length;o++){var a=dd[o],l=r.getShallow(a,!0);l!=null&&t.setItemVisual(i,a,l)}}:null}}};function Nv(n,e,t){switch(t){case"color":return n.getItemVisual(e,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function qg(n,e){switch(e){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function C_(n,e,t,i){switch(t){case"color":n.ensureUniqueItemVisual(e,"style")[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i)}}function k_(n,e){function t(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(a){o.push(a.seriesIndex)}),o}U([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(r,o,a){r=pe({},r),a.dispatchAction(pe(r,{type:i[1],seriesIndex:t(o,r)}))})})}function pd(n,e,t,i,r){var o=n+e;t.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var l=a.seriesIndex,u=a.option.selectedMap,f=r.selected,g=0;g<f.length;g++)if(f[g].seriesIndex===l){var v=a.getData(),w=Uc(v,r.fromActionPayload);t.trigger(o,{type:o,seriesId:a.id,name:he(w)?v.getName(w[0]):v.getName(w),selected:kn(u)?u:pe({},u)})}})}function fd(n,e,t){for(var i;n&&(!e(n)||(i=n,!t));)n=n.__hostTarget||n.parent;return i}var Rv=Math.round(9*Math.random()),A_=typeof Object.defineProperty=="function",M_=function(){function n(){this._id="__ec_inner_"+Rv++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return A_?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}(),yM=Ti.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i+o),n.lineTo(t-r,i+o),n.closePath()}}),T_=Ti.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i),n.lineTo(t,i+o),n.lineTo(t-r,i),n.closePath()}}),LD=Ti.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,l=a*a/(o-a),u=i-o+a+l,f=Math.asin(l/a),g=Math.cos(f)*a,v=Math.sin(f),w=Math.cos(f),_=.6*a,A=.7*a;n.moveTo(t-g,u+l),n.arc(t,u,a,Math.PI-f,2*Math.PI+f),n.bezierCurveTo(t+g-v*_,u+l+w*_,t,i-A,t,i),n.bezierCurveTo(t,i-A,t-g+v*_,u+l+w*_,t-g,u+l),n.closePath()}}),OD=Ti.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;n.moveTo(r,o),n.lineTo(r+a,o+t),n.lineTo(r,o+t/4*3),n.lineTo(r-a,o+t),n.lineTo(r,o),n.closePath()}}),I_={line:function(n,e,t,i,r){r.x1=n,r.y1=e+i/2,r.x2=n+t,r.y2=e+i/2},rect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i},roundRect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(n,e,t,i,r){var o=Math.min(t,i);r.x=n,r.y=e,r.width=o,r.height=o},circle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.r=Math.min(t,i)/2},diamond:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i},pin:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},arrow:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},triangle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i}},Bv={};U({line:Zo,rect:br,roundRect:br,square:br,circle:El,diamond:T_,pin:LD,arrow:OD,triangle:yM},function(n,e){Bv[e]=new n});var ED=Ti.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=Cl(n,e,t),r=this.shape;return r&&r.symbolType==="pin"&&e.position==="inside"&&(i.y=t.y+.4*t.height),i},buildPath:function(n,e,t){var i=e.symbolType;if(i!=="none"){var r=Bv[i];r||(r=Bv[i="rect"]),I_[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(n,r.shape,t)}}});function PD(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function Do(n,e,t,i,r,o,a){var l,u=n.indexOf("empty")===0;return u&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=n.indexOf("image://")===0?Dp(n.slice(8),new Qi(e,t,i,r),a?"center":"cover"):n.indexOf("path://")===0?vg(n.slice(7),{},new Qi(e,t,i,r),a?"center":"cover"):new ED({shape:{symbolType:n,x:e,y:t,width:i,height:r}})).__isEmptyBrush=u,l.setColor=PD,o&&l.setColor(o),l}function zv(n){return he(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function nh(n,e){if(n!=null)return he(n)||(n=[n,n]),[Yn(n[0],e[0])||0,Yn(Rt(n[1],n[0]),e[1])||0]}function ih(n){return isFinite(n)}function D_(n,e,t){for(var i=e.type==="radial"?function(a,l,u){var f=u.width,g=u.height,v=Math.min(f,g),w=l.x==null?.5:l.x,_=l.y==null?.5:l.y,A=l.r==null?.5:l.r;return l.global||(w=w*f+u.x,_=_*g+u.y,A*=v),w=ih(w)?w:.5,_=ih(_)?_:.5,A=A>=0&&ih(A)?A:.5,a.createRadialGradient(w,_,0,w,_,A)}(n,e,t):function(a,l,u){var f=l.x==null?0:l.x,g=l.x2==null?1:l.x2,v=l.y==null?0:l.y,w=l.y2==null?0:l.y2;return l.global||(f=f*u.width+u.x,g=g*u.width+u.x,v=v*u.height+u.y,w=w*u.height+u.y),f=ih(f)?f:0,g=ih(g)?g:1,v=ih(v)?v:0,w=ih(w)?w:0,a.createLinearGradient(f,v,g,w)}(n,e,t),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Fv(n){return parseInt(n,10)}function gd(n,e,t){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(t[i]!=null&&t[i]!=="auto")return parseFloat(t[i]);var l=document.defaultView.getComputedStyle(n);return(n[r]||Fv(l[i])||Fv(n.style[i]))-(Fv(l[o])||0)-(Fv(l[a])||0)|0}function Vv(n){var e,t,i=n.style,r=i.lineDash&&i.lineWidth>0&&(e=i.lineDash,t=i.lineWidth,e&&e!=="solid"&&t>0?e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:fi(e)?[e]:he(e)?e:null:null),o=i.lineDashOffset;if(r){var a=i.strokeNoScale&&n.getLineScale?n.getLineScale():1;a&&a!==1&&(r=ye(r,function(l){return l/a}),o/=a)}return[r,o]}var xM=new ae(!0);function Ug(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function Hv(n){return typeof n=="string"&&n!=="none"}function Wv(n){var e=n.fill;return e!=null&&e!=="none"}function Sc(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function kx(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function md(n,e,t){var i=xp(e.image,e.__image,t);if(Fh(i)){var r=n.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*gn),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}var L_=["shadowBlur","shadowOffsetX","shadowOffsetY"],O_=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Ax(n,e,t,i,r){var o=!1;if(!i&&e===(t=t||{}))return!1;if(i||e.opacity!==t.opacity){Ts(n,r),o=!0;var a=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(a)?kr.opacity:a}(i||e.blend!==t.blend)&&(o||(Ts(n,r),o=!0),n.globalCompositeOperation=e.blend||kr.blend);for(var l=0;l<L_.length;l++){var u=L_[l];(i||e[u]!==t[u])&&(o||(Ts(n,r),o=!0),n[u]=n.dpr*(e[u]||0))}return(i||e.shadowColor!==t.shadowColor)&&(o||(Ts(n,r),o=!0),n.shadowColor=e.shadowColor||kr.shadowColor),o}function Mx(n,e,t,i,r){var o=$g(e,r.inHover),a=i?null:t&&$g(t,r.inHover)||{};if(o===a)return!1;var l=Ax(n,o,a,i,r);if((i||o.fill!==a.fill)&&(l||(Ts(n,r),l=!0),Hv(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(l||(Ts(n,r),l=!0),Hv(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(l||(Ts(n,r),l=!0),n.globalAlpha=o.opacity==null?1:o.opacity),e.hasStroke()){var u=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(l||(Ts(n,r),l=!0),n.lineWidth=u)}for(var f=0;f<O_.length;f++){var g=O_[f],v=g[0];(i||o[v]!==a[v])&&(l||(Ts(n,r),l=!0),n[v]=o[v]||g[1])}return l}function Tx(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}function Ts(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function $g(n,e){return e&&n.__hoverStyle||n.style}function E_(n,e){Up(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Up(n,e,t,i){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return e.__dirty&=-2,void(e.__isRendered=!1);var o=e.__clipPaths,a=t.prevElClipPaths,l=!1,u=!1;if(a&&!function(A,T){if(A===T||!A&&!T)return!1;if(!A||!T||A.length!==T.length)return!0;for(var L=0;L<A.length;L++)if(A[L]!==T[L])return!0;return!1}(o,a)||(a&&a.length&&(Ts(n,t),n.restore(),u=l=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),o&&o.length&&(Ts(n,t),n.save(),function(A,T,L){for(var R=!1,z=0;z<A.length;z++){var j=A[z];R=R||j.isZeroArea(),Tx(T,j),T.beginPath(),j.buildPath(T,j.shape),T.clip()}L.allClipped=R}(o,n,t),l=!0),t.prevElClipPaths=o),t.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var f=t.prevEl;f||(u=l=!0);var g,v,w=e instanceof Ti&&e.autoBatch&&function(A){var T=Wv(A),L=Ug(A);return!(A.lineDash||!(+T^+L)||T&&typeof A.fill!="string"||L&&typeof A.stroke!="string"||A.strokePercent<1||A.strokeOpacity<1||A.fillOpacity<1)}(e.style);l||(g=r,v=f.transform,g&&v?g[0]!==v[0]||g[1]!==v[1]||g[2]!==v[2]||g[3]!==v[3]||g[4]!==v[4]||g[5]!==v[5]:g||v)?(Ts(n,t),Tx(n,e)):w||Ts(n,t);var _=$g(e,t.inHover);e instanceof Ti?(t.lastDrawType!==1&&(u=!0,t.lastDrawType=1),Mx(n,e,f,u,t),w&&(t.batchFill||t.batchStroke)||n.beginPath(),function(A,T,L,R){var z,j=Ug(L),X=Wv(L),Z=L.strokePercent,Q=Z<1,nt=!T.path;T.silent&&!Q||!nt||T.createPathProxy();var it=T.path||xM,mt=T.__dirty;if(!R){var bt=L.fill,St=L.stroke,Ot=X&&!!bt.colorStops,Yt=j&&!!St.colorStops,ee=X&&!!bt.image,le=j&&!!St.image,ge=void 0,be=void 0,Ie=void 0,He=void 0,qe=void 0;(Ot||Yt)&&(qe=T.getBoundingRect()),Ot&&(ge=mt?D_(A,bt,qe):T.__canvasFillGradient,T.__canvasFillGradient=ge),Yt&&(be=mt?D_(A,St,qe):T.__canvasStrokeGradient,T.__canvasStrokeGradient=be),ee&&(Ie=mt||!T.__canvasFillPattern?md(A,bt,T):T.__canvasFillPattern,T.__canvasFillPattern=Ie),le&&(He=mt||!T.__canvasStrokePattern?md(A,St,T):T.__canvasStrokePattern,T.__canvasStrokePattern=Ie),Ot?A.fillStyle=ge:ee&&(Ie?A.fillStyle=Ie:X=!1),Yt?A.strokeStyle=be:le&&(He?A.strokeStyle=He:j=!1)}var Ke,bn,Rn=T.getGlobalScale();it.setScale(Rn[0],Rn[1],T.segmentIgnoreThreshold),A.setLineDash&&L.lineDash&&(Ke=(z=Vv(T))[0],bn=z[1]);var Je=!0;(nt||4&mt)&&(it.setDPR(A.dpr),Q?it.setContext(null):(it.setContext(A),Je=!1),it.reset(),T.buildPath(it,T.shape,R),it.toStatic(),T.pathUpdated()),Je&&it.rebuildPath(A,Q?Z:1),Ke&&(A.setLineDash(Ke),A.lineDashOffset=bn),R||(L.strokeFirst?(j&&kx(A,L),X&&Sc(A,L)):(X&&Sc(A,L),j&&kx(A,L))),Ke&&A.setLineDash([])}(n,e,_,w),w&&(t.batchFill=_.fill||"",t.batchStroke=_.stroke||"")):e instanceof Gr?(t.lastDrawType!==3&&(u=!0,t.lastDrawType=3),Mx(n,e,f,u,t),function(A,T,L){var R,z=L.text;if(z!=null&&(z+=""),z){A.font=L.font||re,A.textAlign=L.textAlign,A.textBaseline=L.textBaseline;var j=void 0,X=void 0;A.setLineDash&&L.lineDash&&(j=(R=Vv(T))[0],X=R[1]),j&&(A.setLineDash(j),A.lineDashOffset=X),L.strokeFirst?(Ug(L)&&A.strokeText(z,L.x,L.y),Wv(L)&&A.fillText(z,L.x,L.y)):(Wv(L)&&A.fillText(z,L.x,L.y),Ug(L)&&A.strokeText(z,L.x,L.y)),j&&A.setLineDash([])}}(n,e,_)):e instanceof Kr?(t.lastDrawType!==2&&(u=!0,t.lastDrawType=2),function(A,T,L,R,z){Ax(A,$g(T,z.inHover),L&&$g(L,z.inHover),R,z)}(n,e,f,u,t),function(A,T,L){var R=T.__image=xp(L.image,T.__image,T,T.onload);if(R&&Fh(R)){var z=L.x||0,j=L.y||0,X=T.getWidth(),Z=T.getHeight(),Q=R.width/R.height;if(X==null&&Z!=null?X=Z*Q:Z==null&&X!=null?Z=X/Q:X==null&&Z==null&&(X=R.width,Z=R.height),L.sWidth&&L.sHeight){var nt=L.sx||0,it=L.sy||0;A.drawImage(R,nt,it,L.sWidth,L.sHeight,z,j,X,Z)}else if(L.sx&&L.sy){var mt=X-(nt=L.sx),bt=Z-(it=L.sy);A.drawImage(R,nt,it,mt,bt,z,j,X,Z)}else A.drawImage(R,z,j,X,Z)}}(n,e,_)):e.getTemporalDisplayables&&(t.lastDrawType!==4&&(u=!0,t.lastDrawType=4),function(A,T,L){var R=T.getDisplayables(),z=T.getTemporalDisplayables();A.save();var j,X,Z={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:L.viewWidth,viewHeight:L.viewHeight,inHover:L.inHover};for(j=T.getCursor(),X=R.length;j<X;j++)(it=R[j]).beforeBrush&&it.beforeBrush(),it.innerBeforeBrush(),Up(A,it,Z,j===X-1),it.innerAfterBrush(),it.afterBrush&&it.afterBrush(),Z.prevEl=it;for(var Q=0,nt=z.length;Q<nt;Q++){var it;(it=z[Q]).beforeBrush&&it.beforeBrush(),it.innerBeforeBrush(),Up(A,it,Z,Q===nt-1),it.innerAfterBrush(),it.afterBrush&&it.afterBrush(),Z.prevEl=it}T.clearTemporalDisplayables(),T.notClear=!0,A.restore()}(n,e,t)),w&&i&&Ts(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var $p=new M_,P_=new Tu(100),N_=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Zp(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),i=e.getZr(),r=i.painter.type==="svg";n.dirty&&$p.delete(n);var o=$p.get(n);if(o)return o;var a=De(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var l={repeat:"repeat"};return function(u){for(var f,g=[t],v=!0,w=0;w<N_.length;++w){var _=a[N_[w]];if(_!=null&&!he(_)&&!kn(_)&&!fi(_)&&typeof _!="boolean"){v=!1;break}g.push(_)}if(v){f=g.join(",")+(r?"-svg":"");var A=P_.get(f);A&&(r?u.svgElement=A:u.image=A)}var T,L=B_(a.dashArrayX),R=function(mt){if(!mt||typeof mt=="object"&&mt.length===0)return[0,0];if(fi(mt)){var bt=Math.ceil(mt);return[bt,bt]}var St=ye(mt,function(Ot){return Math.ceil(Ot)});return mt.length%2?St.concat(St):St}(a.dashArrayY),z=R_(a.symbol),j=(it=L,ye(it,function(mt){return z_(mt)})),X=z_(R),Z=!r&&pt.createCanvas(),Q=r&&{tag:"g",attrs:{},key:"dcl",children:[]},nt=function(){for(var mt=1,bt=0,St=j.length;bt<St;++bt)mt=tg(mt,j[bt]);var Ot=1;for(bt=0,St=z.length;bt<St;++bt)Ot=tg(Ot,z[bt].length);mt*=Ot;var Yt=X*j.length*z.length;return{width:Math.max(1,Math.min(mt,a.maxTileWidth)),height:Math.max(1,Math.min(Yt,a.maxTileHeight))}}(),it;Z&&(Z.width=nt.width*t,Z.height=nt.height*t,T=Z.getContext("2d")),function(){T&&(T.clearRect(0,0,Z.width,Z.height),a.backgroundColor&&(T.fillStyle=a.backgroundColor,T.fillRect(0,0,Z.width,Z.height)));for(var mt=0,bt=0;bt<R.length;++bt)mt+=R[bt];if(mt<=0)return;for(var St=-X,Ot=0,Yt=0,ee=0;St<nt.height;){if(Ot%2==0){for(var le=Yt/2%z.length,ge=0,be=0,Ie=0;ge<2*nt.width;){var He=0;for(bt=0;bt<L[ee].length;++bt)He+=L[ee][bt];if(He<=0)break;if(be%2==0){var qe=.5*(1-a.symbolSize),Ke=ge+L[ee][be]*qe,bn=St+R[Ot]*qe,Rn=L[ee][be]*a.symbolSize,Je=R[Ot]*a.symbolSize,Tn=Ie/2%z[le].length;Fn(Ke,bn,Rn,Je,z[le][Tn])}ge+=L[ee][be],++Ie,++be===L[ee].length&&(be=0)}++ee===L.length&&(ee=0)}St+=R[Ot],++Yt,++Ot===R.length&&(Ot=0)}function Fn(Xn,Vn,qn,Hn,ni){var wi=r?1:t,Zi=Do(ni,Xn*wi,Vn*wi,qn*wi,Hn*wi,a.color,a.symbolKeepAspect);if(r){var nr=i.painter.renderOneToVNode(Zi);nr&&Q.children.push(nr)}else E_(T,Zi)}}(),v&&P_.put(f,Z||Q),u.image=Z,u.svgElement=Q,u.svgWidth=nt.width,u.svgHeight=nt.height}(l),l.rotation=a.rotation,l.scaleX=l.scaleY=r?1:1/t,$p.set(n,l),n.dirty=!1,l}function R_(n){if(!n||n.length===0)return[["rect"]];if(kn(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!kn(n[t])){e=!1;break}if(e)return R_([n]);var i=[];for(t=0;t<n.length;++t)kn(n[t])?i.push([n[t]]):i.push(n[t]);return i}function B_(n){if(!n||n.length===0)return[[0,0]];if(fi(n))return[[r=Math.ceil(n),r]];for(var e=!0,t=0;t<n.length;++t)if(!fi(n[t])){e=!1;break}if(e)return B_([n]);var i=[];for(t=0;t<n.length;++t)if(fi(n[t])){var r=Math.ceil(n[t]);i.push([r,r])}else(r=ye(n[t],function(o){return Math.ceil(o)})).length%2==1?i.push(r.concat(r)):i.push(r);return i}function z_(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2==1?2*e:e}var zl=new M,Ix={};function Dx(n){return Ix[n]}var Lx=2e3,jv=4500,F_={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:Lx,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:jv,ARIA:6e3,DECAL:7e3}},Ox=/^[a-zA-Z0-9_]+$/,Ex="__connectUpdateStatus";function V_(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isDisposed())return bM(this,n,e);this.id}}function vd(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bM(this,n,e)}}function bM(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),M.prototype[e].apply(n,t)}var yd,Zg,Yv,rh,Px,Gv,Nx,Kg,Jg,H_,W_,Rx,Qg,Bx,j_,Y_,Is,G_,X_=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e}(M),q_=X_.prototype;q_.on=vd("on"),q_.off=vd("off");var Xv=function(n){function e(t,i,r){var o=n.call(this,new TD)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},kn(i)&&(i=Fx[i]),o._dom=t;var a="canvas",l="auto",u=!1,f=o._zr=Gc(t,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:Rt(r.useDirtyRect,u),useCoarsePointer:Rt(r.useCoarsePointer,l),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=du(Be(f.flush,f),17),(i=Gt(i))&&GA(i,!0),o._theme=i,o._locale=function(w){if(kn(w)){var _=$h[w.toUpperCase()]||{};return w===Cg||w===X0?Gt(_):ie(Gt(_),Gt($h.EN),!1)}return ie(Gt(w),Gt($h.EN),!1)}(r.locale||U0),o._coordSysMgr=new od;var g=o._api=j_(o);function v(w,_){return w.__prio-_.__prio}return $l(qs,v),$l(U_,v),o._scheduler=new _x(o,g,U_,qs),o._messageCenter=new X_,o._initEvents(),o.resize=Be(o.resize,o),f.animation.on("frame",o._onframe,o),H_(f,o),W_(f,o),Ee(o),o}return wt(e,n),e.prototype._onframe=function(){if(!this._disposed){G_(this);var t=this._scheduler;if(this.__pendingUpdate){var i=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{yd(this),rh.update.call(this,null,this.__pendingUpdate.updateParams)}catch(u){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,u}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Kg.call(this,i),Jg.call(this,i)}else if(t.unfinished){var r=1,o=this._model,a=this._api;t.unfinished=!1;do{var l=+new Date;t.performSeriesTasks(o),t.performDataProcessorTasks(o),Gv(this,o),t.performVisualTasks(o),Bx(this,this._model,a,"remain",{}),r-=+new Date-l}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,i,r){if(!this.__flagInMainProcess)if(this._disposed)this.id;else{var o,a,l;if(Zn(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,l=i.transition,i=i.notMerge),this.__flagInMainProcess=!0,!this._model||i){var u=new zA(this._api),f=this._theme,g=this._model=new Og;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,f,this._locale,u)}this._model.setOption(t,{replaceMerge:a},qv);var v={seriesTransition:l,optionChanged:!0};if(r)this.__pendingUpdate={silent:o,updateParams:v},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{yd(this),rh.update.call(this,null,v)}catch(w){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,w}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Kg.call(this,o),Jg.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ke.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var i=this._zr.painter;return i.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(ke.svgSupported){var t=this._zr;return U(t.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var i=(t=t||{}).excludeComponents,r=this._model,o=[],a=this;U(i,function(u){r.eachComponent({mainType:u},function(f){var g=a._componentsMap[f.__viewId];g.group.ignore||(o.push(g),g.group.ignore=!0)})});var l=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return U(o,function(u){u.group.ignore=!1}),l}this.id},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var i=t.type==="svg",r=this.group,o=Math.min,a=Math.max,l=1/0;if(Vx[r]){var u=l,f=l,g=-1/0,v=-1/0,w=[],_=t&&t.pixelRatio||this.getDevicePixelRatio();U(xd,function(j,X){if(j.group===r){var Z=i?j.getZr().painter.getSvgDom().innerHTML:j.renderToCanvas(Gt(t)),Q=j.getDom().getBoundingClientRect();u=o(Q.left,u),f=o(Q.top,f),g=a(Q.right,g),v=a(Q.bottom,v),w.push({dom:Z,left:Q.left,top:Q.top})}});var A=(g*=_)-(u*=_),T=(v*=_)-(f*=_),L=pt.createCanvas(),R=Gc(L,{renderer:i?"svg":"canvas"});if(R.resize({width:A,height:T}),i){var z="";return U(w,function(j){var X=j.left-u,Z=j.top-f;z+='<g transform="translate('+X+","+Z+')">'+j.dom+"</g>"}),R.painter.getSvgRoot().innerHTML=z,t.connectedBackgroundColor&&R.painter.setBackgroundColor(t.connectedBackgroundColor),R.refreshImmediately(),R.painter.toDataURL()}return t.connectedBackgroundColor&&R.add(new br({shape:{x:0,y:0,width:A,height:T},style:{fill:t.connectedBackgroundColor}})),U(w,function(j){var X=new Kr({style:{x:j.left*_-u,y:j.top*_-f,image:j.dom}});R.add(X)}),R.refreshImmediately(),L.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}this.id},e.prototype.convertToPixel=function(t,i){return Px(this,"convertToPixel",t,i)},e.prototype.convertFromPixel=function(t,i){return Px(this,"convertFromPixel",t,i)},e.prototype.containPixel=function(t,i){var r;if(!this._disposed)return U(Vu(this._model,t),function(o,a){a.indexOf("Models")>=0&&U(o,function(l){var u=l.coordinateSystem;if(u&&u.containPoint)r=r||!!u.containPoint(i);else if(a==="seriesModels"){var f=this._chartsMap[l.__viewId];f&&f.containPoint&&(r=r||f.containPoint(i,l))}},this)},this),!!r;this.id},e.prototype.getVisual=function(t,i){var r=Vu(this._model,t,{defaultMainType:"series"}),o=r.seriesModel,a=o.getData(),l=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return l!=null?Nv(a,l,i):qg(a,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,i,r,o=this;U(wM,function(a){var l=function(u){var f,g=o.getModel(),v=u.target,w=a==="globalout";if(w?f={}:v&&fd(v,function(R){var z=Ui(R);if(z&&z.dataIndex!=null){var j=z.dataModel||g.getSeriesByIndex(z.seriesIndex);return f=j&&j.getDataParams(z.dataIndex,z.dataType)||{},!0}if(z.eventData)return f=pe({},z.eventData),!0},!0),f){var _=f.componentType,A=f.componentIndex;_!=="markLine"&&_!=="markPoint"&&_!=="markArea"||(_="series",A=f.seriesIndex);var T=_&&A!=null&&g.getComponent(_,A),L=T&&o[T.mainType==="series"?"_chartsMap":"_componentsMap"][T.__viewId];f.event=u,f.type=a,o._$eventProcessor.eventInfo={targetEl:v,packedEvent:f,model:T,view:L},o.trigger(a,f)}};l.zrEventfulCallAtLast=!0,o._zr.on(a,l,o)}),U(Kp,function(a,l){o._messageCenter.on(l,function(u){this.trigger(l,u)},o)}),U(["selectchanged"],function(a){o._messageCenter.on(a,function(l){this.trigger(a,l)},o)}),t=this._messageCenter,i=this,r=this._api,t.on("selectchanged",function(a){var l=r.getModel();a.isFromClick?(pd("map","selectchanged",i,l,a),pd("pie","selectchanged",i,l,a)):a.fromAction==="select"?(pd("map","selected",i,l,a),pd("pie","selected",i,l,a)):a.fromAction==="unselect"&&(pd("map","unselected",i,l,a),pd("pie","unselected",i,l,a))})},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?(this.id,void 0):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)this.id;else{this._disposed=!0,this.getDom()&&Tl(this.getDom(),za,"");var t=this,i=t._api,r=t._model;U(t._componentsViews,function(o){o.dispose(r,i)}),U(t._chartsViews,function(o){o.dispose(r,i)}),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete xd[t.id]}},e.prototype.resize=function(t){if(!this.__flagInMainProcess)if(this._disposed)this.id;else{this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=t&&t.silent;this.__pendingUpdate&&(o==null&&(o=this.__pendingUpdate.silent),r=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{r&&yd(this),rh.update.call(this,{type:"resize",animation:pe({duration:0},t&&t.animation)})}catch(a){throw this.__flagInMainProcess=!1,a}this.__flagInMainProcess=!1,Kg.call(this,o),Jg.call(this,o)}}},e.prototype.showLoading=function(t,i){if(this._disposed)this.id;else if(Zn(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),$_[t]){var r=$_[t](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},e.prototype.hideLoading=function(){this._disposed?(this.id,void 0):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var i=pe({},t);return i.type=Kp[t.type],i},e.prototype.dispatchAction=function(t,i){if(this._disposed)this.id;else if(Zn(i)||(i={silent:!!i}),pu[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var r=i.silent;Nx.call(this,t,r);var o=i.flush;o?this._zr.flush():o!==!1&&ke.browser.weChat&&this._throttledZrFlush(),Kg.call(this,r),Jg.call(this,r)}},e.prototype.updateLabelLayout=function(){zl.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)this.id;else{var i=t.seriesIndex,r=this.getModel().getSeriesByIndex(i);r.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(u){u.clearColorPalette(),u.eachSeries(function(f){f.clearColorPalette()})}function i(u){for(var f=[],g=u.currentStates,v=0;v<g.length;v++){var w=g[v];w!=="emphasis"&&w!=="blur"&&w!=="select"&&f.push(w)}u.selected&&u.states.select&&f.push("select"),u.hoverState===2&&u.states.emphasis?f.push("emphasis"):u.hoverState===1&&u.states.blur&&f.push("blur"),u.useStates(f)}function r(u,f){if(!u.preventAutoZ){var g=u.get("z")||0,v=u.get("zlevel")||0;f.eachRendered(function(w){return o(w,g,v,-1/0),!0})}}function o(u,f,g,v){var w=u.getTextContent(),_=u.getTextGuideLine();if(u.isGroup)for(var A=u.childrenRef(),T=0;T<A.length;T++)v=Math.max(o(A[T],f,g,v),v);else u.z=f,u.zlevel=g,v=Math.max(u.z2,v);if(w&&(w.z=f,w.zlevel=g,isFinite(v)&&(w.z2=v+2)),_){var L=u.textGuideLineConfig;_.z=f,_.zlevel=g,isFinite(v)&&(_.z2=v+(L&&L.showAbove?1:-1))}return v}function a(u,f){f.eachRendered(function(g){if(!yc(g)){var v=g.getTextContent(),w=g.getTextGuideLine();g.stateTransition&&(g.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),w&&w.stateTransition&&(w.stateTransition=null),g.hasState()?(g.prevStates=g.currentStates,g.clearStates()):g.prevStates&&(g.prevStates=null)}})}function l(u,f){var g=u.getModel("stateAnimation"),v=u.isAnimationEnabled(),w=g.get("duration"),_=w>0?{duration:w,delay:g.get("delay"),easing:g.get("easing")}:null;f.eachRendered(function(A){if(A.states&&A.states.emphasis){if(yc(A))return;if(A instanceof Ti&&function(z){var j=Uk(z);j.normalFill=z.style.fill,j.normalStroke=z.style.stroke;var X=z.states.select||{};j.selectFill=X.style&&X.style.fill||null,j.selectStroke=X.style&&X.style.stroke||null}(A),A.__dirty){var T=A.prevStates;T&&A.useStates(T)}if(v){A.stateTransition=_;var L=A.getTextContent(),R=A.getTextGuideLine();L&&(L.stateTransition=_),R&&(R.stateTransition=_)}A.__dirty&&i(A)}})}yd=function(u){var f=u._scheduler;f.restorePipelines(u._model),f.prepareStageTasks(),Zg(u,!0),Zg(u,!1),f.plan()},Zg=function(u,f){for(var g=u._model,v=u._scheduler,w=f?u._componentsViews:u._chartsViews,_=f?u._componentsMap:u._chartsMap,A=u._zr,T=u._api,L=0;L<w.length;L++)w[L].__alive=!1;function R(j){var X=j.__requireNewView;j.__requireNewView=!1;var Z="_ec_"+j.id+"_"+j.type,Q=!X&&_[Z];if(!Q){var nt=ao(j.type),it=f?io.getClass(nt.main,nt.sub):qr.getClass(nt.sub);(Q=new it).init(g,T),_[Z]=Q,w.push(Q),A.add(Q.group)}j.__viewId=Q.__id=Z,Q.__alive=!0,Q.__model=j,Q.group.__ecComponentInfo={mainType:j.mainType,index:j.componentIndex},!f&&v.prepareView(Q,j,g,T)}for(f?g.eachComponent(function(j,X){j!=="series"&&R(X)}):g.eachSeries(R),L=0;L<w.length;){var z=w[L];z.__alive?L++:(!f&&z.renderTask.dispose(),A.remove(z.group),z.dispose(g,T),w.splice(L,1),_[z.__id]===z&&delete _[z.__id],z.__id=z.group.__ecComponentInfo=null)}},Yv=function(u,f,g,v,w){var _=u._model;if(_.setUpdatePayload(g),v){var A={};A[v+"Id"]=g[v+"Id"],A[v+"Index"]=g[v+"Index"],A[v+"Name"]=g[v+"Name"];var T={mainType:v,query:A};w&&(T.subType=w);var L,R=g.excludeSeriesId;R!=null&&(L=yn(),U(Fr(R),function(j){var X=po(j,null);X!=null&&L.set(X,!0)})),_&&_.eachComponent(T,function(j){if(!(L&&L.get(j.id)!=null))if(cg(g))if(j instanceof Vr)g.type!==Yh||g.notBlur||j.get(["emphasis","disabled"])||function(nt,it,mt){var bt=nt.seriesIndex,St=nt.getData(it.dataType);if(St){var Ot=Uc(St,it);Ot=(he(Ot)?Ot[0]:Ot)||0;var Yt=St.getItemGraphicEl(Ot);if(!Yt)for(var ee=St.count(),le=0;!Yt&&le<ee;)Yt=St.getItemGraphicEl(le++);if(Yt){var ge=Ui(Yt);K1(bt,ge.focus,ge.blurScope,mt)}else{var be=nt.get(["emphasis","focus"]),Ie=nt.get(["emphasis","blurScope"]);be!=null&&K1(bt,be,Ie,mt)}}}(j,g,u._api);else{var X=O0(j.mainType,j.componentIndex,g.name,u._api),Z=X.focusSelf,Q=X.dispatchers;g.type===Yh&&Z&&!g.notBlur&&J1(j.mainType,j.componentIndex,u._api),Q&&U(Q,function(nt){g.type===Yh?Xu(nt):qu(nt)})}else ew(g)&&j instanceof Vr&&(function(nt,it,mt){if(ew(it)){var bt=it.dataType,St=Uc(nt.getData(bt),it);he(St)||(St=[St]),nt[it.type===rv?"toggleSelect":it.type===nv?"select":"unselect"](St,bt)}}(j,g,u._api),iA(j),Is(u))},u),_&&_.eachComponent(T,function(j){L&&L.get(j.id)!=null||z(u[v==="series"?"_chartsMap":"_componentsMap"][j.__viewId])},u)}else U([].concat(u._componentsViews).concat(u._chartsViews),z);function z(j){j&&j.__alive&&j[f]&&j[f](j.__model,_,u._api,g)}},rh={prepareAndUpdate:function(u){yd(this),rh.update.call(this,u,{optionChanged:u.newOption!=null})},update:function(u,f){var g=this._model,v=this._api,w=this._zr,_=this._coordSysMgr,A=this._scheduler;if(g){g.setUpdatePayload(u),A.restoreData(g,u),A.performSeriesTasks(g),_.create(g,v),A.performDataProcessorTasks(g,u),Gv(this,g),_.update(g,v),t(g),A.performVisualTasks(g,u),Rx(this,g,v,u,f);var T=g.get("backgroundColor")||"transparent",L=g.get("darkMode");w.setBackgroundColor(T),L!=null&&L!=="auto"&&w.setDarkMode(L),zl.trigger("afterupdate",g,v)}},updateTransform:function(u){var f=this,g=this._model,v=this._api;if(g){g.setUpdatePayload(u);var w=[];g.eachComponent(function(A,T){if(A!=="series"){var L=f.getViewOfComponentModel(T);if(L&&L.__alive)if(L.updateTransform){var R=L.updateTransform(T,g,v,u);R&&R.update&&w.push(L)}else w.push(L)}});var _=yn();g.eachSeries(function(A){var T=f._chartsMap[A.__viewId];if(T.updateTransform){var L=T.updateTransform(A,g,v,u);L&&L.update&&_.set(A.uid,1)}else _.set(A.uid,1)}),t(g),this._scheduler.performVisualTasks(g,u,{setDirty:!0,dirtyMap:_}),Bx(this,g,v,u,{},_),zl.trigger("afterupdate",g,v)}},updateView:function(u){var f=this._model;f&&(f.setUpdatePayload(u),qr.markUpdateMethod(u,"updateView"),t(f),this._scheduler.performVisualTasks(f,u,{setDirty:!0}),Rx(this,f,this._api,u,{}),zl.trigger("afterupdate",f,this._api))},updateVisual:function(u){var f=this,g=this._model;g&&(g.setUpdatePayload(u),g.eachSeries(function(v){v.getData().clearAllVisual()}),qr.markUpdateMethod(u,"updateVisual"),t(g),this._scheduler.performVisualTasks(g,u,{visualType:"visual",setDirty:!0}),g.eachComponent(function(v,w){if(v!=="series"){var _=f.getViewOfComponentModel(w);_&&_.__alive&&_.updateVisual(w,g,f._api,u)}}),g.eachSeries(function(v){f._chartsMap[v.__viewId].updateVisual(v,g,f._api,u)}),zl.trigger("afterupdate",g,this._api))},updateLayout:function(u){rh.update.call(this,u)}},Px=function(u,f,g,v){if(u._disposed)u.id;else for(var w,_=u._model,A=u._coordSysMgr.getCoordinateSystems(),T=Vu(_,g),L=0;L<A.length;L++){var R=A[L];if(R[f]&&(w=R[f](_,T,v))!=null)return w}},Gv=function(u,f){var g=u._chartsMap,v=u._scheduler;f.eachSeries(function(w){v.updateStreamModes(w,g[w.__viewId])})},Nx=function(u,f){var g=this,v=this.getModel(),w=u.type,_=u.escapeConnect,A=pu[w],T=A.actionInfo,L=(T.update||"update").split(":"),R=L.pop(),z=L[0]!=null&&ao(L[0]);this.__flagInMainProcess=!0;var j=[u],X=!1;u.batch&&(X=!0,j=ye(u.batch,function(St){return(St=De(pe({},St),u)).batch=null,St}));var Z,Q=[],nt=ew(u),it=cg(u);if(it&&nA(this._api),U(j,function(St){if((Z=(Z=A.action(St,g._model,g._api))||pe({},St)).type=T.event||Z.type,Q.push(Z),it){var Ot=hc(u),Yt=Ot.queryOptionMap,ee=Ot.mainTypeSpecified?Yt.keys()[0]:"series";Yv(g,R,St,ee),Is(g)}else nt?(Yv(g,R,St,"series"),Is(g)):z&&Yv(g,R,St,z.main,z.sub)}),R!=="none"&&!it&&!nt&&!z)try{this.__pendingUpdate?(yd(this),rh.update.call(this,u),this.__pendingUpdate=null):rh[R].call(this,u)}catch(St){throw this.__flagInMainProcess=!1,St}if(Z=X?{type:T.event||w,escapeConnect:_,batch:Q}:Q[0],this.__flagInMainProcess=!1,!f){var mt=this._messageCenter;if(mt.trigger(Z.type,Z),nt){var bt={type:"selectchanged",escapeConnect:_,selected:eD(v),isFromClick:u.isFromClick||!1,fromAction:u.type,fromActionPayload:u};mt.trigger(bt.type,bt)}}},Kg=function(u){for(var f=this._pendingActions;f.length;){var g=f.shift();Nx.call(this,g,u)}},Jg=function(u){!u&&this.trigger("updated")},H_=function(u,f){u.on("rendered",function(g){f.trigger("rendered",g),!u.animation.isFinished()||f.__pendingUpdate||f._scheduler.unfinished||f._pendingActions.length||f.trigger("finished")})},W_=function(u,f){u.on("mouseover",function(g){var v=fd(g.target,Cp);v&&(function(w,_,A){var T=Ui(w),L=O0(T.componentMainType,T.componentIndex,T.componentHighDownName,A),R=L.dispatchers,z=L.focusSelf;R?(z&&J1(T.componentMainType,T.componentIndex,A),U(R,function(j){return Jk(j,_)})):(K1(T.seriesIndex,T.focus,T.blurScope,A),T.focus==="self"&&J1(T.componentMainType,T.componentIndex,A),Jk(w,_))}(v,g,f._api),Is(f))}).on("mouseout",function(g){var v=fd(g.target,Cp);v&&(function(w,_,A){nA(A);var T=Ui(w),L=O0(T.componentMainType,T.componentIndex,T.componentHighDownName,A).dispatchers;L?U(L,function(R){return Qk(R,_)}):Qk(w,_)}(v,g,f._api),Is(f))}).on("click",function(g){var v=fd(g.target,function(A){return Ui(A).dataIndex!=null},!0);if(v){var w=v.selected?"unselect":"select",_=Ui(v);f._api.dispatchAction({type:w,dataType:_.dataType,dataIndexInside:_.dataIndex,seriesIndex:_.seriesIndex,isFromClick:!0})}})},Rx=function(u,f,g,v,w){(function(_){var A=[],T=[],L=!1;if(_.eachComponent(function(X,Z){var Q=Z.get("zlevel")||0,nt=Z.get("z")||0,it=Z.getZLevelKey();L=L||!!it,(X==="series"?T:A).push({zlevel:Q,z:nt,idx:Z.componentIndex,type:X,key:it})}),L){var R,z,j=A.concat(T);$l(j,function(X,Z){return X.zlevel===Z.zlevel?X.z-Z.z:X.zlevel-Z.zlevel}),U(j,function(X){var Z=_.getComponent(X.type,X.idx),Q=X.zlevel,nt=X.key;R!=null&&(Q=Math.max(R,Q)),nt?(Q===R&&nt!==z&&Q++,z=nt):z&&(Q===R&&Q++,z=""),R=Q,Z.setZLevel(Q)})}})(f),Qg(u,f,g,v,w),U(u._chartsViews,function(_){_.__alive=!1}),Bx(u,f,g,v,w),U(u._chartsViews,function(_){_.__alive||_.remove(f,g)})},Qg=function(u,f,g,v,w,_){U(_||u._componentsViews,function(A){var T=A.__model;a(T,A),A.render(T,f,g,v),r(T,A),l(T,A)})},Bx=function(u,f,g,v,w,_){var A=u._scheduler;w=pe(w||{},{updatedSeries:f.getSeries()}),zl.trigger("series:beforeupdate",f,g,w);var T=!1;f.eachSeries(function(L){var R=u._chartsMap[L.__viewId];R.__alive=!0;var z=R.renderTask;A.updatePayload(z,v),a(L,R),_&&_.get(L.uid)&&z.dirty(),z.perform(A.getPerformArgs(z))&&(T=!0),R.group.silent=!!L.get("silent"),function(j,X){var Z=j.get("blendMode")||null;X.eachRendered(function(Q){Q.isGroup||(Q.style.blend=Z)})}(L,R),iA(L)}),A.unfinished=T||A.unfinished,zl.trigger("series:layoutlabels",f,g,w),zl.trigger("series:transition",f,g,w),f.eachSeries(function(L){var R=u._chartsMap[L.__viewId];r(L,R),l(L,R)}),function(L,R){var z=L._zr.storage,j=0;z.traverse(function(X){X.isGroup||j++}),j>R.get("hoverLayerThreshold")&&!ke.node&&!ke.worker&&R.eachSeries(function(X){if(!X.preventUsingHoverLayer){var Z=L._chartsMap[X.__viewId];Z.__alive&&Z.eachRendered(function(Q){Q.states.emphasis&&(Q.states.emphasis.hoverLayer=!0)})}})}(u,f),zl.trigger("series:afterupdate",f,g,w)},Is=function(u){u.__needsUpdateStatus=!0,u.getZr().wakeUp()},G_=function(u){u.__needsUpdateStatus&&(u.getZr().storage.traverse(function(f){yc(f)||i(f)}),u.__needsUpdateStatus=!1)},j_=function(u){return new(function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return wt(g,f),g.prototype.getCoordinateSystems=function(){return u._coordSysMgr.getCoordinateSystems()},g.prototype.getComponentByElement=function(v){for(;v;){var w=v.__ecComponentInfo;if(w!=null)return u._model.getComponent(w.mainType,w.index);v=v.parent}},g.prototype.enterEmphasis=function(v,w){Xu(v,w),Is(u)},g.prototype.leaveEmphasis=function(v,w){qu(v,w),Is(u)},g.prototype.enterBlur=function(v){tA(v),Is(u)},g.prototype.leaveBlur=function(v){ov(v),Is(u)},g.prototype.enterSelect=function(v){$1(v),Is(u)},g.prototype.leaveSelect=function(v){eA(v),Is(u)},g.prototype.getModel=function(){return u.getModel()},g.prototype.getViewOfComponentModel=function(v){return u.getViewOfComponentModel(v)},g.prototype.getViewOfSeriesModel=function(v){return u.getViewOfSeriesModel(v)},g}(Pw))(u)},Y_=function(u){function f(g,v){for(var w=0;w<g.length;w++)g[w][Ex]=v}U(Kp,function(g,v){u._messageCenter.on(v,function(w){if(Vx[u.group]&&u[Ex]!==0){if(w&&w.escapeConnect)return;var _=u.makeActionFromEvent(w),A=[];U(xd,function(T){T!==u&&T.group===u.group&&A.push(T)}),f(A,0),U(A,function(T){T[Ex]!==1&&T.dispatchAction(_)}),f(A,2)}})})}}(),e}(M),zx=Xv.prototype;zx.on=V_("on"),zx.off=V_("off"),zx.one=function(n,e,t){var i=this;this.on.call(this,n,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),i.off(n,r)},t)};var wM=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function ND(n){}var pu={},Kp={},U_=[],qv=[],qs=[],Fx={},$_={},xd={},Vx={},RD=+new Date-0,BD=+new Date-0,za="_echarts_instance_";function Cc(n){Vx[n]=!1}var zD=Cc;function Hx(n){return xd[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(n,za)]}function tm(n,e){Fx[n]=e}function Uv(n){rn(qv,n)<0&&qv.push(n)}function Wx(n,e){Fa(U_,n,e,2e3)}function _M(n){bd("afterinit",n)}function SM(n){bd("afterupdate",n)}function bd(n,e){zl.on(n,e)}function Us(n,e,t){In(e)&&(t=e,e="");var i=Zn(n)?n.type:[n,n={event:e}][0];n.event=(n.event||i).toLowerCase(),e=n.event,Kp[e]||(ve(Ox.test(i)&&Ox.test(e)),pu[i]||(pu[i]={action:t,actionInfo:n}),Kp[e]=i)}function CM(n,e){od.register(n,e)}function oh(n,e){Fa(qs,n,e,1e3,"layout")}function wd(n,e){Fa(qs,n,e,3e3,"visual")}var kM=[];function Fa(n,e,t,i,r){if((In(e)||Zn(e))&&(t=e,e=i),!(rn(kM,t)>=0)){kM.push(t);var o=_x.wrapStageHandler(t,r);o.__prio=e,o.__raw=t,n.push(o)}}function $v(n,e){$_[n]=e}function Fl(n,e,t){var i=Dx("registerMap");i&&i(n,e,t)}var Lr=function(n){var e=(n=Gt(n)).type,t="";e||Sr(t);var i=e.split(":");i.length!==2&&Sr(t);var r=!1;i[0]==="echarts"&&(e=i[1],r=!0),n.__isBuiltIn=r,px.set(e,n)};wd(Lx,bx),wd(jv,uM),wd(jv,hM),wd(Lx,ID),wd(jv,DD),wd(7e3,function(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(o){var a=i.getItemVisual(o,"decal");a&&(i.ensureUniqueItemVisual(o,"style").decal=Zp(a,e))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=Zp(r,e))}})}),Uv(GA),Wx(900,function(n){var e=yn();n.eachSeries(function(t){var i=t.get("stack");if(i){var r=e.get(i)||e.set(i,[]),o=t.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),e.each(mD)}),$v("default",function(n,e){De(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Ei,i=new br({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var r,o=new wr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new br({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return t.add(a),e.showSpinner&&((r=new hv({shape:{startAngle:-Gg/2,endAngle:-Gg/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Gg/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Gg/2}).delay(300).start("circularInOut"),t.add(r)),t.resize=function(){var l=o.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,f=(n.getWidth()-2*u-(e.showSpinner&&l?10:0)-l)/2-(e.showSpinner&&l?0:5+l/2)+(e.showSpinner?0:l/2)+(l?0:u),g=n.getHeight()/2;e.showSpinner&&r.setShape({cx:f,cy:g}),a.setShape({x:f-u,y:g-u,width:2*u,height:2*u}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),Us({type:Yh,event:Yh,update:Yh},En),Us({type:I0,event:I0,update:I0},En),Us({type:nv,event:nv,update:nv},En),Us({type:iv,event:iv,update:iv},En),Us({type:rv,event:rv,update:rv},En),tm("light",w_),tm("dark",S_);var _d=[],jx={registerPreprocessor:Uv,registerProcessor:Wx,registerPostInit:_M,registerPostUpdate:SM,registerUpdateLifecycle:bd,registerAction:Us,registerCoordinateSystem:CM,registerLayout:oh,registerVisual:wd,registerTransform:Lr,registerLoading:$v,registerMap:Fl,registerImpl:function(n,e){Ix[n]=e},PRIORITY:F_,ComponentModel:pr,ComponentView:io,SeriesModel:Vr,ChartView:qr,registerComponentModel:function(n){pr.registerClass(n)},registerComponentView:function(n){io.registerClass(n)},registerSeriesModel:function(n){Vr.registerClass(n)},registerChartView:function(n){qr.registerClass(n)},registerSubTypeDefaulter:function(n,e){pr.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){pp(n,e)}};function cr(n){he(n)?U(n,function(e){cr(e)}):rn(_d,n)>=0||(_d.push(n),In(n)&&(n={install:n}),n.install(jx))}function Jp(n){return n==null?0:n.length||1}function Yx(n){return n}var ah=function(){function n(e,t,i,r,o,a){this._old=e,this._new=t,this._oldKeyGetter=i||Yx,this._newKeyGetter=r||Yx,this.context=o,this._diffModeMultiple=a==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var l=r[a],u=i[l],f=Jp(u);if(f>1){var g=u.shift();u.length===1&&(i[l]=u[0]),this._update&&this._update(g,a)}else f===1?(i[l]=null,this._update&&this._update(u,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,i={},r={},o=[],a=[];this._initIndexMap(e,i,o,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var l=0;l<o.length;l++){var u=o[l],f=i[u],g=r[u],v=Jp(f),w=Jp(g);if(v>1&&w===1)this._updateManyToOne&&this._updateManyToOne(g,f),r[u]=null;else if(v===1&&w>1)this._updateOneToMany&&this._updateOneToMany(g,f),r[u]=null;else if(v===1&&w===1)this._update&&this._update(g,f),r[u]=null;else if(v>1&&w>1)this._updateManyToMany&&this._updateManyToMany(g,f),r[u]=null;else if(v>1)for(var _=0;_<v;_++)this._remove&&this._remove(f[_]);else this._remove&&this._remove(f)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],o=t[r],a=Jp(o);if(a>1)for(var l=0;l<a;l++)this._add&&this._add(o[l]);else a===1&&this._add&&this._add(o);t[r]=null}},n.prototype._initIndexMap=function(e,t,i,r){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var l="_ec_"+this[r](e[a],a);if(o||(i[a]=l),t){var u=t[l],f=Jp(u);f===0?(t[l]=a,o&&i.push(l)):f===1?t[l]=[u,a]:u.push(a)}}},n}(),Z_=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function K_(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function Zv(n){return n==="category"?"ordinal":n==="time"?"time":"float"}var Kv=function(n){this.otherDims={},n!=null&&pe(this,n)},J_=hr(),AM={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Jv=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=IM(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Rt(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=cx(this.source),i=!DM(e),r="",o=[],a=0,l=0;a<e;a++){var u=void 0,f=void 0,g=void 0,v=this.dimensions[l];if(v&&v.storeDimIndex===a)u=t?v.name:null,f=v.type,g=v.ordinalMeta,l++;else{var w=this.getSourceDimension(a);w&&(u=t?w.name:null,f=w.type)}o.push({property:u,type:f,ordinalMeta:g}),!t||u==null||v&&v.isCalculationCoord||(r+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),r+="$",r+=AM[f]||"f",g&&(r+=g.uid),r+="$"}var _=this.source;return{dimensions:o,hash:[_.seriesLayoutBy,_.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(t);a&&(r=a.name)}e.push(r)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function MM(n){return n instanceof Jv}function TM(n){for(var e=yn(),t=0;t<(n||[]).length;t++){var i=n[t],r=Zn(i)?i.name:i;r!=null&&e.get(r)==null&&e.set(r,t)}return e}function IM(n){var e=J_(n);return e.dimNameMap||(e.dimNameMap=TM(n.dimensionsDefine))}function DM(n){return n>30}var LM,Gx,Qv,ty,Q_,Xx,tS,em=Zn,sh=ye,FD=typeof Int32Array>"u"?Array:Int32Array,eS=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],OM=["_approximateExtent"],Va=function(){function n(e,t){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;MM(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var o={},a=[],l={},u=!1,f={},g=0;g<i.length;g++){var v=i[g],w=kn(v)?new Kv({name:v}):v instanceof Kv?v:new Kv(v),_=w.name;w.type=w.type||"float",w.coordDim||(w.coordDim=_,w.coordDimIndex=0);var A=w.otherDims=w.otherDims||{};a.push(_),o[_]=w,f[_]!=null&&(u=!0),w.createInvertedIndices&&(l[_]=[]),A.itemName===0&&(this._nameDimIdx=g),A.itemId===0&&(this._idDimIdx=g),r&&(w.storeDimIndex=g)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(u),this.hostModel=t,this._invertedIndicesMap=l,this._dimOmitted){var T=this._dimIdxToName=yn();U(a,function(L){T.set(o[L].storeDimIndex,L)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(i!=null)return i;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(fi(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(t==null)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},n.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var r,o=this;if(e instanceof cu&&(r=e),!r){var a=this.dimensions,l=zg(e)||Oe(e)?new Hw(e,a.length):e;r=new cu;var u=sh(a,function(f){return{type:o._dimInfos[f].type,property:f}});r.initData(l,u,i)}this._store=r,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(f,g){var v={},w=v.encode={},_=yn(),A=[],T=[],L={};U(f.dimensions,function(Z){var Q,nt=f.getDimensionInfo(Z),it=nt.coordDim;if(it){var mt=nt.coordDimIndex;K_(w,it)[mt]=Z,nt.isExtraCoord||(_.set(it,1),(Q=nt.type)!=="ordinal"&&Q!=="time"&&(A[0]=Z),K_(L,it)[mt]=f.getDimensionIndex(nt.name)),nt.defaultTooltip&&T.push(Z)}_v.each(function(bt,St){var Ot=K_(w,St),Yt=nt.otherDims[St];Yt!=null&&Yt!==!1&&(Ot[Yt]=nt.name)})});var R=[],z={};_.each(function(Z,Q){var nt=w[Q];z[Q]=nt[0],R=R.concat(nt)}),v.dataDimsOnCoord=R,v.dataDimIndicesOnCoord=ye(R,function(Z){return f.getDimensionInfo(Z).storeDimIndex}),v.encodeFirstDimNotExtra=z;var j=w.label;j&&j.length&&(A=j.slice());var X=w.tooltip;return X&&X.length?T=X.slice():T.length||(T=A.slice()),w.defaultedLabel=A,w.defaultedTooltip=T,v.userOutput=new Z_(L,g),v}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var l=r;l<o;l++){var u=l-r;this._nameList[l]=t[u],a&&tS(this,l)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==au&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var i=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(i.getSource().sourceFormat===ru&&!i.pure)for(var a=[],l=e;l<t;l++){var u=i.getItem(l,a);if(!this.hasItemOption&&x0(u)&&(this.hasItemOption=!0),u){var f=u.name;r[l]==null&&f!=null&&(r[l]=po(f,null));var g=u.id;o[l]==null&&g!=null&&(o[l]=po(g,null))}}if(this._shouldMakeIdFromName())for(l=e;l<t;l++)tS(this,l);LM(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){em(e)?pe(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return i==null&&this._nameDimIdx!=null&&(i=Qv(this,this._nameDimIdx,t)),i==null&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},n.prototype.getId=function(e){return Gx(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.get(r.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.getByRawIndex(r.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,r=this._store;return he(e)?r.getValues(sh(e,function(o){return i._getStoreDimIndex(o)}),t):r.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var i=e&&this._invertedIndicesMap[e],r=i[t];return r==null||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},n.prototype.each=function(e,t,i){In(e)&&(i=t,t=e,e=[]);var r=i||this,o=sh(ty(e),this._getStoreDimIndex,this);this._store.each(o,r?Be(t,r):t)},n.prototype.filterSelf=function(e,t,i){In(e)&&(i=t,t=e,e=[]);var r=i||this,o=sh(ty(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?Be(t,r):t),this},n.prototype.selectRange=function(e){var t=this,i={};return U(Re(e),function(r){var o=t._getStoreDimIndex(r);i[o]=e[r]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){In(e)&&(i=t,t=e,e=[]),i=i||this;var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i),r},n.prototype.map=function(e,t,i,r){var o=i||r||this,a=sh(ty(e),this._getStoreDimIndex,this),l=Xx(this);return l._store=this._store.map(a,o?Be(t,o):t),l},n.prototype.modify=function(e,t,i,r){var o=i||r||this,a=sh(ty(e),this._getStoreDimIndex,this);this._store.modify(a,o?Be(t,o):t)},n.prototype.downSample=function(e,t,i,r){var o=Xx(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),o},n.prototype.lttbDownSample=function(e,t){var i=Xx(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new Nr(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new ah(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return Gx(e,i)},function(i){return Gx(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},em(e)?pe(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e],r=i&&i[t];return r??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var o=r[t];return o==null&&(he(o=this.getVisual(t))?o=o.slice():em(o)&&(o=pe({},o)),r[t]=o),o},n.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,em(t)?pe(r,t):r[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){em(e)?pe(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?pe(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var i=this.hostModel&&this.hostModel.seriesIndex;M0(i,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){U(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:sh(this.dimensions,this._getDimInfo,this),this.hostModel)),Q_(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];In(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(Tt(arguments)))})},n.internalField=(LM=function(e){var t=e._invertedIndicesMap;U(t,function(i,r){var o=e._dimInfos[r],a=o.ordinalMeta,l=e._store;if(a){i=t[r]=new FD(a.categories.length);for(var u=0;u<i.length;u++)i[u]=-1;for(u=0;u<l.count();u++)i[l.get(o.storeDimIndex,u)]=u}})},Qv=function(e,t,i){return po(e._getCategory(t,i),null)},Gx=function(e,t){var i=e._idList[t];return i==null&&e._idDimIdx!=null&&(i=Qv(e,e._idDimIdx,t)),i==null&&(i="e\0\0"+t),i},ty=function(e){return he(e)||(e=e!=null?[e]:[]),e},Xx=function(e){var t=new n(e._schema?e._schema:sh(e.dimensions,e._getDimInfo,e),e.hostModel);return Q_(t,e),t},Q_=function(e,t){U(eS.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,U(OM,function(i){e[i]=Gt(t[i])}),e._calculationInfo=pe({},t._calculationInfo)},void(tS=function(e,t){var i=e._nameList,r=e._idList,o=e._nameDimIdx,a=e._idDimIdx,l=i[t],u=r[t];if(l==null&&o!=null&&(i[t]=l=Qv(e,o,t)),u==null&&a!=null&&(r[t]=u=Qv(e,a,t)),u==null&&l!=null){var f=e._nameRepeatCount,g=f[l]=(f[l]||0)+1;u=l,g>1&&(u+="__ec__"+g),r[t]=u}})),n}();function nm(n,e){zg(n)||(n=Fw(n));var t=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],r=yn(),o=[],a=function(it,mt,bt,St){var Ot=Math.max(it.dimensionsDetectedCount||1,mt.length,bt.length,St||0);return U(mt,function(Yt){var ee;Zn(Yt)&&(ee=Yt.dimsDef)&&(Ot=Math.max(Ot,ee.length))}),Ot}(n,t,i,e.dimensionsCount),l=e.canOmitUnusedDimensions&&DM(a),u=i===n.dimensionsDefine,f=u?IM(n):TM(i),g=e.encodeDefine;!g&&e.encodeDefaulter&&(g=e.encodeDefaulter(n,a));for(var v=yn(g),w=new Vg(a),_=0;_<w.length;_++)w[_]=-1;function A(it){var mt=w[it];if(mt<0){var bt=i[it],St=Zn(bt)?bt:{name:bt},Ot=new Kv,Yt=St.name;Yt!=null&&f.get(Yt)!=null&&(Ot.name=Ot.displayName=Yt),St.type!=null&&(Ot.type=St.type),St.displayName!=null&&(Ot.displayName=St.displayName);var ee=o.length;return w[it]=ee,Ot.storeDimIndex=it,o.push(Ot),Ot}return o[mt]}if(!l)for(_=0;_<a;_++)A(_);v.each(function(it,mt){var bt=Fr(it).slice();if(bt.length===1&&!kn(bt[0])&&bt[0]<0)v.set(mt,!1);else{var St=v.set(mt,[]);U(bt,function(Ot,Yt){var ee=kn(Ot)?f.get(Ot):Ot;ee!=null&&ee<a&&(St[Yt]=ee,L(A(ee),mt,Yt))})}});var T=0;function L(it,mt,bt){_v.get(mt)!=null?it.otherDims[mt]=bt:(it.coordDim=mt,it.coordDimIndex=bt,r.set(mt,!0))}U(t,function(it){var mt,bt,St,Ot;if(kn(it))mt=it,Ot={};else{mt=(Ot=it).name;var Yt=Ot.ordinalMeta;Ot.ordinalMeta=null,(Ot=pe({},Ot)).ordinalMeta=Yt,bt=Ot.dimsDef,St=Ot.otherDims,Ot.name=Ot.coordDim=Ot.coordDimIndex=Ot.dimsDef=Ot.otherDims=null}var ee=v.get(mt);if(ee!==!1){if(!(ee=Fr(ee)).length)for(var le=0;le<(bt&&bt.length||1);le++){for(;T<a&&A(T).coordDim!=null;)T++;T<a&&ee.push(T++)}U(ee,function(ge,be){var Ie=A(ge);if(u&&Ot.type!=null&&(Ie.type=Ot.type),L(De(Ie,Ot),mt,be),Ie.name==null&&bt){var He=bt[be];!Zn(He)&&(He={name:He}),Ie.name=Ie.displayName=He.name,Ie.defaultTooltip=He.defaultTooltip}St&&De(Ie.otherDims,St)})}});var R=e.generateCoord,z=e.generateCoordCount,j=z!=null;z=R?z||1:0;var X=R||"value";function Z(it){it.name==null&&(it.name=it.coordDim)}if(l)U(o,function(it){Z(it)}),o.sort(function(it,mt){return it.storeDimIndex-mt.storeDimIndex});else for(var Q=0;Q<a;Q++){var nt=A(Q);nt.coordDim==null&&(nt.coordDim=EM(X,r,j),nt.coordDimIndex=0,(!R||z<=0)&&(nt.isExtraCoord=!0),z--),Z(nt),nt.type!=null||ox(n,Q)!==Ig&&(!nt.isExtraCoord||nt.otherDims.itemName==null&&nt.otherDims.seriesName==null)||(nt.type="ordinal")}return function(it){for(var mt=yn(),bt=0;bt<it.length;bt++){var St=it[bt],Ot=St.name,Yt=mt.get(Ot)||0;Yt>0&&(St.name=Ot+(Yt-1)),Yt++,mt.set(Ot,Yt)}}(o),new Jv({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:l})}function EM(n,e,t){if(t||e.hasKey(n)){for(var i=0;e.hasKey(n+i);)i++;n+=i}return e.set(n,!0),n}var PM=function(n){this.coordSysDims=[],this.axisMap=yn(),this.categoryAxisMap=yn(),this.coordSysName=n},NM={cartesian2d:function(n,e,t,i){var r=n.getReferringComponents("xAxis",go).models[0],o=n.getReferringComponents("yAxis",go).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",o),Qp(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),Qp(o)&&(i.set("y",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var r=n.getReferringComponents("singleAxis",go).models[0];e.coordSysDims=["single"],t.set("single",r),Qp(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var r=n.getReferringComponents("polar",go).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",o),t.set("angle",a),Qp(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),Qp(a)&&(i.set("angle",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();U(o.parallelAxisIndex,function(l,u){var f=r.getComponent("parallelAxis",l),g=a[u];t.set(g,f),Qp(f)&&(i.set(g,f),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function Qp(n){return n.get("type")==="category"}function RM(n,e,t){var i,r,o,a=(t=t||{}).byIndex,l=t.stackedCoordDimension;(function(z){return!MM(z.schema)})(e)?i=e:(r=e.schema,i=r.dimensions,o=e.store);var u,f,g,v,w=!(!n||!n.get("stack"));if(U(i,function(z,j){kn(z)&&(i[j]=z={name:z}),w&&!z.isExtraCoord&&(a||u||!z.ordinalMeta||(u=z),f||z.type==="ordinal"||z.type==="time"||l&&l!==z.coordDim||(f=z))}),!f||a||u||(a=!0),f){g="__\0ecstackresult_"+n.id,v="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var _=f.coordDim,A=f.type,T=0;U(i,function(z){z.coordDim===_&&T++});var L={name:g,coordDim:_,coordDimIndex:T,type:A,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},R={name:v,coordDim:v,coordDimIndex:T+1,type:A,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(L.storeDimIndex=o.ensureCalculationDimension(v,A),R.storeDimIndex=o.ensureCalculationDimension(g,A)),r.appendCalculationDimension(L),r.appendCalculationDimension(R)):(i.push(L),i.push(R))}return{stackedDimension:f&&f.name,stackedByDimension:u&&u.name,isStackedByIndex:a,stackedOverDimension:v,stackResultDimension:g}}function lh(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function nS(n,e){return lh(n,e)?n.getCalculationInfo("stackResultDimension"):e}function fu(n,e,t){t=t||{};var i,r=e.getSourceManager(),o=!1;n?(o=!0,i=Fw(n)):o=(i=r.getSource()).sourceFormat===ru;var a=function(L){var R=L.get("coordinateSystem"),z=new PM(R),j=NM[R];if(j)return j(L,z,z.axisMap,z.categoryAxisMap),z}(e),l=function(L,R){var z,j=L.get("coordinateSystem"),X=od.get(j);return R&&R.coordSysDims&&(z=ye(R.coordSysDims,function(Z){var Q={name:Z},nt=R.axisMap.get(Z);if(nt){var it=nt.get("type");Q.type=Zv(it)}return Q})),z||(z=X&&(X.getDimensionsInfo?X.getDimensionsInfo():X.dimensions.slice())||["x","y"]),z}(e,a),u=t.useEncodeDefaulter,f=In(u)?u:u?un(Sv,l,e):null,g=nm(i,{coordDimensions:l,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!o}),v=function(L,R,z){var j,X;return z&&U(L,function(Z,Q){var nt=Z.coordDim,it=z.categoryAxisMap.get(nt);it&&(j==null&&(j=Q),Z.ordinalMeta=it.getOrdinalMeta(),R&&(Z.createInvertedIndices=!0)),Z.otherDims.itemName!=null&&(X=!0)}),X||j==null||(L[j].otherDims.itemName=0),j}(g.dimensions,t.createInvertedIndices,a),w=o?null:r.getSharedDataStore(g),_=RM(e,{schema:g,store:w}),A=new Va(g,e);A.setCalculationInfo(_);var T=v!=null&&function(L){if(L.sourceFormat===ru){var R=function(z){for(var j=0;j<z.length&&z[j]==null;)j++;return z[j]}(L.data||[]);return!he(Fu(R))}}(i)?function(L,R,z,j){return j===v?z:this.defaultDimValueGetter(L,R,z,j)}:null;return A.hasItemOption=!1,A.initData(o?i:w,null,T),A}var kc=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();zh(kc);var Ac=0,qx=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Ac}return n.createByAxisModel=function(e){var t=e.option,i=t.data,r=i&&ye(i,BM);return new n({categories:r,needCollect:!r,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!kn(e)&&!i)return e;if(i&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=this._getOrCreateMap();return(t=r.get(e))==null&&(i?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=yn(this.categories))},n}();function BM(n){return Zn(n)&&n.value!=null?n.value:n+""}function iS(n){return n.type==="interval"||n.type==="log"}function VD(n,e,t,i){var r={},o=n[1]-n[0],a=r.interval=Jf(o/e,!0);t!=null&&a<t&&(a=r.interval=t),i!=null&&a>i&&(a=r.interval=i);var l=r.intervalPrecision=zM(a);return function(u,f){!isFinite(u[0])&&(u[0]=f[0]),!isFinite(u[1])&&(u[1]=f[1]),rS(u,0,f),rS(u,1,f),u[0]>u[1]&&(u[0]=u[1])}(r.niceTickExtent=[uo(Math.ceil(n[0]/a)*a,l),uo(Math.floor(n[1]/a)*a,l)],n),r}function ey(n){var e=Math.pow(10,Bu(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,uo(t*e)}function zM(n){return Ss(n)+2}function rS(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function ch(n,e){return n>=e[0]&&n<=e[1]}function ny(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function iy(n,e){return n*(e[1]-e[0])+e[0]}var ry=function(n){function e(t){var i=n.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new qx({})),he(r)&&(r=new qx({categories:ye(r,function(o){return Zn(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return wt(e,n),e.prototype.parse=function(t){return t==null?NaN:kn(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return ch(t=this.parse(t),this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return ny(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(iy(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t!=null){for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,l=this._ordinalMeta.categories.length,u=Math.min(l,i.length);a<u;++a){var f=i[a];r[a]=f,o[f]=a}for(var g=0;a<l;++a){for(;o[g]!=null;)g++;r.push(g),o[g]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return r==null?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(kc);kc.registerClass(ry);var uh=uo,Mc=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return wt(e,n),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return ch(t,this._extent)},e.prototype.normalize=function(t){return ny(t,this._extent)},e.prototype.scale=function(t){return iy(t,this._extent)},e.prototype.setExtent=function(t,i){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(i)||(r[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=zM(t)},e.prototype.getTicks=function(t){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,l=[];if(!i)return l;r[0]<o[0]&&(t?l.push({value:uh(o[0]-i,a)}):l.push({value:r[0]}));for(var u=o[0];u<=o[1]&&(l.push({value:u}),(u=uh(u+i,a))!==l[l.length-1].value);)if(l.length>1e4)return[];var f=l.length?l[l.length-1].value:o[1];return r[1]>f&&(t?l.push({value:uh(f+i,a)}):l.push({value:r[1]})),l},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var l=i[a],u=i[a-1],f=0,g=[],v=(l.value-u.value)/t;f<t-1;){var w=uh(u.value+(f+1)*v);w>o[0]&&w<o[1]&&g.push(w),f++}r.push(g)}return r},e.prototype.getLabel=function(t,i){if(t==null)return"";var r=i&&i.precision;return r==null?r=Ss(t.value)||0:r==="auto"&&(r=this._intervalPrecision),Cw(uh(t.value,r,!0))},e.prototype.calcNiceTicks=function(t,i,r){t=t||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var l=VD(o,t,i,r);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var r=Math.abs(i[0]);t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(i[0]=uh(Math.floor(i[0]/a)*a)),t.fixMax||(i[1]=uh(Math.ceil(i[1]/a)*a))},e.prototype.setNiceExtent=function(t,i){this._niceExtent=[t,i]},e.type="interval",e}(kc);kc.registerClass(Mc);var Ux=typeof Float32Array<"u",FM=Ux?Float32Array:Array;function gu(n){return he(n)?Ux?new Float32Array(n):n:new FM(n)}var $x="__ec_stack_";function oS(n){return n.get("stack")||$x+n.seriesIndex}function Zx(n){return n.dim+n.index}function aS(n,e){var t=[];return e.eachSeriesByType(n,function(i){WM(i)&&t.push(i)}),t}function sS(n){var e=function(i){var r={};U(i,function(v){var w=v.coordinateSystem.getBaseAxis();if(w.type==="time"||w.type==="value")for(var _=v.getData(),A=w.dim+"_"+w.index,T=_.getDimensionIndex(_.mapDimension(w.dim)),L=_.getStore(),R=0,z=L.count();R<z;++R){var j=L.get(T,R);r[A]?r[A].push(j):r[A]=[j]}});var o={};for(var a in r)if(r.hasOwnProperty(a)){var l=r[a];if(l){l.sort(function(v,w){return v-w});for(var u=null,f=1;f<l.length;++f){var g=l[f]-l[f-1];g>0&&(u=u===null?g:Math.min(u,g))}o[a]=u}}return o}(n),t=[];return U(n,function(i){var r,o=i.coordinateSystem.getBaseAxis(),a=o.getExtent();if(o.type==="category")r=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var l=o.dim+"_"+o.index,u=e[l],f=Math.abs(a[1]-a[0]),g=o.scale.getExtent(),v=Math.abs(g[1]-g[0]);r=u?f/v*u:f}else{var w=i.getData();r=Math.abs(a[1]-a[0])/w.count()}var _=Yn(i.get("barWidth"),r),A=Yn(i.get("barMaxWidth"),r),T=Yn(i.get("barMinWidth")||(jM(i)?.5:1),r),L=i.get("barGap"),R=i.get("barCategoryGap");t.push({bandWidth:r,barWidth:_,barMaxWidth:A,barMinWidth:T,barGap:L,barCategoryGap:R,axisKey:Zx(o),stackId:oS(i)})}),VM(t)}function VM(n){var e={};U(n,function(i,r){var o=i.axisKey,a=i.bandWidth,l=e[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=l.stacks;e[o]=l;var f=i.stackId;u[f]||l.autoWidthCount++,u[f]=u[f]||{width:0,maxWidth:0};var g=i.barWidth;g&&!u[f].width&&(u[f].width=g,g=Math.min(l.remainedWidth,g),l.remainedWidth-=g);var v=i.barMaxWidth;v&&(u[f].maxWidth=v);var w=i.barMinWidth;w&&(u[f].minWidth=w);var _=i.barGap;_!=null&&(l.gap=_);var A=i.barCategoryGap;A!=null&&(l.categoryGap=A)});var t={};return U(e,function(i,r){t[r]={};var o=i.stacks,a=i.bandWidth,l=i.categoryGap;if(l==null){var u=Re(o).length;l=Math.max(35-4*u,15)+"%"}var f=Yn(l,a),g=Yn(i.gap,1),v=i.remainedWidth,w=i.autoWidthCount,_=(v-f)/(w+(w-1)*g);_=Math.max(_,0),U(o,function(R){var z=R.maxWidth,j=R.minWidth;if(R.width)X=R.width,z&&(X=Math.min(X,z)),j&&(X=Math.max(X,j)),R.width=X,v-=X+g*X,w--;else{var X=_;z&&z<X&&(X=Math.min(z,v)),j&&j>X&&(X=j),X!==_&&(R.width=X,v-=X+g*X,w--)}}),_=(v-f)/(w+(w-1)*g),_=Math.max(_,0);var A,T=0;U(o,function(R,z){R.width||(R.width=_),A=R,T+=R.width*(1+g)}),A&&(T-=A.width*g);var L=-T/2;U(o,function(R,z){t[r][z]=t[r][z]||{bandWidth:a,offset:L,width:R.width},L+=R.width*(1+g)})}),t}function HM(n,e){var t=aS(n,e),i=sS(t);U(t,function(r){var o=r.getData(),a=r.coordinateSystem.getBaseAxis(),l=oS(r),u=i[Zx(a)][l],f=u.offset,g=u.width;o.setLayout({bandWidth:u.bandWidth,offset:f,size:g})})}function lS(n){return{seriesType:n,plan:eh(),reset:function(e){if(WM(e)){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),a=t.getDimensionIndex(t.mapDimension(o.dim)),l=t.getDimensionIndex(t.mapDimension(r.dim)),u=e.get("showBackground",!0),f=t.mapDimension(o.dim),g=t.getCalculationInfo("stackResultDimension"),v=lh(t,f)&&!!t.getCalculationInfo("stackedOnSeries"),w=o.isHorizontal(),_=function(j,X){return X.toGlobalCoord(X.dataToCoord(X.type==="log"?1:0))}(0,o),A=jM(e),T=e.get("barMinHeight")||0,L=g&&t.getDimensionIndex(g),R=t.getLayout("size"),z=t.getLayout("offset");return{progress:function(j,X){for(var Z,Q=j.count,nt=A&&gu(3*Q),it=A&&u&&gu(3*Q),mt=A&&gu(Q),bt=i.master.getRect(),St=w?bt.width:bt.height,Ot=X.getStore(),Yt=0;(Z=j.next())!=null;){var ee=Ot.get(v?L:a,Z),le=Ot.get(l,Z),ge=_,be=void 0;v&&(be=+ee-Ot.get(a,Z));var Ie=void 0,He=void 0,qe=void 0,Ke=void 0;if(w){var bn=i.dataToPoint([ee,le]);v&&(ge=i.dataToPoint([be,le])[0]),Ie=ge,He=bn[1]+z,qe=bn[0]-ge,Ke=R,Math.abs(qe)<T&&(qe=(qe<0?-1:1)*T)}else bn=i.dataToPoint([le,ee]),v&&(ge=i.dataToPoint([le,be])[1]),Ie=bn[0]+z,He=ge,qe=R,Ke=bn[1]-ge,Math.abs(Ke)<T&&(Ke=(Ke<=0?-1:1)*T);A?(nt[Yt]=Ie,nt[Yt+1]=He,nt[Yt+2]=w?qe:Ke,it&&(it[Yt]=w?bt.x:Ie,it[Yt+1]=w?He:bt.y,it[Yt+2]=St),mt[Z]=Z):X.setItemLayout(Z,{x:Ie,y:He,width:qe,height:Ke}),Yt+=3}A&&X.setLayout({largePoints:nt,largeDataIndices:mt,largeBackgroundPoints:it,valueAxisHorizontal:w})}}}}}}function WM(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function jM(n){return n.pipelineContext&&n.pipelineContext.large}var im=function(n){function e(t){var i=n.call(this,t)||this;return i.type="time",i}return wt(e,n),e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return Rl(t.value,AA[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Kh(this._minLevelUnit))]||AA.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,r){var o=this.getSetting("useUTC");return function(a,l,u,f,g){var v=null;if(kn(u))v=u;else if(In(u))v=u(a.value,l,{level:a.level});else{var w=pe({},wc);if(a.level>0)for(var _=0;_<K0.length;++_)w[K0[_]]="{primary|"+w[K0[_]]+"}";var A=u?u.inherit===!1?u:De(u,w):w,T=Q0(a.value,g);if(A[T])v=A[T];else if(A.inherit){for(_=J0.indexOf(T)-1;_>=0;--_)if(A[T]){v=A[T];break}v=v||w.none}if(he(v)){var L=a.level==null?0:a.level>=0?a.level:v.length+a.level;v=v[L=Math.min(L,v.length-1)]}}return Rl(new Date(a.value),v,g,f)}(t,i,r,this.getSetting("locale"),o)},e.prototype.getTicks=function(){var t=this._interval,i=this._extent,r=[];if(!t)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=function(l,u,f,g){var v=1e4,w=J0,_=0;function A(ge,be,Ie,He,qe,Ke,bn){for(var Rn=new Date(be),Je=be,Tn=Rn[He]();Je<Ie&&Je<=g[1];)bn.push({value:Je}),Tn+=ge,Rn[qe](Tn),Je=Rn.getTime();bn.push({value:Je,notAdd:!0})}function T(ge,be,Ie){var He=[],qe=!be.length;if(!function(Vn,qn,Hn,ni){var wi=ma(qn),Zi=ma(Hn),nr=function(Gl){return tx(wi,Gl,ni)===tx(Zi,Gl,ni)},Ur=function(){return nr("year")},gr=function(){return Ur()&&nr("month")},vr=function(){return gr()&&nr("day")},eo=function(){return vr()&&nr("hour")},ro=function(){return eo()&&nr("minute")},sa=function(){return ro()&&nr("second")},ya=function(){return sa()&&nr("millisecond")};switch(Vn){case"year":return Ur();case"month":return gr();case"day":return vr();case"hour":return eo();case"minute":return ro();case"second":return sa();case"millisecond":return ya()}}(Kh(ge),g[0],g[1],f)){qe&&(be=[{value:uS(new Date(g[0]),ge,f)},{value:g[1]}]);for(var Ke=0;Ke<be.length-1;Ke++){var bn=be[Ke].value,Rn=be[Ke+1].value;if(bn!==Rn){var Je=void 0,Tn=void 0,Fn=void 0,Xn=!1;switch(ge){case"year":Je=Math.max(1,Math.round(u/Zh/365)),Tn=Ag(f),Fn=xw(f);break;case"half-year":case"quarter":case"month":Je=HD(u),Tn=zp(f),Fn=Hp(f);break;case"week":case"half-week":case"day":Je=YM(u),Tn=Fp(f),Fn=bw(f),Xn=!0;break;case"half-day":case"quarter-day":case"hour":Je=WD(u),Tn=Vp(f),Fn=ww(f);break;case"minute":Je=ay(u,!0),Tn=cl(f),Fn=TA(f);break;case"second":Je=ay(u,!1),Tn=cs(f),Fn=_w(f);break;case"millisecond":Je=cS(u),Tn=ko(f),Fn=Sw(f)}A(Je,bn,Rn,Tn,Fn,Xn,He),ge==="year"&&Ie.length>1&&Ke===0&&Ie.unshift({value:Ie[0].value-Je})}}for(Ke=0;Ke<He.length;Ke++)Ie.push(He[Ke]);return He}}for(var L=[],R=[],z=0,j=0,X=0;X<w.length&&_++<v;++X){var Z=Kh(w[X]);if(MA(w[X])&&(T(w[X],L[L.length-1]||[],R),Z!==(w[X+1]?Kh(w[X+1]):null))){if(R.length){j=z,R.sort(function(ge,be){return ge.value-be.value});for(var Q=[],nt=0;nt<R.length;++nt){var it=R[nt].value;nt!==0&&R[nt-1].value===it||(Q.push(R[nt]),it>=g[0]&&it<=g[1]&&z++)}var mt=(g[1]-g[0])/u;if(z>1.5*mt&&j>mt/1.5||(L.push(Q),z>mt||l===w[X]))break}R=[]}}var bt=$e(ye(L,function(ge){return $e(ge,function(be){return be.value>=g[0]&&be.value<=g[1]&&!be.notAdd})}),function(ge){return ge.length>0}),St=[],Ot=bt.length-1;for(X=0;X<bt.length;++X)for(var Yt=bt[X],ee=0;ee<Yt.length;++ee)St.push({value:Yt[ee].value,level:Ot-X});St.sort(function(ge,be){return ge.value-be.value});var le=[];for(X=0;X<St.length;++X)X!==0&&St[X].value===St[X-1].value||le.push(St[X]);return le}(this._minLevelUnit,this._approxInterval,o,i);return(r=r.concat(a)).push({value:i[1],level:0}),r},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=Zh,i[1]+=Zh),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-Zh}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,i,r){t=t||10;var o=this._extent,a=o[1]-o[0];this._approxInterval=a/t,i!=null&&this._approxInterval<i&&(this._approxInterval=i),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var l=oy.length,u=Math.min(function(f,g,v,w){for(;v<w;){var _=v+w>>>1;f[_][1]<g?v=_+1:w=_}return v}(oy,this._approxInterval,0,l),l-1);this._interval=oy[u][1],this._minLevelUnit=oy[Math.max(u-1,0)][0]},e.prototype.parse=function(t){return fi(t)?t:+ma(t)},e.prototype.contain=function(t){return ch(this.parse(t),this._extent)},e.prototype.normalize=function(t){return ny(this.parse(t),this._extent)},e.prototype.scale=function(t){return iy(t,this._extent)},e.type="time",e}(Mc),oy=[["second",bv],["minute",$0],["hour",yw],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",Z0/2],["year",Z0]];function YM(n,e){return(n/=Zh)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function HD(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function WD(n){return(n/=yw)>12?12:n>6?6:n>3.5?4:n>2?2:1}function ay(n,e){return(n/=e?$0:bv)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function cS(n){return Jf(n,!0)}function uS(n,e,t){var i=new Date(n);switch(Kh(e)){case"year":case"month":i[Hp(t)](0);case"day":i[bw(t)](1);case"hour":i[ww(t)](0);case"minute":i[TA(t)](0);case"second":i[_w(t)](0),i[Sw(t)](0)}return i.getTime()}kc.registerClass(im);var hS=kc.prototype,tf=Mc.prototype,dS=uo,Kx=Math.floor,GM=Math.ceil,sy=Math.pow,aa=Math.log,ly=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Mc,t._interval=0,t}return wt(e,n),e.prototype.getTicks=function(t){var i=this._originalScale,r=this._extent,o=i.getExtent();return ye(tf.getTicks.call(this,t),function(a){var l=a.value,u=uo(sy(this.base,l));return u=l===r[0]&&this._fixMin?cy(u,o[0]):u,{value:u=l===r[1]&&this._fixMax?cy(u,o[1]):u}},this)},e.prototype.setExtent=function(t,i){var r=aa(this.base);t=aa(Math.max(0,t))/r,i=aa(Math.max(0,i))/r,tf.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=hS.getExtent.call(this);i[0]=sy(t,i[0]),i[1]=sy(t,i[1]);var r=this._originalScale.getExtent();return this._fixMin&&(i[0]=cy(i[0],r[0])),this._fixMax&&(i[1]=cy(i[1],r[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=aa(t[0])/aa(i),t[1]=aa(t[1])/aa(i),hS.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(t){t=t||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=Ph(r);for(t/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[uo(GM(i[0]/o)*o),uo(Kx(i[1]/o)*o)];this._interval=o,this._niceExtent=a}},e.prototype.calcNiceExtent=function(t){tf.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return ch(t=aa(t)/aa(this.base),this._extent)},e.prototype.normalize=function(t){return ny(t=aa(t)/aa(this.base),this._extent)},e.prototype.scale=function(t){return t=iy(t,this._extent),sy(this.base,t)},e.type="log",e}(kc),So=ly.prototype;function cy(n,e){return dS(n,Ss(e))}So.getMinorTicks=tf.getMinorTicks,So.getLabel=tf.getLabel,kc.registerClass(ly);var XM=function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);In(o)?this._modelMinNum=uy(e,o({min:i[0],max:i[1]})):o!=="dataMin"&&(this._modelMinNum=uy(e,o));var a=this._modelMaxRaw=t.get("max",!0);if(In(a)?this._modelMaxNum=uy(e,a({min:i[0],max:i[1]})):a!=="dataMax"&&(this._modelMaxNum=uy(e,a)),r)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=he(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Ho(u[0],1),Ho(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=e?null:i-t||Math.abs(t),l=this._modelMinRaw==="dataMin"?t:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,f=l!=null,g=u!=null;l==null&&(l=e?r?0:NaN:t-o[0]*a),u==null&&(u=e?r?r-1:NaN:i+o[1]*a),(l==null||!isFinite(l))&&(l=NaN),(u==null||!isFinite(u))&&(u=NaN);var v=ui(l)||ui(u)||e&&!r;this._needCrossZero&&(l>0&&u>0&&!f&&(l=0),l<0&&u<0&&!g&&(u=0));var w=this._determinedMin,_=this._determinedMax;return w!=null&&(l=w,f=!0),_!=null&&(u=_,g=!0),{min:l,max:u,minFixed:f,maxFixed:g,isBlank:v}},n.prototype.modifyDataMinMax=function(e,t){this[UM[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var i=qM[e];this[i]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),qM={min:"_determinedMin",max:"_determinedMax"},UM={min:"_dataMin",max:"_dataMax"};function pS(n,e,t){var i=n.rawExtentInfo;return i||(i=new XM(n,e,t),n.rawExtentInfo=i,i)}function uy(n,e){return e==null?null:ui(e)?NaN:n.parse(e)}function $M(n,e){var t=n.type,i=pS(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&t==="time"){var l=aS("bar",a),u=!1;if(U(l,function(v){u=u||v.getBaseAxis()===e.axis}),u){var f=sS(l),g=function(v,w,_,A){var T=_.axis.getExtent(),L=T[1]-T[0],R=function(nt,it,mt){if(nt&&it){var bt=nt[Zx(it)];return bt!=null&&mt!=null?bt[oS(mt)]:bt}}(A,_.axis);if(R===void 0)return{min:v,max:w};var z=1/0;U(R,function(nt){z=Math.min(nt.offset,z)});var j=-1/0;U(R,function(nt){j=Math.max(nt.offset+nt.width,j)}),z=Math.abs(z),j=Math.abs(j);var X=z+j,Z=w-v,Q=Z/(1-(z+j)/L)-Z;return{min:v-=Q*(z/X),max:w+=Q*(j/X)}}(r,o,e,f);r=g.min,o=g.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function ef(n,e){var t=e,i=$M(n,t),r=i.extent,o=t.get("splitNumber");n instanceof ly&&(n.base=t.get("logBase"));var a=n.type,l=t.get("interval"),u=a==="interval"||a==="time";n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:u?t.get("minInterval"):null,maxInterval:u?t.get("maxInterval"):null}),l!=null&&n.setInterval&&n.setInterval(l)}function rm(n,e){if(e=e||n.get("type"))switch(e){case"category":return new ry({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new im({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(kc.getClass(e)||Mc)}}function nf(n){var e,t,i=n.getLabelModel().get("formatter"),r=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?(t=i,function(o,a){return n.scale.getFormattedLabel(o,a,t)}):kn(i)?function(o){return function(a){var l=n.scale.getLabel(a);return o.replace("{value}",l??"")}}(i):In(i)?(e=i,function(o,a){return r!=null&&(a=o.value-r),e(fS(n,o),a,o.level!=null?{level:o.level}:null)}):function(o){return n.scale.getLabel(o)}}function fS(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function jD(n,e){var t=e*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(t))+Math.abs(r*Math.sin(t)),a=i*Math.abs(Math.sin(t))+Math.abs(r*Math.cos(t));return new Qi(n.x,n.y,o,a)}function gS(n){var e=n.get("interval");return e??"auto"}function ZM(n){return n.type==="category"&&gS(n.getLabelModel())===0}function rf(n,e){var t={};return U(n.mapDimensionsAll(e),function(i){t[nS(n,i)]=!0}),Re(t)}var hh=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),Jx={isDimensionStacked:lh,enableDataStack:RM,getStackedDimension:nS},om=Object.freeze({__proto__:null,createList:function(n){return fu(null,n)},getLayoutRect:Ao,dataStack:Jx,createScale:function(n,e){var t=e;e instanceof Nr||(t=new Nr(e));var i=rm(t);return i.setExtent(n[0],n[1]),ef(i,t),i},mixinAxisModelCommonMethods:function(n){oe(n,hh)},getECData:Ui,createTextStyle:function(n,e){return Dr(n,null,null,(e=e||{}).state!=="normal")},createDimensions:function(n,e){return nm(n,e).dimensions},createSymbol:Do,enableHoverEmphasis:Uu});function mS(n,e){return Math.abs(n-e)<1e-8}function Sd(n,e,t){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=An(r[0],r[1],a[0],a[1],e,t),r=a}var l=n[0];return mS(r[0],l[0])&&mS(r[1],l[1])||(i+=An(r[0],r[1],l[0],l[1],e,t)),i!==0}var YD=[];function vS(n,e){for(var t=0;t<n.length;t++)Or(n[t],n[t],e)}function KM(n,e,t,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&($t(e,e,o),h(t,t,o))}}var JM=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),yS=function(n,e){this.type="polygon",this.exterior=n,this.interiors=e},of=function(n){this.type="linestring",this.points=n},Cd=function(n){function e(t,i,r){var o=n.call(this,t)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return wt(e,n),e.prototype.calcCenter=function(){for(var t,i=this.geometries,r=0,o=0;o<i.length;o++){var a=i[o],l=a.exterior,u=l&&l.length;u>r&&(t=a,r=u)}if(t)return function(g){for(var v=0,w=0,_=0,A=g.length,T=g[A-1][0],L=g[A-1][1],R=0;R<A;R++){var z=g[R][0],j=g[R][1],X=T*j-z*L;v+=X,w+=(T+z)*X,_+=(L+j)*X,T=z,L=j}return v?[w/v/3,_/v/3,v]:[g[0][0]||0,g[0][1]||0]}(t.exterior);var f=this.getBoundingRect();return[f.x+f.width/2,f.y+f.height/2]},e.prototype.getBoundingRect=function(t){var i=this._rect;if(i&&!t)return i;var r=[1/0,1/0],o=[-1/0,-1/0];return U(this.geometries,function(a){a.type==="polygon"?KM(a.exterior,r,o,t):U(a.points,function(l){KM(l,r,o,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new Qi(r[0],r[1],o[0]-r[0],o[1]-r[1]),t||(this._rect=i),i},e.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;t:for(var o=0,a=r.length;o<a;o++){var l=r[o];if(l.type==="polygon"){var u=l.exterior,f=l.interiors;if(Sd(u,t[0],t[1])){for(var g=0;g<(f?f.length:0);g++)if(Sd(f[g],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,i,r,o){var a=this.getBoundingRect(),l=a.width/a.height;r?o||(o=r/l):r=l*o;for(var u=new Qi(t,i,r,o),f=a.calculateTransform(u),g=this.geometries,v=0;v<g.length;v++){var w=g[v];w.type==="polygon"?(vS(w.exterior,f),U(w.interiors,function(_){vS(_,f)})):U(w.points,function(_){vS(_,f)})}(a=this._rect).copy(u),this._center=[a.x+a.width/2,a.y+a.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}(JM),QM=function(n){function e(t,i){var r=n.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return wt(e,n),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=ii(YD),a=t;a&&!a.isGeoSVGGraphicRoot;)Wi(o,a.getLocalTransform(),o),a=a.parent;return Er(o,o),Or(r,r,o),r},e}(JM);function xS(n,e,t){for(var i=0;i<n.length;i++)n[i]=hy(n[i],e[i],t)}function hy(n,e,t){for(var i=[],r=e[0],o=e[1],a=0;a<n.length;a+=2){var l=n.charCodeAt(a)-64,u=n.charCodeAt(a+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),r=l+=r,o=u+=o,i.push([l/t,u/t])}return i}function af(n,e){return ye($e((n=function(t){if(!t.UTF8Encoding)return t;var i=t,r=i.UTF8Scale;return r==null&&(r=1024),U(i.features,function(o){var a=o.geometry,l=a.encodeOffsets,u=a.coordinates;if(l)switch(a.type){case"LineString":a.coordinates=hy(u,l,r);break;case"Polygon":case"MultiLineString":xS(u,l,r);break;case"MultiPolygon":U(u,function(f,g){return xS(f,l[g],r)})}}),i.UTF8Encoding=!1,i}(n)).features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,r=t.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new yS(a[0],a.slice(1)));break;case"MultiPolygon":U(r.coordinates,function(u){u[0]&&o.push(new yS(u[0],u.slice(1)))});break;case"LineString":o.push(new of([r.coordinates]));break;case"MultiLineString":o.push(new of(r.coordinates))}var l=new Cd(i[e||"name"],o,i.cp);return l.properties=i,l})}var dy=Object.freeze({__proto__:null,linearMap:Br,round:uo,asc:Qa,getPrecision:Ss,getPrecisionSafe:Xc,getPixelPrecision:Zf,getPercentWithPrecision:function(n,e,t){return n[e]&&Al(n,t)[e]||0},MAX_SAFE_INTEGER:Kf,remRadian:Ml,isRadianAroundZero:gp,parseDate:ma,quantity:Ph,quantityExponent:Bu,nice:Jf,quantile:Nh,reformIntervals:Qf,isNumeric:mp,numericToNumber:Da}),Qx=Object.freeze({__proto__:null,parse:ma,format:Rl}),tT=Object.freeze({__proto__:null,extendShape:bA,extendPath:gg,makePath:vg,makeImage:Dp,mergePath:As,resizePath:yg,createIcon:Op,updateProps:Mr,initProps:vo,getTransform:Ea,clipPointsByRect:wg,clipRectByRect:uw,registerShape:ls,getShapeClass:mg,Group:Ei,Image:Kr,Text:wr,Circle:El,Ellipse:lv,Sector:os,Ring:Ap,Polygon:as,Polyline:ss,Rect:br,Line:Zo,BezierCurve:dg,Arc:hv,IncrementalDisplayable:sw,CompoundPath:F0,LinearGradient:Tp,RadialGradient:aw,BoundingRect:Qi}),GD=Object.freeze({__proto__:null,addCommas:Cw,toCamelCase:kw,normalizeCssArray:Jh,encodeHTML:Lt,formatTpl:Mg,getTooltipMarker:Mw,formatTime:function(n,e,t){n!=="week"&&n!=="month"&&n!=="quarter"&&n!=="half-year"&&n!=="year"||(n=`MM-dd
yyyy`);var i=ma(e),r=t?"getUTC":"get",o=i[r+"FullYear"](),a=i[r+"Month"]()+1,l=i[r+"Date"](),u=i[r+"Hours"](),f=i[r+"Minutes"](),g=i[r+"Seconds"](),v=i[r+"Milliseconds"]();return n=n.replace("MM",va(a,2)).replace("M",a).replace("yyyy",o).replace("yy",va(o%100+"",2)).replace("dd",va(l,2)).replace("d",l).replace("hh",va(u,2)).replace("h",u).replace("mm",va(f,2)).replace("m",f).replace("ss",va(g,2)).replace("s",g).replace("SSS",va(v,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:ju,getTextRect:function(n,e,t,i,r,o,a,l){return new wr({style:{text:n,font:e,align:t,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:l}}).getBoundingRect()}}),XD=Object.freeze({__proto__:null,map:ye,each:U,indexOf:rn,inherits:ln,reduce:cn,filter:$e,bind:Be,curry:un,isArray:he,isString:kn,isObject:Zn,isFunction:In,extend:pe,defaults:De,clone:Gt,merge:ie}),am=hr();function qD(n){return n.type==="category"?function(e){var t=e.getLabelModel(),i=bS(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(n):function(e){var t=e.scale.getTicks(),i=nf(e);return{labels:ye(t,function(r,o){return{level:r.level,formattedLabel:i(r,o),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}(n)}function UD(n,e){return n.type==="category"?function(t,i){var r,o,a=wS(t,"ticks"),l=gS(i),u=eT(a,l);if(u)return u;if(i.get("show")&&!t.scale.isBlank()||(r=[]),In(l))r=nT(t,l,!0);else if(l==="auto"){var f=bS(t,t.getLabelModel());o=f.labelCategoryInterval,r=ye(f.labels,function(g){return g.tickValue})}else r=sf(t,o=l,!0);return _S(a,l,{ticks:r,tickCategoryInterval:o})}(n,e):{ticks:ye(n.scale.getTicks(),function(t){return t.value})}}function bS(n,e){var t,i,r=wS(n,"labels"),o=gS(e),a=eT(r,o);return a||(In(o)?t=nT(n,o):(i=o==="auto"?function(l){var u=am(l).autoInterval;return u??(am(l).autoInterval=l.calculateCategoryInterval())}(n):o,t=sf(n,i)),_S(r,o,{labels:t,labelCategoryInterval:i}))}function wS(n,e){return am(n)[e]||(am(n)[e]=[])}function eT(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function _S(n,e,t){return n.push({key:e,value:t}),t}function sf(n,e,t){var i=nf(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),l=[],u=Math.max((e||0)+1,1),f=o[0],g=r.count();f!==0&&u>1&&g/u>2&&(f=Math.round(Math.ceil(f/u)*u));var v=ZM(n),w=a.get("showMinLabel")||v,_=a.get("showMaxLabel")||v;w&&f!==o[0]&&T(o[0]);for(var A=f;A<=o[1];A+=u)T(A);function T(L){var R={value:L};l.push(t?L:{formattedLabel:i(R),rawLabel:r.getLabel(R),tickValue:L})}return _&&A-u!==o[1]&&T(o[1]),l}function nT(n,e,t){var i=n.scale,r=nf(n),o=[];return U(i.getTicks(),function(a){var l=i.getLabel(a),u=a.value;e(a.value,l)&&o.push(t?u:{formattedLabel:r(a),rawLabel:l,tickValue:u})}),o}var iT=[0,1],Ds=function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return Zf(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&r.type==="ordinal"&&$s(i=i.slice(),r.count()),Br(e,iT,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&$s(i=i.slice(),r.count());var o=Br(e,i,iT,t);return this.scale.scale(o)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),i=ye(UD(this,t).ticks,function(r){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,a,l){var u=o.length;if(!r.onBand||a||!u)return;var f,g,v=r.getExtent();if(u===1)o[0].coord=v[0],f=o[1]={coord:v[0]};else{var w=o[u-1].tickValue-o[0].tickValue,_=(o[u-1].coord-o[0].coord)/w;U(o,function(L){L.coord-=_/2}),g=1+r.scale.getExtent()[1]-o[u-1].tickValue,f={coord:o[u-1].coord+_*g},o.push(f)}var A=v[0]>v[1];T(o[0].coord,v[0])&&(l?o[0].coord=v[0]:o.shift()),l&&T(v[0],o[0].coord)&&o.unshift({coord:v[0]}),T(v[1],f.coord)&&(l?f.coord=v[1]:o.pop()),l&&T(f.coord,v[1])&&o.push({coord:v[1]});function T(L,R){return L=uo(L),R=uo(R),A?L>R:L<R}}(this,i,t.get("alignWithLabel"),e.clamp),i},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),ye(this.scale.getMinorTicks(e),function(t){return ye(t,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this)},n.prototype.getViewLabels=function(){return qD(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);i===0&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function(e){var t=function(mt){var bt=mt.getLabelModel();return{axisRotate:mt.getRotate?mt.getRotate():mt.isHorizontal&&!mt.isHorizontal()?90:0,labelRotate:bt.get("rotate")||0,font:bt.getFont()}}(e),i=nf(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,a=o.getExtent(),l=o.count();if(a[1]-a[0]<1)return 0;var u=1;l>40&&(u=Math.max(1,Math.floor(l/40)));for(var f=a[0],g=e.dataToCoord(f+1)-e.dataToCoord(f),v=Math.abs(g*Math.cos(r)),w=Math.abs(g*Math.sin(r)),_=0,A=0;f<=a[1];f+=u){var T,L,R=Ja(i({value:f}),t.font,"center","top");T=1.3*R.width,L=1.3*R.height,_=Math.max(_,T,7),A=Math.max(A,L,7)}var z=_/v,j=A/w;isNaN(z)&&(z=1/0),isNaN(j)&&(j=1/0);var X=Math.max(0,Math.floor(Math.min(z,j))),Z=am(e.model),Q=e.getExtent(),nt=Z.lastAutoInterval,it=Z.lastTickCount;return nt!=null&&it!=null&&Math.abs(nt-X)<=1&&Math.abs(it-l)<=1&&nt>X&&Z.axisExtent0===Q[0]&&Z.axisExtent1===Q[1]?X=nt:(Z.lastTickCount=l,Z.lastAutoInterval=X,Z.axisExtent0=Q[0],Z.axisExtent1=Q[1]),X}(this)},n}();function $s(n,e){var t=(n[1]-n[0])/e/2;n[0]+=t,n[1]-=t}var lf=2*Math.PI,kd=ae.CMD,$D=["top","right","bottom","left"];function ZD(n,e,t,i,r){var o=t.width,a=t.height;switch(n){case"top":i.set(t.x+o/2,t.y-e),r.set(0,-1);break;case"bottom":i.set(t.x+o/2,t.y+a+e),r.set(0,1);break;case"left":i.set(t.x-e,t.y+a/2),r.set(-1,0);break;case"right":i.set(t.x+o+e,t.y+a/2),r.set(1,0)}}function rT(n,e,t,i,r,o,a,l,u){a-=n,l-=e;var f=Math.sqrt(a*a+l*l),g=(a/=f)*t+n,v=(l/=f)*t+e;if(Math.abs(i-r)%lf<1e-4)return u[0]=g,u[1]=v,f-t;if(o){var w=i;i=pn(r),r=pn(w)}else i=pn(i),r=pn(r);i>r&&(r+=lf);var _=Math.atan2(l,a);if(_<0&&(_+=lf),_>=i&&_<=r||_+lf>=i&&_+lf<=r)return u[0]=g,u[1]=v,f-t;var A=t*Math.cos(i)+n,T=t*Math.sin(i)+e,L=t*Math.cos(r)+n,R=t*Math.sin(r)+e,z=(A-a)*(A-a)+(T-l)*(T-l),j=(L-a)*(L-a)+(R-l)*(R-l);return z<j?(u[0]=A,u[1]=T,Math.sqrt(z)):(u[0]=L,u[1]=R,Math.sqrt(j))}function py(n,e,t,i,r,o,a,l){var u=r-n,f=o-e,g=t-n,v=i-e,w=Math.sqrt(g*g+v*v),_=(u*(g/=w)+f*(v/=w))/w;l&&(_=Math.min(Math.max(_,0),1)),_*=w;var A=a[0]=n+_*g,T=a[1]=e+_*v;return Math.sqrt((A-r)*(A-r)+(T-o)*(T-o))}function SS(n,e,t,i,r,o,a){t<0&&(n+=t,t=-t),i<0&&(e+=i,i=-i);var l=n+t,u=e+i,f=a[0]=Math.min(Math.max(r,n),l),g=a[1]=Math.min(Math.max(o,e),u);return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}var Tc=[];function oT(n,e,t){var i=SS(e.x,e.y,e.width,e.height,n.x,n.y,Tc);return t.set(Tc[0],Tc[1]),i}function aT(n,e,t){for(var i,r,o=0,a=0,l=0,u=0,f=1/0,g=e.data,v=n.x,w=n.y,_=0;_<g.length;){var A=g[_++];_===1&&(l=o=g[_],u=a=g[_+1]);var T=f;switch(A){case kd.M:o=l=g[_++],a=u=g[_++];break;case kd.L:T=py(o,a,g[_],g[_+1],v,w,Tc,!0),o=g[_++],a=g[_++];break;case kd.C:T=Xo(o,a,g[_++],g[_++],g[_++],g[_++],g[_],g[_+1],v,w,Tc),o=g[_++],a=g[_++];break;case kd.Q:T=Ql(o,a,g[_++],g[_++],g[_],g[_+1],v,w,Tc),o=g[_++],a=g[_++];break;case kd.A:var L=g[_++],R=g[_++],z=g[_++],j=g[_++],X=g[_++],Z=g[_++];_+=1;var Q=!!(1-g[_++]);i=Math.cos(X)*z+L,r=Math.sin(X)*j+R,_<=1&&(l=i,u=r),T=rT(L,R,j,X,X+Z,Q,(v-L)*j/z+L,w,Tc),o=Math.cos(X+Z)*z+L,a=Math.sin(X+Z)*j+R;break;case kd.R:T=SS(l=o=g[_++],u=a=g[_++],g[_++],g[_++],v,w,Tc);break;case kd.Z:T=py(o,a,l,u,v,w,Tc,!0),o=l,a=u}T<f&&(f=T,t.set(Tc[0],Tc[1]))}return f}var Vl=new ti,lo=new ti,Lo=new ti,Ic=new ti,Dc=new ti;function CS(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||$D,l=i.getBoundingRect().clone();l.applyTransform(i.getComputedTransform());var u=1/0,f=r.anchor,g=n.getComputedTransform(),v=g&&Er([],g),w=e.get("length2")||0;f&&Lo.copy(f);for(var _=0;_<a.length;_++){ZD(a[_],0,l,Vl,Ic),ti.scaleAndAdd(lo,Vl,Ic,w),lo.transform(v);var A=n.getBoundingRect(),T=f?f.distance(lo):n instanceof Ti?aT(lo,n.path,Lo):oT(lo,A,Lo);T<u&&(u=T,lo.transform(g),Lo.transform(g),Lo.toArray(o[0]),lo.toArray(o[1]),Vl.toArray(o[2]))}kS(o,e.get("minTurnAngle")),t.setShape({points:o})}}}var tb=[],Ls=new ti;function kS(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Vl.fromArray(n[0]),lo.fromArray(n[1]),Lo.fromArray(n[2]),ti.sub(Ic,Vl,lo),ti.sub(Dc,Lo,lo);var t=Ic.len(),i=Dc.len();if(!(t<.001||i<.001)){Ic.scale(1/t),Dc.scale(1/i);var r=Ic.dot(Dc);if(Math.cos(e)<r){var o=py(lo.x,lo.y,Lo.x,Lo.y,Vl.x,Vl.y,tb,!1);Ls.fromArray(tb),Ls.scaleAndAdd(Dc,o/Math.tan(Math.PI-e));var a=Lo.x!==lo.x?(Ls.x-lo.x)/(Lo.x-lo.x):(Ls.y-lo.y)/(Lo.y-lo.y);if(isNaN(a))return;a<0?ti.copy(Ls,lo):a>1&&ti.copy(Ls,Lo),Ls.toArray(n[1])}}}}function sT(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Vl.fromArray(n[0]),lo.fromArray(n[1]),Lo.fromArray(n[2]),ti.sub(Ic,lo,Vl),ti.sub(Dc,Lo,lo);var i=Ic.len(),r=Dc.len();if(!(i<.001||r<.001)&&(Ic.scale(1/i),Dc.scale(1/r),Ic.dot(e)<Math.cos(t))){var o=py(lo.x,lo.y,Lo.x,Lo.y,Vl.x,Vl.y,tb,!1);Ls.fromArray(tb);var a=Math.PI/2,l=a+Math.acos(Dc.dot(e))-t;if(l>=a)ti.copy(Ls,Lo);else{Ls.scaleAndAdd(Dc,o/Math.tan(Math.PI/2-l));var u=Lo.x!==lo.x?(Ls.x-lo.x)/(Lo.x-lo.x):(Ls.y-lo.y)/(Lo.y-lo.y);if(isNaN(u))return;u<0?ti.copy(Ls,lo):u>1&&ti.copy(Ls,Lo)}Ls.toArray(n[1])}}}function AS(n,e,t,i){var r=t==="normal",o=r?n:n.ensureState(t);o.ignore=e;var a=i.get("smooth");a&&a===!0&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var l=i.getModel("lineStyle").getLineStyle();r?n.useStyle(l):o.style=l}function MS(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=sr(i[0],i[1]),o=sr(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*t,l=Jr([],i[1],i[0],a/r),u=Jr([],i[1],i[2],a/o),f=Jr([],l,u,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],f[0],f[1]),n.bezierCurveTo(u[0],u[1],u[0],u[1],i[2][0],i[2][1])}else for(var g=1;g<i.length;g++)n.lineTo(i[g][0],i[g][1])}function eb(n,e,t){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),l=r.ignore,u=0;u<di.length;u++){var f=di[u],g=e[f],v=f==="normal";if(g){var w=g.get("show");if((v?l:Rt(r.states[f]&&r.states[f].ignore,l))||!Rt(w,a)){var _=v?i:i&&i.states[f];_&&(_.ignore=!0);continue}i||(i=new ss,n.setTextGuideLine(i),v||!l&&a||AS(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),AS(i,!1,f,g)}}if(i){De(i.style,t),i.style.fill=null;var A=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=A||!1,i.buildPath=MS}}else i&&n.removeTextGuideLine()}function TS(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},i=0;i<is.length;i++){var r=is[i];t[r]=n.getModel([r,e])}return t}function nb(n){for(var e=[],t=0;t<n.length;t++){var i=n[t];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),l=!o||o[1]<1e-5&&o[2]<1e-5,u=r.style.margin||0,f=a.clone();f.applyTransform(o),f.x-=u/2,f.y-=u/2,f.width+=u,f.height+=u;var g=l?new pg(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:f,localRect:a,obb:g,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:l,transform:o})}}return e}function mu(n,e,t,i,r,o){var a=n.length;if(!(a<2)){n.sort(function(nt,it){return nt.rect[e]-it.rect[e]});for(var l,u=0,f=!1,g=0,v=0;v<a;v++){var w=n[v],_=w.rect;(l=_[e]-u)<0&&(_[e]-=l,w.label[e]-=l,f=!0),g+=Math.max(-l,0),u=_[e]+_[t]}g>0&&o&&X(-g/a,0,a);var A,T,L=n[0],R=n[a-1];return z(),A<0&&Z(-A,.8),T<0&&Z(T,.8),z(),j(A,T,1),j(T,A,-1),z(),A<0&&Q(-A),T<0&&Q(T),f}function z(){A=L.rect[e]-i,T=r-R.rect[e]-R.rect[t]}function j(nt,it,mt){if(nt<0){var bt=Math.min(it,-nt);if(bt>0){X(bt*mt,0,a);var St=bt+nt;St<0&&Z(-St*mt,1)}else Z(-nt*mt,1)}}function X(nt,it,mt){nt!==0&&(f=!0);for(var bt=it;bt<mt;bt++){var St=n[bt];St.rect[e]+=nt,St.label[e]+=nt}}function Z(nt,it){for(var mt=[],bt=0,St=1;St<a;St++){var Ot=n[St-1].rect,Yt=Math.max(n[St].rect[e]-Ot[e]-Ot[t],0);mt.push(Yt),bt+=Yt}if(bt){var ee=Math.min(Math.abs(nt)/bt,it);if(nt>0)for(St=0;St<a-1;St++)X(mt[St]*ee,0,St+1);else for(St=a-1;St>0;St--)X(-(mt[St-1]*ee),St,a)}}function Q(nt){var it=nt<0?-1:1;nt=Math.abs(nt);for(var mt=Math.ceil(nt/(a-1)),bt=0;bt<a-1;bt++)if(it>0?X(mt,0,bt+1):X(-mt,a-bt-1,a),(nt-=mt)<=0)return}}function sm(n,e,t,i){return mu(n,"y","height",e,t,i)}function ib(n){var e=[];n.sort(function(T,L){return L.priority-T.priority});var t=new Qi(0,0,0,0);function i(T){if(!T.ignore){var L=T.ensureState("emphasis");L.ignore==null&&(L.ignore=!1)}T.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,l=o.localRect,u=o.transform,f=o.label,g=o.labelLine;t.copy(o.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var v=o.obb,w=!1,_=0;_<e.length;_++){var A=e[_];if(t.intersect(A.rect)){if(a&&A.axisAligned){w=!0;break}if(A.obb||(A.obb=new pg(A.localRect,A.transform)),v||(v=new pg(l,u)),v.intersect(A.obb)){w=!0;break}}}w?(i(f),g&&i(g)):(f.attr("ignore",o.defaultAttr.ignore),g&&g.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function KD(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function JD(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:KD(i&&i.shape.points)}}var IS=["align","verticalAlign","width","height","fontSize"],Os=new lc,fy=hr(),DS=hr();function us(n,e,t){for(var i=0;i<t.length;i++){var r=t[i];e[r]!=null&&(n[r]=e[r])}}var gy=["x","y","rotation"],lT=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,r,o){var a=r.style,l=r.__hostTarget.textConfig||{},u=r.getComputedTransform(),f=r.getBoundingRect().plain();Qi.applyTransform(f,f,u),u?Os.setLocalTransform(u):(Os.x=Os.y=Os.rotation=Os.originX=Os.originY=0,Os.scaleX=Os.scaleY=1);var g,v=r.__hostTarget;if(v){g=v.getBoundingRect().plain();var w=v.getComputedTransform();Qi.applyTransform(g,g,w)}var _=g&&v.getTextGuideLine();this._labelList.push({label:r,labelLine:_,seriesModel:i,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:f,hostRect:g,priority:g?g.width*g.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:_&&_.ignore,x:Os.x,y:Os.y,scaleX:Os.scaleX,scaleY:Os.scaleY,rotation:Os.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(In(r)||Re(r).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),l=Ui(o);a&&!a.disableLabelLayout&&t._addLabel(l.dataIndex,l.dataType,i,a,r)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function r(R,z){return function(){CS(R,z)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],l=a.label,u=l.__hostTarget,f=a.defaultAttr,g=void 0;g=(g=In(a.layoutOption)?a.layoutOption(JD(a,u)):a.layoutOption)||{},a.computedLayoutOption=g;var v=Math.PI/180;u&&u.setTextConfig({local:!1,position:g.x!=null||g.y!=null?null:f.attachedPos,rotation:g.rotate!=null?g.rotate*v:f.attachedRot,offset:[g.dx||0,g.dy||0]});var w=!1;if(g.x!=null?(l.x=Yn(g.x,t),l.setStyle("x",0),w=!0):(l.x=f.x,l.setStyle("x",f.style.x)),g.y!=null?(l.y=Yn(g.y,i),l.setStyle("y",0),w=!0):(l.y=f.y,l.setStyle("y",f.style.y)),g.labelLinePoints){var _=u.getTextGuideLine();_&&(_.setShape({points:g.labelLinePoints}),w=!1)}fy(l).needsUpdateLabelLine=w,l.rotation=g.rotate!=null?g.rotate*v:f.rotation,l.scaleX=f.scaleX,l.scaleY=f.scaleY;for(var A=0;A<IS.length;A++){var T=IS[A];l.setStyle(T,g[T]!=null?g[T]:f.style[T])}if(g.draggable){if(l.draggable=!0,l.cursor="move",u){var L=a.seriesModel;a.dataIndex!=null&&(L=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),l.on("drag",r(u,L.getModel("labelLine")))}}else l.off("drag"),l.cursor=f.cursor}},n.prototype.layout=function(e){var t,i=e.getWidth(),r=e.getHeight(),o=nb(this._labelList),a=$e(o,function(u){return u.layoutOption.moveOverlap==="shiftX"}),l=$e(o,function(u){return u.layoutOption.moveOverlap==="shiftY"});mu(a,"x","width",0,i,t),sm(l,0,r),ib($e(o,function(u){return u.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var e=this;U(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,o=i.isAnimationEnabled();t.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var l=!r,u=a.getTextContent();!l&&u&&(l=fy(u).needsUpdateLabelLine),l&&e._updateLabelLine(a,i),o&&e._animateLabels(a,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=Ui(e),o=r.dataIndex;if(i&&o!=null){var a=t.getData(r.dataType),l=a.getItemModel(o),u={},f=a.getItemVisual(o,"style"),g=a.getVisual("drawType");u.stroke=f[g];var v=l.getModel("labelLine");eb(e,TS(l),u),CS(e,v)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!yc(e))){var o=(A=fy(i)).oldLayout,a=Ui(e),l=a.dataIndex,u={x:i.x,y:i.y,rotation:i.rotation},f=t.getData(a.dataType);if(o){i.attr(o);var g=e.prevStates;g&&(rn(g,"select")>=0&&i.attr(A.oldLayoutSelect),rn(g,"emphasis")>=0&&i.attr(A.oldLayoutEmphasis)),Mr(i,u,t,l)}else if(i.attr(u),!Rp(i).valueAnimation){var v=Rt(i.style.opacity,1);i.style.opacity=0,vo(i,{style:{opacity:v}},t,l)}if(A.oldLayout=u,i.states.select){var w=A.oldLayoutSelect={};us(w,u,gy),us(w,i.states.select,gy)}if(i.states.emphasis){var _=A.oldLayoutEmphasis={};us(_,u,gy),us(_,i.states.emphasis,gy)}fw(i,l,f,t,t)}if(r&&!r.ignore&&!r.invisible){o=(A=DS(r)).oldLayout;var A,T={points:r.shape.points};o?(r.attr({shape:o}),Mr(r,{shape:T},t)):(r.setShape(T),r.style.strokePercent=0,vo(r,{style:{strokePercent:1}},t)),A.oldLayout=T}},n}(),LS=hr(),rb=Math.sin,my=Math.cos,ob=Math.PI,Hl=2*Math.PI,cT=180/ob,OS=function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,r,o,a){this._add("C",e,t,i,r,o,a)},n.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},n.prototype.arc=function(e,t,i,r,o,a){this.ellipse(e,t,i,i,0,r,o,a)},n.prototype.ellipse=function(e,t,i,r,o,a,l,u){var f=l-a,g=!u,v=Math.abs(f),w=ic(v-Hl)||(g?f>=Hl:-f>=Hl),_=f>0?f%Hl:f%Hl+Hl,A=!1;A=!!w||!ic(v)&&_>=ob==!!g;var T=e+i*my(a),L=t+r*rb(a);this._start&&this._add("M",T,L);var R=Math.round(o*cT);if(w){var z=1/this._p,j=(g?1:-1)*(Hl-z);this._add("A",i,r,R,1,+g,e+i*my(a+j),t+r*rb(a+j)),z>.01&&this._add("A",i,r,R,0,+g,T,L)}else{var X=e+i*my(l),Z=t+r*rb(l);this._add("A",i,r,R,+A,+g,X,Z)}},n.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,r,o,a,l,u,f){for(var g=[],v=this._p,w=1;w<arguments.length;w++){var _=arguments[w];if(isNaN(_))return void(this._invalid=!0);g.push(Math.round(_*v)/v)}this._d.push(e+g.join(" ")),this._start=e==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),lm="none",ab=Math.round,ES=["lineCap","miterLimit","lineJoin"],QD=ye(ES,function(n){return"stroke-"+n.toLowerCase()});function uT(n,e,t,i){var r=e.opacity==null?1:e.opacity;if(t instanceof Kr)n("opacity",r);else{if(function(z){var j=z.fill;return j!=null&&j!==lm}(e)){var o=nc(e.fill);n("fill",o.color);var a=e.fillOpacity!=null?e.fillOpacity*o.opacity*r:o.opacity*r;(i||a<1)&&n("fill-opacity",a)}else n("fill",lm);if(function(z){var j=z.stroke;return j!=null&&j!==lm}(e)){var l=nc(e.stroke);n("stroke",l.color);var u=e.strokeNoScale?t.getLineScale():1,f=u?(e.lineWidth||0)/u:0,g=e.strokeOpacity!=null?e.strokeOpacity*l.opacity*r:l.opacity*r,v=e.strokeFirst;if((i||f!==1)&&n("stroke-width",f),(i||v)&&n("paint-order",v?"stroke":"fill"),(i||g<1)&&n("stroke-opacity",g),e.lineDash){var w=Vv(t),_=w[0],A=w[1];_&&(A=ab(A||0),n("stroke-dasharray",_.join(",")),(A||i)&&n("stroke-dashoffset",A))}else i&&n("stroke-dasharray",lm);for(var T=0;T<ES.length;T++){var L=ES[T];if(i||e[L]!==vi[L]){var R=e[L]||vi[L];R&&n(QD[T],R)}}}else i&&n("stroke",lm)}}var PS="http://www.w3.org/2000/svg",sb="http://www.w3.org/1999/xlink";function NS(n){return document.createElementNS(PS,n)}function jr(n,e,t,i,r){return{tag:n,attrs:t||{},children:i,text:r,key:e}}function lb(n,e){var t=(e=e||{}).newline?`
`:"";return function i(r){var o=r.children,a=r.tag;return function(l,u){var f=[];if(u)for(var g in u){var v=u[g],w=g;v!==!1&&(v!==!0&&v!=null&&(w+='="'+v+'"'),f.push(w))}return"<"+l+" "+f.join(" ")+">"}(a,r.attrs)+Lt(r.text)+(o?""+t+ye(o,function(l){return i(l)}).join(t)+t:"")+("</"+a+">")}(n)}function RS(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function hT(n,e,t,i){return jr("svg","root",{width:n,height:e,xmlns:PS,"xmlns:xlink":sb,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+n+" "+e},t)}var BS={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},cf="transform-origin";function tL(n,e,t){var i=pe({},n.shape);pe(i,e),n.buildPath(t,i);var r=new OS;return r.reset(ip(n)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function eL(n,e){var t=e.originX,i=e.originY;(t||i)&&(n[cf]=t+"px "+i+"px")}var dT={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Lc(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function cb(n){return kn(n)?BS[n]?"cubic-bezier("+BS[n]+")":Zd(n)?n:"":""}function vy(n,e,t,i){var r=n.animators,o=r.length,a=[];if(n instanceof F0){var l=function(z,j,X){var Z,Q,nt=z.shape.paths,it={};if(U(nt,function(bt){var St=RS(X.zrId);St.animation=!0,vy(bt,{},St,!0);var Ot=St.cssAnims,Yt=St.cssNodes,ee=Re(Ot),le=ee.length;if(le){var ge=Ot[Q=ee[le-1]];for(var be in ge){var Ie=ge[be];it[be]=it[be]||{d:""},it[be].d+=Ie.d||""}for(var He in Yt){var qe=Yt[He].animation;qe.indexOf(Q)>=0&&(Z=qe)}}}),Z){j.d=!1;var mt=Lc(it,X);return Z.replace(Q,mt)}}(n,e,t);if(l)a.push(l);else if(!o)return}else if(!o)return;for(var u={},f=0;f<o;f++){var g=r[f],v=[g.getMaxTime()/1e3+"s"],w=cb(g.getClip().easing),_=g.getDelay();w?v.push(w):v.push("linear"),_&&v.push(_/1e3+"s"),g.getLoop()&&v.push("infinite");var A=v.join(" ");u[A]=u[A]||[A,[]],u[A][1].push(g)}function T(z){var j,X=z[1],Z=X.length,Q={},nt={},it={};function mt(Fn,Xn,Vn){for(var qn=Fn.getTracks(),Hn=Fn.getMaxTime(),ni=0;ni<qn.length;ni++){var wi=qn[ni];if(wi.needsAnimate()){var Zi=wi.keyframes,nr=wi.propName;if(Vn&&(nr=Vn(nr)),nr)for(var Ur=0;Ur<Zi.length;Ur++){var gr=Zi[Ur],vr=Math.round(gr.time/Hn*100)+"%",eo=cb(gr.easing),ro=gr.rawValue;(kn(ro)||fi(ro))&&(Xn[vr]=Xn[vr]||{},Xn[vr][nr]=gr.rawValue,eo&&(Xn[vr]["animation-timing-function"]=eo))}}}}for(var bt=0;bt<Z;bt++)(qe=(He=X[bt]).targetName)?qe==="shape"&&mt(He,nt):!i&&mt(He,Q);for(var St in Q){var Ot={};Oh(Ot,n),pe(Ot,Q[St]);var Yt=Hm(Ot),ee=Q[St]["animation-timing-function"];it[St]=Yt?{transform:Yt}:{},eL(it[St],Ot),ee&&(it[St]["animation-timing-function"]=ee)}var le=!0;for(var St in nt){it[St]=it[St]||{};var ge=!j;ee=nt[St]["animation-timing-function"],ge&&(j=new ae);var be=j.len();j.reset(),it[St].d=tL(n,nt[St],j);var Ie=j.len();if(!ge&&be!==Ie){le=!1;break}ee&&(it[St]["animation-timing-function"]=ee)}if(!le)for(var St in it)delete it[St].d;if(!i)for(bt=0;bt<Z;bt++){var He,qe;(qe=(He=X[bt]).targetName)==="style"&&mt(He,it,function(Fn){return dT[Fn]})}var Ke,bn=Re(it),Rn=!0;for(bt=1;bt<bn.length;bt++){var Je=bn[bt-1],Tn=bn[bt];if(it[Je][cf]!==it[Tn][cf]){Rn=!1;break}Ke=it[Je][cf]}if(Rn&&Ke){for(var St in it)it[St][cf]&&delete it[St][cf];e[cf]=Ke}if($e(bn,function(Fn){return Re(it[Fn]).length>0}).length)return Lc(it,t)+" "+z[0]+" both"}for(var L in u)(l=T(u[L]))&&a.push(l);if(a.length){var R=t.zrId+"-cls-"+t.cssClassIdx++;t.cssNodes["."+R]={animation:a.join(",")},e.class=R}}var Ad=Math.round;function ub(n){return n&&kn(n.src)}function pT(n){return n&&In(n.toDataURL)}function zS(n,e,t,i){uT(function(r,o){var a=r==="fill"||r==="stroke";a&&Gf(o)?xy(e,n,r,i):a&&ep(o)?cm(t,n,r,i):n[r]=o},e,t,!1),function(r,o,a){var l=r.style;if(function(Z){return Z&&(Z.shadowBlur||Z.shadowOffsetX||Z.shadowOffsetY)}(l)){var u=function(Z){var Q=Z.style,nt=Z.getGlobalScale();return[Q.shadowColor,(Q.shadowBlur||0).toFixed(2),(Q.shadowOffsetX||0).toFixed(2),(Q.shadowOffsetY||0).toFixed(2),nt[0],nt[1]].join(",")}(r),f=a.shadowCache,g=f[u];if(!g){var v=r.getGlobalScale(),w=v[0],_=v[1];if(!w||!_)return;var A=l.shadowOffsetX||0,T=l.shadowOffsetY||0,L=l.shadowBlur,R=nc(l.shadowColor),z=R.opacity,j=R.color,X=L/2/w+" "+L/2/_;g=a.zrId+"-s"+a.shadowIdx++,a.defs[g]=jr("filter",g,{id:g,x:"-100%",y:"-100%",width:"300%",height:"300%"},[jr("feDropShadow","",{dx:A/w,dy:T/_,stdDeviation:X,"flood-color":j,"flood-opacity":z})]),f[u]=g}o.filter=np(g)}}(t,n,i)}function fT(n){return ic(n[0]-1)&&ic(n[1])&&ic(n[2])&&ic(n[3]-1)}function hb(n,e,t){if(e&&(!function(r){return ic(r[4])&&ic(r[5])}(e)||!fT(e))){var i=t?10:1e4;n.transform=fT(e)?"translate("+Ad(e[4]*i)/i+" "+Ad(e[5]*i)/i+")":function(r){return"matrix("+Ih(r[0])+","+Ih(r[1])+","+Ih(r[2])+","+Ih(r[3])+","+Fc(r[4])+","+Fc(r[5])+")"}(e)}}function Oc(n,e,t){for(var i=n.points,r=[],o=0;o<i.length;o++)r.push(Ad(i[o][0]*t)/t),r.push(Ad(i[o][1]*t)/t);e.points=r.join(" ")}function yy(n){return!n.smooth}var gT,FS,mT={circle:[(gT=["cx","cy","r"],FS=ye(gT,function(n){return typeof n=="string"?[n,n]:n}),function(n,e,t){for(var i=0;i<FS.length;i++){var r=FS[i],o=n[r[0]];o!=null&&(e[r[1]]=Ad(o*t)/t)}})],polyline:[Oc,yy],polygon:[Oc,yy]};function VS(n,e){var t=n.style,i=n.shape,r=mT[n.type],o={},a=e.animation,l="path",u=n.style.strokePercent,f=e.compress&&ip(n)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||a&&function(L){for(var R=L.animators,z=0;z<R.length;z++)if(R[z].targetName==="shape")return!0;return!1}(n)||u<1){var g=!n.path||n.shapeChanged();n.path||n.createPathProxy();var v=n.path;g&&(v.beginPath(),n.buildPath(v,n.shape),n.pathUpdated());var w=v.getVersion(),_=n,A=_.__svgPathBuilder;_.__svgPathVersion===w&&A&&u===_.__svgPathStrokePercent||(A||(A=_.__svgPathBuilder=new OS),A.reset(f),v.rebuildPath(A,u),A.generateStr(),_.__svgPathVersion=w,_.__svgPathStrokePercent=u),o.d=A.getStr()}else{l=n.type;var T=Math.pow(10,f);r[0](i,o,T)}return hb(o,n.transform),zS(o,t,n,e),e.animation&&vy(n,o,e),jr(l,n.id+"",o)}function db(n,e){return n instanceof Ti?VS(n,e):n instanceof Kr?function(t,i){var r=t.style,o=r.image;if(o&&!kn(o)&&(ub(o)?o=o.src:pT(o)&&(o=o.toDataURL())),o){var a=r.x||0,l=r.y||0,u={href:o,width:r.width,height:r.height};return a&&(u.x=a),l&&(u.y=l),hb(u,t.transform),zS(u,r,t,i),i.animation&&vy(t,u,i),jr("image",t.id+"",u)}}(n,e):n instanceof Gr?function(t,i){var r=t.style,o=r.text;if(o!=null&&(o+=""),o&&!isNaN(r.x)&&!isNaN(r.y)){var a=r.font||re,l=r.x||0,u=function(T,L,R){return R==="top"?T+=L/2:R==="bottom"&&(T-=L/2),T}(r.y||0,Wr(a),r.textBaseline),f={"dominant-baseline":"central","text-anchor":Ou[r.textAlign]||r.textAlign};if(V1(r)){var g="",v=r.fontStyle,w=F1(r.fontSize);if(!parseFloat(w))return;var _=r.fontFamily||Jt,A=r.fontWeight;g+="font-size:"+w+";font-family:"+_+";",v&&v!=="normal"&&(g+="font-style:"+v+";"),A&&A!=="normal"&&(g+="font-weight:"+A+";"),f.style=g}else f.style="font: "+a;return o.match(/\s/)&&(f["xml:space"]="preserve"),l&&(f.x=l),u&&(f.y=u),hb(f,t.transform),zS(f,r,t,i),i.animation&&vy(t,f,i),jr("text",t.id+"",f,void 0,o)}}(n,e):void 0}function xy(n,e,t,i){var r,o=n[t],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(Eu(o))r="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!Yf(o))return;r="radialGradient",a.cx=Rt(o.x,.5),a.cy=Rt(o.y,.5),a.r=Rt(o.r,.5)}for(var l=o.colorStops,u=[],f=0,g=l.length;f<g;++f){var v=100*Fc(l[f].offset)+"%",w=nc(l[f].color),_=w.color,A=w.opacity,T={offset:v};T["stop-color"]=_,A<1&&(T["stop-opacity"]=A),u.push(jr("stop",f+"",T))}var L=lb(jr(r,"",a,u)),R=i.gradientCache,z=R[L];z||(z=i.zrId+"-g"+i.gradientIdx++,R[L]=z,a.id=z,i.defs[z]=jr(r,z,a,u)),e[t]=np(z)}function cm(n,e,t,i){var r,o=n.style[t],a=n.getBoundingRect(),l={},u=o.repeat,f=u==="no-repeat",g=u==="repeat-x",v=u==="repeat-y";if(jf(o)){var w=o.imageWidth,_=o.imageHeight,A=void 0,T=o.image;if(kn(T)?A=T:ub(T)?A=T.src:pT(T)&&(A=T.toDataURL()),typeof Image>"u"){var L="Image width/height must been given explictly in svg-ssr renderer.";ve(w,L),ve(_,L)}else if(w==null||_==null){var R=function(bt,St){if(bt){var Ot=bt.elm,Yt=w||St.width,ee=_||St.height;bt.tag==="pattern"&&(g?(ee=1,Yt/=a.width):v&&(Yt=1,ee/=a.height)),bt.attrs.width=Yt,bt.attrs.height=ee,Ot&&(Ot.setAttribute("width",Yt),Ot.setAttribute("height",ee))}},z=xp(A,null,n,function(bt){f||R(Q,bt),R(r,bt)});z&&z.width&&z.height&&(w=w||z.width,_=_||z.height)}r=jr("image","img",{href:A,width:w,height:_}),l.width=w,l.height=_}else o.svgElement&&(r=Gt(o.svgElement),l.width=o.svgWidth,l.height=o.svgHeight);if(r){var j,X;f?j=X=1:g?(X=1,j=l.width/a.width):v?(j=1,X=l.height/a.height):l.patternUnits="userSpaceOnUse",j==null||isNaN(j)||(l.width=j),X==null||isNaN(X)||(l.height=X);var Z=Hm(o);Z&&(l.patternTransform=Z);var Q=jr("pattern","",l,[r]),nt=lb(Q),it=i.patternCache,mt=it[nt];mt||(mt=i.zrId+"-p"+i.patternIdx++,it[nt]=mt,l.id=mt,Q=i.defs[mt]=jr("pattern",mt,l,[r])),e[t]=np(mt)}}function by(n,e,t){var i=t.clipPathCache,r=t.defs,o=i[n.id];if(!o){var a={id:o=t.zrId+"-c"+t.clipPathIdx++};i[n.id]=o,r[o]=jr("clipPath",o,a,[VS(n,t)])}e["clip-path"]=np(o)}function HS(n){return document.createTextNode(n)}function uf(n,e,t){n.insertBefore(e,t)}function vT(n,e){n.removeChild(e)}function yT(n,e){n.appendChild(e)}function xT(n){return n.parentNode}function WS(n){return n.nextSibling}function pb(n,e){n.textContent=e}var bT=jr("","");function jS(n){return n===void 0}function Ec(n){return n!==void 0}function wy(n,e,t){for(var i={},r=e;r<=t;++r){var o=n[r].key;o!==void 0&&(i[o]=r)}return i}function um(n,e){var t=n.key===e.key;return n.tag===e.tag&&t}function fb(n){var e,t=n.children,i=n.tag;if(Ec(i)){var r=n.elm=NS(i);if(gb(bT,n),he(t))for(e=0;e<t.length;++e){var o=t[e];o!=null&&yT(r,fb(o))}else Ec(n.text)&&!Zn(n.text)&&yT(r,HS(n.text))}else n.elm=HS(n.text);return n.elm}function wT(n,e,t,i,r){for(;i<=r;++i){var o=t[i];o!=null&&uf(n,fb(o),e)}}function _y(n,e,t,i){for(;t<=i;++t){var r=e[t];r!=null&&(Ec(r.tag)?vT(xT(r.elm),r.elm):vT(n,r.elm))}}function gb(n,e){var t,i=e.elm,r=n&&n.attrs||{},o=e.attrs||{};if(r!==o){for(t in o){var a=o[t];r[t]!==a&&(a===!0?i.setAttribute(t,""):a===!1?i.removeAttribute(t):t.charCodeAt(0)!==120?i.setAttribute(t,a):t==="xmlns:xlink"||t==="xmlns"?i.setAttributeNS("http://www.w3.org/2000/xmlns/",t,a):t.charCodeAt(3)===58?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",t,a):t.charCodeAt(5)===58?i.setAttributeNS(sb,t,a):i.setAttribute(t,a))}for(t in r)t in o||i.removeAttribute(t)}}function Md(n,e){var t=e.elm=n.elm,i=n.children,r=e.children;n!==e&&(gb(n,e),jS(e.text)?Ec(i)&&Ec(r)?i!==r&&function(o,a,l){for(var u,f,g,v=0,w=0,_=a.length-1,A=a[0],T=a[_],L=l.length-1,R=l[0],z=l[L];v<=_&&w<=L;)A==null?A=a[++v]:T==null?T=a[--_]:R==null?R=l[++w]:z==null?z=l[--L]:um(A,R)?(Md(A,R),A=a[++v],R=l[++w]):um(T,z)?(Md(T,z),T=a[--_],z=l[--L]):um(A,z)?(Md(A,z),uf(o,A.elm,WS(T.elm)),A=a[++v],z=l[--L]):um(T,R)?(Md(T,R),uf(o,T.elm,A.elm),T=a[--_],R=l[++w]):(jS(u)&&(u=wy(a,v,_)),jS(f=u[R.key])||(g=a[f]).tag!==R.tag?uf(o,fb(R),A.elm):(Md(g,R),a[f]=void 0,uf(o,g.elm,A.elm)),R=l[++w]);(v<=_||w<=L)&&(v>_?wT(o,l[L+1]==null?null:l[L+1].elm,l,w,L):_y(o,a,v,_))}(t,i,r):Ec(r)?(Ec(n.text)&&pb(t,""),wT(t,null,r,0,r.length-1)):Ec(i)?_y(t,i,0,i.length-1):Ec(n.text)&&pb(t,""):n.text!==e.text&&(Ec(i)&&_y(t,i,0,i.length-1),pb(t,e.text)))}var dh=0,YS=function(){function n(e,t,i){if(this.type="svg",this.refreshHover=GS(),this.configLayer=GS(),this.storage=t,this._opts=i=pe({},i),this.root=e,this._id="zr"+dh++,this._oldVNode=hT(i.width,i.height),e&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=NS("svg");gb(null,this._oldVNode),r.appendChild(o),e.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,i){if(um(t,i))Md(t,i);else{var r=t.elm,o=xT(r);fb(i),o!==null&&(uf(o,i.elm,WS(r)),_y(o,[t],0,0))}}(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return db(e,RS(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,r=this._height,o=RS(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var a=[],l=this._bgVNode=function(w,_,A,T){var L;if(A&&A!=="none")if(L=jr("rect","bg",{width:w,height:_,x:"0",y:"0",id:"0"}),Gf(A))xy({fill:A},L.attrs,"fill",T);else if(ep(A))cm({style:{fill:A},dirty:En,getBoundingRect:function(){return{width:w,height:_}}},L.attrs,"fill",T);else{var R=nc(A),z=R.color,j=R.opacity;L.attrs.fill=z,j<1&&(L.attrs["fill-opacity"]=j)}return L}(i,r,this._backgroundColor,o);l&&a.push(l);var u=e.compress?null:this._mainVNode=jr("g","main",{},[]);this._paintList(t,o,u?u.children:a),u&&a.push(u);var f=ye(Re(o.defs),function(w){return o.defs[w]});if(f.length&&a.push(jr("defs","defs",{},f)),e.animation){var g=function(w,_,A){var T=(A=A||{}).newline?`
`:"",L=" {"+T,R=T+"}",z=ye(Re(w),function(X){return X+L+ye(Re(w[X]),function(Z){return Z+":"+w[X][Z]+";"}).join(T)+R}).join(T),j=ye(Re(_),function(X){return"@keyframes "+X+L+ye(Re(_[X]),function(Z){return Z+L+ye(Re(_[X][Z]),function(Q){var nt=_[X][Z][Q];return Q==="d"&&(nt='path("'+nt+'")'),Q+":"+nt+";"}).join(T)+R}).join(T)+R}).join(T);return z||j?["<![CDATA[",z,j,"]]>"].join(T):""}(o.cssNodes,o.cssAnims,{newline:!0});if(g){var v=jr("style","stl",{},[],g);a.push(v)}}return hT(i,r,a,e.useViewBox)},n.prototype.renderToString=function(e){return e=e||{},lb(this.renderToVNode({animation:Rt(e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Rt(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,i){for(var r,o,a=e.length,l=[],u=0,f=0,g=0;g<a;g++){var v=e[g];if(!v.invisible){var w=v.__clipPaths,_=w&&w.length||0,A=o&&o.length||0,T=void 0;for(T=Math.max(_-1,A-1);T>=0&&(!w||!o||w[T]!==o[T]);T--);for(var L=A-1;L>T;L--)r=l[--u-1];for(var R=T+1;R<_;R++){var z={};by(w[R],z,t);var j=jr("g","clip-g-"+f++,z,[]);(r?r.children:i).push(j),l[u++]=j,r=j}o=w;var X=db(v,t);X&&(r?r.children:i).push(X)}}},n.prototype.resize=function(e,t){var i=this._opts,r=this.root,o=this._viewport;if(e!=null&&(i.width=e),t!=null&&(i.height=t),r&&o&&(o.style.display="none",e=gd(r,0,i),t=gd(r,1,i),o.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,o){var a=o.style;a.width=e+"px",a.height=t+"px"}if(ep(this._backgroundColor))this.refresh();else{var l=this._svgDom;l&&(l.setAttribute("width",e),l.setAttribute("height",t));var u=this._bgVNode&&this._bgVNode.elm;u&&(u.setAttribute("width",e),u.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=rc(t))&&i+"base64,"+t:i+"charset=UTF-8,"+encodeURIComponent(t)},n}();function GS(n){return function(){}}function XS(n,e,t){var i=pt.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*t,i.height=o*t,i}var Sy=function(n){function e(t,i,r){var o,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||sc,typeof t=="string"?o=XS(t,i,r):Zn(t)&&(t=(o=t).id),a.id=t,a.dom=o;var l=o.style;return l&&(xi(o),o.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),a.painter=i,a.dpr=r,a}return wt(e,n),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=XS("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,l=[],u=this.maxRepaintRectCount,f=!1,g=new Qi(0,0,0,0);function v(z){if(z.isFinite()&&!z.isZero())if(l.length===0)(j=new Qi(0,0,0,0)).copy(z),l.push(j);else{for(var j,X=!1,Z=1/0,Q=0,nt=0;nt<l.length;++nt){var it=l[nt];if(it.intersect(z)){var mt=new Qi(0,0,0,0);mt.copy(it),mt.union(z),l[nt]=mt,X=!0;break}if(f){g.copy(z),g.union(it);var bt=z.width*z.height,St=it.width*it.height,Ot=g.width*g.height-bt-St;Ot<Z&&(Z=Ot,Q=nt)}}f&&(l[Q].union(z),X=!0),!X&&((j=new Qi(0,0,0,0)).copy(z),l.push(j)),f||(f=l.length>=u)}}for(var w=this.__startIndex;w<this.__endIndex;++w)if(T=t[w]){var _=T.shouldBePainted(r,o,!0,!0);(L=T.__isRendered&&(1&T.__dirty||!_)?T.getPrevPaintRect():null)&&v(L);var A=_&&(1&T.__dirty||!T.__isRendered)?T.getPaintRect():null;A&&v(A)}for(w=this.__prevStartIndex;w<this.__prevEndIndex;++w){var T,L;_=(T=i[w]).shouldBePainted(r,o,!0,!0),T&&(!_||!T.__zr)&&T.__isRendered&&(L=T.getPrevPaintRect())&&v(L)}do for(a=!1,w=0;w<l.length;)if(l[w].isZero())l.splice(w,1);else{for(var R=w+1;R<l.length;)l[w].intersect(l[R])?(a=!0,l[w].union(l[R]),l.splice(R,1)):R++;w++}while(a);return this._paintRects=l,l},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var r=this.dpr,o=this.dom,a=o.style,l=this.domBack;a&&(a.width=t+"px",a.height=i+"px"),o.width=t*r,o.height=i*r,l&&(l.width=t*r,l.height=i*r,r!==1&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,i,r){var o=this.dom,a=this.ctx,l=o.width,u=o.height;i=i||this.clearColor;var f=this.motionBlur&&!t,g=this.lastFrameAlpha,v=this.dpr,w=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,l/v,u/v));var _=this.domBack;function A(T,L,R,z){if(a.clearRect(T,L,R,z),i&&i!=="transparent"){var j=void 0;zn(i)?(j=(i.global||i.__width===R&&i.__height===z)&&i.__canvasGradient||D_(a,i,{x:0,y:0,width:R,height:z}),i.__canvasGradient=j,i.__width=R,i.__height=z):Un(i)&&(i.scaleX=i.scaleX||v,i.scaleY=i.scaleY||v,j=md(a,i,{dirty:function(){w.setUnpainted(),w.__painter.refresh()}})),a.save(),a.fillStyle=j||i,a.fillRect(T,L,R,z),a.restore()}f&&(a.save(),a.globalAlpha=g,a.drawImage(_,T,L,R,z),a.restore())}!r||f?A(0,0,l,u):r.length&&U(r,function(T){A(T.x*v,T.y*v,T.width*v,T.height*v)})},e}(M),qS=1e5,Td=314159,Cy=.01,_T=function(){function n(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=i=pe({},i||{}),this.dpr=i.devicePixelRatio||sc,this._singleCanvas=o,this.root=e,e.style&&(xi(e),e.innerHTML=""),this.storage=t;var a=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=e,f=u.width,g=u.height;i.width!=null&&(f=i.width),i.height!=null&&(g=i.height),this.dpr=i.devicePixelRatio||1,u.width=f*this.dpr,u.height=g*this.dpr,this._width=f,this._height=g;var v=new Sy(u,this,this.dpr);v.__builtin__=!0,v.initContext(),l[314159]=v,v.zlevel=Td,a.push(Td),this._domRoot=e}else{this._width=gd(e,0,i),this._height=gd(e,1,i);var w=this._domRoot=function(_,A){var T=document.createElement("div");return T.style.cssText=["position:relative","width:"+_+"px","height:"+A+"px","padding:0","margin:0","border-width:0"].join(";")+";",T}(this._width,this._height);e.appendChild(w)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var o=0;o<r.length;o++){var a=r[o],l=this._layers[a];if(!l.__builtin__&&l.refresh){var u=o===0?this._backgroundColor:null;l.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<t;a++){var l=e[a];l.__inHover&&(i||(i=this._hoverlayer=this.getLayer(qS)),r||(r=i.ctx).save(),Up(r,l,o,a===t-1))}r&&r.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(qS)},n.prototype.paintOne=function(e,t){E_(e,t)},n.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,i),a=o.finished,l=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(e),a)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var u=this;Zl(function(){u._paintList(e,t,i,r)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(Td).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var r=this,o=[],a=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var u=this._zlevelList[l],f=this._layers[u];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||i)&&o.push(f)}for(var g=!0,v=!1,w=function(T){var L,R=o[T],z=R.ctx,j=a&&R.createRepaintRects(e,t,_._width,_._height),X=i?R.__startIndex:R.__drawIndex,Z=!i&&R.incremental&&Date.now,Q=Z&&Date.now(),nt=R.zlevel===_._zlevelList[0]?_._backgroundColor:null;if(R.__startIndex===R.__endIndex)R.clear(!1,nt,j);else if(X===R.__startIndex){var it=e[X];it.incremental&&it.notClear&&!i||R.clear(!1,nt,j)}X===-1&&(console.error("For some unknown reason. drawIndex is -1"),X=R.__startIndex);var mt=function(Yt){var ee={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(L=X;L<R.__endIndex;L++){var le=e[L];if(le.__inHover&&(v=!0),r._doPaintEl(le,R,a,Yt,ee,L===R.__endIndex-1),Z&&Date.now()-Q>15)break}ee.prevElClipPaths&&z.restore()};if(j)if(j.length===0)L=R.__endIndex;else for(var bt=_.dpr,St=0;St<j.length;++St){var Ot=j[St];z.save(),z.beginPath(),z.rect(Ot.x*bt,Ot.y*bt,Ot.width*bt,Ot.height*bt),z.clip(),mt(Ot),z.restore()}else z.save(),mt(),z.restore();R.__drawIndex=L,R.__drawIndex<R.__endIndex&&(g=!1)},_=this,A=0;A<o.length;A++)w(A);return ke.wxa&&U(this._layers,function(T){T&&T.ctx&&T.ctx.draw&&T.ctx.draw()}),{finished:g,needsRefreshHover:v}},n.prototype._doPaintEl=function(e,t,i,r,o,a){var l=t.ctx;if(i){var u=e.getPaintRect();(!r||u&&u.intersect(r))&&(Up(l,e,o,a),e.setPrevPaintRect(u))}else Up(l,e,o,a)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Td);var i=this._layers[e];return i||((i=new Sy("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?ie(i,this._layerConfig[e],!0):this._layerConfig[e-Cy]&&ie(i,this._layerConfig[e-Cy],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,l=null,u=-1;if(!i[e]&&function(g){return!!g&&(!!g.__builtin__||typeof g.resize=="function"&&typeof g.refresh=="function")}(t)){if(o>0&&e>r[0]){for(u=0;u<o-1&&!(r[u]<e&&r[u+1]>e);u++);l=i[r[u]]}if(r.splice(u+1,0,e),i[e]=t,!t.virtual)if(l){var f=l.dom;f.nextSibling?a.insertBefore(t.dom,f.nextSibling):a.appendChild(t.dom)}else a.firstChild?a.insertBefore(t.dom,a.firstChild):a.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];e.call(t,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&e.call(t,a,o)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||e.call(t,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){function t(v){a&&(a.__endIndex!==v&&(a.__dirty=!0),a.__endIndex=v)}if(this.eachBuiltinLayer(function(v,w){v.__dirty=v.__used=!1}),this._singleCanvas){for(var i=1;i<e.length;i++)if((u=e[i]).zlevel!==e[i-1].zlevel||u.incremental){this._needsManuallyCompositing=!0;break}}var r,o,a=null,l=0;for(o=0;o<e.length;o++){var u,f=(u=e[o]).zlevel,g=void 0;r!==f&&(r=f,l=0),u.incremental?((g=this.getLayer(f+.001,this._needsManuallyCompositing)).incremental=!0,l=1):g=this.getLayer(f+(l>0?Cy:0),this._needsManuallyCompositing),g.__builtin__||Ht("ZLevel "+f+" has been used by unkown layer "+g.id),g!==a&&(g.__used=!0,g.__startIndex!==o&&(g.__dirty=!0),g.__startIndex=o,g.incremental?g.__drawIndex=-1:g.__drawIndex=o,t(o),a=g),1&u.__dirty&&!u.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=o))}t(o),this.eachBuiltinLayer(function(v,w){!v.__used&&v.getElementCount()>0&&(v.__dirty=!0,v.__startIndex=v.__endIndex=v.__drawIndex=0),v.__dirty&&v.__drawIndex<0&&(v.__drawIndex=v.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,U(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?ie(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===e||o===e+Cy)&&ie(this._layers[o],i[e],!0)}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(rn(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(e!=null&&(r.width=e),t!=null&&(r.height=t),e=gd(o,0,r),t=gd(o,1,r),i.style.display="",this._width!==e||t!==this._height){for(var a in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Td).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new Sy("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,o=t.dom.height;this.eachLayer(function(v){v.__builtin__?i.drawImage(v.dom,0,0,r,o):v.renderToCanvas&&(i.save(),v.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),u=0,f=l.length;u<f;u++){var g=l[u];Up(i,g,a,u===f-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),nL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return wt(e,n),e.prototype.getInitialData=function(t){return fu(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new Ei,r=Do("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(r),r.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),l=o==="none"?"circle":o,u=.8*t.itemHeight,f=Do(l,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);i.add(f),f.setStyle(t.itemStyle);var g=t.iconRotate==="inherit"?a:t.iconRotate||0;return f.rotation=g*Math.PI/180,f.setOrigin([t.itemWidth/2,t.itemHeight/2]),l.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Vr);function hf(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(i===1){var r=Qu(n,e,t[0]);return r!=null?r+"":null}if(i){for(var o=[],a=0;a<t.length;a++)o.push(Qu(n,e,t[a]));return o.join(" ")}}function US(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!he(e))return e+"";for(var i=[],r=0;r<t.length;r++){var o=n.getDimensionIndex(t[r]);o>=0&&i.push(e[o])}return i.join(" ")}var ky=function(n){function e(t,i,r,o){var a=n.call(this)||this;return a.updateData(t,i,r,o),a}return wt(e,n),e.prototype._createSymbol=function(t,i,r,o,a){this.removeAll();var l=Do(t,-1,-1,2,2,null,a);l.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),l.drift=iL,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Xu(this.childAt(0))},e.prototype.downplay=function(){qu(this.childAt(0))},e.prototype.setZ=function(t,i){var r=this.childAt(0);r.zlevel=t,r.z=i},e.prototype.setDraggable=function(t,i){var r=this.childAt(0);r.draggable=t,r.cursor=!i&&t?"move":r.cursor},e.prototype.updateData=function(t,i,r,o){this.silent=!1;var a=t.getItemVisual(i,"symbol")||"circle",l=t.hostModel,u=e.getSymbolSize(t,i),f=a!==this._symbolType,g=o&&o.disableAnimation;if(f){var v=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,t,i,u,v)}else{(_=this.childAt(0)).silent=!1;var w={scaleX:u[0]/2,scaleY:u[1]/2};g?_.attr(w):Mr(_,w,l,i),Ca(_)}if(this._updateCommon(t,i,u,r,o),f){var _=this.childAt(0);g||(w={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:_.style.opacity}},_.scaleX=_.scaleY=0,_.style.opacity=0,vo(_,w,l,i))}g&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,i,r,o,a){var l,u,f,g,v,w,_,A,T,L=this.childAt(0),R=t.hostModel;if(o&&(l=o.emphasisItemStyle,u=o.blurItemStyle,f=o.selectItemStyle,g=o.focus,v=o.blurScope,_=o.labelStatesModels,A=o.hoverScale,T=o.cursorStyle,w=o.emphasisDisabled),!o||t.hasItemOption){var z=o&&o.itemModel?o.itemModel:t.getItemModel(i),j=z.getModel("emphasis");l=j.getModel("itemStyle").getItemStyle(),f=z.getModel(["select","itemStyle"]).getItemStyle(),u=z.getModel(["blur","itemStyle"]).getItemStyle(),g=j.get("focus"),v=j.get("blurScope"),w=j.get("disabled"),_=Xr(z),A=j.getShallow("scale"),T=z.getShallow("cursor")}var X=t.getItemVisual(i,"symbolRotate");L.attr("rotation",(X||0)*Math.PI/180||0);var Z=nh(t.getItemVisual(i,"symbolOffset"),r);Z&&(L.x=Z[0],L.y=Z[1]),T&&L.attr("cursor",T);var Q=t.getItemVisual(i,"style"),nt=Q.fill;if(L instanceof Kr){var it=L.style;L.useStyle(pe({image:it.image,x:it.x,y:it.y,width:it.width,height:it.height},Q))}else L.__isEmptyBrush?L.useStyle(pe({},Q)):L.useStyle(Q),L.style.decal=null,L.setColor(nt,a&&a.symbolInnerColor),L.style.strokeNoScale=!0;var mt=t.getItemVisual(i,"liftZ"),bt=this._z2;mt!=null?bt==null&&(this._z2=L.z2,L.z2+=mt):bt!=null&&(L.z2=bt,this._z2=null);var St=a&&a.useNameLabel;so(L,_,{labelFetcher:R,labelDataIndex:i,defaultText:function(ee){return St?t.getName(ee):hf(t,ee)},inheritColor:nt,defaultOpacity:Q.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var Ot=L.ensureState("emphasis");Ot.style=l,L.ensureState("select").style=f,L.ensureState("blur").style=u;var Yt=A==null||A===!0?Math.max(1.1,3/this._sizeY):isFinite(A)&&A>0?+A:1;Ot.scaleX=this._sizeX*Yt,Ot.scaleY=this._sizeY*Yt,this.setSymbolScale(1),Io(this,g,v,w)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i,r){var o=this.childAt(0),a=Ui(this).dataIndex,l=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var u=o.getTextContent();u&&Ys(u,{style:{opacity:0}},i,{dataIndex:a,removeOpt:l,cb:function(){o.removeTextContent()}})}else o.removeTextContent();Ys(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:t,removeOpt:l})},e.getSymbolSize=function(t,i){return zv(t.getItemVisual(i,"symbolSize"))},e}(Ei);function iL(n,e){this.parent.drift(n,e)}function $S(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function Ay(n){return n==null||Zn(n)||(n={isIgnore:n}),n||{}}function ZS(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Xr(e),cursorStyle:e.get("cursor")}}var hm=function(){function n(e){this.group=new Ei,this._SymbolCtor=e||ky}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=Ay(t);var i=this.group,r=e.hostModel,o=this._data,a=this._SymbolCtor,l=t.disableAnimation,u=ZS(e),f={disableAnimation:l},g=t.getSymbolPoint||function(v){return e.getItemLayout(v)};o||i.removeAll(),e.diff(o).add(function(v){var w=g(v);if($S(e,w,v,t)){var _=new a(e,v,u,f);_.setPosition(w),e.setItemGraphicEl(v,_),i.add(_)}}).update(function(v,w){var _=o.getItemGraphicEl(w),A=g(v);if($S(e,A,v,t)){var T=e.getItemVisual(v,"symbol")||"circle",L=_&&_.getSymbolType&&_.getSymbolType();if(!_||L&&L!==T)i.remove(_),(_=new a(e,v,u,f)).setPosition(A);else{_.updateData(e,v,u,f);var R={x:A[0],y:A[1]};l?_.attr(R):Mr(_,R,r)}i.add(_),e.setItemGraphicEl(v,_)}else i.remove(_)}).remove(function(v){var w=o.getItemGraphicEl(v);w&&w.fadeOut(function(){i.remove(w)},r)}).execute(),this._getSymbolPoint=g,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,r){var o=e._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ZS(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){function r(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=Ay(i);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if($S(t,a,o,i)){var l=new this._SymbolCtor(t,o,this._seriesScope);l.traverse(r),l.setPosition(a),this.group.add(l),t.setItemGraphicEl(o,l),this._progressiveEls.push(l)}}},n.prototype.eachRendered=function(e){ra(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},i.hostModel)}):t.removeAll()},n}();function mb(n,e,t){var i=n.getBaseAxis(),r=n.getOtherAxis(i),o=function(A,T){var L=0,R=A.scale.getExtent();return T==="start"?L=R[0]:T==="end"?L=R[1]:fi(T)&&!isNaN(T)?L=T:R[0]>0?L=R[0]:R[1]<0&&(L=R[1]),L}(r,t),a=i.dim,l=r.dim,u=e.mapDimension(l),f=e.mapDimension(a),g=l==="x"||l==="radius"?1:0,v=ye(n.dimensions,function(A){return e.mapDimension(A)}),w=!1,_=e.getCalculationInfo("stackResultDimension");return lh(e,v[0])&&(w=!0,v[0]=_),lh(e,v[1])&&(w=!0,v[1]=_),{dataDimsForPoint:v,valueStart:o,valueAxisDim:l,baseAxisDim:a,stacked:!!w,valueDim:u,baseDim:f,baseDataOffset:g,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function ST(n,e,t,i){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=t.get(n.baseDim,i),a[1-o]=r,e.dataToPoint(a)}var Id=Math.min,vu=Math.max;function ph(n,e){return isNaN(n)||isNaN(e)}function My(n,e,t,i,r,o,a,l,u){for(var f,g,v,w,_,A,T=t,L=0;L<i;L++){var R=e[2*T],z=e[2*T+1];if(T>=r||T<0)break;if(ph(R,z)){if(u){T+=o;continue}break}if(T===t)n[o>0?"moveTo":"lineTo"](R,z),v=R,w=z;else{var j=R-f,X=z-g;if(j*j+X*X<.5){T+=o;continue}if(a>0){for(var Z=T+o,Q=e[2*Z],nt=e[2*Z+1];Q===R&&nt===z&&L<i;)L++,T+=o,Q=e[2*(Z+=o)],nt=e[2*Z+1],j=(R=e[2*T])-f,X=(z=e[2*T+1])-g;var it=L+1;if(u)for(;ph(Q,nt)&&it<i;)it++,Q=e[2*(Z+=o)],nt=e[2*Z+1];var mt=.5,bt=0,St=0,Ot=void 0,Yt=void 0;if(it>=i||ph(Q,nt))_=R,A=z;else{bt=Q-f,St=nt-g;var ee=R-f,le=Q-R,ge=z-g,be=nt-z,Ie=void 0,He=void 0;if(l==="x"){var qe=bt>0?1:-1;_=R-qe*(Ie=Math.abs(ee))*a,A=z,Ot=R+qe*(He=Math.abs(le))*a,Yt=z}else if(l==="y"){var Ke=St>0?1:-1;_=R,A=z-Ke*(Ie=Math.abs(ge))*a,Ot=R,Yt=z+Ke*(He=Math.abs(be))*a}else Ie=Math.sqrt(ee*ee+ge*ge),_=R-bt*a*(1-(mt=(He=Math.sqrt(le*le+be*be))/(He+Ie))),A=z-St*a*(1-mt),Yt=z+St*a*mt,Ot=Id(Ot=R+bt*a*mt,vu(Q,R)),Yt=Id(Yt,vu(nt,z)),Ot=vu(Ot,Id(Q,R)),A=z-(St=(Yt=vu(Yt,Id(nt,z)))-z)*Ie/He,_=Id(_=R-(bt=Ot-R)*Ie/He,vu(f,R)),A=Id(A,vu(g,z)),Ot=R+(bt=R-(_=vu(_,Id(f,R))))*He/Ie,Yt=z+(St=z-(A=vu(A,Id(g,z))))*He/Ie}n.bezierCurveTo(v,w,_,A,R,z),v=Ot,w=Yt}else n.lineTo(R,z)}f=R,g=z,T+=o}return L}var vb=function(){this.smooth=0,this.smoothConstraint=!0},CT=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return wt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new vb},e.prototype.buildPath=function(t,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&ph(r[2*a-2],r[2*a-1]);a--);for(;o<a&&ph(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=My(t,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,a=this.path.data,l=ae.CMD,u=i==="x",f=[],g=0;g<a.length;){var v=void 0,w=void 0,_=void 0,A=void 0,T=void 0,L=void 0,R=void 0;switch(a[g++]){case l.M:r=a[g++],o=a[g++];break;case l.L:if(v=a[g++],w=a[g++],(R=u?(t-r)/(v-r):(t-o)/(w-o))<=1&&R>=0){var z=u?(w-o)*R+o:(v-r)*R+r;return u?[t,z]:[z,t]}r=v,o=w;break;case l.C:v=a[g++],w=a[g++],_=a[g++],A=a[g++],T=a[g++],L=a[g++];var j=u?kh(r,v,_,T,t,f):kh(o,w,A,L,t,f);if(j>0)for(var X=0;X<j;X++){var Z=f[X];if(Z<=1&&Z>=0)return z=u?tr(o,w,A,L,Z):tr(r,v,_,T,Z),u?[t,z]:[z,t]}r=T,o=L}}},e}(Ti),kT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e}(vb),KS=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return wt(e,n),e.prototype.getDefaultShape=function(){return new kT},e.prototype.buildPath=function(t,i){var r=i.points,o=i.stackedOnPoints,a=0,l=r.length/2,u=i.smoothMonotone;if(i.connectNulls){for(;l>0&&ph(r[2*l-2],r[2*l-1]);l--);for(;a<l&&ph(r[2*a],r[2*a+1]);a++);}for(;a<l;){var f=My(t,r,a,l,l,1,i.smooth,u,i.connectNulls);My(t,o,a+f-1,f,l,-1,i.stackedOnSmooth,u,i.connectNulls),a+=f+1,t.closePath()}},e}(Ti);function JS(n,e,t,i,r){var o=n.getArea(),a=o.x,l=o.y,u=o.width,f=o.height,g=t.get(["lineStyle","width"])||2;a-=g/2,l-=g/2,u+=g,f+=g,a=Math.floor(a),u=Math.round(u);var v=new br({shape:{x:a,y:l,width:u,height:f}});if(e){var w=n.getBaseAxis(),_=w.isHorizontal(),A=w.inverse;_?(A&&(v.shape.x+=u),v.shape.width=0):(A||(v.shape.y+=f),v.shape.height=0);var T=In(r)?function(L){r(L,v)}:null;vo(v,{shape:{width:u,height:f,x:a,y:l}},t,null,i,T)}return v}function QS(n,e,t){var i=n.getArea(),r=uo(i.r0,1),o=uo(i.r,1),a=new os({shape:{cx:uo(n.cx,1),cy:uo(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&(n.getBaseAxis().dim==="angle"?a.shape.endAngle=i.startAngle:a.shape.r=r,vo(a,{shape:{endAngle:i.endAngle,r:o}},t)),a}function Ty(n,e,t,i,r){return n?n.type==="polar"?QS(n,e,t):n.type==="cartesian2d"?JS(n,e,t,i,r):null:null}function Dd(n,e){return n.type===e}function tC(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function AT(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],l=n[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(l)||(t=Math.min(l,t),r=Math.max(l,r))}return[[e,t],[i,r]]}function eC(n,e){var t=AT(n),i=t[0],r=t[1],o=AT(e),a=o[0],l=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-l[0]),Math.abs(r[1]-l[1]))}function yb(n){return fi(n)?n:n?.5:0}function Ld(n,e,t,i){var r=e.getBaseAxis(),o=r.dim==="x"||r.dim==="radius"?0:1,a=[],l=0,u=[],f=[],g=[],v=[];if(i){for(l=0;l<n.length;l+=2)isNaN(n[l])||isNaN(n[l+1])||v.push(n[l],n[l+1]);n=v}for(l=0;l<n.length-2;l+=2)switch(g[0]=n[l+2],g[1]=n[l+3],f[0]=n[l],f[1]=n[l+1],a.push(f[0],f[1]),t){case"end":u[o]=g[o],u[1-o]=f[1-o],a.push(u[0],u[1]);break;case"middle":var w=(f[o]+g[o])/2,_=[];u[o]=_[o]=w,u[1-o]=f[1-o],_[1-o]=g[1-o],a.push(u[0],u[1]),a.push(_[0],_[1]);break;default:u[o]=f[o],u[1-o]=g[1-o],a.push(u[0],u[1])}return a.push(n[l++],n[l++]),a}function rL(n,e,t){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&e.type==="cartesian2d"){for(var r,o,a=i.length-1;a>=0;a--){var l=n.getDimensionInfo(i[a].dimension);if((r=l&&l.coordDim)==="x"||r==="y"){o=i[a];break}}if(o){var u=e.getAxis(r),f=ye(o.stops,function(z){return{coord:u.toGlobalCoord(u.dataToCoord(z.value)),color:z.color}}),g=f.length,v=o.outerColors.slice();g&&f[0].coord>f[g-1].coord&&(f.reverse(),v.reverse());var w=function(z,j){var X,Z,Q=[],nt=z.length;function it(Ot,Yt,ee){var le=Ot.coord;return{coord:ee,color:tp((ee-le)/(Yt.coord-le),[Ot.color,Yt.color])}}for(var mt=0;mt<nt;mt++){var bt=z[mt],St=bt.coord;if(St<0)X=bt;else{if(St>j){Z?Q.push(it(Z,bt,j)):X&&Q.push(it(X,bt,0),it(X,bt,j));break}X&&(Q.push(it(X,bt,0)),X=null),Q.push(bt),Z=bt}}return Q}(f,r==="x"?t.getWidth():t.getHeight()),_=w.length;if(!_&&g)return f[0].coord<0?v[1]?v[1]:f[g-1].color:v[0]?v[0]:f[0].color;var A=w[0].coord-10,T=w[_-1].coord+10,L=T-A;if(L<.001)return"transparent";U(w,function(z){z.offset=(z.coord-A)/L}),w.push({offset:_?w[_-1].offset:.5,color:v[1]||"transparent"}),w.unshift({offset:_?w[0].offset:.5,color:v[0]||"transparent"});var R=new Tp(0,0,0,0,w,!0);return R[r]=A,R[r+"2"]=T,R}}}function MT(n,e,t){var i=n.get("showAllSymbol"),r=i==="auto";if(!i||r){var o=t.getAxesByScale("ordinal")[0];if(o&&(!r||!function(u,f){var g=u.getExtent(),v=Math.abs(g[1]-g[0])/u.scale.count();isNaN(v)&&(v=0);for(var w=f.count(),_=Math.max(1,Math.round(w/5)),A=0;A<w;A+=_)if(1.5*ky.getSymbolSize(f,A)[u.isHorizontal()?1:0]>v)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),l={};return U(o.getViewLabels(),function(u){var f=o.scale.getRawOrdinalNumber(u.tickValue);l[f]=1}),function(u){return!l.hasOwnProperty(e.get(a,u))}}}}function TT(n,e){return[n[2*e],n[2*e+1]]}function nC(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<is.length;e++)if(n.get([is[e],"endLabel","show"]))return!0;return!1}function xb(n,e,t,i){if(Dd(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),l={lastFrameIndex:0},u=nC(i)?function(_,A){n._endLabelOnDuring(_,A,a,l,o,r,e)}:null,f=e.getBaseAxis().isHorizontal(),g=JS(e,t,i,function(){var _=n._endLabel;_&&t&&l.originalX!=null&&_.attr({x:l.originalX,y:l.originalY})},u);if(!i.get("clip",!0)){var v=g.shape,w=Math.max(v.width,v.height);f?(v.y-=w,v.height+=2*w):(v.x-=w,v.width+=2*w)}return u&&u(1,g),g}return QS(e,t,i)}var oL=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.init=function(){var t=new Ei,i=new hm;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},e.prototype.render=function(t,i,r){var o=this,a=t.coordinateSystem,l=this.group,u=t.getData(),f=t.getModel("lineStyle"),g=t.getModel("areaStyle"),v=u.getLayout("points")||[],w=a.type==="polar",_=this._coordSys,A=this._symbolDraw,T=this._polyline,L=this._polygon,R=this._lineGroup,z=t.get("animation"),j=!g.isEmpty(),X=g.get("origin"),Z=mb(a,u,X),Q=j&&function(Je,Tn,Fn){if(!Fn.valueDim)return[];for(var Xn=Tn.count(),Vn=gu(2*Xn),qn=0;qn<Xn;qn++){var Hn=ST(Fn,Je,Tn,qn);Vn[2*qn]=Hn[0],Vn[2*qn+1]=Hn[1]}return Vn}(a,u,Z),nt=t.get("showSymbol"),it=t.get("connectNulls"),mt=nt&&!w&&MT(t,u,a),bt=this._data;bt&&bt.eachItemGraphicEl(function(Je,Tn){Je.__temp&&(l.remove(Je),bt.setItemGraphicEl(Tn,null))}),nt||A.remove(),l.add(R);var St,Ot=!w&&t.get("step");a&&a.getArea&&t.get("clip",!0)&&((St=a.getArea()).width!=null?(St.x-=.1,St.y-=.1,St.width+=.2,St.height+=.2):St.r0&&(St.r0-=.5,St.r+=.5)),this._clipShapeForSymbol=St;var Yt=rL(u,a,r)||u.getVisual("style")[u.getVisual("drawType")];if(T&&_.type===a.type&&Ot===this._step){j&&!L?L=this._newPolygon(v,Q):L&&!j&&(R.remove(L),L=this._polygon=null),w||this._initOrUpdateEndLabel(t,a,ul(Yt));var ee=R.getClipPath();ee?vo(ee,{shape:xb(this,a,!1,t).shape},t):R.setClipPath(xb(this,a,!0,t)),nt&&A.updateData(u,{isIgnore:mt,clipShape:St,disableAnimation:!0,getSymbolPoint:function(Je){return[v[2*Je],v[2*Je+1]]}}),tC(this._stackedOnPoints,Q)&&tC(this._points,v)||(z?this._doUpdateAnimation(u,Q,a,r,Ot,X,it):(Ot&&(v=Ld(v,a,Ot,it),Q&&(Q=Ld(Q,a,Ot,it))),T.setShape({points:v}),L&&L.setShape({points:v,stackedOnPoints:Q})))}else nt&&A.updateData(u,{isIgnore:mt,clipShape:St,disableAnimation:!0,getSymbolPoint:function(Je){return[v[2*Je],v[2*Je+1]]}}),z&&this._initSymbolLabelAnimation(u,a,St),Ot&&(v=Ld(v,a,Ot,it),Q&&(Q=Ld(Q,a,Ot,it))),T=this._newPolyline(v),j?L=this._newPolygon(v,Q):L&&(R.remove(L),L=this._polygon=null),w||this._initOrUpdateEndLabel(t,a,ul(Yt)),R.setClipPath(xb(this,a,!0,t));var le=t.getModel("emphasis"),ge=le.get("focus"),be=le.get("blurScope"),Ie=le.get("disabled");T.useStyle(De(f.getLineStyle(),{fill:"none",stroke:Yt,lineJoin:"bevel"})),Wo(T,t,"lineStyle"),T.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"&&(T.getState("emphasis").style.lineWidth=+T.style.lineWidth+1),Ui(T).seriesIndex=t.seriesIndex,Io(T,ge,be,Ie);var He=yb(t.get("smooth")),qe=t.get("smoothMonotone");if(T.setShape({smooth:He,smoothMonotone:qe,connectNulls:it}),L){var Ke=u.getCalculationInfo("stackedOnSeries"),bn=0;L.useStyle(De(g.getAreaStyle(),{fill:Yt,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),Ke&&(bn=yb(Ke.get("smooth"))),L.setShape({smooth:He,stackedOnSmooth:bn,smoothMonotone:qe,connectNulls:it}),Wo(L,t,"areaStyle"),Ui(L).seriesIndex=t.seriesIndex,Io(L,ge,be,Ie)}var Rn=function(Je){o._changePolyState(Je)};u.eachItemGraphicEl(function(Je){Je&&(Je.onHoverStateChange=Rn)}),this._polyline.onHoverStateChange=Rn,this._data=u,this._coordSys=a,this._stackedOnPoints=Q,this._points=v,this._step=Ot,this._valueOrigin=X,t.get("triggerLineEvent")&&(this.packEventData(t,T),L&&this.packEventData(t,L))},e.prototype.packEventData=function(t,i){Ui(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,r,o){var a=t.getData(),l=Uc(a,o);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var u=a.getLayout("points"),f=a.getItemGraphicEl(l);if(!f){var g=u[2*l],v=u[2*l+1];if(isNaN(g)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,v))return;var w=t.get("zlevel")||0,_=t.get("z")||0;(f=new ky(a,l)).x=g,f.y=v,f.setZ(w,_);var A=f.getSymbolPath().getTextContent();A&&(A.zlevel=w,A.z=_,A.z2=this._polyline.z2+1),f.__temp=!0,a.setItemGraphicEl(l,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else qr.prototype.highlight.call(this,t,i,r,o)},e.prototype.downplay=function(t,i,r,o){var a=t.getData(),l=Uc(a,o);if(this._changePolyState("normal"),l!=null&&l>=0){var u=a.getItemGraphicEl(l);u&&(u.__temp?(a.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else qr.prototype.downplay.call(this,t,i,r,o)},e.prototype._changePolyState=function(t){var i=this._polygon;D0(this._polyline,t),i&&D0(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new CT({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new KS({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,i,r){var o,a,l=i.getBaseAxis(),u=l.inverse;i.type==="cartesian2d"?(o=l.isHorizontal(),a=!1):i.type==="polar"&&(o=l.dim==="angle",a=!0);var f=t.hostModel,g=f.get("animationDuration");In(g)&&(g=g(null));var v=f.get("animationDelay")||0,w=In(v)?v(null):v;t.eachItemGraphicEl(function(_,A){var T=_;if(T){var L=[_.x,_.y],R=void 0,z=void 0,j=void 0;if(r)if(a){var X=r,Z=i.pointToCoord(L);o?(R=X.startAngle,z=X.endAngle,j=-Z[1]/180*Math.PI):(R=X.r0,z=X.r,j=Z[0])}else{var Q=r;o?(R=Q.x,z=Q.x+Q.width,j=_.x):(R=Q.y+Q.height,z=Q.y,j=_.y)}var nt=z===R?0:(j-R)/(z-R);u&&(nt=1-nt);var it=In(v)?v(A):g*nt+w,mt=T.getSymbolPath(),bt=mt.getTextContent();T.attr({scaleX:0,scaleY:0}),T.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:it}),bt&&bt.animateFrom({style:{opacity:0}},{duration:300,delay:it}),mt.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,r){var o=t.getModel("endLabel");if(nC(t)){var a=t.getData(),l=this._polyline,u=a.getLayout("points");if(!u)return l.removeTextContent(),void(this._endLabel=null);var f=this._endLabel;f||((f=this._endLabel=new wr({z2:200})).ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var g=function(v){for(var w,_,A=v.length/2;A>0&&(w=v[2*A-2],_=v[2*A-1],isNaN(w)||isNaN(_));A--);return A-1}(u);g>=0&&(so(l,Xr(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:g,defaultText:function(v,w,_){return _!=null?US(a,_):hf(a,v)},enableTextSetter:!0},function(v,w){var _=w.getBaseAxis(),A=_.isHorizontal(),T=_.inverse,L=A?T?"right":"left":"center",R=A?"middle":T?"top":"bottom";return{normal:{align:v.get("align")||L,verticalAlign:v.get("verticalAlign")||R}}}(o,i)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,r,o,a,l,u){var f=this._endLabel,g=this._polyline;if(f){t<1&&o.originalX==null&&(o.originalX=f.x,o.originalY=f.y);var v=r.getLayout("points"),w=r.hostModel,_=w.get("connectNulls"),A=l.get("precision"),T=l.get("distance")||0,L=u.getBaseAxis(),R=L.isHorizontal(),z=L.inverse,j=i.shape,X=z?R?j.x:j.y+j.height:R?j.x+j.width:j.y,Z=(R?T:0)*(z?-1:1),Q=(R?0:-T)*(z?-1:1),nt=R?"x":"y",it=function(ge,be,Ie){for(var He,qe,Ke=ge.length/2,bn=Ie==="x"?0:1,Rn=0,Je=-1,Tn=0;Tn<Ke;Tn++)if(qe=ge[2*Tn+bn],!isNaN(qe)&&!isNaN(ge[2*Tn+1-bn]))if(Tn!==0){if(He<=be&&qe>=be||He>=be&&qe<=be){Je=Tn;break}Rn=Tn,He=qe}else He=qe;return{range:[Rn,Je],t:(be-He)/(qe-He)}}(v,X,nt),mt=it.range,bt=mt[1]-mt[0],St=void 0;if(bt>=1){if(bt>1&&!_){var Ot=TT(v,mt[0]);f.attr({x:Ot[0]+Z,y:Ot[1]+Q}),a&&(St=w.getRawValue(mt[0]))}else{(Ot=g.getPointOn(X,nt))&&f.attr({x:Ot[0]+Z,y:Ot[1]+Q});var Yt=w.getRawValue(mt[0]),ee=w.getRawValue(mt[1]);a&&(St=Rh(r,A,Yt,ee,it.t))}o.lastFrameIndex=mt[0]}else{var le=t===1||o.lastFrameIndex>0?mt[0]:0;Ot=TT(v,le),a&&(St=w.getRawValue(le)),f.attr({x:Ot[0]+Z,y:Ot[1]+Q})}a&&Rp(f).setLabelText(St)}},e.prototype._doUpdateAnimation=function(t,i,r,o,a,l,u){var f=this._polyline,g=this._polygon,v=t.hostModel,w=function(Q,nt,it,mt,bt,St,Ot,Yt){for(var ee=function(fo,Eo){var la=[];return Eo.diff(fo).add(function(ca){la.push({cmd:"+",idx:ca})}).update(function(ca,ua){la.push({cmd:"=",idx:ua,idx1:ca})}).remove(function(ca){la.push({cmd:"-",idx:ca})}).execute(),la}(Q,nt),le=[],ge=[],be=[],Ie=[],He=[],qe=[],Ke=[],bn=mb(bt,nt,Ot),Rn=Q.getLayout("points")||[],Je=nt.getLayout("points")||[],Tn=0;Tn<ee.length;Tn++){var Fn=ee[Tn],Xn=!0,Vn=void 0,qn=void 0;switch(Fn.cmd){case"=":Vn=2*Fn.idx,qn=2*Fn.idx1;var Hn=Rn[Vn],ni=Rn[Vn+1],wi=Je[qn],Zi=Je[qn+1];(isNaN(Hn)||isNaN(ni))&&(Hn=wi,ni=Zi),le.push(Hn,ni),ge.push(wi,Zi),be.push(it[Vn],it[Vn+1]),Ie.push(mt[qn],mt[qn+1]),Ke.push(nt.getRawIndex(Fn.idx1));break;case"+":var nr=Fn.idx,Ur=bn.dataDimsForPoint,gr=bt.dataToPoint([nt.get(Ur[0],nr),nt.get(Ur[1],nr)]);qn=2*nr,le.push(gr[0],gr[1]),ge.push(Je[qn],Je[qn+1]);var vr=ST(bn,bt,nt,nr);be.push(vr[0],vr[1]),Ie.push(mt[qn],mt[qn+1]),Ke.push(nt.getRawIndex(nr));break;case"-":Xn=!1}Xn&&(He.push(Fn),qe.push(qe.length))}qe.sort(function(fo,Eo){return Ke[fo]-Ke[Eo]});var eo=le.length,ro=gu(eo),sa=gu(eo),ya=gu(eo),Gl=gu(eo),Yd=[];for(Tn=0;Tn<qe.length;Tn++){var Rr=qe[Tn],dr=2*Tn,Ki=2*Rr;ro[dr]=le[Ki],ro[dr+1]=le[Ki+1],sa[dr]=ge[Ki],sa[dr+1]=ge[Ki+1],ya[dr]=be[Ki],ya[dr+1]=be[Ki+1],Gl[dr]=Ie[Ki],Gl[dr+1]=Ie[Ki+1],Yd[Tn]=He[Rr]}return{current:ro,next:sa,stackedOnCurrent:ya,stackedOnNext:Gl,status:Yd}}(this._data,t,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),_=w.current,A=w.stackedOnCurrent,T=w.next,L=w.stackedOnNext;if(a&&(_=Ld(w.current,r,a,u),A=Ld(w.stackedOnCurrent,r,a,u),T=Ld(w.next,r,a,u),L=Ld(w.stackedOnNext,r,a,u)),eC(_,T)>3e3||g&&eC(A,L)>3e3)return f.stopAnimation(),f.setShape({points:T}),void(g&&(g.stopAnimation(),g.setShape({points:T,stackedOnPoints:L})));f.shape.__points=w.current,f.shape.points=_;var R={shape:{points:T}};w.current!==_&&(R.shape.__points=w.next),f.stopAnimation(),Mr(f,R,v),g&&(g.setShape({points:_,stackedOnPoints:A}),g.stopAnimation(),Mr(g,{shape:{stackedOnPoints:L}},v),f.shape.points!==g.shape.points&&(g.shape.points=f.shape.points));for(var z=[],j=w.status,X=0;X<j.length;X++)if(j[X].cmd==="="){var Z=t.getItemGraphicEl(j[X].idx1);Z&&z.push({el:Z,ptIdx:X})}f.animators&&f.animators.length&&f.animators[0].during(function(){g&&g.dirtyShape();for(var Q=f.shape.__points,nt=0;nt<z.length;nt++){var it=z[nt].el,mt=2*z[nt].ptIdx;it.x=Q[mt],it.y=Q[mt+1],it.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(qr);function dm(n,e){return{seriesType:n,plan:eh(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,o=t.pipelineContext,a=e||o.large;if(r){var l=ye(r.dimensions,function(_){return i.mapDimension(_)}).slice(0,2),u=l.length,f=i.getCalculationInfo("stackResultDimension");lh(i,l[0])&&(l[0]=f),lh(i,l[1])&&(l[1]=f);var g=i.getStore(),v=i.getDimensionIndex(l[0]),w=i.getDimensionIndex(l[1]);return u&&{progress:function(_,A){for(var T=_.end-_.start,L=a&&gu(T*u),R=[],z=[],j=_.start,X=0;j<_.end;j++){var Z=void 0;if(u===1){var Q=g.get(v,j);Z=r.dataToPoint(Q,null,z)}else R[0]=g.get(v,j),R[1]=g.get(w,j),Z=r.dataToPoint(R,null,z);a?(L[X++]=Z[0],L[X++]=Z[1]):A.setItemLayout(j,Z.slice())}a&&A.setLayout("points",L)}}}}}}var aL={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},IT=function(n){return Math.round(n.length/2)};function iC(n){return{seriesType:n,reset:function(e,t,i){var r=e.getData(),o=e.get("sampling"),a=e.coordinateSystem,l=r.count();if(l>10&&a.type==="cartesian2d"&&o){var u=a.getBaseAxis(),f=a.getOtherAxis(u),g=u.getExtent(),v=i.getDevicePixelRatio(),w=Math.abs(g[1]-g[0])*(v||1),_=Math.round(l/w);if(isFinite(_)&&_>1){o==="lttb"&&e.setData(r.lttbDownSample(r.mapDimension(f.dim),1/_));var A=void 0;kn(o)?A=aL[o]:In(o)&&(A=o),A&&e.setData(r.downSample(r.mapDimension(f.dim),1/_,A,IT))}}}}}var pm=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.getInitialData=function(t,i){return fu(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,i,r){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.dataToPoint(o.clampData(t));if(r)U(o.getAxes(),function(v,w){if(v.type==="category"){var _=v.getTicksCoords(),A=o.clampData(t)[w];!i||i[w]!=="x1"&&i[w]!=="y1"||(A+=1),A>_.length-1&&(A=_.length-1),A<0&&(A=0),_[A]&&(a[w]=v.toGlobalCoord(_[A].coord))}});else{var l=this.getData(),u=l.getLayout("offset"),f=l.getLayout("size"),g=o.getBaseAxis().isHorizontal()?0:1;a[g]+=u+f/2}return a}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Vr);Vr.registerClass(pm);var DT=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.getInitialData=function(){return fu(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,r){return r.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=bc(pm.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(pm),LT=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},df=function(n){function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return wt(e,n),e.prototype.getDefaultShape=function(){return new LT},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),l=Math.max(i.r,0),u=.5*(l-a),f=a+u,g=i.startAngle,v=i.endAngle,w=i.clockwise,_=2*Math.PI,A=w?v-g<_:g-v<_;A||(g=v-(w?_:-_));var T=Math.cos(g),L=Math.sin(g),R=Math.cos(v),z=Math.sin(v);A?(t.moveTo(T*a+r,L*a+o),t.arc(T*f+r,L*f+o,u,-Math.PI+g,g,!w)):t.moveTo(T*l+r,L*l+o),t.arc(r,o,l,g,v,!w),t.arc(R*f+r,z*f+o,u,v-2*Math.PI,v-Math.PI,!w),a!==0&&t.arc(r,o,a,v,g,w)},e}(Ti);function bb(n,e,t){return e*Math.sin(n)*(t?-1:1)}function wb(n,e,t){return e*Math.cos(n)*(t?1:-1)}var _b=Math.max,Sb=Math.min,OT=function(n){function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return wt(e,n),e.prototype.render=function(t,i,r,o){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var a=t.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,i,r):this._renderNormal(t,i,r,o))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._progressiveEls=[],this._incrementalRenderLarge(t,i)},e.prototype.eachRendered=function(t){ra(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;this._isLargeDraw!=null&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,r,o){var a,l=this.group,u=t.getData(),f=this._data,g=t.coordinateSystem,v=g.getBaseAxis();g.type==="cartesian2d"?a=v.isHorizontal():g.type==="polar"&&(a=v.dim==="angle");var w=t.isAnimationEnabled()?t:null,_=function(St,Ot){var Yt=St.get("realtimeSort",!0),ee=Ot.getBaseAxis();if(Yt&&ee.type==="category"&&Ot.type==="cartesian2d")return{baseAxis:ee,otherAxis:Ot.getOtherAxis(ee)}}(t,g);_&&this._enableRealtimeSort(_,u,r);var A=t.get("clip",!0)||_,T=function(St,Ot){var Yt=St.getArea&&St.getArea();if(Dd(St,"cartesian2d")){var ee=St.getBaseAxis();if(ee.type!=="category"||!ee.onBand){var le=Ot.getLayout("bandWidth");ee.isHorizontal()?(Yt.x-=le,Yt.width+=2*le):(Yt.y-=le,Yt.height+=2*le)}}return Yt}(g,u);l.removeClipPath();var L=t.get("roundCap",!0),R=t.get("showBackground",!0),z=t.getModel("backgroundStyle"),j=z.get("borderRadius")||0,X=[],Z=this._backgroundEls,Q=o&&o.isInitSort,nt=o&&o.type==="changeAxisOrder";function it(St){var Ot=Od[g.type](u,St),Yt=function(ee,le,ge){return new(ee.type==="polar"?os:br)({shape:dC(le,ge,ee),silent:!0,z2:0})}(g,a,Ot);return Yt.useStyle(z.getItemStyle()),g.type==="cartesian2d"&&Yt.setShape("r",j),X[St]=Yt,Yt}u.diff(f).add(function(St){var Ot=u.getItemModel(St),Yt=Od[g.type](u,St,Ot);if(R&&it(St),u.hasValue(St)&&aC[g.type](Yt)){var ee=!1;A&&(ee=or[g.type](T,Yt));var le=fm[g.type](t,u,St,Yt,a,w,v.model,!1,L);_&&(le.forceLabelAnimation=!0),lC(le,u,St,Ot,Yt,t,a,g.type==="polar"),Q?le.attr({shape:Yt}):_?rC(_,w,le,Yt,St,a,!1,!1):vo(le,{shape:Yt},t,St),u.setItemGraphicEl(St,le),l.add(le),le.ignore=ee}}).update(function(St,Ot){var Yt=u.getItemModel(St),ee=Od[g.type](u,St,Yt);if(R){var le=void 0;Z.length===0?le=it(Ot):((le=Z[Ot]).useStyle(z.getItemStyle()),g.type==="cartesian2d"&&le.setShape("r",j),X[St]=le);var ge=Od[g.type](u,St);Mr(le,{shape:dC(a,ge,g)},w,St)}var be=f.getItemGraphicEl(Ot);if(u.hasValue(St)&&aC[g.type](ee)){var Ie=!1;if(A&&(Ie=or[g.type](T,ee))&&l.remove(be),be?Ca(be):be=fm[g.type](t,u,St,ee,a,w,v.model,!!be,L),_&&(be.forceLabelAnimation=!0),nt){var He=be.getTextContent();if(He){var qe=Rp(He);qe.prevValue!=null&&(qe.prevValue=qe.value)}}else lC(be,u,St,Yt,ee,t,a,g.type==="polar");Q?be.attr({shape:ee}):_?rC(_,w,be,ee,St,a,!0,nt):Mr(be,{shape:ee},t,St,null),u.setItemGraphicEl(St,be),be.ignore=Ie,l.add(be)}else l.remove(be)}).remove(function(St){var Ot=f.getItemGraphicEl(St);Ot&&$u(Ot,t,St)}).execute();var mt=this._backgroundGroup||(this._backgroundGroup=new Ei);mt.removeAll();for(var bt=0;bt<X.length;++bt)mt.add(X[bt]);l.add(mt),this._backgroundEls=X,this._data=u},e.prototype._renderLarge=function(t,i,r){this._clear(),hC(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),hC(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)&&Ty(t.coordinateSystem,!1,t),r=this.group;i?r.setClipPath(i):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,r){var o=this;if(i.count()){var a=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,r),this._isFirstFrame=!1;else{var l=function(u){var f=i.getItemGraphicEl(u),g=f&&f.shape;return g&&Math.abs(a.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,l,a,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,r){var o=[];return t.each(t.mapDimension(i.dim),function(a,l){var u=r(l);u=u??NaN,o.push({dataIndex:l,mappedValue:u,ordinalNumber:a})}),o.sort(function(a,l){return l.mappedValue-a.mappedValue}),{ordinalNumbers:ye(o,function(a){return a.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,r){for(var o=r.scale,a=t.mapDimension(r.dim),l=Number.MAX_VALUE,u=0,f=o.getOrdinalMeta().categories.length;u<f;++u){var g=t.rawIndexOf(a,o.getRawOrdinalNumber(u)),v=g<0?Number.MIN_VALUE:i(t.indexOfRawIndex(g));if(v>l)return!0;l=v}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),l=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=l;++a)if(t.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},e.prototype._updateSortWithinSameData=function(t,i,r,o){if(this._isOrderChangedWithinSameData(t,i,r)){var a=this._dataSort(t,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},e.prototype._dispatchInitSort=function(t,i,r){var o=i.baseAxis,a=this._dataSort(t,o,function(l){return t.get(t.mapDimension(i.otherAxis.dim),l)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){$u(o,t,Ui(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(qr),or={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=n.x+n.width,o=n.y+n.height,a=_b(e.x,n.x),l=Sb(e.x+e.width,r),u=_b(e.y,n.y),f=Sb(e.y+e.height,o),g=l<a,v=f<u;return e.x=g&&a>r?l:a,e.y=v&&u>o?f:u,e.width=g?0:l-a,e.height=v?0:f-u,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),g||v},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var r=Sb(e.r,n.r),o=_b(e.r0,n.r0);e.r=r,e.r0=o;var a=r-o<0;return t<0&&(i=e.r,e.r=e.r0,e.r0=i),a}},fm={cartesian2d:function(n,e,t,i,r,o,a,l,u){var f=new br({shape:pe({},i),z2:1});return f.__dataIndex=t,f.name="item",o&&(f.shape[r?"height":"width"]=0),f},polar:function(n,e,t,i,r,o,a,l,u){var f=!r&&u?df:os,g=new f({shape:i,z2:1});g.name="item";var v,w,_=sC(r);if(g.calculateTextPosition=(v=_,w=f===df,function(L,R,z){var j=R.position;if(!j||j instanceof Array)return Cl(L,R,z);var X=v(j),Z=R.distance!=null?R.distance:5,Q=this.shape,nt=Q.cx,it=Q.cy,mt=Q.r,bt=Q.r0,St=(mt+bt)/2,Ot=Q.startAngle,Yt=Q.endAngle,ee=(Ot+Yt)/2,le=w?Math.abs(mt-bt)/2:0,ge=Math.cos,be=Math.sin,Ie=nt+mt*ge(Ot),He=it+mt*be(Ot),qe="left",Ke="top";switch(X){case"startArc":Ie=nt+(bt-Z)*ge(ee),He=it+(bt-Z)*be(ee),qe="center",Ke="top";break;case"insideStartArc":Ie=nt+(bt+Z)*ge(ee),He=it+(bt+Z)*be(ee),qe="center",Ke="bottom";break;case"startAngle":Ie=nt+St*ge(Ot)+bb(Ot,Z+le,!1),He=it+St*be(Ot)+wb(Ot,Z+le,!1),qe="right",Ke="middle";break;case"insideStartAngle":Ie=nt+St*ge(Ot)+bb(Ot,-Z+le,!1),He=it+St*be(Ot)+wb(Ot,-Z+le,!1),qe="left",Ke="middle";break;case"middle":Ie=nt+St*ge(ee),He=it+St*be(ee),qe="center",Ke="middle";break;case"endArc":Ie=nt+(mt+Z)*ge(ee),He=it+(mt+Z)*be(ee),qe="center",Ke="bottom";break;case"insideEndArc":Ie=nt+(mt-Z)*ge(ee),He=it+(mt-Z)*be(ee),qe="center",Ke="top";break;case"endAngle":Ie=nt+St*ge(Yt)+bb(Yt,Z+le,!0),He=it+St*be(Yt)+wb(Yt,Z+le,!0),qe="left",Ke="middle";break;case"insideEndAngle":Ie=nt+St*ge(Yt)+bb(Yt,-Z+le,!0),He=it+St*be(Yt)+wb(Yt,-Z+le,!0),qe="right",Ke="middle";break;default:return Cl(L,R,z)}return(L=L||{}).x=Ie,L.y=He,L.align=qe,L.verticalAlign=Ke,L}),o){var A=r?"r":"endAngle",T={};g.shape[A]=r?0:i.startAngle,T[A]=i[A],(l?Mr:vo)(g,{shape:T},o)}return g}};function rC(n,e,t,i,r,o,a,l){var u,f;o?(f={x:i.x,width:i.width},u={y:i.y,height:i.height}):(f={y:i.y,height:i.height},u={x:i.x,width:i.width}),l||(a?Mr:vo)(t,{shape:u},e,r,null),(a?Mr:vo)(t,{shape:f},e?n.baseAxis.model:null,r)}function oC(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var ET=["x","y","width","height"],PT=["cx","cy","r","startAngle","endAngle"],aC={cartesian2d:function(n){return!oC(n,ET)},polar:function(n){return!oC(n,PT)}},Od={cartesian2d:function(n,e,t){var i=n.getItemLayout(e),r=t?function(l,u){var f=l.get(["itemStyle","borderColor"]);if(!f||f==="none")return 0;var g=l.get(["itemStyle","borderWidth"])||0,v=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),w=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height);return Math.min(g,v,w)}(t,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function sC(n){return function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}}(n)}function lC(n,e,t,i,r,o,a,l){var u=e.getItemVisual(t,"style");l||n.setShape("r",i.get(["itemStyle","borderRadius"])||0),n.useStyle(u);var f=i.getShallow("cursor");f&&n.attr("cursor",f);var g=l?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",v=Xr(i);so(n,v,{labelFetcher:o,labelDataIndex:t,defaultText:hf(o.getData(),t),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:g});var w=n.getTextContent();if(l&&w){var _=i.get(["label","position"]);n.textConfig.inside=_==="middle"||null,function(T,L,R,z){if(fi(z))T.setTextConfig({rotation:z});else if(he(L))T.setTextConfig({rotation:0});else{var j,X=T.shape,Z=X.clockwise?X.startAngle:X.endAngle,Q=X.clockwise?X.endAngle:X.startAngle,nt=(Z+Q)/2,it=R(L);switch(it){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":j=nt;break;case"startAngle":case"insideStartAngle":j=Z;break;case"endAngle":case"insideEndAngle":j=Q;break;default:return void T.setTextConfig({rotation:0})}var mt=1.5*Math.PI-j;it==="middle"&&mt>Math.PI/2&&mt<1.5*Math.PI&&(mt-=Math.PI),T.setTextConfig({rotation:mt})}}(n,_==="outside"?g:_,sC(a),i.get(["label","rotate"]))}_A(w,v,o.getRawValue(t),function(T){return US(e,T)});var A=i.getModel(["emphasis"]);Io(n,A.get("focus"),A.get("blurScope"),A.get("disabled")),Wo(n,i),function(T){return T.startAngle!=null&&T.endAngle!=null&&T.startAngle===T.endAngle}(r)&&(n.style.fill="none",n.style.stroke="none",U(n.states,function(T){T.style&&(T.style.fill=T.style.stroke="none")}))}var cC=function(){},uC=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return wt(e,n),e.prototype.getDefaultShape=function(){return new cC},e.prototype.buildPath=function(t,i){for(var r=i.points,o=this.baseDimIdx,a=1-this.baseDimIdx,l=[],u=[],f=this.barWidth,g=0;g<r.length;g+=3)u[o]=f,u[a]=r[g+2],l[o]=r[g+o],l[a]=r[g+a],t.rect(l[0],l[1],u[0],u[1])},e}(Ti);function hC(n,e,t,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),l=r.getLayout("size"),u=n.getModel("backgroundStyle"),f=r.getLayout("largeBackgroundPoints");if(f){var g=new uC({shape:{points:f},incremental:!!i,silent:!0,z2:0});g.baseDimIdx=o,g.largeDataIndices=a,g.barWidth=l,g.useStyle(u.getItemStyle()),e.add(g),t&&t.push(g)}var v=new uC({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});v.baseDimIdx=o,v.largeDataIndices=a,v.barWidth=l,e.add(v),v.useStyle(r.getVisual("style")),Ui(v).seriesIndex=n.seriesIndex,n.get("silent")||(v.on("mousedown",NT),v.on("mousemove",NT)),t&&t.push(v)}var NT=du(function(n){var e=function(t,i,r){for(var o=t.baseDimIdx,a=1-o,l=t.shape.points,u=t.largeDataIndices,f=[],g=[],v=t.barWidth,w=0,_=l.length/3;w<_;w++){var A=3*w;if(g[o]=v,g[a]=l[A+2],f[o]=l[A+o],f[a]=l[A+a],g[a]<0&&(f[a]+=g[a],g[a]=-g[a]),i>=f[0]&&i<=f[0]+g[0]&&r>=f[1]&&r<=f[1]+g[1])return u[w]}return-1}(this,n.offsetX,n.offsetY);Ui(this).dataIndex=e>=0?e:null},30,!1);function dC(n,e,t){if(Dd(t,"cartesian2d")){var i=e,r=t.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}var o=e;return{cx:(r=t.getArea()).cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:2*Math.PI}}var Cb=2*Math.PI,RT=Math.PI/180;function pC(n,e){return Ao(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function BT(n,e){var t=pC(n,e),i=n.get("center"),r=n.get("radius");he(r)||(r=[0,r]);var o,a,l=Yn(t.width,e.getWidth()),u=Yn(t.height,e.getHeight()),f=Math.min(l,u),g=Yn(r[0],f/2),v=Yn(r[1],f/2),w=n.coordinateSystem;if(w){var _=w.dataToPoint(i);o=_[0]||0,a=_[1]||0}else he(i)||(i=[i,i]),o=Yn(i[0],l)+t.x,a=Yn(i[1],u)+t.y;return{cx:o,cy:a,r0:g,r:v}}function sL(n,e,t){e.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),a=pC(i,t),l=BT(i,t),u=l.cx,f=l.cy,g=l.r,v=l.r0,w=-i.get("startAngle")*RT,_=i.get("minAngle")*RT,A=0;r.each(o,function(bt){!isNaN(bt)&&A++});var T=r.getSum(o),L=Math.PI/(T||A)*2,R=i.get("clockwise"),z=i.get("roseType"),j=i.get("stillShowZeroSum"),X=r.getDataExtent(o);X[0]=0;var Z=Cb,Q=0,nt=w,it=R?1:-1;if(r.setLayout({viewRect:a,r:g}),r.each(o,function(bt,St){var Ot;if(isNaN(bt))r.setItemLayout(St,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:R,cx:u,cy:f,r0:v,r:z?NaN:g});else{(Ot=z!=="area"?T===0&&j?L:bt*L:Cb/A)<_?(Ot=_,Z-=_):Q+=bt;var Yt=nt+it*Ot;r.setItemLayout(St,{angle:Ot,startAngle:nt,endAngle:Yt,clockwise:R,cx:u,cy:f,r0:v,r:z?Br(bt,X,[v,g]):g}),nt=Yt}}),Z<Cb&&A)if(Z<=.001){var mt=Cb/A;r.each(o,function(bt,St){if(!isNaN(bt)){var Ot=r.getItemLayout(St);Ot.angle=mt,Ot.startAngle=w+it*St*mt,Ot.endAngle=w+it*(St+1)*mt}})}else L=Z/Q,nt=w,r.each(o,function(bt,St){if(!isNaN(bt)){var Ot=r.getItemLayout(St),Yt=Ot.angle===_?_:bt*L;Ot.startAngle=nt,Ot.endAngle=nt+it*Yt,nt+=it*Yt}})})}function Iy(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var r=e.getData();r.filterSelf(function(o){for(var a=r.getName(o),l=0;l<i.length;l++)if(!i[l].isSelected(a))return!1;return!0})}}}}var zT=Math.PI/180;function FT(n,e,t,i,r,o,a,l,u,f){if(!(n.length<2)){for(var g=n.length,v=0;v<g;v++)if(n[v].position==="outer"&&n[v].labelAlignTo==="labelLine"){var w=n[v].label.x-f;n[v].linePoints[1][0]+=w,n[v].label.x=f}sm(n,u,u+a)&&function(A){for(var T={list:[],maxY:0},L={list:[],maxY:0},R=0;R<A.length;R++)if(A[R].labelAlignTo==="none"){var z=A[R],j=z.label.y>t?L:T,X=Math.abs(z.label.y-t);if(X>=j.maxY){var Z=z.label.x-e-z.len2*r,Q=i+z.len,nt=Math.abs(Z)<Q?Math.sqrt(X*X/(1-Z*Z/Q/Q)):Q;j.rB=nt,j.maxY=X}j.list.push(z)}_(T),_(L)}(n)}function _(A){for(var T=A.rB,L=T*T,R=0;R<A.list.length;R++){var z=A.list[R],j=Math.abs(z.label.y-t),X=i+z.len,Z=X*X,Q=Math.sqrt((1-Math.abs(j*j/L))*Z),nt=e+(Q+z.len2)*r,it=nt-z.label.x;fC(z,z.targetTextWidth-it*r,!0),z.label.x=nt}}}function fC(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var i=n.label,r=i.style,o=n.rect,a=r.backgroundColor,l=r.padding,u=l?l[1]+l[3]:0,f=r.overflow,g=o.width+(a?0:u);if(e<g||t){var v=o.height;if(f&&f.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-u);var w=i.getBoundingRect();i.setStyle("width",Math.ceil(w.width)),i.setStyle("backgroundColor",a)}else{var _=e-u,A=e<g?_:t?_>n.unconstrainedWidth?null:_:null;i.setStyle("width",A)}var T=i.getBoundingRect();o.width=T.width;var L=(i.style.margin||0)+2.1;o.height=T.height+L,o.y-=(o.height-v)/2}}}function kb(n){return n.position==="center"}function VT(n){var e,t,i=n.getData(),r=[],o=!1,a=(n.get("minShowLabelAngle")||0)*zT,l=i.getLayout("viewRect"),u=i.getLayout("r"),f=l.width,g=l.x,v=l.y,w=l.height;function _(Z){Z.ignore=!0}i.each(function(Z){var Q=i.getItemGraphicEl(Z),nt=Q.shape,it=Q.getTextContent(),mt=Q.getTextGuideLine(),bt=i.getItemModel(Z),St=bt.getModel("label"),Ot=St.get("position")||bt.get(["emphasis","label","position"]),Yt=St.get("distanceToLabelLine"),ee=St.get("alignTo"),le=Yn(St.get("edgeDistance"),f),ge=St.get("bleedMargin"),be=bt.getModel("labelLine"),Ie=be.get("length");Ie=Yn(Ie,f);var He=be.get("length2");if(He=Yn(He,f),Math.abs(nt.endAngle-nt.startAngle)<a)return U(it.states,_),it.ignore=!0,void(mt&&(U(mt.states,_),mt.ignore=!0));if(function(sa){if(!sa.ignore)return!0;for(var ya in sa.states)if(sa.states[ya].ignore===!1)return!0;return!1}(it)){var qe,Ke,bn,Rn,Je=(nt.startAngle+nt.endAngle)/2,Tn=Math.cos(Je),Fn=Math.sin(Je);e=nt.cx,t=nt.cy;var Xn=Ot==="inside"||Ot==="inner";if(Ot==="center")qe=nt.cx,Ke=nt.cy,Rn="center";else{var Vn=(Xn?(nt.r+nt.r0)/2*Tn:nt.r*Tn)+e,qn=(Xn?(nt.r+nt.r0)/2*Fn:nt.r*Fn)+t;if(qe=Vn+3*Tn,Ke=qn+3*Fn,!Xn){var Hn=Vn+Tn*(Ie+u-nt.r),ni=qn+Fn*(Ie+u-nt.r),wi=Hn+(Tn<0?-1:1)*He;qe=ee==="edge"?Tn<0?g+le:g+f-le:wi+(Tn<0?-Yt:Yt),Ke=ni,bn=[[Vn,qn],[Hn,ni],[wi,ni]]}Rn=Xn?"center":ee==="edge"?Tn>0?"right":"left":Tn>0?"left":"right"}var Zi=Math.PI,nr=0,Ur=St.get("rotate");if(fi(Ur))nr=Ur*(Zi/180);else if(Ot==="center")nr=0;else if(Ur==="radial"||Ur===!0)nr=Tn<0?-Je+Zi:-Je;else if(Ur==="tangential"&&Ot!=="outside"&&Ot!=="outer"){var gr=Math.atan2(Tn,Fn);gr<0&&(gr=2*Zi+gr),Fn>0&&(gr=Zi+gr),nr=gr-Zi}if(o=!!nr,it.x=qe,it.y=Ke,it.rotation=nr,it.setStyle({verticalAlign:"middle"}),Xn){it.setStyle({align:Rn});var vr=it.states.select;vr&&(vr.x+=it.x,vr.y+=it.y)}else{var eo=it.getBoundingRect().clone();eo.applyTransform(it.getComputedTransform());var ro=(it.style.margin||0)+2.1;eo.y-=ro/2,eo.height+=ro,r.push({label:it,labelLine:mt,position:Ot,len:Ie,len2:He,minTurnAngle:be.get("minTurnAngle"),maxSurfaceAngle:be.get("maxSurfaceAngle"),surfaceNormal:new ti(Tn,Fn),linePoints:bn,textAlign:Rn,labelDistance:Yt,labelAlignTo:ee,edgeDistance:le,bleedMargin:ge,rect:eo,unconstrainedWidth:eo.width,labelStyleWidth:it.style.width})}Q.setTextConfig({inside:Xn})}}),!o&&n.get("avoidLabelOverlap")&&function(Z,Q,nt,it,mt,bt,St,Ot){for(var Yt=[],ee=[],le=Number.MAX_VALUE,ge=-Number.MAX_VALUE,be=0;be<Z.length;be++){var Ie=Z[be].label;kb(Z[be])||(Ie.x<Q?(le=Math.min(le,Ie.x),Yt.push(Z[be])):(ge=Math.max(ge,Ie.x),ee.push(Z[be])))}for(be=0;be<Z.length;be++)if(!kb(Ke=Z[be])&&Ke.linePoints){if(Ke.labelStyleWidth!=null)continue;Ie=Ke.label;var He=Ke.linePoints,qe=void 0;qe=Ke.labelAlignTo==="edge"?Ie.x<Q?He[2][0]-Ke.labelDistance-St-Ke.edgeDistance:St+mt-Ke.edgeDistance-He[2][0]-Ke.labelDistance:Ke.labelAlignTo==="labelLine"?Ie.x<Q?le-St-Ke.bleedMargin:St+mt-ge-Ke.bleedMargin:Ie.x<Q?Ie.x-St-Ke.bleedMargin:St+mt-Ie.x-Ke.bleedMargin,Ke.targetTextWidth=qe,fC(Ke,qe)}for(FT(ee,Q,nt,it,1,0,bt,0,Ot,ge),FT(Yt,Q,nt,it,-1,0,bt,0,Ot,le),be=0;be<Z.length;be++){var Ke;if(!kb(Ke=Z[be])&&Ke.linePoints){Ie=Ke.label,He=Ke.linePoints;var bn=Ke.labelAlignTo==="edge",Rn=Ie.style.padding,Je=Rn?Rn[1]+Rn[3]:0,Tn=Ie.style.backgroundColor?0:Je,Fn=Ke.rect.width+Tn,Xn=He[1][0]-He[2][0];bn?Ie.x<Q?He[2][0]=St+Ke.edgeDistance+Fn+Ke.labelDistance:He[2][0]=St+mt-Ke.edgeDistance-Fn-Ke.labelDistance:(Ie.x<Q?He[2][0]=Ie.x+Ke.labelDistance:He[2][0]=Ie.x-Ke.labelDistance,He[1][0]=He[2][0]+Xn),He[1][1]=He[2][1]=Ie.y}}}(r,e,t,u,f,w,g,v);for(var A=0;A<r.length;A++){var T=r[A],L=T.label,R=T.labelLine,z=isNaN(L.x)||isNaN(L.y);if(L){L.setStyle({align:T.textAlign}),z&&(U(L.states,_),L.ignore=!0);var j=L.states.select;j&&(j.x+=L.x,j.y+=L.y)}if(R){var X=T.linePoints;z||!X?(U(R.states,_),R.ignore=!0):(kS(X,T.minTurnAngle),sT(X,T.surfaceNormal,T.maxSurfaceAngle),R.setShape({points:X}),L.__hostTarget.textGuideLineConfig={anchor:new ti(X[0][0],X[0][1])})}}}function pf(n,e,t){var i=n.get("borderRadius");if(i==null)return t?{cornerRadius:0}:null;he(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:ye(i,function(o){return Ho(o,r)})}}var HT=function(n){function e(t,i,r){var o=n.call(this)||this;o.z2=2;var a=new wr;return o.setTextContent(a),o.updateData(t,i,r,!0),o}return wt(e,n),e.prototype.updateData=function(t,i,r,o){var a=this,l=t.hostModel,u=t.getItemModel(i),f=u.getModel("emphasis"),g=t.getItemLayout(i),v=pe(pf(u.getModel("itemStyle"),g,!0),g);if(isNaN(v.startAngle))a.setShape(v);else{if(o){a.setShape(v);var w=l.getShallow("animationType");l.ecModel.ssr?(vo(a,{scaleX:0,scaleY:0},l,{dataIndex:i,isFrom:!0}),a.originX=v.cx,a.originY=v.cy):w==="scale"?(a.shape.r=g.r0,vo(a,{shape:{r:g.r}},l,i)):r!=null?(a.setShape({startAngle:r,endAngle:r}),vo(a,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},l,i)):(a.shape.endAngle=g.startAngle,Mr(a,{shape:{endAngle:g.endAngle}},l,i))}else Ca(a),Mr(a,{shape:v},l,i);a.useStyle(t.getItemVisual(i,"style")),Wo(a,u);var _=(g.startAngle+g.endAngle)/2,A=l.get("selectedOffset"),T=Math.cos(_)*A,L=Math.sin(_)*A,R=u.getShallow("cursor");R&&a.attr("cursor",R),this._updateLabel(l,t,i),a.ensureState("emphasis").shape=pe({r:g.r+(f.get("scale")&&f.get("scaleSize")||0)},pf(f.getModel("itemStyle"),g)),pe(a.ensureState("select"),{x:T,y:L,shape:pf(u.getModel(["select","itemStyle"]),g)}),pe(a.ensureState("blur"),{shape:pf(u.getModel(["blur","itemStyle"]),g)});var z=a.getTextGuideLine(),j=a.getTextContent();z&&pe(z.ensureState("select"),{x:T,y:L}),pe(j.ensureState("select"),{x:T,y:L}),Io(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))}},e.prototype._updateLabel=function(t,i,r){var o=this,a=i.getItemModel(r),l=a.getModel("labelLine"),u=i.getItemVisual(r,"style"),f=u&&u.fill,g=u&&u.opacity;so(o,Xr(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:f,defaultOpacity:g,defaultText:t.getFormattedLabel(r,"normal")||i.getName(r)});var v=o.getTextContent();o.setTextConfig({position:null,rotation:null}),v.attr({z2:10});var w=t.get(["label","position"]);if(w!=="outside"&&w!=="outer")o.removeTextGuideLine();else{var _=this.getTextGuideLine();_||(_=new ss,this.setTextGuideLine(_)),eb(this,TS(a),{stroke:f,opacity:kt(l.get(["lineStyle","opacity"]),g,1)})}},e}(os),lL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return wt(e,n),e.prototype.render=function(t,i,r,o){var a,l=t.getData(),u=this._data,f=this.group;if(!u&&l.count()>0){for(var g=l.getItemLayout(0),v=1;isNaN(g&&g.startAngle)&&v<l.count();++v)g=l.getItemLayout(v);g&&(a=g.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),l.count()===0&&t.get("showEmptyCircle")){var w=new os({shape:BT(t,r)});w.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=w,f.add(w)}l.diff(u).add(function(_){var A=new HT(l,_,a);l.setItemGraphicEl(_,A),f.add(A)}).update(function(_,A){var T=u.getItemGraphicEl(A);T.updateData(l,_,a),T.off("click"),f.add(T),l.setItemGraphicEl(_,T)}).remove(function(_){$u(u.getItemGraphicEl(_),t,_)}).execute(),VT(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=l)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var r=i.getData().getItemLayout(0);if(r){var o=t[0]-r.cx,a=t[1]-r.cy,l=Math.sqrt(o*o+a*a);return l<=r.r&&l>=r.r0}},e.type="pie",e}(qr);function ff(n,e,t){e=he(e)&&{coordDimensions:e}||pe({encodeDefine:n.getEncode()},e);var i=n.getSource(),r=nm(i,e).dimensions,o=new Va(r,n);return o.initData(i,t),o}var Es=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},n.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},n.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},n}(),Ab=hr(),Mb=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Es(Be(this.getData,this),Be(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return ff(this,{coordDimensions:["value"],encodeDefaulter:un(Ew,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),r=Ab(i),o=r.seats;if(!o){var a=[];i.each(i.mapDimension("value"),function(u){a.push(u)}),o=r.seats=Al(a,i.hostModel.get("percentPrecision"))}var l=n.prototype.getDataParams.call(this,t);return l.percent=o[t]||0,l.$vars.push("percent"),l},e.prototype._defaultLabelLine=function(t){qc(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Vr),gC=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return wt(e,n),e.prototype.getInitialData=function(t,i){return fu(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Vr),mC=function(){},WT=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return wt(e,n),e.prototype.getDefaultShape=function(){return new mC},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,i){var r,o=i.points,a=i.size,l=this.symbolProxy,u=l.shape,f=t.getContext?t.getContext():t,g=f&&a[0]<4,v=this.softClipShape;if(g)this._ctx=f;else{for(this._ctx=null,r=this._off;r<o.length;){var w=o[r++],_=o[r++];isNaN(w)||isNaN(_)||v&&!v.contain(w,_)||(u.x=w-a[0]/2,u.y=_-a[1]/2,u.width=a[0],u.height=a[1],l.buildPath(t,u,!0))}this.incremental&&(this._off=r,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,i=this.shape,r=i.points,o=i.size,a=this._ctx,l=this.softClipShape;if(a){for(t=this._off;t<r.length;){var u=r[t++],f=r[t++];isNaN(u)||isNaN(f)||l&&!l.contain(u,f)||a.fillRect(u-o[0]/2,f-o[1]/2,o[0],o[1])}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,i){for(var r=this.shape,o=r.points,a=r.size,l=Math.max(a[0],4),u=Math.max(a[1],4),f=o.length/2-1;f>=0;f--){var g=2*f,v=o[g]-l/2,w=o[g+1]-u/2;if(t>=v&&i>=w&&t<=v+l&&i<=w+u)return f}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect();return t=r[0],i=r[1],o.contain(t,i)?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.points,o=i.size,a=o[0],l=o[1],u=1/0,f=1/0,g=-1/0,v=-1/0,w=0;w<r.length;){var _=r[w++],A=r[w++];u=Math.min(_,u),g=Math.max(_,g),f=Math.min(A,f),v=Math.max(A,v)}t=this._rect=new Qi(u-a/2,f-l/2,g-u+a,v-f+l)}return t},e}(Ti),vC=function(){function n(){this.group=new Ei}return n.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(i){if(i.startIndex!=null){var r=2*(i.endIndex-i.startIndex),o=4*i.startIndex*2;t=new Float32Array(t.buffer,o,r)}i.setShape("points",t),i.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,i){var r=this._newAdded[0],o=t.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var l=a.length,u=new Float32Array(l+o.length);u.set(a),u.set(o,l),r.endIndex=e.end,r.setShape({points:u})}else{this._newAdded=[];var f=this._create();f.startIndex=e.start,f.endIndex=e.end,f.incremental=!0,f.setShape({points:o}),this._setCommon(f,t,i)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new WT({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;i=i||{};var o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=i.clipShape||null,e.symbolProxy=Do(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var l=t.getVisual("style"),u=l&&l.fill;u&&e.setColor(u);var f=Ui(e);f.seriesIndex=r.seriesIndex,e.on("mousemove",function(g){f.dataIndex=null;var v=e.hoverDataIdx;v>=0&&(f.dataIndex=v+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),jT=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).updateData(o,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).incrementalPrepareUpdate(o),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var o=t.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=dm("").reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype._updateSymbolDraw=function(t,i){var r=this._symbolDraw,o=i.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new vC:new hm,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(qr),YT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(pr),Dy=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",go).models[0]},e.type="cartesian2dAxis",e}(pr);oe(Dy,hh);var yC={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},GT=ie({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},yC),Tb=ie({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},yC),xC={category:GT,value:Tb,time:ie({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Tb),log:De({logBase:10},Tb)},yu={value:1,category:1,time:1,log:1};function Ed(n,e,t,i){U(yu,function(r,o){var a=ie(ie({},xC[o],!0),i,!0),l=function(u){function f(){var g=u!==null&&u.apply(this,arguments)||this;return g.type=e+"Axis."+o,g}return wt(f,u),f.prototype.mergeDefaultAndTheme=function(g,v){var w=Tg(this),_=w?Wp(g):{};ie(g,v.getTheme().get(o+"Axis")),ie(g,this.getDefaultOption()),g.type=gf(g),w&&Zu(g,_,w)},f.prototype.optionUpdated=function(){this.option.type==="category"&&(this.__ordinalMeta=qx.createByAxisModel(this))},f.prototype.getCategories=function(g){var v=this.option;if(v.type==="category")return g?v.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=e+"Axis."+o,f.defaultOption=a,f}(t);n.registerComponentModel(l)}),n.registerSubTypeDefaulter(e+"Axis",gf)}function gf(n){return n.type||(n.data?"category":"value")}var Ly=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return ye(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),$e(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),bC=["x","y"];function Ib(n){return n.type==="interval"||n.type==="time"}var Db=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=bC,t}return wt(e,n),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(Ib(t)&&Ib(i)){var r=t.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),l=this.dataToPoint([r[1],o[1]]),u=r[1]-r[0],f=o[1]-o[0];if(u&&f){var g=(l[0]-a[0])/u,v=(l[1]-a[1])/f,w=a[0]-r[0]*g,_=a[1]-o[0]*v,A=this._transform=[g,0,0,v,w,_];this._invTransform=Er([],A)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,i){var r=this.dataToPoint(t),o=this.dataToPoint(i),a=this.getArea(),l=new Qi(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(l)},e.prototype.dataToPoint=function(t,i,r){r=r||[];var o=t[0],a=t[1];if(this._transform&&o!=null&&isFinite(o)&&a!=null&&isFinite(a))return Or(r,t,this._transform);var l=this.getAxis("x"),u=this.getAxis("y");return r[0]=l.toGlobalCoord(l.dataToCoord(o,i)),r[1]=u.toGlobalCoord(u.dataToCoord(a,i)),r},e.prototype.clampData=function(t,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),l=o.getExtent(),u=r.parse(t[0]),f=o.parse(t[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),u),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(l[0],l[1]),f),Math.max(l[0],l[1])),i},e.prototype.pointToData=function(t,i){var r=[];if(this._invTransform)return Or(r,t,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(t[0]),i),r[1]=a.coordToData(a.toLocalCoord(t[1]),i),r},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),o=Math.min(i[0],i[1]),a=Math.max(t[0],t[1])-r,l=Math.max(i[0],i[1])-o;return new Qi(r,o,a,l)},e}(Ly),cL=function(n){function e(t,i,r,o,a){var l=n.call(this,t,i,r)||this;return l.index=0,l.type=o||"value",l.position=a||"bottom",l}return wt(e,n),e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Ds);function wC(n,e,t){t=t||{};var i=n.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],l=r.position,u=a?"onZero":l,f=r.dim,g=i.getRect(),v=[g.x,g.x+g.width,g.y,g.y+g.height],w={left:0,right:1,top:0,bottom:1,onZero:2},_=e.get("offset")||0,A=f==="x"?[v[2]-_,v[3]+_]:[v[0]-_,v[1]+_];if(a){var T=a.toGlobalCoord(a.dataToCoord(0));A[w.onZero]=Math.max(Math.min(T,A[1]),A[0])}o.position=[f==="y"?A[w[u]]:v[0],f==="x"?A[w[u]]:v[3]],o.rotation=Math.PI/2*(f==="x"?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],o.labelOffset=a?A[w[l]]-A[w.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Ri(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var L=e.get(["axisLabel","rotate"]);return o.labelRotate=u==="top"?-L:L,o.z2=1,o}function Lb(n){return n.get("coordinateSystem")==="cartesian2d"}function _C(n){var e={xAxisModel:null,yAxisModel:null};return U(e,function(t,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,go).models[0];e[i]=o}),e}var SC=Math.log;function CC(n,e,t){var i=Mc.prototype,r=i.getTicks.call(t),o=i.getTicks.call(t,!0),a=r.length-1,l=i.getInterval.call(t),u=$M(n,e),f=u.extent,g=u.fixMin,v=u.fixMax;if(n.type==="log"){var w=SC(n.base);f=[SC(f[0])/w,SC(f[1])/w]}n.setExtent(f[0],f[1]),n.calcNiceExtent({splitNumber:a,fixMin:g,fixMax:v});var _=i.getExtent.call(n);g&&(f[0]=_[0]),v&&(f[1]=_[1]);var A=i.getInterval.call(n),T=f[0],L=f[1];if(g&&v)A=(L-T)/a;else if(g)for(L=f[0]+A*a;L<f[1]&&isFinite(L)&&isFinite(f[1]);)A=ey(A),L=f[0]+A*a;else if(v)for(T=f[1]-A*a;T>f[0]&&isFinite(T)&&isFinite(f[0]);)A=ey(A),T=f[1]-A*a;else{n.getTicks().length-1>a&&(A=ey(A));var R=A*a;(T=uo((L=Math.ceil(f[1]/A)*A)-R))<0&&f[0]>=0?(T=0,L=uo(R)):L>0&&f[1]<=0&&(L=0,T=-uo(R))}var z=(r[0].value-o[0].value)/l,j=(r[a].value-o[a].value)/l;i.setExtent.call(n,T+A*z,L+A*j),i.setInterval.call(n,A),(z||j)&&i.setNiceExtent.call(n,T+A,L-A)}var kC=function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=bC,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;function r(a){var l,u=Re(a),f=u.length;if(f){for(var g=[],v=f-1;v>=0;v--){var w=a[+u[v]],_=w.model,A=w.scale;iS(A)&&_.get("alignTicks")&&_.get("interval")==null?g.push(w):(ef(A,_),iS(A)&&(l=w))}g.length&&(l||ef((l=g.pop()).scale,l.model),U(g,function(T){CC(T.scale,T.model,l.scale)}))}}this._updateScale(e,this.model),r(i.x),r(i.y);var o={};U(i.x,function(a){MC(i,"y",a,o)}),U(i.y,function(a){MC(i,"x",a,o)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var r=e.getBoxLayoutParams(),o=!i&&e.get("containLabel"),a=Ao(r,{width:t.getWidth(),height:t.getHeight()});this._rect=a;var l=this._axesList;function u(){U(l,function(f){var g=f.isHorizontal(),v=g?[0,a.width]:[0,a.height],w=f.inverse?1:0;f.setExtent(v[w],v[1-w]),function(_,A){var T=_.getExtent(),L=T[0]+T[1];_.toGlobalCoord=_.dim==="x"?function(R){return R+A}:function(R){return L-R+A},_.toLocalCoord=_.dim==="x"?function(R){return R-A}:function(R){return L-R+A}}(f,g?a.x:a.y)})}u(),o&&(U(l,function(f){if(!f.model.get(["axisLabel","inside"])){var g=function(_){var A=_.model,T=_.scale;if(A.get(["axisLabel","show"])&&!T.isBlank()){var L,R,z=T.getExtent();R=T instanceof ry?T.count():(L=T.getTicks()).length;var j,X=_.getLabelModel(),Z=nf(_),Q=1;R>40&&(Q=Math.ceil(R/40));for(var nt=0;nt<R;nt+=Q){var it=Z(L?L[nt]:{value:z[0]+nt},nt),mt=jD(X.getTextRect(it),X.get("rotate")||0);j?j.union(mt):j=mt}return j}}(f);if(g){var v=f.isHorizontal()?"height":"width",w=f.model.get(["axisLabel","margin"]);a[v]-=g[v]+w,f.position==="top"?a.y+=g.height+w:f.position==="left"&&(a.x+=g.width+w)}}}),u()),U(this._coordsList,function(f){f.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(i!=null)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var i="x"+e+"y"+t;return this._coordsMap[i]}Zn(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===e||o[r].getAxis("y").index===t)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var t,i,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis",go).models[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis",go).models[0],l=e.gridModel,u=this._coordsList;return r?rn(u,t=r.coordinateSystem)<0&&(t=null):o&&a?t=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):l&&l.coordinateSystem===this&&(t=this._coordsList[0]),{cartesian:t,axis:i}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",f("x"),this),t.eachComponent("yAxis",f("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function f(g){return function(v,w){if(AC(v,e)){var _=v.get("position");g==="x"?_!=="top"&&_!=="bottom"&&(_=a.bottom?"top":"bottom"):_!=="left"&&_!=="right"&&(_=a.left?"right":"left"),a[_]=!0;var A=new cL(g,rm(v),[0,0],v.get("type"),_),T=A.type==="category";A.onBand=T&&v.get("boundaryGap"),A.inverse=v.get("inverse"),v.axis=A,A.model=v,A.grid=o,A.index=w,o._axesList.push(A),l[g][w]=A,u[g]++}}}this._axesMap=l,U(l.x,function(g,v){U(l.y,function(w,_){var A="x"+v+"y"+_,T=new Db(A);T.master=r,T.model=e,r._coordsMap[A]=T,r._coordsList.push(T),T.addAxis(g),T.addAxis(w)})})},n.prototype._updateScale=function(e,t){function i(r,o){U(rf(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}U(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),e.eachSeries(function(r){if(Lb(r)){var o=_C(r),a=o.xAxisModel,l=o.yAxisModel;if(!AC(a,t)||!AC(l,t))return;var u=this.getCartesian(a.componentIndex,l.componentIndex),f=r.getData(),g=u.getAxis("x"),v=u.getAxis("y");i(f,g),i(f,v)}},this)},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return U(this.getCartesians(),function(r){var o=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),a=r.getOtherAxis(o);rn(t,o)<0&&t.push(o),rn(i,a)<0&&i.push(a)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(r,o){var a=new n(r,e,t);a.name="grid_"+o,a.resize(r,t,!0),r.coordinateSystem=a,i.push(a)}),e.eachSeries(function(r){if(Lb(r)){var o=_C(r),a=o.xAxisModel,l=o.yAxisModel,u=a.getCoordSysModel(),f=u.coordinateSystem;r.coordinateSystem=f.getCartesian(a.componentIndex,l.componentIndex)}}),i},n.dimensions=bC,n}();function AC(n,e){return n.getCoordSysModel()===e}function MC(n,e,t,i){t.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=n[e],a=t.model,l=a.get(["axisLine","onZero"]),u=a.get(["axisLine","onZeroAxisIndex"]);if(l){if(u!=null)XT(o[u])&&(r=o[u]);else for(var f in o)if(o.hasOwnProperty(f)&&XT(o[f])&&!i[g(o[f])]){r=o[f];break}r&&(i[g(r)]=!0)}function g(v){return v.dim+"_"+v.index}}function XT(n){return n&&n.type!=="category"&&n.type!=="time"&&function(e){var t=e.scale.getExtent(),i=t[0],r=t[1];return!(i>0&&r>0||i<0&&r<0)}(n)}var xu=Math.PI,hs=function(){function n(e,t){this.group=new Ei,this.opt=t,this.axisModel=e,De(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Ei({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(e){return!!qT[e]},n.prototype.add=function(e){qT[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,i){var r,o,a=Ml(t-e);return gp(a)?(o=i>0?"top":"bottom",r="center"):gp(a-xu)?(o=i>0?"bottom":"top",r="center"):(o="middle",r=a>0&&a<xu?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:o}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),qT={axisLine:function(n,e,t,i){var r=e.get(["axisLine","show"]);if(r==="auto"&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),a=i.transform,l=[o[0],0],u=[o[1],0],f=l[0]>u[0];a&&(Or(l,l,a),Or(u,u,a));var g=pe({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),v=new Zo({shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:g,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});_o(v.shape,v.style.lineWidth),v.anid="line",t.add(v);var w=e.get(["axisLine","symbol"]);if(w!=null){var _=e.get(["axisLine","symbolSize"]);kn(w)&&(w=[w,w]),(kn(_)||fi(_))&&(_=[_,_]);var A=nh(e.get(["axisLine","symbolOffset"])||0,_),T=_[0],L=_[1];U([{rotate:n.rotation+Math.PI/2,offset:A[0],r:0},{rotate:n.rotation-Math.PI/2,offset:A[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(R,z){if(w[z]!=="none"&&w[z]!=null){var j=Do(w[z],-T/2,-L/2,T,L,g.stroke,!0),X=R.r+R.offset,Z=f?u:l;j.attr({rotation:R.rotate,x:Z[0]+X*Math.cos(n.rotation),y:Z[1]-X*Math.sin(n.rotation),silent:!0,z2:11}),t.add(j)}})}}},axisTickLabel:function(n,e,t,i){var r=function(a,l,u,f){var g=u.axis,v=u.getModel("axisTick"),w=v.get("show");if(w==="auto"&&f.handleAutoShown&&(w=f.handleAutoShown("axisTick")),!(!w||g.scale.isBlank())){for(var _=v.getModel("lineStyle"),A=f.tickDirection*v.get("length"),T=$T(g.getTicksCoords(),l.transform,A,De(_.getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])}),"ticks"),L=0;L<T.length;L++)a.add(T[L]);return T}}(t,i,e,n),o=function(a,l,u,f){var g=u.axis;if(!(!Ri(f.axisLabelShow,u.get(["axisLabel","show"]))||g.scale.isBlank())){var v=u.getModel("axisLabel"),w=v.get("margin"),_=g.getViewLabels(),A=(Ri(f.labelRotate,v.get("rotate"))||0)*xu/180,T=hs.innerTextLayout(f.rotation,A,f.labelDirection),L=u.getCategories&&u.getCategories(!0),R=[],z=hs.isLabelSilent(u),j=u.get("triggerEvent");return U(_,function(X,Z){var Q=g.scale.type==="ordinal"?g.scale.getRawOrdinalNumber(X.tickValue):X.tickValue,nt=X.formattedLabel,it=X.rawLabel,mt=v;if(L&&L[Q]){var bt=L[Q];Zn(bt)&&bt.textStyle&&(mt=new Nr(bt.textStyle,v,u.ecModel))}var St=mt.getTextColor()||u.get(["axisLine","lineStyle","color"]),Ot=g.dataToCoord(Q),Yt=new wr({x:Ot,y:f.labelOffset+f.labelDirection*w,rotation:T.rotation,silent:z,z2:10+(X.level||0),style:Dr(mt,{text:nt,align:mt.getShallow("align",!0)||T.textAlign,verticalAlign:mt.getShallow("verticalAlign",!0)||mt.getShallow("baseline",!0)||T.textVerticalAlign,fill:In(St)?St(g.type==="category"?it:g.type==="value"?Q+"":Q,Z):St})});if(Yt.anid="label_"+Q,j){var ee=hs.makeAxisEventDataBase(u);ee.targetType="axisLabel",ee.value=it,ee.tickIndex=Z,g.type==="category"&&(ee.dataIndex=Q),Ui(Yt).eventData=ee}l.add(Yt),Yt.updateTransform(),R.push(Yt),a.add(Yt),Yt.decomposeTransform()}),R}}(t,i,e,n);(function(a,l,u){if(!ZM(a.axis)){var f=a.get(["axisLabel","showMinLabel"]),g=a.get(["axisLabel","showMaxLabel"]);u=u||[];var v=(l=l||[])[0],w=l[1],_=l[l.length-1],A=l[l.length-2],T=u[0],L=u[1],R=u[u.length-1],z=u[u.length-2];f===!1?(dl(v),dl(T)):UT(v,w)&&(f?(dl(w),dl(L)):(dl(v),dl(T))),g===!1?(dl(_),dl(R)):UT(A,_)&&(g?(dl(A),dl(z)):(dl(_),dl(R)))}})(e,o,r),function(a,l,u,f){var g=u.axis,v=u.getModel("minorTick");if(!(!v.get("show")||g.scale.isBlank())){var w=g.getMinorTicksCoords();if(w.length)for(var _=v.getModel("lineStyle"),A=f*v.get("length"),T=De(_.getLineStyle(),De(u.getModel("axisTick").getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])})),L=0;L<w.length;L++)for(var R=$T(w[L],l.transform,A,T,"minorticks_"+L),z=0;z<R.length;z++)a.add(R[z])}}(t,i,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])&&ib(nb(ye(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}})))},axisName:function(n,e,t,i){var r=Ri(n.axisName,e.get("name"));if(r){var o,a,l=e.get("nameLocation"),u=n.nameDirection,f=e.getModel("nameTextStyle"),g=e.get("nameGap")||0,v=e.axis.getExtent(),w=v[0]>v[1]?-1:1,_=[l==="start"?v[0]-w*g:l==="end"?v[1]+w*g:(v[0]+v[1])/2,Oy(l)?n.labelOffset+u*g:0],A=e.get("nameRotate");A!=null&&(A=A*xu/180),Oy(l)?o=hs.innerTextLayout(n.rotation,A??n.rotation,u):(o=function(Z,Q,nt,it){var mt,bt,St=Ml(nt-Z),Ot=it[0]>it[1],Yt=Q==="start"&&!Ot||Q!=="start"&&Ot;return gp(St-xu/2)?(bt=Yt?"bottom":"top",mt="center"):gp(St-1.5*xu)?(bt=Yt?"top":"bottom",mt="center"):(bt="middle",mt=St<1.5*xu&&St>xu/2?Yt?"left":"right":Yt?"right":"left"),{rotation:St,textAlign:mt,textVerticalAlign:bt}}(n.rotation,l,A||0,v),(a=n.axisNameAvailableWidth)!=null&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var T=f.getFont(),L=e.get("nameTruncate",!0)||{},R=L.ellipsis,z=Ri(n.nameTruncateMaxWidth,L.maxWidth,a),j=new wr({x:_[0],y:_[1],rotation:o.rotation,silent:hs.isLabelSilent(e),style:Dr(f,{text:r,font:T,overflow:"truncate",width:z,ellipsis:R,fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:f.get("align")||o.textAlign,verticalAlign:f.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(Pp({el:j,componentModel:e,itemName:r}),j.__fullText=r,j.anid="name",e.get("triggerEvent")){var X=hs.makeAxisEventDataBase(e);X.targetType="axisName",X.name=r,Ui(j).eventData=X}i.add(j),j.updateTransform(),t.add(j),j.decomposeTransform()}}};function dl(n){n&&(n.ignore=!0)}function UT(n,e){var t=n&&n.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(t&&i){var r=ii([]);return xr(r,r,-n.rotation),t.applyTransform(Wi([],r,n.getLocalTransform())),i.applyTransform(Wi([],r,e.getLocalTransform())),t.intersect(i)}}function Oy(n){return n==="middle"||n==="center"}function $T(n,e,t,i,r){for(var o=[],a=[],l=[],u=0;u<n.length;u++){var f=n[u].coord;a[0]=f,a[1]=0,l[0]=f,l[1]=t,e&&(Or(a,a,e),Or(l,l,e));var g=new Zo({shape:{x1:a[0],y1:a[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});_o(g.shape,g.style.lineWidth),g.anid=r+"_"+n[u].tickValue,o.push(g)}return o}function Ob(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(i,r,o){var a=r.getComponent("tooltip"),l=r.getComponent("axisPointer"),u=l.get("link",!0)||[],f=[];U(o.getCoordinateSystems(),function(g){if(g.axisPointerEnabled){var v=gm(g.model),w=i.coordSysAxesInfo[v]={};i.coordSysMap[v]=g;var _=g.model.getModel("tooltip",a);if(U(g.getAxes(),un(R,!1,null)),g.getTooltipAxes&&a&&_.get("show")){var A=_.get("trigger")==="axis",T=_.get(["axisPointer","type"])==="cross",L=g.getTooltipAxes(_.get(["axisPointer","axis"]));(A||T)&&U(L.baseAxes,un(R,!T||"cross",A)),T&&U(L.otherAxes,un(R,"cross",!1))}}function R(z,j,X){var Z=X.model.getModel("axisPointer",l),Q=Z.get("show");if(Q&&(Q!=="auto"||z||Eb(Z))){j==null&&(j=Z.get("triggerTooltip")),Z=z?function(Yt,ee,le,ge,be,Ie){var He=ee.getModel("axisPointer"),qe={};U(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(Je){qe[Je]=Gt(He.get(Je))}),qe.snap=Yt.type!=="category"&&!!Ie,He.get("type")==="cross"&&(qe.type="line");var Ke=qe.label||(qe.label={});if(Ke.show==null&&(Ke.show=!1),be==="cross"){var bn=He.get(["label","show"]);if(Ke.show=bn==null||bn,!Ie){var Rn=qe.lineStyle=He.get("crossStyle");Rn&&De(Ke,Rn.textStyle)}}return Yt.model.getModel("axisPointer",new Nr(qe,le,ge))}(X,_,l,r,z,j):Z;var nt=Z.get("snap"),it=gm(X.model),mt=j||nt||X.type==="category",bt=i.axesInfo[it]={key:it,axis:X,coordSys:g,axisPointerModel:Z,triggerTooltip:j,involveSeries:mt,snap:nt,useHandle:Eb(Z),seriesModels:[],linkGroup:null};w[it]=bt,i.seriesInvolved=i.seriesInvolved||mt;var St=function(Yt,ee){for(var le=ee.model,ge=ee.dim,be=0;be<Yt.length;be++){var Ie=Yt[be]||{};if(TC(Ie[ge+"AxisId"],le.id)||TC(Ie[ge+"AxisIndex"],le.componentIndex)||TC(Ie[ge+"AxisName"],le.name))return be}}(u,X);if(St!=null){var Ot=f[St]||(f[St]={axesInfo:{}});Ot.axesInfo[it]=bt,Ot.mapper=u[St].mapper,bt.linkGroup=Ot}}}})}(t,n,e),t.seriesInvolved&&function(i,r){r.eachSeries(function(o){var a=o.coordinateSystem,l=o.get(["tooltip","trigger"],!0),u=o.get(["tooltip","show"],!0);a&&l!=="none"&&l!==!1&&l!=="item"&&u!==!1&&o.get(["axisPointer","show"],!0)!==!1&&U(i.coordSysAxesInfo[gm(a.model)],function(f){var g=f.axis;a.getAxis(g.dim)===g&&(f.seriesModels.push(o),f.seriesDataCount==null&&(f.seriesDataCount=0),f.seriesDataCount+=o.getData().count())})})}(t,n),t}function TC(n,e){return n==="all"||he(n)&&rn(n,e)>=0||n===e}function IC(n){var e=mf(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,r=t.option,o=t.get("status"),a=t.get("value");a!=null&&(a=i.parse(a));var l=Eb(t);o==null&&(r.status=l?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(a==null||a>u[1])&&(a=u[1]),a<u[0]&&(a=u[0]),r.value=a,l&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function mf(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[gm(n)]}function Eb(n){return!!n.get(["handle","show"])}function gm(n){return n.type+"||"+n.id}var DC={},Pd=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r,o){this.axisPointerClass&&IC(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,i,r,o){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,r){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=function(l){var u=mf(l);return u&&u.axisPointerModel}(t);a?(this._axisPointer||(this._axisPointer=new o)).render(t,a,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){DC[t]=i},e.getAxisPointerClass=function(t){return t&&DC[t]},e.type="axis",e}(io),Ey=hr();function Py(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitArea"),a=o.getModel("areaStyle"),l=a.get("color"),u=i.coordinateSystem.getRect(),f=r.getTicksCoords({tickModel:o,clamp:!0});if(f.length){var g=l.length,v=Ey(n).splitAreaColors,w=yn(),_=0;if(v)for(var A=0;A<f.length;A++){var T=v.get(f[A].tickValue);if(T!=null){_=(T+(g-1)*A)%g;break}}var L=r.toGlobalCoord(f[0].coord),R=a.getAreaStyle();for(l=he(l)?l:[l],A=1;A<f.length;A++){var z=r.toGlobalCoord(f[A].coord),j=void 0,X=void 0,Z=void 0,Q=void 0;r.isHorizontal()?(j=L,X=u.y,Z=z-j,Q=u.height,L=j+Z):(j=u.x,X=L,Z=u.width,L=X+(Q=z-X));var nt=f[A-1].tickValue;nt!=null&&w.set(nt,_),e.add(new br({anid:nt!=null?"area_"+nt:null,shape:{x:j,y:X,width:Z,height:Q},style:De({fill:l[_]},R),autoBatch:!0,silent:!0})),_=(_+1)%g}Ey(n).splitAreaColors=w}}}function vf(n){Ey(n).splitAreaColors=null}var ZT=["axisLine","axisTickLabel","axisName"],KT=["splitArea","splitLine","minorSplitLine"],Pb=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return wt(e,n),e.prototype.render=function(t,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Ei,this.group.add(this._axisGroup),t.get("show")){var l=t.getCoordSysModel(),u=wC(l,t),f=new hs(t,pe({handleAutoShown:function(g){for(var v=l.coordinateSystem.getCartesians(),w=0;w<v.length;w++)if(iS(v[w].getOtherAxis(t.axis).scale))return!0;return!1}},u));U(ZT,f.add,f),this._axisGroup.add(f.getGroup()),U(KT,function(g){t.get([g,"show"])&&LC[g](this,this._axisGroup,t,l)},this),o&&o.type==="changeAxisOrder"&&o.isInitSort||bg(a,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)}},e.prototype.remove=function(){vf(this)},e.type="cartesianAxis",e}(Pd),LC={splitLine:function(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitLine"),a=o.getModel("lineStyle"),l=a.get("color");l=he(l)?l:[l];for(var u=i.coordinateSystem.getRect(),f=r.isHorizontal(),g=0,v=r.getTicksCoords({tickModel:o}),w=[],_=[],A=a.getLineStyle(),T=0;T<v.length;T++){var L=r.toGlobalCoord(v[T].coord);f?(w[0]=L,w[1]=u.y,_[0]=L,_[1]=u.y+u.height):(w[0]=u.x,w[1]=L,_[0]=u.x+u.width,_[1]=L);var R=g++%l.length,z=v[T].tickValue,j=new Zo({anid:z!=null?"line_"+v[T].tickValue:null,autoBatch:!0,shape:{x1:w[0],y1:w[1],x2:_[0],y2:_[1]},style:De({stroke:l[R]},A),silent:!0});_o(j.shape,A.lineWidth),e.add(j)}}},minorSplitLine:function(n,e,t,i){var r=t.axis,o=t.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var f=[],g=[],v=o.getLineStyle(),w=0;w<u.length;w++)for(var _=0;_<u[w].length;_++){var A=r.toGlobalCoord(u[w][_].coord);l?(f[0]=A,f[1]=a.y,g[0]=A,g[1]=a.y+a.height):(f[0]=a.x,f[1]=A,g[0]=a.x+a.width,g[1]=A);var T=new Zo({anid:"minor_line_"+u[w][_].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},style:v,silent:!0});_o(T.shape,v.lineWidth),e.add(T)}},splitArea:function(n,e,t,i){Py(n,e,t,i)}},JT=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="xAxis",e}(Pb),uL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=JT.type,t}return wt(e,n),e.type="yAxis",e}(Pb),OC=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return wt(e,n),e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new br({shape:t.coordinateSystem.getRect(),style:De({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(io),QT={offset:0};function t2(n){n.registerComponentView(OC),n.registerComponentModel(YT),n.registerCoordinateSystem("cartesian2d",kC),Ed(n,"x",Dy,QT),Ed(n,"y",Dy,QT),n.registerComponentView(JT),n.registerComponentView(uL),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function hL(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var o=r.getIndicatorAxes();U(o,function(a,l){t.each(t.mapDimension(o[l].dim),function(u,f){i[f]=i[f]||[];var g=r.dataToPoint(u,l);i[f][l]=e2(g)?g:n2(r)})}),t.each(function(a){var l=We(i[a],function(u){return e2(u)})||n2(r);i[a].push(l.slice()),t.setItemLayout(a,i[a])})}})}function e2(n){return!isNaN(n[0])&&!isNaN(n[1])}function n2(n){return[n.cx,n.cy]}function dL(n){var e=n.polar;if(e){he(e)||(e=[e]);var t=[];U(e,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],he(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}U(n.series,function(i){i&&i.type==="radar"&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var pL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=t.coordinateSystem,a=this.group,l=t.getData(),u=this._data;function f(w,_){var A=w.getItemVisual(_,"symbol")||"circle";if(A!=="none"){var T=zv(w.getItemVisual(_,"symbolSize")),L=Do(A,-1,-1,2,2),R=w.getItemVisual(_,"symbolRotate")||0;return L.attr({style:{strokeNoScale:!0},z2:100,scaleX:T[0]/2,scaleY:T[1]/2,rotation:R*Math.PI/180||0}),L}}function g(w,_,A,T,L,R){A.removeAll();for(var z=0;z<_.length-1;z++){var j=f(T,L);j&&(j.__dimIdx=z,w[z]?(j.setPosition(w[z]),qh[R?"initProps":"updateProps"](j,{x:_[z][0],y:_[z][1]},t,L)):j.setPosition(_[z]),A.add(j))}}function v(w){return ye(w,function(_){return[o.cx,o.cy]})}l.diff(u).add(function(w){var _=l.getItemLayout(w);if(_){var A=new as,T=new ss,L={shape:{points:_}};A.shape.points=v(_),T.shape.points=v(_),vo(A,L,t,w),vo(T,L,t,w);var R=new Ei,z=new Ei;R.add(T),R.add(A),R.add(z),g(T.shape.points,_,z,l,w,!0),l.setItemGraphicEl(w,R)}}).update(function(w,_){var A=u.getItemGraphicEl(_),T=A.childAt(0),L=A.childAt(1),R=A.childAt(2),z={shape:{points:l.getItemLayout(w)}};z.shape.points&&(g(T.shape.points,z.shape.points,R,l,w,!1),Ca(L),Ca(T),Mr(T,z,t),Mr(L,z,t),l.setItemGraphicEl(w,A))}).remove(function(w){a.remove(u.getItemGraphicEl(w))}).execute(),l.eachItemGraphicEl(function(w,_){var A=l.getItemModel(_),T=w.childAt(0),L=w.childAt(1),R=w.childAt(2),z=l.getItemVisual(_,"style"),j=z.fill;a.add(w),T.useStyle(De(A.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:j})),Wo(T,A,"lineStyle"),Wo(L,A,"areaStyle");var X=A.getModel("areaStyle"),Z=X.isEmpty()&&X.parentModel.isEmpty();L.ignore=Z,U(["emphasis","select","blur"],function(it){var mt=A.getModel([it,"areaStyle"]),bt=mt.isEmpty()&&mt.parentModel.isEmpty();L.ensureState(it).ignore=bt&&Z}),L.useStyle(De(X.getAreaStyle(),{fill:j,opacity:.7,decal:z.decal}));var Q=A.getModel("emphasis"),nt=Q.getModel("itemStyle").getItemStyle();R.eachChild(function(it){if(it instanceof Kr){var mt=it.style;it.useStyle(pe({image:mt.image,x:mt.x,y:mt.y,width:mt.width,height:mt.height},z))}else it.useStyle(z),it.setColor(j),it.style.strokeNoScale=!0;it.ensureState("emphasis").style=Gt(nt);var bt=l.getStore().get(l.getDimensionIndex(it.__dimIdx),_);(bt==null||isNaN(bt))&&(bt=""),so(it,Xr(A),{labelFetcher:l.hostModel,labelDataIndex:_,labelDimIndex:it.__dimIdx,defaultText:bt,inheritColor:j,defaultOpacity:z.opacity})}),Io(w,Q.get("focus"),Q.get("blurScope"),Q.get("disabled"))}),this._data=l},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(qr),i2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return wt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Es(Be(this.getData,this),Be(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return ff(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,f=a_(this,t);return oa("section",{header:u,sortBlocks:!0,blocks:ye(a,function(g){var v=o.get(o.mapDimension(g.dim),t);return oa("nameValue",{markerType:"subItem",markerColor:f,name:g.name,value:v,sortParam:v})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(ye(r.dimensions,function(f){return i.mapDimension(f)}),t),a=0,l=o.length;a<l;a++)if(!isNaN(o[a])){var u=r.getIndicatorAxes();return r.coordToPoint(u[a].dataToCoord(o[a]),a)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Vr),fh=xC.value;function Nb(n,e){return De({show:e},n)}var r2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),l=this.get("axisLabel"),u=this.get("axisName"),f=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),v=this.get("axisNameGap"),w=this.get("triggerEvent"),_=ye(this.get("indicator")||[],function(A){A.max!=null&&A.max>0&&!A.min?A.min=0:A.min!=null&&A.min<0&&!A.max&&(A.max=0);var T=u;A.color!=null&&(T=De({color:A.color},u));var L=ie(Gt(A),{boundaryGap:t,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:l,name:A.text,showName:f,nameLocation:"end",nameGap:v,nameTextStyle:T,triggerEvent:w},!1);if(kn(g)){var R=L.name;L.name=g.replace("{value}",R??"")}else In(g)&&(L.name=g(L.name,L));var z=new Nr(L,null,this.ecModel);return oe(z,hh.prototype),z.mainType="radar",z.componentIndex=this.componentIndex,z},this);this._indicatorModels=_},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ie({lineStyle:{color:"#bbb"}},fh.axisLine),axisLabel:Nb(fh.axisLabel,!1),axisTick:Nb(fh.axisTick,!1),splitLine:Nb(fh.splitLine,!0),splitArea:Nb(fh.splitArea,!0),indicator:[]},e}(pr),EC=["axisLine","axisTickLabel","axisName"],o2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var i=t.coordinateSystem;U(ye(i.getIndicatorAxes(),function(r){var o=r.model.get("showName")?r.name:"";return new hs(r.model,{axisName:o,position:[i.cx,i.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){U(EC,r.add,r),this.group.add(r.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=t.get("shape"),a=t.getModel("splitLine"),l=t.getModel("splitArea"),u=a.getModel("lineStyle"),f=l.getModel("areaStyle"),g=a.get("show"),v=l.get("show"),w=u.get("color"),_=f.get("color"),A=he(w)?w:[w],T=he(_)?_:[_],L=[],R=[];if(o==="circle")for(var z=r[0].getTicksCoords(),j=i.cx,X=i.cy,Z=0;Z<z.length;Z++)g&&L[Yt(L,A,Z)].push(new El({shape:{cx:j,cy:X,r:z[Z].coord}})),v&&Z<z.length-1&&R[Yt(R,T,Z)].push(new Ap({shape:{cx:j,cy:X,r0:z[Z].coord,r:z[Z+1].coord}}));else{var Q,nt=ye(r,function(ee,le){var ge=ee.getTicksCoords();return Q=Q==null?ge.length-1:Math.min(ge.length-1,Q),ye(ge,function(be){return i.coordToPoint(be.coord,le)})}),it=[];for(Z=0;Z<=Q;Z++){for(var mt=[],bt=0;bt<r.length;bt++)mt.push(nt[bt][Z]);mt[0]&&mt.push(mt[0].slice()),g&&L[Yt(L,A,Z)].push(new ss({shape:{points:mt}})),v&&it&&R[Yt(R,T,Z-1)].push(new as({shape:{points:mt.concat(it)}})),it=mt.slice().reverse()}}var St=u.getLineStyle(),Ot=f.getAreaStyle();U(R,function(ee,le){this.group.add(As(ee,{style:De({stroke:"none",fill:T[le%T.length]},Ot),silent:!0}))},this),U(L,function(ee,le){this.group.add(As(ee,{style:De({fill:"none",stroke:A[le%A.length]},St),silent:!0}))},this)}function Yt(ee,le,ge){var be=ge%le.length;return ee[be]=ee[be]||[],be}},e.type="radar",e}(io),fL=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return wt(e,n),e}(Ds),gL=function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=ye(e.getIndicatorModels(),function(r,o){var a="indicator_"+o,l=new fL(a,new Mc);return l.name=r.get("name"),l.model=r,r.axis=l,this.dimensions.push(a),l},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var i=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(i),this.cy-e*Math.sin(i)]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=Math.sqrt(t*t+i*i);t/=r,i/=r;for(var o,a=Math.atan2(-i,t),l=1/0,u=-1,f=0;f<this._indicatorAxes.length;f++){var g=this._indicatorAxes[f],v=Math.abs(a-g.angle);v<l&&(o=g,u=f,l=v)}return[u,+(o&&o.coordToData(r))]},n.prototype.resize=function(e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight(),a=Math.min(r,o)/2;this.cx=Yn(i[0],r),this.cy=Yn(i[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var l=e.get("radius");(kn(l)||fi(l))&&(l=[0,l]),this.r0=Yn(l[0],a),this.r=Yn(l[1],a),U(this._indicatorAxes,function(u,f){u.setExtent(this.r0,this.r);var g=this.startAngle+f*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g)),u.angle=g},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;U(i,function(l){l.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(l,u){if(l.get("coordinateSystem")==="radar"&&e.getComponent("radar",l.get("radarIndex"))===r){var f=l.getData();U(i,function(g){g.scale.unionExtentFromData(f,f.mapDimension(g.dim))})}},this);var o=r.get("splitNumber"),a=new Mc;a.setExtent(0,o),a.setInterval(1),U(i,function(l,u){CC(l.scale,l.model,a)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeriesByType("radar",function(r){r.get("coordinateSystem")==="radar"&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();function mL(n){n.registerCoordinateSystem("radar",gL),n.registerComponentModel(r2),n.registerComponentView(o2),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var a2="\0_ec_interaction_mutex";function s2(n,e){return!!PC(n)[e]}function PC(n){return n[a2]||(n[a2]={})}Us({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},En);var Ny=function(n){function e(t){var i=n.call(this)||this;i._zr=t;var r=Be(i._mousedownHandler,i),o=Be(i._mousemoveHandler,i),a=Be(i._mouseupHandler,i),l=Be(i._mousewheelHandler,i),u=Be(i._pinchHandler,i);return i.enable=function(f,g){this.disable(),this._opt=De(Gt(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),f==null&&(f=!0),f!==!0&&f!=="move"&&f!=="pan"||(t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",a)),f!==!0&&f!=="scale"&&f!=="zoom"||(t.on("mousewheel",l),t.on("pinch",u))},i.disable=function(){t.off("mousedown",r),t.off("mousemove",o),t.off("mouseup",a),t.off("mousewheel",l),t.off("pinch",u)},i}return wt(e,n),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!xe(t)){for(var i=t.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&mm("moveOnMouseMove",t,this._opt)&&t.gestureEvent!=="pinch"&&!s2(this._zr,"globalPan")){var i=t.offsetX,r=t.offsetY,o=this._x,a=this._y,l=i-o,u=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&jt(t.event),RC(this,"pan","moveOnMouseMove",t,{dx:l,dy:u,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){xe(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var i=mm("zoomOnMouseWheel",t,this._opt),r=mm("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,a=Math.abs(o),l=t.offsetX,u=t.offsetY;if(o!==0&&(i||r)){if(i){var f=a>3?1.4:a>1?1.2:1.1;NC(this,"zoom","zoomOnMouseWheel",t,{scale:o>0?f:1/f,originX:l,originY:u,isAvailableBehavior:null})}if(r){var g=Math.abs(o);NC(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(o>0?1:-1)*(g>3?.4:g>1?.15:.05),originX:l,originY:u,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){s2(this._zr,"globalPan")||NC(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(M);function NC(n,e,t,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(jt(i.event),RC(n,e,t,i,r))}function RC(n,e,t,i,r){r.isAvailableBehavior=Be(mm,null,t,i),n.trigger(e,r)}function mm(n,e,t){var i=t[n];return!n||i&&(!kn(i)||e.event[i+"Key"])}function Ry(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function yf(n,e,t,i){var r=n.target,o=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=e,o){var l=o.min||0,u=o.max||1/0;a=Math.max(Math.min(u,a),l)}var f=a/n.zoom;n.zoom=a,r.x-=(t-r.x)*(f-1),r.y-=(i-r.y)*(f-1),r.scaleX*=f,r.scaleY*=f,r.dirty()}var vm,BC={axisPointer:1,tooltip:1,brush:1};function By(n,e,t){var i=e.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==t&&!BC.hasOwnProperty(i.mainType)&&r&&r.model!==t}function zC(n){kn(n)&&(n=new DOMParser().parseFromString(n,"text/xml"));var e=n;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var xf={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},zy=Re(xf),Rb={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Bb=Re(Rb),FC=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=zC(e);this._defsUsePending=[];var r=new Ei;this._root=r;var o=[],a=i.getAttribute("viewBox")||"",l=parseFloat(i.getAttribute("width")||t.width),u=parseFloat(i.getAttribute("height")||t.height);isNaN(l)&&(l=null),isNaN(u)&&(u=null),fl(i,r,null,!0,!1);for(var f,g,v=i.firstChild;v;)this._parseNode(v,r,o,null,!1,!1),v=v.nextSibling;if(function(A,T){for(var L=0;L<T.length;L++){var R=T[L];R[0].style[R[1]]=A[R[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var w=Fb(a);w.length>=4&&(f={x:parseFloat(w[0]||0),y:parseFloat(w[1]||0),width:parseFloat(w[2]),height:parseFloat(w[3])})}if(f&&l!=null&&u!=null&&(g=u2(f,{x:0,y:0,width:l,height:u}),!t.ignoreViewBox)){var _=r;(r=new Ei).add(_),_.scaleX=_.scaleY=g.scale,_.x=g.x,_.y=g.y}return t.ignoreRootClip||l==null||u==null||r.setClipPath(new br({shape:{x:0,y:0,width:l,height:u}})),{root:r,width:l,height:u,viewBoxRect:f,viewBoxTransform:g,named:o}},n.prototype._parseNode=function(e,t,i,r,o,a){var l,u=e.nodeName.toLowerCase(),f=r;if(u==="defs"&&(o=!0),u==="text"&&(a=!0),u==="defs"||u==="switch")l=t;else{if(!o){var g=vm[u];if(g&&vn(vm,u)){l=g.call(this,e,t);var v=e.getAttribute("name");if(v){var w={name:v,namedFrom:null,svgNodeTagLower:u,el:l};i.push(w),u==="g"&&(f=w)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:u,el:l});t.add(l)}}var _=VC[u];if(_&&vn(VC,u)){var A=_.call(this,e),T=e.getAttribute("id");T&&(this._defs[T]=A)}}if(l&&l.isGroup)for(var L=e.firstChild;L;)L.nodeType===1?this._parseNode(L,l,i,f,o,a):L.nodeType===3&&a&&this._parseText(L,l),L=L.nextSibling},n.prototype._parseText=function(e,t){var i=new Gr({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});pl(t,i),fl(e,i,this._defsUsePending,!1,!1),function(u,f){var g=f.__selfStyle;if(g){var v=g.textBaseline,w=v;v&&v!=="auto"?v==="baseline"?w="alphabetic":v==="before-edge"||v==="text-before-edge"?w="top":v==="after-edge"||v==="text-after-edge"?w="bottom":v!=="central"&&v!=="mathematical"||(w="middle"):w="alphabetic",u.style.textBaseline=w}var _=f.__inheritedStyle;if(_){var A=_.textAlign,T=A;A&&(A==="middle"&&(T="center"),u.style.textAlign=T)}}(i,t);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var l=i.getBoundingRect();return this._textX+=l.width,t.add(i),i},n.internalField=void(vm={g:function(e,t){var i=new Ei;return pl(t,i),fl(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new br;return pl(t,i),fl(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new El;return pl(t,i),fl(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new Zo;return pl(t,i),fl(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new lv;return pl(t,i),fl(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var i,r=e.getAttribute("points");r&&(i=HC(r));var o=new as({shape:{points:i||[]},silent:!0});return pl(t,o),fl(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var i,r=e.getAttribute("points");r&&(i=HC(r));var o=new ss({shape:{points:i||[]},silent:!0});return pl(t,o),fl(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var i=new Kr;return pl(t,i),fl(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var l=new Ei;return pl(t,l),fl(e,l,this._defsUsePending,!1,!0),l},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");i!=null&&(this._textX=parseFloat(i)),r!=null&&(this._textY=parseFloat(r));var o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",l=new Ei;return pl(t,l),fl(e,l,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),l},path:function(e,t){var i=dA(e.getAttribute("d")||"");return pl(t,i),fl(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),VC={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new Tp(e,t,i,r);return zb(n,o),ym(n,o),o},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new aw(e,t,i);return zb(n,r),ym(n,r),r}};function zb(n,e){n.getAttribute("gradientUnits")==="userSpaceOnUse"&&(e.global=!0)}function ym(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var i=t.getAttribute("offset"),r=void 0;r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};Zs(t,o,o);var a=o.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:a})}t=t.nextSibling}}function pl(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),De(e.__inheritedStyle,n.__inheritedStyle))}function HC(n){for(var e=Fb(n),t=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);t.push([r,o])}return t}function fl(n,e,t,i,r){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},l={};n.nodeType===1&&(function(u,f){var g=u.getAttribute("transform");if(g){g=g.replace(/,/g," ");var v=[],w=null;g.replace(yL,function(R,z,j){return v.push(z,j),""});for(var _=v.length-1;_>0;_-=2){var A=v[_],T=v[_-1],L=Fb(A);switch(w=w||[1,0,0,1,0,0],T){case"translate":lr(w,w,[parseFloat(L[0]),parseFloat(L[1]||"0")]);break;case"scale":Ar(w,w,[parseFloat(L[0]),parseFloat(L[1]||L[0])]);break;case"rotate":xr(w,w,-parseFloat(L[0])*Vb);break;case"skewX":Wi(w,[1,0,Math.tan(parseFloat(L[0])*Vb),1,0,0],w);break;case"skewY":Wi(w,[1,Math.tan(parseFloat(L[0])*Vb),0,1,0,0],w);break;case"matrix":w[0]=parseFloat(L[0]),w[1]=parseFloat(L[1]),w[2]=parseFloat(L[2]),w[3]=parseFloat(L[3]),w[4]=parseFloat(L[4]),w[5]=parseFloat(L[5])}}f.setLocalTransform(w)}}(n,e),Zs(n,a,l),i||function(u,f,g){for(var v=0;v<zy.length;v++){var w=zy[v];(_=u.getAttribute(w))!=null&&(f[xf[w]]=_)}for(v=0;v<Bb.length;v++){var _;w=Bb[v],(_=u.getAttribute(w))!=null&&(g[Rb[w]]=_)}}(n,a,l)),o.style=o.style||{},a.fill!=null&&(o.style.fill=l2(o,"fill",a.fill,t)),a.stroke!=null&&(o.style.stroke=l2(o,"stroke",a.stroke,t)),U(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){a[u]!=null&&(o.style[u]=parseFloat(a[u]))}),U(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){a[u]!=null&&(o.style[u]=a[u])}),r&&(o.__selfStyle=l),a.lineDash&&(o.style.lineDash=ye(Fb(a.lineDash),function(u){return parseFloat(u)})),a.visibility!=="hidden"&&a.visibility!=="collapse"||(o.invisible=!0),a.display==="none"&&(o.ignore=!0)}var vL=/^url\(\s*#(.*?)\)/;function l2(n,e,t,i){var r=t&&t.match(vL);if(!r)return t==="none"&&(t=null),t;var o=Pe(r[1]);i.push([n,e,o])}var c2=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Fb(n){return n.match(c2)||[]}var yL=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Vb=Math.PI/180,WC=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Zs(n,e,t){var i,r=n.getAttribute("style");if(r)for(WC.lastIndex=0;(i=WC.exec(r))!=null;){var o=i[1],a=vn(xf,o)?xf[o]:null;a&&(e[a]=i[2]);var l=vn(Rb,o)?Rb[o]:null;l&&(t[l]=i[2])}}function u2(n,e){var t=e.width/n.width,i=e.height/n.height,r=Math.min(t,i);return{scale:r,x:-(n.x+n.width/2)*r+(e.x+e.width/2),y:-(n.y+n.height/2)*r+(e.y+e.height/2)}}for(var h2=yn(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),d2=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=yn(),this._freedGraphics=[],this._mapName=e,this._parsedXML=zC(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function(o){var a=[],l=yn();return U(o,function(u){if(u.namedFrom==null){var f=new QM(u.name,u.el);a.push(f),l.set(u.name,f)}}),{regions:a,regionsMap:l}}(e.named),i=t.regions,r=t.regionsMap;this._regions=i,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i,r,o;try{ve((i=(t=e&&(r=e,o={ignoreViewBox:!0,ignoreRootClip:!0},new FC().parse(r,o))||{}).root)!=null)}catch(z){throw new Error(`Invalid svg format
`+z.message)}var a=new Ei;a.add(i),a.isGeoSVGGraphicRoot=!0;var l=t.width,u=t.height,f=t.viewBoxRect,g=this._boundingRect;if(!g){var v=void 0,w=void 0,_=void 0,A=void 0;if(l!=null?(v=0,_=l):f&&(v=f.x,_=f.width),u!=null?(w=0,A=u):f&&(w=f.y,A=f.height),v==null||w==null){var T=i.getBoundingRect();v==null&&(v=T.x,_=T.width),w==null&&(w=T.y,A=T.height)}g=this._boundingRect=new Qi(v,w,_,A)}if(f){var L=u2(f,g);i.scaleX=i.scaleY=L.scale,i.x=L.x,i.y=L.y}a.setClipPath(new br({shape:g.plain()}));var R=[];return U(t.named,function(z){var j;h2.get(z.svgNodeTagLower)!=null&&(R.push(z),(j=z.el).silent=!1,j.isGroup&&j.traverse(function(X){X.silent=!1}))}),{root:a,boundingRect:g,named:R}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n}(),jC=[126,25],xm="南海诸岛",bu=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],bf=0;bf<bu.length;bf++)for(var gh=0;gh<bu[bf].length;gh++)bu[bf][gh][0]/=10.5,bu[bf][gh][1]/=-14,bu[bf][gh][0]+=jC[0],bu[bf][gh][1]+=jC[1];var xL={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]},Wl=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Hb=function(){function n(e,t,i){var r;this.type="geoJSON",this._parsedMap=yn(),this._mapName=e,this._specialAreas=i,this._geoJSON=kn(r=t)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return n.prototype.load=function(e,t){t=t||"name";var i=this._parsedMap.get(t);if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:p2(r)})}var o=yn(),a=[];return U(i.regions,function(l){var u=l.name;e&&vn(e,u)&&(l=l.cloneShallow(u=e[u])),a.push(l),o.set(u,l)}),{regions:a,boundingRect:i.boundingRect||new Qi(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(e){var t,i=this._mapName,r=this._geoJSON;try{t=r?af(r,e):[]}catch(o){throw new Error(`Invalid geoJson format
`+o.message)}return function(o,a){if(o==="china"){for(var l=0;l<a.length;l++)if(a[l].name===xm)return;a.push(new Cd(xm,ye(bu,function(u){return{type:"polygon",exterior:u}}),jC))}}(i,t),U(t,function(o){var a=o.name;(function(u,f){if(u==="china"){var g=xL[f.name];if(g){var v=f.getCenter();v[0]+=g[0]/10.5,v[1]+=-g[1]/14,f.setCenter(v)}}})(i,o),function(u,f){u==="china"&&f.name==="台湾"&&f.geometries.push({type:"polygon",exterior:Wl[0]})}(i,o);var l=this._specialAreas&&this._specialAreas[a];l&&o.transformTo(l.left,l.top,l.width,l.height)},this),t},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function p2(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();(e=e||i.clone()).union(i)}return e}var Fy=yn(),f2=function(n,e,t){if(e.svg){var i=new d2(n,e.svg);Fy.set(n,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e,i=new Hb(n,r,t),Fy.set(n,i)}},Vy=function(n){return Fy.get(n)},g2=function(n){var e=Fy.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},Wb=function(n,e,t){var i=Fy.get(n);if(i)return i.load(e,t)},YC=["rect","circle","line","ellipse","polygon","polyline","path"],bL=yn(YC),wL=yn(YC.concat(["g"])),_L=yn(YC.concat(["g"])),m2=hr();function jb(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function v2(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Hy=function(){function n(e){var t=new Ei;this.uid=Bp("ec_map_draw"),this._controller=new Ny(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Ei),t.add(this._svgGroup=new Ei)}return n.prototype.draw=function(e,t,i,r,o){var a=e.mainType==="geo",l=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(L){l||L.getHostGeoModel()!==e||(l=L.getData())});var u=e.coordinateSystem,f=this._regionsGroup,g=this.group,v=u.getTransformInfo(),w=v.raw,_=v.roam;!f.childAt(0)||o?(g.x=_.x,g.y=_.y,g.scaleX=_.scaleX,g.scaleY=_.scaleY,g.dirty()):Mr(g,_,e);var A=l&&l.getVisual("visualMeta")&&l.getVisual("visualMeta").length>0,T={api:i,geo:u,mapOrGeoModel:e,data:l,isVisualEncodedByVisualMap:A,isGeo:a,transformInfoRaw:w};u.resourceType==="geoJSON"?this._buildGeoJSON(T):u.resourceType==="geoSVG"&&this._buildSVG(T),this._updateController(e,t,i),this._updateMapSelectHandler(e,f,i,r)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=yn(),i=yn(),r=this._regionsGroup,o=e.transformInfoRaw,a=e.mapOrGeoModel,l=e.data,u=e.geo.projection,f=u&&u.stream;function g(_,A){return A&&(_=A(_)),_&&[_[0]*o.scaleX+o.x,_[1]*o.scaleY+o.y]}function v(_){for(var A=[],T=!f&&u&&u.project,L=0;L<_.length;++L){var R=g(_[L],T);R&&A.push(R)}return A}function w(_){return{shape:{points:v(_)}}}r.removeAll(),U(e.geo.regions,function(_){var A=_.name,T=t.get(A),L=i.get(A)||{},R=L.dataIdx,z=L.regionModel;T||(T=t.set(A,new Ei),r.add(T),R=l?l.indexOfName(A):null,z=e.isGeo?a.getRegionModel(A):l?l.getItemModel(R):null,i.set(A,{dataIdx:R,regionModel:z}));var j=[],X=[];U(_.geometries,function(nt){if(nt.type==="polygon"){var it=[nt.exterior].concat(nt.interiors||[]);f&&(it=x2(it,f)),U(it,function(bt){j.push(new as(w(bt)))})}else{var mt=nt.points;f&&(mt=x2(mt,f,!0)),U(mt,function(bt){X.push(new ss(w(bt)))})}});var Z=g(_.getCenter(),u&&u.project);function Q(nt,it){if(nt.length){var mt=new F0({culling:!0,segmentIgnoreThreshold:1,shape:{paths:nt}});T.add(mt),Yb(e,mt,R,z),y2(e,mt,A,z,a,R,Z),it&&(v2(mt),U(mt.states,v2))}}Q(j),Q(X,!0)}),t.each(function(_,A){var T=i.get(A),L=T.dataIdx,R=T.regionModel;GC(e,_,A,R,a,L),XC(e,_,A,R,a),Gb(e,_,A,R,a)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=yn(),o=!1;U(this._svgGraphicRecord.named,function(a){var l=a.name,u=e.mapOrGeoModel,f=e.data,g=a.svgNodeTagLower,v=a.el,w=f?f.indexOfName(l):null,_=u.getRegionModel(l);bL.get(g)!=null&&v instanceof _a&&Yb(e,v,w,_),v instanceof _a&&(v.culling=!0),v.z2EmphasisLift=0,a.namedFrom||(_L.get(g)!=null&&y2(e,v,l,_,u,w,null),GC(e,v,l,_,u,w),XC(e,v,l,_,u),wL.get(g)!=null&&(Gb(e,v,l,_,u)==="self"&&(o=!0),(r.get(l)||r.set(l,[])).push(v)))},this),this._enableBlurEntireSVG(o,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){_p(r);var o=r.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),r.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var i=t.coordinateSystem;if(i.resourceType==="geoJSON"){var r=this._regionsGroupByName;if(r){var o=r.get(e);return o?[o]:[]}}else if(i.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Vy(e);if(t&&t.type==="geoSVG"){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Vy(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i){var r=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(e.get("roam")||!1);var l=e.mainType;function u(){var f={type:"geoRoam",componentType:l};return f[l+"Id"]=e.id,f}o.off("pan").on("pan",function(f){this._mouseDownFlag=!1,Ry(a,f.dx,f.dy),i.dispatchAction(pe(u(),{dx:f.dx,dy:f.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(f){this._mouseDownFlag=!1,yf(a,f.scale,f.originX,f.originY),i.dispatchAction(pe(u(),{zoom:f.scale,originX:f.originX,originY:f.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(f,g,v){return r.containPoint([g,v])&&!By(f,i,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=m2(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,r){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){o._mouseDownFlag=!0}),t.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function Yb(n,e,t,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),l=i.getModel(["select","itemStyle"]),u=jb(r),f=jb(o),g=jb(l),v=jb(a),w=n.data;if(w){var _=w.getItemVisual(t,"style"),A=w.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&_.fill&&(u.fill=_.fill),A&&(u.decal=Zp(A,n.api))}e.setStyle(u),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=f,e.ensureState("select").style=g,e.ensureState("blur").style=v,_p(e)}function y2(n,e,t,i,r,o,a){var l=n.data,u=n.isGeo,f=l&&isNaN(l.get(l.mapDimension("value"),o)),g=l&&l.getItemLayout(o);if(u||f||g&&g.showLabel){var v=u?t:o,w=void 0;(!l||o>=0)&&(w=r);var _=a?{normal:{align:"center",verticalAlign:"middle"}}:null;so(e,Xr(i),{labelFetcher:w,labelDataIndex:v,defaultText:t},_);var A=e.getTextContent();if(A&&(m2(A).ignore=A.ignore,e.textConfig&&a)){var T=e.getBoundingRect().clone();e.textConfig.layoutRect=T,e.textConfig.position=[(a[0]-T.x)/T.width*100+"%",(a[1]-T.y)/T.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function GC(n,e,t,i,r,o){n.data?n.data.setItemGraphicEl(o,e):Ui(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:i&&i.option||{}}}function XC(n,e,t,i,r){n.data||Pp({el:e,componentModel:r,itemName:t,itemTooltipOption:i.get("tooltip")})}function Gb(n,e,t,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),a=o.get("focus");return Io(e,a,o.get("blurScope"),o.get("disabled")),n.isGeo&&function(l,u,f){var g=Ui(l);g.componentMainType=u.mainType,g.componentIndex=u.componentIndex,g.componentHighDownName=f}(e,r,t),a}function x2(n,e,t){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var l=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(u,f){isFinite(u)&&isFinite(f)&&i.push([u,f])},sphere:function(){}});return!t&&l.polygonStart(),U(n,function(u){l.lineStart();for(var f=0;f<u.length;f++)l.point(u[f][0],u[f][1]);l.lineEnd()}),!t&&l.polygonEnd(),r}var b2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r,o){if(!o||o.type!=="mapToggleSelect"||o.from!==this.uid){var a=this.group;if(a.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&o&&o.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),o&&o.type==="geoRoam"&&o.componentType==="series"&&o.seriesId===t.id)(l=this._mapDraw)&&a.add(l.group);else if(t.needsDrawMap){var l=this._mapDraw||new Hy(r);a.add(l.group),l.draw(t,i,r,this,o),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,r){var o=t.originalData,a=this.group;o.each(o.mapDimension("value"),function(l,u){if(!isNaN(l)){var f=o.getItemLayout(u);if(f&&f.point){var g=f.point,v=f.offset,w=new El({style:{fill:t.getData().getVisual("style").fill},shape:{cx:g[0]+9*v,cy:g[1],r:3},silent:!0,z2:8+(v?0:11)});if(!v){var _=t.mainSeries.getData(),A=o.getName(u),T=_.indexOfName(A),L=o.getItemModel(u),R=L.getModel("label"),z=_.getItemGraphicEl(T);so(w,Xr(L),{labelFetcher:{getFormattedLabel:function(j,X){return t.getFormattedLabel(T,X)}},defaultText:A}),w.disableLabelAnimation=!0,R.get("position")||w.setTextConfig({position:"bottom"}),z.onHoverStateChange=function(j){D0(w,j)}}a.add(w)}}})},e.type="map",e}(qr),w2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(i!=null){var r=this.getData().getName(i),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},t}return wt(e,n),e.prototype.getInitialData=function(t){for(var i=ff(this,{coordDimensions:["value"],encodeDefaulter:un(Ew,this)}),r=yn(),o=[],a=0,l=i.count();a<l;a++){var u=i.getName(a);r.set(u,!0)}return U(Wb(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(f){var g=f.name;r.get(g)||o.push(g)}),i.appendValues([],o),i},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData(),a=this.getRawValue(t),l=o.getName(t),u=this.seriesGroup,f=[],g=0;g<u.length;g++){var v=u[g].originalData.indexOfName(l),w=o.mapDimension("value");isNaN(u[g].originalData.get(w,v))||f.push(u[g].name)}return oa("section",{header:f.join(", "),noHeader:!f.length,blocks:[oa("nameValue",{name:l,value:a})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",r=Do(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Vr);function _2(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),U(e,function(t,i){for(var r,o,a,l=(r=ye(t,function(f){return f.getData()}),o=t[0].get("mapValueCalculation"),a={},U(r,function(f){f.each(f.mapDimension("value"),function(g,v){var w="ec-"+f.getName(v);a[w]=a[w]||[],isNaN(g)||a[w].push(g)})}),r[0].map(r[0].mapDimension("value"),function(f,g){for(var v="ec-"+r[0].getName(g),w=0,_=1/0,A=-1/0,T=a[v].length,L=0;L<T;L++)_=Math.min(_,a[v][L]),A=Math.max(A,a[v][L]),w+=a[v][L];return T===0?NaN:o==="min"?_:o==="max"?A:o==="average"?w/T:w})),u=0;u<t.length;u++)t[u].originalData=t[u].getData();for(u=0;u<t.length;u++)t[u].seriesGroup=t,t[u].needsDrawMap=u===0&&!t[u].getHostGeoModel(),t[u].setData(l.cloneShallow()),t[u].mainSeries=t[0]})}function S2(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!t.getHostGeoModel()&&!e[i]){var r={};U(t.seriesGroup,function(a){var l=a.coordinateSystem,u=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&u.each(u.mapDimension("value"),function(f,g){var v=u.getName(g),w=l.getRegion(v);if(w&&!isNaN(f)){var _=r[v]||0,A=l.dataToPoint(w.getCenter());r[v]=_+1,u.setItemLayout(g,{point:A,offset:_})}})});var o=t.getData();o.each(function(a){var l=o.getName(a),u=o.getItemLayout(a)||{};u.showLabel=!r[l],o.setItemLayout(a,u)}),e[i]=!0}})}var Xb=Or,wf=function(n){function e(t){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new lc,i._rawTransformable=new lc,i.name=t,i}return wt(e,n),e.prototype.setBoundingRect=function(t,i,r,o){return this._rect=new Qi(t,i,r,o),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,r,o){this._transformTo(t,i,r,o),this._viewRect=new Qi(t,i,r,o)},e.prototype._transformTo=function(t,i,r,o){var a=this.getBoundingRect(),l=this._rawTransformable;l.transform=a.calculateTransform(new Qi(t,i,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,this._updateTransform()},e.prototype.setCenter=function(t,i){t&&(this._center=[Yn(t[0],i.getWidth()),Yn(t[1],i.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(i.max!=null&&(t=Math.min(i.max,t)),i.min!=null&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=Or([],o,t),r=Or([],r,t),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),ri(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Er(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,r=new lc;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?Xb(r,t,o):Ni(r,t)},e.prototype.pointToData=function(t){var i=this.invTransform;return i?Xb([],t,i):[t[0],t[1]]},e.prototype.convertToPixel=function(t,i,r){var o=C2(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=C2(i);return o===this?o.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(lc);function C2(n){var e=n.seriesModel;return e?e.coordinateSystem:null}var SL={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},k2=["lng","lat"],qb=function(n){function e(t,i,r){var o=n.call(this,t)||this;o.dimensions=k2,o.type="geo",o._nameCoordMap=yn(),o.map=i;var a,l=r.projection,u=Wb(i,r.nameMap,r.nameProperty),f=Vy(i),g=(o.resourceType=f?f.type:null,o.regions=u.regions),v=SL[f.type];if(o._regionsMap=u.regionsMap,o.regions=u.regions,o.projection=l,l)for(var w=0;w<g.length;w++){var _=g[w].getBoundingRect(l);(a=a||_.clone()).union(_)}else a=u.boundingRect;return o.setBoundingRect(a.x,a.y,a.width,a.height),o.aspectScale=l?1:Rt(r.aspectScale,v.aspectScale),o._invertLongitute=!l&&v.invertLongitute,o}return wt(e,n),e.prototype._transformTo=function(t,i,r,o){var a=this.getBoundingRect(),l=this._invertLongitute;a=a.clone(),l&&(a.y=-a.y-a.height);var u=this._rawTransformable;u.transform=a.calculateTransform(new Qi(t,i,r,o));var f=u.parent;u.parent=null,u.decomposeTransform(),u.parent=f,l&&(u.scaleY=-u.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if(o.type==="geoJSON"&&o.contain(t))return i[r]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,r){if(kn(t)&&(t=this.getGeoCoord(t)),t){var o=this.projection;return o&&(t=o.project(t)),t&&this.projectedToPoint(t,i,r)}},e.prototype.pointToData=function(t){var i=this.projection;return i&&(t=i.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,i,r){return n.prototype.dataToPoint.call(this,t,i,r)},e.prototype.convertToPixel=function(t,i,r){var o=Wy(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=Wy(i);return o===this?o.pointToData(r):null},e}(wf);function Wy(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",go).models[0]||{}).coordinateSystem:null}function Ub(n,e){var t=n.get("boundingCoords");if(t!=null){var i=t[0],r=t[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],l=i[1],u=r[0],f=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var g=function(Q,nt,it,mt){for(var bt=it-Q,St=mt-nt,Ot=0;Ot<=100;Ot++){var Yt=Ot/100,ee=o.project([Q+bt*Yt,nt+St*Yt]);$t(i,i,ee),h(r,r,ee)}};g(a,l,u,l),g(u,l,u,f),g(u,f,a,f),g(a,f,u,l)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var v,w,_,A=this.getBoundingRect(),T=n.get("layoutCenter"),L=n.get("layoutSize"),R=e.getWidth(),z=e.getHeight(),j=A.width/A.height*this.aspectScale,X=!1;if(T&&L&&(v=[Yn(T[0],R),Yn(T[1],z)],w=Yn(L,Math.min(R,z)),isNaN(v[0])||isNaN(v[1])||isNaN(w)||(X=!0)),X)_={},j>1?(_.width=w,_.height=w/j):(_.height=w,_.width=w*j),_.y=v[1]-_.height/2,_.x=v[0]-_.width/2;else{var Z=n.getBoxLayoutParams();Z.aspect=j,_=Ao(Z,{width:R,height:z})}this.setViewRect(_.x,_.y,_.width,_.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}oe(qb,wf);var A2=function(){function n(){this.dimensions=k2}return n.prototype.create=function(e,t){var i=[];function r(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}e.eachComponent("geo",function(a,l){var u=a.get("map"),f=new qb(u+l,u,pe({nameMap:a.get("nameMap")},r(a)));f.zoomLimit=a.get("scaleLimit"),i.push(f),a.coordinateSystem=f,f.model=a,f.resize=Ub,f.resize(a,t)}),e.eachSeries(function(a){if(a.get("coordinateSystem")==="geo"){var l=a.get("geoIndex")||0;a.coordinateSystem=i[l]}});var o={};return e.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var l=a.getMapType();o[l]=o[l]||[],o[l].push(a)}}),U(o,function(a,l){var u=ye(a,function(g){return g.get("nameMap")}),f=new qb(l,l,pe({nameMap:Le(u)},r(a[0])));f.zoomLimit=Ri.apply(null,ye(a,function(g){return g.get("scaleLimit")})),i.push(f),f.resize=Ub,f.resize(a[0],t),U(a,function(g){g.coordinateSystem=f,function(v,w){U(w.get("geoCoord"),function(_,A){v.addGeoCoord(A,_)})}(f,g)})}),i},n.prototype.getFilledRegions=function(e,t,i,r){for(var o=(e||[]).slice(),a=yn(),l=0;l<o.length;l++)a.set(o[l].name,o[l]);return U(Wb(t,i,r).regions,function(u){var f=u.name;!a.get(f)&&o.push({name:f})}),o},n}(),_f=new A2,M2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t,i,r){var o=Vy(t.map);if(o&&o.type==="geoJSON"){var a=t.itemStyle=t.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(t,r),qc(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=_f.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=cn(i.regions||[],function(o,a){var l=a.name;return l&&(o.set(l,new Nr(a,t,t.ecModel)),a.selected&&(r[l]=!0)),o},yn()),i.selectedMap||(i.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Nr(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var r=this.getRegionModel(t),o=i==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]),a={name:t};return In(o)?(a.status=i,o(a)):kn(o)?o.replace("{a}",t??""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,r=i.selectedMode;r&&(r!=="multiple"&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!(!i||!i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(pr);function qC(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function $b(n,e,t,i){var r=n.getZoom(),o=n.getCenter(),a=e.zoom,l=n.projectedToPoint?n.projectedToPoint(o):n.dataToPoint(o);if(e.dx!=null&&e.dy!=null&&(l[0]-=e.dx,l[1]-=e.dy,n.setCenter(qC(n,l),i)),a!=null){if(t){var u=t.min||0,f=t.max||1/0;a=Math.max(Math.min(r*a,f),u)/r}n.scaleX*=a,n.scaleY*=a;var g=(e.originX-n.x)*(a-1),v=(e.originY-n.y)*(a-1);n.x-=g,n.y-=v,n.updateTransform(),n.setCenter(qC(n,l),i),n.setZoom(a*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var CL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return wt(e,n),e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,r,o){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Hy(r));var a=this._mapDraw;a.draw(t,i,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=t.get("silent"),this.group.add(a.group),this.updateSelectStatus(t,i,r)},e.prototype._handleRegionClick=function(t){var i;fd(t.target,function(r){return(i=Ui(r).eventData)!=null},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,r){var o=this;this._mapDraw.group.traverse(function(a){var l=Ui(a).eventData;if(l)return o._model.isSelected(l.name)?r.enterSelect(a):r.leaveSelect(a),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(io);function T2(n,e,t){f2(n,e,t)}function UC(n){function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var a={},l=[];return o.eachComponent({mainType:"geo",query:r},function(u){u[t](r.name),U(u.coordinateSystem.regions,function(g){a[g.name]=u.isSelected(g.name)||!1});var f=[];U(a,function(g,v){a[v]&&f.push(v)}),l.push({geoIndex:u.componentIndex,name:f})}),{selected:a,allSelected:l,name:r.name}})}n.registerCoordinateSystem("geo",_f),n.registerComponentModel(M2),n.registerComponentView(CL),n.registerImpl("registerMap",T2),n.registerImpl("getMap",function(t){return g2(t)}),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i,r){var o=t.componentType||"series";i.eachComponent({mainType:o,query:t},function(a){var l=a.coordinateSystem;if(l.type==="geo"){var u=$b(l,t,a.get("scaleLimit"),r);a.setCenter&&a.setCenter(u.center),a.setZoom&&a.setZoom(u.zoom),o==="series"&&U(a.seriesGroup,function(f){f.setCenter(u.center),f.setZoom(u.zoom)})}})})}function I2(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){(function(a){for(var l=a.children,u=l.length,f=0,g=0;--u>=0;){var v=l[u];v.hierNode.prelim+=f,v.hierNode.modifier+=f,g+=v.hierNode.change,f+=v.hierNode.shift+g}})(n);var o=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+e(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+e(n,r));n.parentNode.hierNode.defaultAncestor=function(a,l,u,f){if(l){for(var g=a,v=a,w=v.parentNode.children[0],_=l,A=g.hierNode.modifier,T=v.hierNode.modifier,L=w.hierNode.modifier,R=_.hierNode.modifier;_=ZC(_),v=Zb(v),_&&v;){g=ZC(g),w=Zb(w),g.hierNode.ancestor=a;var z=_.hierNode.prelim+R-v.hierNode.prelim-T+f(_,v);z>0&&(AL(kL(_,a,u),a,z),T+=z,A+=z),R+=_.hierNode.modifier,T+=v.hierNode.modifier,A+=g.hierNode.modifier,L+=w.hierNode.modifier}_&&!ZC(g)&&(g.hierNode.thread=_,g.hierNode.modifier+=R-A),v&&!Zb(w)&&(w.hierNode.thread=v,w.hierNode.modifier+=T-L,u=a)}return u}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],e)}function D2(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function $C(n){return arguments.length?n:ML}function bm(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function ZC(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function Zb(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function kL(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function AL(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function ML(n,e){return n.parentNode===e.parentNode?1:2}var L2=function(){this.parentPoint=[],this.childPoints=[]},TL=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new L2},e.prototype.buildPath=function(t,i){var r=i.childPoints,o=r.length,a=i.parentPoint,l=r[0],u=r[o-1];if(o===1)return t.moveTo(a[0],a[1]),void t.lineTo(l[0],l[1]);var f=i.orient,g=f==="TB"||f==="BT"?0:1,v=1-g,w=Yn(i.forkPosition,1),_=[];_[g]=a[g],_[v]=a[v]+(u[v]-a[v])*w,t.moveTo(a[0],a[1]),t.lineTo(_[0],_[1]),t.moveTo(l[0],l[1]),_[g]=l[g],t.lineTo(_[0],_[1]),_[g]=u[g],t.lineTo(_[0],_[1]),t.lineTo(u[0],u[1]);for(var A=1;A<o-1;A++){var T=r[A];t.moveTo(T[0],T[1]),_[g]=T[g],t.lineTo(_[0],_[1])}},e}(Ti),O2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new Ei,t}return wt(e,n),e.prototype.init=function(t,i){this._controller=new Ny(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var o=t.getData(),a=t.layoutInfo,l=this._mainGroup;t.get("layout")==="radial"?(l.x=a.x+a.width/2,l.y=a.y+a.height/2):(l.x=a.x,l.y=a.y),this._updateViewCoordSys(t,r),this._updateController(t,i,r);var u=this._data;o.diff(u).add(function(f){KC(o,f)&&JC(o,f,null,l,t)}).update(function(f,g){var v=u.getItemGraphicEl(g);KC(o,f)?JC(o,f,v,l,t):v&&P2(u,g,v,l,t)}).remove(function(f){var g=u.getItemGraphicEl(f);g&&P2(u,f,g,l,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&o.eachItemGraphicEl(function(f,g){f.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:g})})}),this._data=o},e.prototype._updateViewCoordSys=function(t,i){var r=t.getData(),o=[];r.each(function(v){var w=r.getItemLayout(v);!w||isNaN(w.x)||isNaN(w.y)||o.push([+w.x,+w.y])});var a=[],l=[];fc(o,a,l);var u=this._min,f=this._max;l[0]-a[0]==0&&(a[0]=u?u[0]:a[0]-1,l[0]=f?f[0]:l[0]+1),l[1]-a[1]==0&&(a[1]=u?u[1]:a[1]-1,l[1]=f?f[1]:l[1]+1);var g=t.coordinateSystem=new wf;g.zoomLimit=t.get("scaleLimit"),g.setBoundingRect(a[0],a[1],l[0]-a[0],l[1]-a[1]),g.setCenter(t.get("center"),i),g.setZoom(t.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=a,this._max=l},e.prototype._updateController=function(t,i,r){var o=this,a=this._controller,l=this._controllerHost,u=this.group;a.setPointerChecker(function(f,g,v){var w=u.getBoundingRect();return w.applyTransform(u.transform),w.contain(g,v)&&!By(f,r,t)}),a.enable(t.get("roam")),l.zoomLimit=t.get("scaleLimit"),l.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(f){Ry(l,f.dx,f.dy),r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){yf(l,f.scale,f.originX,f.originY),r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),o._updateNodeAndLinkScale(t),r.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),r=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if(i.type!=="view")return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(qr);function KC(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function JC(n,e,t,i,r){var o=!t,a=n.tree.getNodeByDataIndex(e),l=a.getModel(),u=a.getVisual("style").fill,f=a.isExpand===!1&&a.children.length!==0?u:"#fff",g=n.tree.root,v=a.parentNode===g?a:a.parentNode||a,w=n.getItemGraphicEl(v.dataIndex),_=v.getLayout(),A=w?{x:w.__oldX,y:w.__oldY,rawX:w.__radialOldRawX,rawY:w.__radialOldRawY}:_,T=a.getLayout();o?((t=new ky(n,e,null,{symbolInnerColor:f,useNameLabel:!0})).x=A.x,t.y=A.y):t.updateData(n,e,null,{symbolInnerColor:f,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=T.rawX,t.__radialRawY=T.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Mr(t,{x:T.x,y:T.y},r);var L=t.getSymbolPath();if(r.get("layout")==="radial"){var R=g.children[0],z=R.getLayout(),j=R.children.length,X=void 0,Z=void 0;if(T.x===z.x&&a.isExpand===!0&&R.children.length){var Q={x:(R.children[0].getLayout().x+R.children[j-1].getLayout().x)/2,y:(R.children[0].getLayout().y+R.children[j-1].getLayout().y)/2};(X=Math.atan2(Q.y-z.y,Q.x-z.x))<0&&(X=2*Math.PI+X),(Z=Q.x<z.x)&&(X-=Math.PI)}else(X=Math.atan2(T.y-z.y,T.x-z.x))<0&&(X=2*Math.PI+X),a.children.length===0||a.children.length!==0&&a.isExpand===!1?(Z=T.x<z.x)&&(X-=Math.PI):(Z=T.x>z.x)||(X-=Math.PI);var nt=Z?"left":"right",it=l.getModel("label"),mt=it.get("rotate"),bt=mt*(Math.PI/180),St=L.getTextContent();St&&(L.setTextConfig({position:it.get("position")||nt,rotation:mt==null?-X:bt,origin:"center"}),St.setStyle("verticalAlign","middle"))}var Ot=l.get(["emphasis","focus"]),Yt=Ot==="relative"?jn(a.getAncestorsIndices(),a.getDescendantIndices()):Ot==="ancestor"?a.getAncestorsIndices():Ot==="descendant"?a.getDescendantIndices():null;Yt&&(Ui(t).focus=Yt),function(ee,le,ge,be,Ie,He,qe,Ke){var bn=le.getModel(),Rn=ee.get("edgeShape"),Je=ee.get("layout"),Tn=ee.getOrient(),Fn=ee.get(["lineStyle","curveness"]),Xn=ee.get("edgeForkPosition"),Vn=bn.getModel("lineStyle").getLineStyle(),qn=be.__edge;if(Rn==="curve")le.parentNode&&le.parentNode!==ge&&(qn||(qn=be.__edge=new dg({shape:QC(Je,Tn,Fn,Ie,Ie)})),Mr(qn,{shape:QC(Je,Tn,Fn,He,qe)},ee));else if(Rn==="polyline"&&Je==="orthogonal"&&le!==ge&&le.children&&le.children.length!==0&&le.isExpand===!0){for(var Hn=le.children,ni=[],wi=0;wi<Hn.length;wi++){var Zi=Hn[wi].getLayout();ni.push([Zi.x,Zi.y])}qn||(qn=be.__edge=new TL({shape:{parentPoint:[qe.x,qe.y],childPoints:[[qe.x,qe.y]],orient:Tn,forkPosition:Xn}})),Mr(qn,{shape:{parentPoint:[qe.x,qe.y],childPoints:ni}},ee)}qn&&(Rn!=="polyline"||le.isExpand)&&(qn.useStyle(De({strokeNoScale:!0,fill:null},Vn)),Wo(qn,bn,"lineStyle"),_p(qn),Ke.add(qn))}(r,a,g,t,A,_,T,i),t.__edge&&(t.onHoverStateChange=function(ee){if(ee!=="blur"){var le=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);le&&le.hoverState===1||D0(t.__edge,ee)}})}function E2(n,e,t,i,r){var o=Sf(e.tree.root,n),a=o.source,l=o.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var f=e.getItemGraphicEl(a.dataIndex).__edge,g=u.__edge||(a.isExpand===!1||a.children.length===1?f:void 0),v=i.get("edgeShape"),w=i.get("layout"),_=i.get("orient"),A=i.get(["lineStyle","curveness"]);g&&(v==="curve"?Ys(g,{shape:QC(w,_,A,l,l),style:{opacity:0}},i,{cb:function(){t.remove(g)},removeOpt:r}):v==="polyline"&&i.get("layout")==="orthogonal"&&Ys(g,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){t.remove(g)},removeOpt:r}))}}function Sf(n,e){for(var t,i=e.parentNode===n?e:e.parentNode||e;(t=i.getLayout())==null;)i=i.parentNode===n?i:i.parentNode||i;return{source:i,sourceLayout:t}}function P2(n,e,t,i,r){var o=n.tree.getNodeByDataIndex(e),a=Sf(n.tree.root,o).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Ys(t,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),o.children.forEach(function(u){E2(u,n,i,r,l)}),E2(o,n,i,r,l)}function QC(n,e,t,i,r){var o,a,l,u,f,g,v,w;if(n==="radial"){f=i.rawX,v=i.rawY,g=r.rawX,w=r.rawY;var _=bm(f,v),A=bm(f,v+(w-v)*t),T=bm(g,w+(v-w)*t),L=bm(g,w);return{x1:_.x||0,y1:_.y||0,x2:L.x||0,y2:L.y||0,cpx1:A.x||0,cpy1:A.y||0,cpx2:T.x||0,cpy2:T.y||0}}return f=i.x,v=i.y,g=r.x,w=r.y,e!=="LR"&&e!=="RL"||(o=f+(g-f)*t,a=v,l=g+(f-g)*t,u=w),e!=="TB"&&e!=="BT"||(o=f,a=v+(w-v)*t,l=g,u=w+(v-w)*t),{x1:f,y1:v,x2:g,y2:w,cpx1:o,cpy1:a,cpx2:l,cpy2:u}}var jl=hr();function N2(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,z2(e,t,n),U(t,function(i){U(e.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,un(tk,n))})}),e.wrapMethod("cloneShallow",un(B2,n)),U(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,un(R2,n))}),ve(t[e.dataType]===e)}function tk(n,e){if(jl(i=this).mainData===i){var t=pe({},jl(this).datas);t[this.dataType]=e,z2(e,t,n)}else wm(e,this.dataType,jl(this).mainData,n);var i;return e}function R2(n,e){return n.struct&&n.struct.update(),e}function B2(n,e){return U(jl(e).datas,function(t,i){t!==e&&wm(t.cloneShallow(),i,e,n)}),e}function ek(n){var e=jl(this).mainData;return n==null||e==null?e:jl(e).datas[n]}function IL(){var n=jl(this).mainData;return n==null?[{data:n}]:ye(Re(jl(n).datas),function(e){return{type:e,data:jl(n).datas[e]}})}function z2(n,e,t){jl(n).datas={},U(e,function(i,r){wm(i,r,n,t)})}function wm(n,e,t,i){jl(t).datas[e]=n,jl(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=ek,n.getLinkedDataAll=IL}var F2=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){In(e)&&(i=t,t=e,e=null),kn(e=e||{})&&(e={order:e});var r,o=e.order||"preorder",a=this[e.attr||"children"];o==="preorder"&&(r=t.call(i,this));for(var l=0;!r&&l<a.length;l++)a[l].eachNode(e,t,i);o==="postorder"&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].getNodeById(e);if(o)return o}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].contains(e);if(o)return o}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),Kb=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var r=new n(t),o=[],a=1;(function f(g,v){var w=g.value;a=Math.max(a,he(w)?w.length:1),o.push(g);var _=new F2(po(g.name,""),r);v?function(L,R){var z=R.children;L.parentNode!==R&&(z.push(L),L.parentNode=R)}(_,v):r.root=_,r._nodes.push(_);var A=g.children;if(A)for(var T=0;T<A.length;T++)f(A[T],_)})(e),r.root.updateDepthAndHeight(0);var l=nm(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,u=new Va(l,t);return u.initData(o),i&&i(u),N2({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},n}();function _m(n,e,t){if(n&&rn(e,n.type)>=0){var i=t.getData().tree.root,r=n.targetNode;if(kn(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(o!=null&&(r=i.getNodeById(o)))return{node:r}}}function nk(n){for(var e=[];n;)(n=n.parentNode)&&e.push(n);return e.reverse()}function Jb(n,e){return rn(nk(n),e)>=0}function Qb(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var V2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return wt(e,n),e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},r=t.leaves||{},o=new Nr(r,this,this.ecModel),a=Kb.createTree(i,this,function(f){f.wrapMethod("getItemModel",function(g,v){var w=a.getNodeByDataIndex(v);return w&&w.children.length&&w.isExpand||(g.parentModel=o),g})}),l=0;a.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return a.root.eachNode("preorder",function(f){var g=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=g&&g.collapsed!=null?!g.collapsed:f.depth<=u}),a.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData().tree,a=o.root.children[0],l=o.getNodeByDataIndex(t),u=l.getValue(),f=l.name;l&&l!==a;)f=l.parentNode.name+"."+f,l=l.parentNode;return oa("nameValue",{name:f,value:u,noValue:isNaN(u)||u==null})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=Qb(r,this),i.collapsed=!r.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Vr);function jy(n,e){for(var t,i=[n];t=i.pop();)if(e(t),t.isExpand){var r=t.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function Sm(n,e){n.eachSeriesByType("tree",function(t){(function(i,r){var o=function(Q,nt){return Ao(Q.getBoxLayoutParams(),{width:nt.getWidth(),height:nt.getHeight()})}(i,r);i.layoutInfo=o;var a=i.get("layout"),l=0,u=0,f=null;a==="radial"?(l=2*Math.PI,u=Math.min(o.height,o.width)/2,f=$C(function(Q,nt){return(Q.parentNode===nt.parentNode?1:2)/Q.depth})):(l=o.width,u=o.height,f=$C());var g=i.getData().tree.root,v=g.children[0];if(v){(function(Q){var nt=Q;nt.hierNode={defaultAncestor:null,ancestor:nt,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var it,mt,bt=[nt];it=bt.pop();)if(mt=it.children,it.isExpand&&mt.length)for(var St=mt.length-1;St>=0;St--){var Ot=mt[St];Ot.hierNode={defaultAncestor:null,ancestor:Ot,prelim:0,modifier:0,change:0,shift:0,i:St,thread:null},bt.push(Ot)}})(g),function(Q,nt,it){for(var mt,bt=[Q],St=[];mt=bt.pop();)if(St.push(mt),mt.isExpand){var Ot=mt.children;if(Ot.length)for(var Yt=0;Yt<Ot.length;Yt++)bt.push(Ot[Yt])}for(;mt=St.pop();)nt(mt,it)}(v,I2,f),g.hierNode.modifier=-v.hierNode.prelim,jy(v,D2);var w=v,_=v,A=v;jy(v,function(Q){var nt=Q.getLayout().x;nt<w.getLayout().x&&(w=Q),nt>_.getLayout().x&&(_=Q),Q.depth>A.depth&&(A=Q)});var T=w===_?1:f(w,_)/2,L=T-w.getLayout().x,R=0,z=0,j=0,X=0;if(a==="radial")R=l/(_.getLayout().x+T+L),z=u/(A.depth-1||1),jy(v,function(Q){j=(Q.getLayout().x+L)*R,X=(Q.depth-1)*z;var nt=bm(j,X);Q.setLayout({x:nt.x,y:nt.y,rawX:j,rawY:X},!0)});else{var Z=i.getOrient();Z==="RL"||Z==="LR"?(z=u/(_.getLayout().x+T+L),R=l/(A.depth-1||1),jy(v,function(Q){X=(Q.getLayout().x+L)*z,j=Z==="LR"?(Q.depth-1)*R:l-(Q.depth-1)*R,Q.setLayout({x:j,y:X},!0)})):Z!=="TB"&&Z!=="BT"||(R=l/(_.getLayout().x+T+L),z=u/(A.depth-1||1),jy(v,function(Q){j=(Q.getLayout().x+L)*R,X=Z==="TB"?(Q.depth-1)*z:u-(Q.depth-1)*z,Q.setLayout({x:j,y:X},!0)}))}}})(t,e)})}function ik(n){n.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();pe(t.ensureUniqueItemVisual(i.dataIndex,"style"),r)})})}var H2=["treemapZoomToNode","treemapRender","treemapMove"];function W2(n){var e=n.getData().tree,t={};e.eachNode(function(i){for(var r=i;r&&r.depth>1;)r=r.parentNode;var o=sx(n.ecModel,r.name||r.dataIndex+"",t);i.setVisual("decal",o)})}var j2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return wt(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};t1(r);var o=t.levels||[],a=this.designatedVisualItemStyle={},l=new Nr({itemStyle:a},this,i);o=t.levels=function(g,v){var w,_,A=Fr(v.get("color")),T=Fr(v.get(["aria","decal","decals"]));if(A){U(g=g||[],function(R){var z=new Nr(R),j=z.get("color"),X=z.get("decal");(z.get(["itemStyle","color"])||j&&j!=="none")&&(w=!0),(z.get(["itemStyle","decal"])||X&&X!=="none")&&(_=!0)});var L=g[0]||(g[0]={});return w||(L.color=A.slice()),!_&&T&&(L.decal=T.slice()),g}}(o,i);var u=ye(o||[],function(g){return new Nr(g,l,i)},this),f=Kb.createTree(r,this,function(g){g.wrapMethod("getItemModel",function(v,w){var _=f.getNodeByDataIndex(w),A=_?u[_.depth]:null;return v.parentModel=A||l,v})});return f.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.getRawValue(t);return oa("nameValue",{name:o.getName(t),value:a})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=Qb(r,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},pe(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=yn(),this._idIndexMapCount=0);var r=i.get(t);return r==null&&i.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;t&&(t===i||i.contains(t))||(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){W2(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Vr);function t1(n){var e=0;U(n.children,function(i){t1(i);var r=i.value;he(r)&&(r=r[0]),e+=r});var t=n.value;he(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),he(n.value)?n.value[0]=t:n.value=t}var Y2=function(){function n(e){this.group=new Ei,e.add(this.group)}return n.prototype.render=function(e,t,i,r){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var l=o.getModel("itemStyle"),u=o.getModel("emphasis"),f=l.getModel("textStyle"),g=u.getModel(["itemStyle","textStyle"]),v={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,v,f),this._renderContent(e,v,l,u,f,g,r),wv(a,v.pos,v.box)}},n.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var o=po(r.getModel().get("name"),""),a=i.getTextRect(o),l=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=l+8,t.renderList.push({node:r,text:o,width:l})}},n.prototype._renderContent=function(e,t,i,r,o,a,l){for(var u,f,g,v,w,_,A,T,L,R=0,z=t.emptyItemWidth,j=e.get(["breadcrumb","height"]),X=(u=t.pos,f=t.box,v=f.width,w=f.height,_=Yn(u.left,v),A=Yn(u.top,w),T=Yn(u.right,v),L=Yn(u.bottom,w),(isNaN(_)||isNaN(parseFloat(u.left)))&&(_=0),(isNaN(T)||isNaN(parseFloat(u.right)))&&(T=v),(isNaN(A)||isNaN(parseFloat(u.top)))&&(A=0),(isNaN(L)||isNaN(parseFloat(u.bottom)))&&(L=w),g=Jh(g||0),{width:Math.max(T-_-g[1]-g[3],0),height:Math.max(L-A-g[0]-g[2],0)}),Z=t.totalWidth,Q=t.renderList,nt=r.getModel("itemStyle").getItemStyle(),it=Q.length-1;it>=0;it--){var mt=Q[it],bt=mt.node,St=mt.width,Ot=mt.text;Z>X.width&&(Z-=St-z,St=z,Ot=null);var Yt=new as({shape:{points:G2(R,0,St,j,it===Q.length-1,it===0)},style:De(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new wr({style:Dr(o,{text:Ot})}),textConfig:{position:"inside"},z2:1e5,onclick:un(l,bt)});Yt.disableLabelAnimation=!0,Yt.getTextContent().ensureState("emphasis").style=Dr(a,{text:Ot}),Yt.ensureState("emphasis").style=nt,Io(Yt,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(Yt),Cm(Yt,e,bt),R+=St+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function G2(n,e,t,i,r,o){var a=[[r?n:n-5,e],[n+t,e],[n+t,e+i],[r?n:n-5,e+i]];return!o&&a.splice(2,0,[n+t+5,e+i/2]),!r&&a.push([n,e+i/2]),a}function Cm(n,e,t){Ui(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&Qb(t,e)}}var e1=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,r,o){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),Yy=Ei,rk=br,ok="label",ak="upperLabel",Nd=Il([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Gy=function(n){var e=Nd(n);return e.stroke=e.fill=e.lineWidth=null,e},Xy=hr(),X2=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return wt(e,n),e.prototype.render=function(t,i,r,o){if(!(rn(i.findComponents({mainType:"series",subType:"treemap",query:o}),t)<0)){this.seriesModel=t,this.api=r,this.ecModel=i;var a=_m(o,["treemapZoomToNode","treemapRootToNode"],t),l=o&&o.type,u=t.layoutInfo,f=!this._oldTree,g=this._storage,v=l==="treemapRootToNode"&&a&&g?{rootNodeGroup:g.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,w=this._giveContainerGroup(u),_=t.get("animation"),A=this._doRender(w,t,v);!_||f||l&&l!=="treemapZoomToNode"&&l!=="treemapRootToNode"?A.renderFinally():this._doAnimation(w,A,t,v),this._resetController(r),this._renderBreadcrumb(t,r,a)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new Yy,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,r){var o=i.getData().tree,a=this._oldTree,l={nodeGroup:[],background:[],content:[]},u={nodeGroup:[],background:[],content:[]},f=this._storage,g=[];function v(_,A,T,L){return function(R,z,j,X,Z,Q,nt,it,mt,bt){if(!nt)return;var St=nt.getLayout(),Ot=R.getData(),Yt=nt.getModel();if(Ot.setItemGraphicEl(nt.dataIndex,null),!St||!St.isInView)return;var ee=St.width,le=St.height,ge=St.borderWidth,be=St.invisible,Ie=nt.getRawIndex(),He=it&&it.getRawIndex(),qe=nt.viewChildren,Ke=St.upperHeight,bn=qe&&qe.length,Rn=Yt.getModel("itemStyle"),Je=Yt.getModel(["emphasis","itemStyle"]),Tn=Yt.getModel(["blur","itemStyle"]),Fn=Yt.getModel(["select","itemStyle"]),Xn=Rn.get("borderRadius")||0,Vn=ya("nodeGroup",Yy);if(!Vn)return;if(mt.add(Vn),Vn.x=St.x||0,Vn.y=St.y||0,Vn.markRedraw(),Xy(Vn).nodeWidth=ee,Xy(Vn).nodeHeight=le,St.isAboveViewRoot)return Vn;var qn=ya("background",rk,bt,20);qn&&gr(Vn,qn,bn&&St.upperLabelHeight);var Hn=Yt.getModel("emphasis"),ni=Hn.get("focus"),wi=Hn.get("blurScope"),Zi=Hn.get("disabled"),nr=ni==="ancestor"?nt.getAncestorsIndices():ni==="descendant"?nt.getDescendantIndices():ni;if(bn)Cp(Vn)&&Sp(Vn,!1),qn&&(Sp(qn,!Zi),Ot.setItemGraphicEl(nt.dataIndex,qn),Q1(qn,nr,wi));else{var Ur=ya("content",rk,bt,30);Ur&&vr(Vn,Ur),qn.disableMorphing=!0,qn&&Cp(qn)&&Sp(qn,!1),Sp(Vn,!Zi),Ot.setItemGraphicEl(nt.dataIndex,Vn),Q1(Vn,nr,wi)}return Vn;function gr(Rr,dr,Ki){var fo=Ui(dr);if(fo.dataIndex=nt.dataIndex,fo.seriesIndex=R.seriesIndex,dr.setShape({x:0,y:0,width:ee,height:le,r:Xn}),be)eo(dr);else{dr.invisible=!1;var Eo=nt.getVisual("style"),la=Eo.stroke,ca=Gy(Rn);ca.fill=la;var ua=Nd(Je);ua.fill=Je.get("borderColor");var xh=Nd(Tn);xh.fill=Tn.get("borderColor");var zf=Nd(Fn);if(zf.fill=Fn.get("borderColor"),Ki){var O1=ee-2*ge;ro(dr,la,Eo.opacity,{x:ge,y:0,width:O1,height:Ke})}else dr.removeTextContent();dr.setStyle(ca),dr.ensureState("emphasis").style=ua,dr.ensureState("blur").style=xh,dr.ensureState("select").style=zf,_p(dr)}Rr.add(dr)}function vr(Rr,dr){var Ki=Ui(dr);Ki.dataIndex=nt.dataIndex,Ki.seriesIndex=R.seriesIndex;var fo=Math.max(ee-2*ge,0),Eo=Math.max(le-2*ge,0);if(dr.culling=!0,dr.setShape({x:ge,y:ge,width:fo,height:Eo,r:Xn}),be)eo(dr);else{dr.invisible=!1;var la=nt.getVisual("style"),ca=la.fill,ua=Gy(Rn);ua.fill=ca,ua.decal=la.decal;var xh=Nd(Je),zf=Nd(Tn),O1=Nd(Fn);ro(dr,ca,la.opacity,null),dr.setStyle(ua),dr.ensureState("emphasis").style=xh,dr.ensureState("blur").style=zf,dr.ensureState("select").style=O1,_p(dr)}Rr.add(dr)}function eo(Rr){!Rr.invisible&&Q.push(Rr)}function ro(Rr,dr,Ki,fo){var Eo=Yt.getModel(fo?ak:ok),la=po(Yt.get("name"),null),ca=Eo.getShallow("show");so(Rr,Xr(Yt,fo?ak:ok),{defaultText:ca?la:null,inheritColor:dr,defaultOpacity:Ki,labelFetcher:R,labelDataIndex:nt.dataIndex});var ua=Rr.getTextContent();if(ua){var xh=ua.style,zf=Ut(xh.padding||0);fo&&(Rr.setTextConfig({layoutRect:fo}),ua.disableLabelLayout=!0),ua.beforeUpdate=function(){var OR=Math.max((fo?fo.width:Rr.shape.width)-zf[1]-zf[3],0),ER=Math.max((fo?fo.height:Rr.shape.height)-zf[0]-zf[2],0);xh.width===OR&&xh.height===ER||ua.setStyle({width:OR,height:ER})},xh.truncateMinChar=2,xh.lineOverflow="truncate",sa(xh,fo,St);var O1=ua.getState("emphasis");sa(O1?O1.style:null,fo,St)}}function sa(Rr,dr,Ki){var fo=Rr?Rr.text:null;if(!dr&&Ki.isLeafRoot&&fo!=null){var Eo=R.get("drillDownIcon",!0);Rr.text=Eo?Eo+" "+fo:fo}}function ya(Rr,dr,Ki,fo){var Eo=He!=null&&j[Rr][He],la=Z[Rr];return Eo?(j[Rr][He]=null,Gl(la,Eo)):be||((Eo=new dr)instanceof _a&&(Eo.z2=function(ca,ua){return 100*ca+ua}(Ki,fo)),Yd(la,Eo)),z[Rr][Ie]=Eo}function Gl(Rr,dr){var Ki=Rr[Ie]={};dr instanceof Yy?(Ki.oldX=dr.x,Ki.oldY=dr.y):Ki.oldShape=pe({},dr.shape)}function Yd(Rr,dr){var Ki=Rr[Ie]={},fo=nt.parentNode,Eo=dr instanceof Ei;if(fo&&(!X||X.direction==="drillDown")){var la=0,ca=0,ua=Z.background[fo.getRawIndex()];!X&&ua&&ua.oldShape&&(la=ua.oldShape.width,ca=ua.oldShape.height),Eo?(Ki.oldX=0,Ki.oldY=ca):Ki.oldShape={x:la,y:ca,width:0,height:0}}Ki.fadein=!Eo}}(i,u,f,r,l,g,_,A,T,L)}(function _(A,T,L,R,z){R?(T=A,U(A,function(Z,Q){!Z.isRemoved()&&X(Q,Q)})):new ah(T,A,j,j).add(X).update(X).remove(un(X,null)).execute();function j(Z){return Z.getId()}function X(Z,Q){var nt=Z!=null?A[Z]:null,it=Q!=null?T[Q]:null,mt=v(nt,it,L,z);mt&&_(nt&&nt.viewChildren||[],it&&it.viewChildren||[],mt,R,z+1)}})(o.root?[o.root]:[],a&&a.root?[a.root]:[],t,o===a||!a,0);var w=function(_){var A={nodeGroup:[],background:[],content:[]};return _&&U(_,function(T,L){var R=A[L];U(T,function(z){z&&(R.push(z),Xy(z).willDelete=!0)})}),A}(f);return this._oldTree=o,this._storage=u,{lastsForAnimation:l,willDeleteEls:w,renderFinally:function(){U(w,function(_){U(_,function(A){A.parent&&A.parent.remove(A)})}),U(g,function(_){_.invisible=!0,_.dirty()})}}},e.prototype._doAnimation=function(t,i,r,o){var a=r.get("animationDurationUpdate"),l=r.get("animationEasing"),u=(In(a)?0:a)||0,f=(In(l)?null:l)||"cubicOut",g=new e1;U(i.willDeleteEls,function(v,w){U(v,function(_,A){if(!_.invisible){var T,L=_.parent,R=Xy(L);if(o&&o.direction==="drillDown")T=L===o.rootNodeGroup?{shape:{x:0,y:0,width:R.nodeWidth,height:R.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var z=0,j=0;R.willDelete||(z=R.nodeWidth/2,j=R.nodeHeight/2),T=w==="nodeGroup"?{x:z,y:j,style:{opacity:0}}:{shape:{x:z,y:j,width:0,height:0},style:{opacity:0}}}T&&g.add(_,T,u,0,f)}})}),U(this._storage,function(v,w){U(v,function(_,A){var T=i.lastsForAnimation[w][A],L={};T&&(_ instanceof Ei?T.oldX!=null&&(L.x=_.x,L.y=_.y,_.x=T.oldX,_.y=T.oldY):(T.oldShape&&(L.shape=pe({},_.shape),_.setShape(T.oldShape)),T.fadein?(_.setStyle("opacity",0),L.style={opacity:1}):_.style.opacity!==1&&(L.style={opacity:1})),g.add(_,L,u,0,f))})},this),this._state="animating",g.finished(Be(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this._controller;i||((i=this._controller=new Ny(t.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",Be(this._onPan,this)),i.on("zoom",Be(this._onZoom,this)));var r=new Qi(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(o,a,l){return r.contain(a,l)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var i=t.originX,r=t.originY;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var l=new Qi(a.x,a.y,a.width,a.height),u=this.seriesModel.layoutInfo,f=[1,0,0,1,0,0];lr(f,f,[-(i-=u.x),-(r-=u.y)]),Ar(f,f,[t.scale,t.scale]),lr(f,f,[i,r]),l.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(r){if(i._state==="ready"){var o=i.seriesModel.get("nodeClick",!0);if(o){var a=i.findTarget(r.offsetX,r.offsetY);if(a){var l=a.node;if(l.getLayout().isLeafRoot)i._rootToNode(a);else if(o==="zoomToNode")i._zoomToNode(a);else if(o==="link"){var u=l.hostTree.data.getItemModel(l.dataIndex),f=u.get("link",!0),g=u.get("target",!0)||"blank";f&&Qh(f,g)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,r){var o=this;r||(r=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Y2(this.group))).render(t,i,r.node,function(a){o._state!=="animating"&&(Jb(t.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var a=this._storage.background[o.getRawIndex()];if(a){var l=a.transformCoordToLocal(t,i),u=a.shape;if(!(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height))return!1;r={node:o,offsetX:l[0],offsetY:l[1]}}},this),r},e.type="treemap",e}(qr),Cf=U,q2=Zn,sk=-1,Yo=function(){function n(e){var t=e.mappingMethod,i=e.type,r=this.option=Gt(e);this.type=i,this.mappingMethod=t,this._normalizeData=U2[t];var o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[t],t==="piecewise"?(n1(r),function(a){var l=a.pieceList;a.hasSpecialVisual=!1,U(l,function(u,f){u.originIndex=f,u.visual!=null&&(a.hasSpecialVisual=!0)})}(r)):t==="category"?r.categories?function(a){var l=a.categories,u=a.categoryMap={},f=a.visual;if(Cf(l,function(w,_){u[w]=_}),!he(f)){var g=[];Zn(f)?Cf(f,function(w,_){var A=u[_];g[A??sk]=w}):g[-1]=f,f=i1(a,g)}for(var v=l.length-1;v>=0;v--)f[v]==null&&(delete u[l[v]],l.pop())}(r):n1(r,!0):(ve(t!=="linear"||r.dataExtent),n1(r))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return Be(this._normalizeData,this)},n.listVisualTypes=function(){return Re(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){Zn(e)?U(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var r,o=he(e)?[]:Zn(e)?{}:(r=!0,null);return n.eachVisual(e,function(a,l){var u=t.call(i,a,l);r?o=u:o[l]=u}),o},n.retrieveVisuals=function(e){var t,i={};return e&&Cf(n.visualHandlers,function(r,o){e.hasOwnProperty(o)&&(i[o]=e[o],t=!0)}),t?i:null},n.prepareVisualTypes=function(e){if(he(e))e=e.slice();else{if(!q2(e))return[];var t=[];Cf(e,function(i,r){t.push(r)}),e=t}return e.sort(function(i,r){return r==="color"&&i!=="color"&&i.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!(!e||e.indexOf(t)!==0):e===t},n.findPieceIndex=function(e,t,i){for(var r,o=1/0,a=0,l=t.length;a<l;a++){var u=t[a].value;if(u!=null){if(u===e||kn(u)&&u===e+"")return a;i&&w(u,a)}}for(a=0,l=t.length;a<l;a++){var f=t[a],g=f.interval,v=f.close;if(g){if(g[0]===-1/0){if(Zy(v[1],e,g[1]))return a}else if(g[1]===1/0){if(Zy(v[0],g[0],e))return a}else if(Zy(v[0],g[0],e)&&Zy(v[1],e,g[1]))return a;i&&w(g[0],a),i&&w(g[1],a)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function w(_,A){var T=Math.abs(_-e);T<o&&(o=T,r=A)}},n.visualHandlers={color:{applyVisual:Uy("color"),getColorMapper:function(){var e=this.option;return Be(e.mappingMethod==="category"?function(t,i){return!i&&(t=this._normalizeData(t)),km.call(this,t)}:function(t,i,r){var o=!!r;return!i&&(t=this._normalizeData(t)),r=pa(t,e.parsedVisual,r),o?r:_r(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return _r(pa(e,this.option.parsedVisual),"rgba")},category:km,piecewise:function(e,t){var i=ck.call(this,t);return i==null&&(i=_r(pa(e,this.option.parsedVisual),"rgba")),i},fixed:kf}},colorHue:qy(function(e,t){return Rs(e,t)}),colorSaturation:qy(function(e,t){return Rs(e,null,t)}),colorLightness:qy(function(e,t){return Rs(e,null,null,t)}),colorAlpha:qy(function(e,t){return xs(e,t)}),decal:{applyVisual:Uy("decal"),_normalizedToVisual:{linear:null,category:km,piecewise:null,fixed:null}},opacity:{applyVisual:Uy("opacity"),_normalizedToVisual:$y([0,1])},liftZ:{applyVisual:Uy("liftZ"),_normalizedToVisual:{linear:kf,category:kf,piecewise:kf,fixed:kf}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:lk,category:km,piecewise:function(e,t){var i=ck.call(this,t);return i==null&&(i=lk.call(this,e)),i},fixed:kf}},symbolSize:{applyVisual:Uy("symbolSize"),_normalizedToVisual:$y([0,1])}},n}();function n1(n,e){var t=n.visual,i=[];Zn(t)?Cf(t,function(r){i.push(r)}):t!=null&&i.push(t),e||i.length!==1||{color:1,symbol:1}.hasOwnProperty(n.type)||(i[1]=i[0]),i1(n,i)}function qy(n){return{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("color",n(t("color"),r))},_normalizedToVisual:$y([0,1])}}function lk(n){var e=this.option.visual;return e[Math.round(Br(n,[0,1],[0,e.length-1],!0))]||{}}function Uy(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function km(n){var e=this.option.visual;return e[this.option.loop&&n!==sk?n%e.length:n]}function kf(){return this.option.visual[0]}function $y(n){return{linear:function(e){return Br(e,n,this.option.visual,!0)},category:km,piecewise:function(e,t){var i=ck.call(this,t);return i==null&&(i=Br(e,n,this.option.visual,!0)),i},fixed:kf}}function ck(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var i=t[Yo.findPieceIndex(n,t)];if(i&&i.visual)return i.visual[this.type]}}function i1(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=ye(e,function(t){var i=To(t);return i||[0,0,0,1]})),e}var U2={linear:function(n){return Br(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=Yo.findPieceIndex(n,e,!0);if(t!=null)return Br(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??sk},fixed:En};function Zy(n,e,t){return n?e<=t:e<t}var uk=hr(),$2={seriesType:"treemap",reset:function(n){var e=n.getData().tree.root;e.isRemoved()||r1(e,{},n.getViewRoot().getAncestors(),n)}};function r1(n,e,t,i){var r=n.getModel(),o=n.getLayout(),a=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var l,u=r.getModel("itemStyle"),f=function(T,L,R){var z=pe({},L),j=R.designatedVisualItemStyle;return U(["color","colorAlpha","colorSaturation"],function(X){j[X]=L[X];var Z=T.get(X);j[X]=null,Z!=null&&(z[X]=Z)}),z}(u,e,i),g=a.ensureUniqueItemVisual(n.dataIndex,"style"),v=u.get("borderColor"),w=u.get("borderColorSaturation");w!=null&&(v=function(T,L){return L!=null?Rs(L,null,null,T):null}(w,l=hk(f))),g.stroke=v;var _=n.viewChildren;if(_&&_.length){var A=function(T,L,R,z,j,X){if(!(!X||!X.length)){var Z=Ky(L,"color")||j.color!=null&&j.color!=="none"&&(Ky(L,"colorAlpha")||Ky(L,"colorSaturation"));if(Z){var Q=L.get("visualMin"),nt=L.get("visualMax"),it=R.dataExtent.slice();Q!=null&&Q<it[0]&&(it[0]=Q),nt!=null&&nt>it[1]&&(it[1]=nt);var mt=L.get("colorMappingBy"),bt={type:Z.name,dataExtent:it,visual:Z.range};bt.type!=="color"||mt!=="index"&&mt!=="id"?bt.mappingMethod="linear":(bt.mappingMethod="category",bt.loop=!0);var St=new Yo(bt);return uk(St).drColorMappingBy=mt,St}}}(0,r,o,0,f,_);U(_,function(T,L){if(T.depth>=t.length||T===t[T.depth]){var R=function(z,j,X,Z,Q,nt){var it=pe({},j);if(Q){var mt=Q.type,bt=mt==="color"&&uk(Q).drColorMappingBy,St=bt==="index"?Z:bt==="id"?nt.mapIdToIndex(X.getId()):X.getValue(z.get("visualDimension"));it[mt]=Q.mapValueToVisual(St)}return it}(r,f,T,L,A,i);r1(T,R,t,i)}})}else l=hk(f),g.fill=l}}function hk(n){var e=o1(n,"color");if(e){var t=o1(n,"colorAlpha"),i=o1(n,"colorSaturation");return i&&(e=Rs(e,null,null,i)),t&&(e=xs(e,t)),e}}function o1(n,e){var t=n[e];if(t!=null&&t!=="none")return t}function Ky(n,e){var t=n.get(e);return he(t)&&t.length?{name:e,range:t}:null}var Am=Math.max,Jy=Math.min,dk=Ri,pk=U,Rd=["itemStyle","borderWidth"],Z2=["itemStyle","gapWidth"],K2=["upperLabel","show"],DL=["upperLabel","height"],J2={seriesType:"treemap",reset:function(n,e,t,i){var r=t.getWidth(),o=t.getHeight(),a=n.option,l=Ao(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),u=a.size||[],f=Yn(dk(l.width,u[0]),r),g=Yn(dk(l.height,u[1]),o),v=i&&i.type,w=_m(i,["treemapZoomToNode","treemapRootToNode"],n),_=v==="treemapRender"||v==="treemapMove"?i.rootRect:null,A=n.getViewRoot(),T=nk(A);if(v!=="treemapMove"){var L=v==="treemapZoomToNode"?function(Z,Q,nt,it,mt){var bt,St=(Q||{}).node,Ot=[it,mt];if(!St||St===nt)return Ot;for(var Yt=it*mt,ee=Yt*Z.option.zoomToNodeRatio;bt=St.parentNode;){for(var le=0,ge=bt.children,be=0,Ie=ge.length;be<Ie;be++)le+=ge[be].getValue();var He=St.getValue();if(He===0)return Ot;ee*=le/He;var qe=bt.getModel(),Ke=qe.get(Rd);(ee+=4*Ke*Ke+(3*Ke+Math.max(Ke,a1(qe)))*Math.pow(ee,.5))>Kf&&(ee=Kf),St=bt}ee<Yt&&(ee=Yt);var bn=Math.pow(ee/Yt,.5);return[it*bn,mt*bn]}(n,w,A,f,g):_?[_.width,_.height]:[f,g],R=a.sort;R&&R!=="asc"&&R!=="desc"&&(R="desc");var z={squareRatio:a.squareRatio,sort:R,leafDepth:a.leafDepth};A.hostTree.clearLayouts();var j={x:0,y:0,width:L[0],height:L[1],area:L[0]*L[1]};A.setLayout(j),fk(A,z,!1,0),j=A.getLayout(),pk(T,function(Z,Q){var nt=(T[Q+1]||A).getValue();Z.setLayout(pe({dataExtent:[nt,nt],borderWidth:0,upperHeight:0},j))})}var X=n.getData().tree.root;X.setLayout(function(Z,Q,nt){if(Q)return{x:Q.x,y:Q.y};var it={x:0,y:0};if(!nt)return it;var mt=nt.node,bt=mt.getLayout();if(!bt)return it;for(var St=[bt.width/2,bt.height/2],Ot=mt;Ot;){var Yt=Ot.getLayout();St[0]+=Yt.x,St[1]+=Yt.y,Ot=Ot.parentNode}return{x:Z.width/2-St[0],y:Z.height/2-St[1]}}(l,_,w),!0),n.setLayoutInfo(l),Q2(X,new Qi(-l.x,-l.y,r,o),T,A,0)}};function fk(n,e,t,i){var r,o;if(!n.isRemoved()){var a=n.getLayout();r=a.width,o=a.height;var l=n.getModel(),u=l.get(Rd),f=l.get(Z2)/2,g=a1(l),v=Math.max(u,g),w=u-f,_=v-f;n.setLayout({borderWidth:u,upperHeight:v,upperLabelHeight:g},!0);var A=(r=Am(r-2*w,0))*(o=Am(o-w-_,0)),T=function(mt,bt,St,Ot,Yt,ee){var le=mt.children||[],ge=Ot.sort;ge!=="asc"&&ge!=="desc"&&(ge=null);var be=Ot.leafDepth!=null&&Ot.leafDepth<=ee;if(Yt&&!be)return mt.viewChildren=[];le=$e(le,function(bn){return!bn.isRemoved()}),function(bn,Rn){Rn&&bn.sort(function(Je,Tn){var Fn=Rn==="asc"?Je.getValue()-Tn.getValue():Tn.getValue()-Je.getValue();return Fn===0?Rn==="asc"?Je.dataIndex-Tn.dataIndex:Tn.dataIndex-Je.dataIndex:Fn})}(le,ge);var Ie=function(bn,Rn,Je){for(var Tn=0,Fn=0,Xn=Rn.length;Fn<Xn;Fn++)Tn+=Rn[Fn].getValue();var Vn,qn=bn.get("visualDimension");return Rn&&Rn.length?qn==="value"&&Je?(Vn=[Rn[Rn.length-1].getValue(),Rn[0].getValue()],Je==="asc"&&Vn.reverse()):(Vn=[1/0,-1/0],pk(Rn,function(Hn){var ni=Hn.getValue(qn);ni<Vn[0]&&(Vn[0]=ni),ni>Vn[1]&&(Vn[1]=ni)})):Vn=[NaN,NaN],{sum:Tn,dataExtent:Vn}}(bt,le,ge);if(Ie.sum===0)return mt.viewChildren=[];if(Ie.sum=function(bn,Rn,Je,Tn,Fn){if(!Tn)return Je;for(var Xn=bn.get("visibleMin"),Vn=Fn.length,qn=Vn,Hn=Vn-1;Hn>=0;Hn--){var ni=Fn[Tn==="asc"?Vn-Hn-1:Hn].getValue();ni/Je*Rn<Xn&&(qn=Hn,Je-=ni)}return Tn==="asc"?Fn.splice(0,Vn-qn):Fn.splice(qn,Vn-qn),Je}(bt,St,Ie.sum,ge,le),Ie.sum===0)return mt.viewChildren=[];for(var He=0,qe=le.length;He<qe;He++){var Ke=le[He].getValue()/Ie.sum*St;le[He].setLayout({area:Ke})}return be&&(le.length&&mt.setLayout({isLeafRoot:!0},!0),le.length=0),mt.viewChildren=le,mt.setLayout({dataExtent:Ie.dataExtent},!0),le}(n,l,A,e,t,i);if(T.length){var L={x:w,y:_,width:r,height:o},R=Jy(r,o),z=1/0,j=[];j.area=0;for(var X=0,Z=T.length;X<Z;){var Q=T[X];j.push(Q),j.area+=Q.getLayout().area;var nt=LL(j,R,e.squareRatio);nt<=z?(X++,z=nt):(j.area-=j.pop().getLayout().area,Mm(j,R,L,f,!1),R=Jy(L.width,L.height),j.length=j.area=0,z=1/0)}if(j.length&&Mm(j,R,L,f,!0),!t){var it=l.get("childrenVisibleMin");it!=null&&A<it&&(t=!0)}for(X=0,Z=T.length;X<Z;X++)fk(T[X],e,t,i+1)}}}function LL(n,e,t){for(var i=0,r=1/0,o=0,a=void 0,l=n.length;o<l;o++)(a=n[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var u=n.area*n.area,f=e*e*t;return u?Am(f*i/u,u/(f*r)):1/0}function Mm(n,e,t,i,r){var o=e===t.width?0:1,a=1-o,l=["x","y"],u=["width","height"],f=t[l[o]],g=e?n.area/e:0;(r||g>t[u[a]])&&(g=t[u[a]]);for(var v=0,w=n.length;v<w;v++){var _=n[v],A={},T=g?_.getLayout().area/g:0,L=A[u[a]]=Am(g-2*i,0),R=t[l[o]]+t[u[o]]-f,z=v===w-1||R<T?R:T,j=A[u[o]]=Am(z-2*i,0);A[l[a]]=t[l[a]]+Jy(i,L/2),A[l[o]]=f+Jy(i,j/2),f+=z,_.setLayout(A,!0)}t[l[a]]+=g,t[u[a]]-=g}function Q2(n,e,t,i,r){var o=n.getLayout(),a=t[r],l=a&&a===n;if(!(a&&!l||r===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!l&&!e.intersect(o),isAboveViewRoot:l},!0);var u=new Qi(e.x-o.x,e.y-o.y,e.width,e.height);pk(n.viewChildren||[],function(f){Q2(f,u,t,i,r+1)})}}function a1(n){return n.get(K2)?n.get(DL):0}function OL(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getGraph().data,o=i.mapArray(i.getName);r.filterSelf(function(a){var l=r.getItemModel(a).getShallow("category");if(l!=null){fi(l)&&(l=o[l]);for(var u=0;u<e.length;u++)if(!e[u].isSelected(l))return!1}return!0})})}function EL(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getData(),o={};i.each(function(a){var l=i.getName(a);o["ec-"+l]=a;var u=i.getItemModel(a),f=u.getModel("itemStyle").getItemStyle();f.fill||(f.fill=t.getColorFromPalette(l,e)),i.setItemVisual(a,"style",f);for(var g=["symbol","symbolSize","symbolKeepAspect"],v=0;v<g.length;v++){var w=u.getShallow(g[v],!0);w!=null&&i.setItemVisual(a,g[v],w)}}),i.count()&&r.each(function(a){var l=r.getItemModel(a).getShallow("category");if(l!=null){kn(l)&&(l=o["ec-"+l]);var u=i.getItemVisual(l,"style");pe(r.ensureUniqueItemVisual(a,"style"),u);for(var f=["symbol","symbolSize","symbolKeepAspect"],g=0;g<f.length;g++)r.setItemVisual(a,f[g],i.getItemVisual(l,f[g]))}})})}function s1(n){return n instanceof Array||(n=[n,n]),n}function PL(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=s1(e.get("edgeSymbol")),o=s1(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(a){var l=i.getItemModel(a),u=t.getEdgeByIndex(a),f=s1(l.getShallow("symbol",!0)),g=s1(l.getShallow("symbolSize",!0)),v=l.getModel("lineStyle").getLineStyle(),w=i.ensureUniqueItemVisual(a,"style");switch(pe(w,v),w.stroke){case"source":var _=u.node1.getVisual("style");w.stroke=_&&_.fill;break;case"target":_=u.node2.getVisual("style"),w.stroke=_&&_.fill}f[0]&&u.setVisual("fromSymbol",f[0]),f[1]&&u.setVisual("toSymbol",f[1]),g[0]&&u.setVisual("fromSymbolSize",g[0]),g[1]&&u.setVisual("toSymbolSize",g[1])})})}var gk="-->",Af=function(n){return n.get("autoCurveness")||null},tI=function(n,e){var t=Af(n),i=20,r=[];if(fi(t))i=t;else if(he(t))return void(n.__curvenessList=t);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=r},Qy=function(n,e,t){var i=[n.id,n.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,i,r].join(gk)},mk=function(n){var e=n.split(gk);return[e[0],e[2],e[1]].join(gk)},vk=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function yk(n,e,t,i){var r=Af(e),o=he(r);if(!r)return null;var a=function(L,R){var z=Qy(L.node1,L.node2,R);return R.__edgeMap[z]}(n,e);if(!a)return null;for(var l=-1,u=0;u<a.length;u++)if(a[u]===t){l=u;break}var f=function(L,R){return vk(Qy(L.node1,L.node2,R),R)+vk(Qy(L.node2,L.node1,R),R)}(n,e);tI(e,f),n.lineStyle=n.lineStyle||{};var g=Qy(n.node1,n.node2,e),v=e.__curvenessList,w=o||f%2?0:1;if(a.isForward)return v[w+l];var _=mk(g),A=vk(_,e),T=v[l+A+w];return i?o?r&&r[0]===0?(A+w)%2?T:-T:((A%2?0:1)+w)%2?T:-T:(A+w)%2?T:-T:v[l+A+w]}function eI(n){var e=n.coordinateSystem;if(!e||e.type==="view"){var t=n.getGraph();t.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),t0(t,n)}}function t0(n,e){n.eachEdge(function(t,i){var r=kt(t.getModel().get(["lineStyle","curveness"]),-yk(t,e,i,!0),0),o=Ji(t.node1.getLayout()),a=Ji(t.node2.getLayout()),l=[o,a];+r&&l.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),t.setLayout(l)})}function nI(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),r=t.coordinateSystem;if(r&&r.type!=="view"){var o=t.getData(),a=[];U(r.dimensions,function(w){a=a.concat(o.mapDimensionsAll(w))});for(var l=0;l<o.count();l++){for(var u=[],f=!1,g=0;g<a.length;g++){var v=o.get(a[g],l);isNaN(v)||(f=!0),u.push(v)}f?o.setItemLayout(l,r.dataToPoint(u)):o.setItemLayout(l,[NaN,NaN])}t0(o.graph,t)}else i&&i!=="none"||eI(t)})}function e0(n){var e=n.coordinateSystem;if(e.type!=="view")return 1;var t=n.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*t+1)/i}function n0(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var iI=Math.PI,l1=[];function c1(n,e,t,i){var r=n.coordinateSystem;if(!r||r.type==="view"){var o=r.getBoundingRect(),a=n.getData(),l=a.graph,u=o.width/2+o.x,f=o.height/2+o.y,g=Math.min(o.width,o.height)/2,v=a.count();if(a.setLayout({cx:u,cy:f}),v){if(t){var w=r.pointToData(i),_=w[0],A=w[1],T=[_-u,A-f];Hi(T,T),mi(T,T,g),t.setLayout([u+T[0],f+T[1]],!0),u1(t,n.get(["circular","rotateLabel"]),u,f)}Tm[e](n,l,a,g,u,f,v),l.eachEdge(function(L,R){var z,j=kt(L.getModel().get(["lineStyle","curveness"]),yk(L,n,R),0),X=Ji(L.node1.getLayout()),Z=Ji(L.node2.getLayout()),Q=(X[0]+Z[0])/2,nt=(X[1]+Z[1])/2;+j&&(z=[u*(j*=3)+Q*(1-j),f*j+nt*(1-j)]),L.setLayout([X,Z,z])})}}}var Tm={value:function(n,e,t,i,r,o,a){var l=0,u=t.getSum("value"),f=2*Math.PI/(u||a);e.eachNode(function(g){var v=g.getValue("value"),w=f*(u?v:1)/2;l+=w,g.setLayout([i*Math.cos(l)+r,i*Math.sin(l)+o]),l+=w})},symbolSize:function(n,e,t,i,r,o,a){var l=0;l1.length=a;var u=e0(n);e.eachNode(function(v){var w=n0(v);isNaN(w)&&(w=2),w<0&&(w=0),w*=u;var _=Math.asin(w/2/i);isNaN(_)&&(_=iI/2),l1[v.dataIndex]=_,l+=2*_});var f=(2*iI-l)/a/2,g=0;e.eachNode(function(v){var w=f+l1[v.dataIndex];g+=w,(!v.getLayout()||!v.getLayout().fixed)&&v.setLayout([i*Math.cos(g)+r,i*Math.sin(g)+o]),g+=w})}};function u1(n,e,t,i){var r=n.getGraphicEl();if(r){var o=n.getModel().get(["label","rotate"])||0,a=r.getSymbolPath();if(e){var l=n.getLayout(),u=Math.atan2(l[1]-i,l[0]-t);u<0&&(u=2*Math.PI+u);var f=l[0]<t;f&&(u-=Math.PI);var g=f?"left":"right";a.setTextConfig({rotation:-u,position:g,origin:"center"});var v=a.ensureState("emphasis");pe(v.textConfig||(v.textConfig={}),{position:g})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function h1(n){n.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&c1(e,"symbolSize")})}var Im=yr;function Mf(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||t.type==="view")if(e.get("layout")==="force"){var i=e.preservedPoints||{},r=e.getGraph(),o=r.data,a=r.edgeData,l=e.getModel("force"),u=l.get("initLayout");e.preservedPoints?o.each(function(j){var X=o.getId(j);o.setItemLayout(j,i[X]||[NaN,NaN])}):u&&u!=="none"?u==="circular"&&c1(e,"value"):eI(e);var f=o.getDataExtent("value"),g=a.getDataExtent("value"),v=l.get("repulsion"),w=l.get("edgeLength"),_=he(v)?v:[v,v],A=he(w)?w:[w,w];A=[A[1],A[0]];var T=o.mapArray("value",function(j,X){var Z=o.getItemLayout(X),Q=Br(j,f,_);return isNaN(Q)&&(Q=(_[0]+_[1])/2),{w:Q,rep:Q,fixed:o.getItemModel(X).get("fixed"),p:!Z||isNaN(Z[0])||isNaN(Z[1])?null:Z}}),L=a.mapArray("value",function(j,X){var Z=r.getEdgeByIndex(X),Q=Br(j,g,A);isNaN(Q)&&(Q=(A[0]+A[1])/2);var nt=Z.getModel(),it=kt(Z.getModel().get(["lineStyle","curveness"]),-yk(Z,e,X,!0),0);return{n1:T[Z.node1.dataIndex],n2:T[Z.node2.dataIndex],d:Q,curveness:it,ignoreForceLayout:nt.get("ignoreForceLayout")}}),R=t.getBoundingRect(),z=function(j,X,Z){for(var Q=j,nt=X,it=Z.rect,mt=it.width,bt=it.height,St=[it.x+mt/2,it.y+bt/2],Ot=Z.gravity==null?.1:Z.gravity,Yt=0;Yt<Q.length;Yt++){var ee=Q[Yt];ee.p||(ee.p=ar(mt*(Math.random()-.5)+St[0],bt*(Math.random()-.5)+St[1])),ee.pp=Ji(ee.p),ee.edges=null}var le,ge,be=Z.friction==null?.6:Z.friction,Ie=be;return{warmUp:function(){Ie=.8*be},setFixed:function(He){Q[He].fixed=!0},setUnfixed:function(He){Q[He].fixed=!1},beforeStep:function(He){le=He},afterStep:function(He){ge=He},step:function(He){le&&le(Q,nt);for(var qe=[],Ke=Q.length,bn=0;bn<nt.length;bn++){var Rn=nt[bn];if(!Rn.ignoreForceLayout){var Je=Rn.n1;mr(qe,(Vn=Rn.n2).p,Je.p);var Tn=Oi(qe)-Rn.d,Fn=Vn.w/(Je.w+Vn.w);isNaN(Fn)&&(Fn=0),Hi(qe,qe),!Je.fixed&&Im(Je.p,Je.p,qe,Fn*Tn*Ie),!Vn.fixed&&Im(Vn.p,Vn.p,qe,-(1-Fn)*Tn*Ie)}}for(bn=0;bn<Ke;bn++)(ni=Q[bn]).fixed||(mr(qe,St,ni.p),Im(ni.p,ni.p,qe,Ot*Ie));for(bn=0;bn<Ke;bn++){Je=Q[bn];for(var Xn=bn+1;Xn<Ke;Xn++){var Vn;mr(qe,(Vn=Q[Xn]).p,Je.p),(Tn=Oi(qe))===0&&(ir(qe,Math.random()-.5,Math.random()-.5),Tn=1);var qn=(Je.rep+Vn.rep)/Tn/Tn;!Je.fixed&&Im(Je.pp,Je.pp,qe,qn),!Vn.fixed&&Im(Vn.pp,Vn.pp,qe,-qn)}}var Hn=[];for(bn=0;bn<Ke;bn++){var ni;(ni=Q[bn]).fixed||(mr(Hn,ni.p,ni.pp),Im(ni.p,ni.p,Hn,Ie),Ni(ni.pp,ni.p))}var wi=(Ie*=.992)<.01;ge&&ge(Q,nt,wi),He&&He(wi)}}}(T,L,{rect:R,gravity:l.get("gravity"),friction:l.get("friction")});z.beforeStep(function(j,X){for(var Z=0,Q=j.length;Z<Q;Z++)j[Z].fixed&&Ni(j[Z].p,r.getNodeByIndex(Z).getLayout())}),z.afterStep(function(j,X,Z){for(var Q=0,nt=j.length;Q<nt;Q++)j[Q].fixed||r.getNodeByIndex(Q).setLayout(j[Q].p),i[o.getId(Q)]=j[Q].p;for(Q=0,nt=X.length;Q<nt;Q++){var it=X[Q],mt=r.getEdgeByIndex(Q),bt=it.n1.p,St=it.n2.p,Ot=mt.getLayout();(Ot=Ot?Ot.slice():[])[0]=Ot[0]||[],Ot[1]=Ot[1]||[],Ni(Ot[0],bt),Ni(Ot[1],St),+it.curveness&&(Ot[2]=[(bt[0]+St[0])/2-(bt[1]-St[1])*it.curveness,(bt[1]+St[1])/2-(St[0]-bt[0])*it.curveness]),mt.setLayout(Ot)}}),e.forceLayout=z,e.preservedPoints=i,z.step()}else e.forceLayout=null})}function rI(n,e){var t=[];return n.eachSeriesByType("graph",function(i){var r=i.get("coordinateSystem");if(!r||r==="view"){var o=i.getData(),a=[],l=[];fc(o.mapArray(function(T){var L=o.getItemModel(T);return[+L.get("x"),+L.get("y")]}),a,l),l[0]-a[0]==0&&(l[0]+=1,a[0]-=1),l[1]-a[1]==0&&(l[1]+=1,a[1]-=1);var u=(l[0]-a[0])/(l[1]-a[1]),f=function(T,L,R){return Ao(pe(T.getBoxLayoutParams(),{aspect:R}),{width:L.getWidth(),height:L.getHeight()})}(i,e,u);isNaN(u)&&(a=[f.x,f.y],l=[f.x+f.width,f.y+f.height]);var g=l[0]-a[0],v=l[1]-a[1],w=f.width,_=f.height,A=i.coordinateSystem=new wf;A.zoomLimit=i.get("scaleLimit"),A.setBoundingRect(a[0],a[1],g,v),A.setViewRect(f.x,f.y,w,_),A.setCenter(i.get("center"),e),A.setZoom(i.get("zoom")),t.push(A)}}),t}var oI=Zo.prototype,xk=dg.prototype,d1=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}wt(e,n)})(d1);function Tf(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var bk=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return wt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new d1},e.prototype.buildPath=function(t,i){Tf(i)?oI.buildPath.call(this,t,i):xk.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return Tf(this.shape)?oI.pointAt.call(this,t):xk.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,r=Tf(i)?[i.x2-i.x1,i.y2-i.y1]:xk.tangentAt.call(this,t);return Hi(r,r)},e}(Ti),Dm=["fromSymbol","toSymbol"];function Bd(n){return"_"+n+"Type"}function i0(n,e,t){var i=e.getItemVisual(t,n);if(i&&i!=="none"){var r=e.getItemVisual(t,n+"Size"),o=e.getItemVisual(t,n+"Rotate"),a=e.getItemVisual(t,n+"Offset"),l=e.getItemVisual(t,n+"KeepAspect"),u=zv(r),f=nh(a||0,u),g=Do(i,-u[0]/2+f[0],-u[1]/2+f[1],u[0],u[1],null,l);return g.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,g.name=n,g}}function p1(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var f1=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createLine(t,i,r),o}return wt(e,n),e.prototype._createLine=function(t,i,r){var o=t.hostModel,a=function(l){var u=new bk({name:"line",subPixelOptimize:!0});return p1(u.shape,l),u}(t.getItemLayout(i));a.shape.percent=0,vo(a,{shape:{percent:1}},o,i),this.add(a),U(Dm,function(l){var u=i0(l,t,i);this.add(u),this[Bd(l)]=t.getItemVisual(i,l)},this),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel,a=this.childOfName("line"),l=t.getItemLayout(i),u={shape:{}};p1(u.shape,l),Mr(a,u,o,i),U(Dm,function(f){var g=t.getItemVisual(i,f),v=Bd(f);if(this[v]!==g){this.remove(this.childOfName(f));var w=i0(f,t,i);this.add(w)}this[v]=g},this),this._updateCommonStl(t,i,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,r){var o=t.hostModel,a=this.childOfName("line"),l=r&&r.emphasisLineStyle,u=r&&r.blurLineStyle,f=r&&r.selectLineStyle,g=r&&r.labelStatesModels,v=r&&r.emphasisDisabled,w=r&&r.focus,_=r&&r.blurScope;if(!r||t.hasItemOption){var A=t.getItemModel(i),T=A.getModel("emphasis");l=T.getModel("lineStyle").getLineStyle(),u=A.getModel(["blur","lineStyle"]).getLineStyle(),f=A.getModel(["select","lineStyle"]).getLineStyle(),v=T.get("disabled"),w=T.get("focus"),_=T.get("blurScope"),g=Xr(A)}var L=t.getItemVisual(i,"style"),R=L.stroke;a.useStyle(L),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=l,a.ensureState("blur").style=u,a.ensureState("select").style=f,U(Dm,function(Q){var nt=this.childOfName(Q);if(nt){nt.setColor(R),nt.style.opacity=L.opacity;for(var it=0;it<is.length;it++){var mt=is[it],bt=a.getState(mt);if(bt){var St=bt.style||{},Ot=nt.ensureState(mt),Yt=Ot.style||(Ot.style={});St.stroke!=null&&(Yt[nt.__isEmptyBrush?"stroke":"fill"]=St.stroke),St.opacity!=null&&(Yt.opacity=St.opacity)}}nt.markRedraw()}},this);var z=o.getRawValue(i);so(this,g,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(Q,nt){return o.getFormattedLabel(Q,nt,t.dataType)}},inheritColor:R||"#000",defaultOpacity:L.opacity,defaultText:(z==null?t.getName(i):isFinite(z)?uo(z):z)+""});var j=this.getTextContent();if(j){var X=g.normal;j.__align=j.style.align,j.__verticalAlign=j.style.verticalAlign,j.__position=X.get("position")||"middle";var Z=X.get("distance");he(Z)||(Z=[Z,Z]),j.__labelDistance=Z}this.setTextConfig({position:null,local:!0,inside:!1}),Io(this,w,_,v)},e.prototype.highlight=function(){Xu(this)},e.prototype.downplay=function(){qu(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");p1(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),o=t.getTextContent();if(i||r||o&&!o.ignore){for(var a=1,l=this.parent;l;)l.scaleX&&(a/=l.scaleX),l=l.parent;var u=t.childOfName("line");if(this.__dirty||u.__dirty){var f=u.shape.percent,g=u.pointAt(0),v=u.pointAt(f),w=mr([],v,g);if(Hi(w,w),i&&(i.setPosition(g),mt(i,0),i.scaleX=i.scaleY=a*f,i.markRedraw()),r&&(r.setPosition(v),mt(r,1),r.scaleX=r.scaleY=a*f,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var _=void 0,A=void 0,T=o.__labelDistance,L=T[0]*a,R=T[1]*a,z=f/2,j=u.tangentAt(z),X=[j[1],-j[0]],Z=u.pointAt(z);X[1]>0&&(X[0]=-X[0],X[1]=-X[1]);var Q=j[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var nt=-Math.atan2(j[1],j[0]);v[0]<g[0]&&(nt=Math.PI+nt),o.rotation=nt}var it=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":it=-R,A="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":it=R,A="top";break;default:it=0,A="middle"}switch(o.__position){case"end":o.x=w[0]*L+v[0],o.y=w[1]*R+v[1],_=w[0]>.8?"left":w[0]<-.8?"right":"center",A=w[1]>.8?"top":w[1]<-.8?"bottom":"middle";break;case"start":o.x=-w[0]*L+g[0],o.y=-w[1]*R+g[1],_=w[0]>.8?"right":w[0]<-.8?"left":"center",A=w[1]>.8?"bottom":w[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=L*Q+g[0],o.y=g[1]+it,_=j[0]<0?"right":"left",o.originX=-L*Q,o.originY=-it;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=Z[0],o.y=Z[1]+it,_="center",o.originY=-it;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-L*Q+v[0],o.y=v[1]+it,_=j[0]>=0?"right":"left",o.originX=L*Q,o.originY=-it}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||A,align:o.__align||_})}}}function mt(bt,St){var Ot=bt.__specifiedRotation;if(Ot==null){var Yt=u.tangentAt(St);bt.attr("rotation",(St===1?-1:1)*Math.PI/2-Math.atan2(Yt[1],Yt[0]))}else bt.attr("rotation",Ot)}},e}(Ei),g1=function(){function n(e){this.group=new Ei,this._LineCtor=e||f1}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,r=i.group,o=i._lineData;i._lineData=e,o||r.removeAll();var a=aI(e);e.diff(o).add(function(l){t._doAdd(e,l,a)}).update(function(l,u){t._doUpdate(o,e,u,l,a)}).remove(function(l){r.remove(o.getItemGraphicEl(l))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=aI(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){function i(a){a.isGroup||function(l){return l.animators&&l.animators.length>0}(a)||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++)if(m1(t.getItemLayout(r))){var o=new this._LineCtor(t,r,this._seriesScope);o.traverse(i),this.group.add(o),t.setItemGraphicEl(r,o),this._progressiveEls.push(o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){ra(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,i){if(m1(e.getItemLayout(t))){var r=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,r),this.group.add(r)}},n.prototype._doUpdate=function(e,t,i,r,o){var a=e.getItemGraphicEl(i);m1(t.getItemLayout(r))?(a?a.updateData(t,r,o):a=new this._LineCtor(t,r,o),t.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},n}();function aI(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Xr(e)}}function wk(n){return isNaN(n[0])||isNaN(n[1])}function m1(n){return n&&!wk(n[0])&&!wk(n[1])}var r0=[],_k=[],v1=[],zd=Ir,o0=er,sI=Math.abs;function Sk(n,e,t){for(var i,r=n[0],o=n[1],a=n[2],l=1/0,u=t*t,f=.1,g=.1;g<=.9;g+=.1)r0[0]=zd(r[0],o[0],a[0],g),r0[1]=zd(r[1],o[1],a[1],g),(_=sI(o0(r0,e)-u))<l&&(l=_,i=g);for(var v=0;v<32;v++){var w=i+f;_k[0]=zd(r[0],o[0],a[0],i),_k[1]=zd(r[1],o[1],a[1],i),v1[0]=zd(r[0],o[0],a[0],w),v1[1]=zd(r[1],o[1],a[1],w);var _=o0(_k,e)-u;if(sI(_)<.01)break;var A=o0(v1,e)-u;f/=2,_<0?A>=0?i+=f:i-=f:A>=0?i-=f:i+=f}return i}function Ck(n,e){var t=[],i=Xa,r=[[],[],[]],o=[[],[]],a=[];e/=2,n.eachEdge(function(l,u){var f=l.getLayout(),g=l.getVisual("fromSymbol"),v=l.getVisual("toSymbol");f.__original||(f.__original=[Ji(f[0]),Ji(f[1])],f[2]&&f.__original.push(Ji(f[2])));var w=f.__original;if(f[2]!=null){if(Ni(r[0],w[0]),Ni(r[1],w[2]),Ni(r[2],w[1]),g&&g!=="none"){var _=n0(l.node1),A=Sk(r,w[0],_*e);i(r[0][0],r[1][0],r[2][0],A,t),r[0][0]=t[3],r[1][0]=t[4],i(r[0][1],r[1][1],r[2][1],A,t),r[0][1]=t[3],r[1][1]=t[4]}v&&v!=="none"&&(_=n0(l.node2),A=Sk(r,w[1],_*e),i(r[0][0],r[1][0],r[2][0],A,t),r[1][0]=t[1],r[2][0]=t[2],i(r[0][1],r[1][1],r[2][1],A,t),r[1][1]=t[1],r[2][1]=t[2]),Ni(f[0],r[0]),Ni(f[1],r[2]),Ni(f[2],r[1])}else Ni(o[0],w[0]),Ni(o[1],w[1]),mr(a,o[1],o[0]),Hi(a,a),g&&g!=="none"&&(_=n0(l.node1),yr(o[0],o[0],a,_*e)),v&&v!=="none"&&(_=n0(l.node2),yr(o[1],o[1],a,-_*e)),Ni(f[0],o[0]),Ni(f[1],o[1])})}function kk(n){return n.type==="view"}var NL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t,i){var r=new hm,o=new g1,a=this.group;this._controller=new Ny(i.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},e.prototype.render=function(t,i,r){var o=this,a=t.coordinateSystem;this._model=t;var l=this._symbolDraw,u=this._lineDraw,f=this.group;if(kk(a)){var g={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?f.attr(g):Mr(f,g,t)}Ck(t.getGraph(),e0(t));var v=t.getData();l.updateData(v);var w=t.getEdgeData();u.updateData(w),this._updateNodeAndLinkScale(),this._updateController(t,i,r),clearTimeout(this._layoutTimeout);var _=t.forceLayout,A=t.get(["force","layoutAnimation"]);_&&this._startForceLayoutIteration(_,A);var T=t.get("layout");v.graph.eachNode(function(j){var X=j.dataIndex,Z=j.getGraphicEl(),Q=j.getModel();if(Z){Z.off("drag").off("dragend");var nt=Q.get("draggable");nt&&Z.on("drag",function(it){switch(T){case"force":_.warmUp(),!o._layouting&&o._startForceLayoutIteration(_,A),_.setFixed(X),v.setItemLayout(X,[Z.x,Z.y]);break;case"circular":v.setItemLayout(X,[Z.x,Z.y]),j.setLayout({fixed:!0},!0),c1(t,"symbolSize",j,[it.offsetX,it.offsetY]),o.updateLayout(t);break;default:v.setItemLayout(X,[Z.x,Z.y]),t0(t.getGraph(),t),o.updateLayout(t)}}).on("dragend",function(){_&&_.setUnfixed(X)}),Z.setDraggable(nt,!!Q.get("cursor")),Q.get(["emphasis","focus"])==="adjacency"&&(Ui(Z).focus=j.getAdjacentDataIndices())}}),v.graph.eachEdge(function(j){var X=j.getGraphicEl(),Z=j.getModel().get(["emphasis","focus"]);X&&Z==="adjacency"&&(Ui(X).focus={edge:[j.dataIndex],node:[j.node1.dataIndex,j.node2.dataIndex]})});var L=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),R=v.getLayout("cx"),z=v.getLayout("cy");v.graph.eachNode(function(j){u1(j,L,R,z)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i){var r=this;(function o(){t.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(i?r._layoutTimeout=setTimeout(o,16):o())})})()},e.prototype._updateController=function(t,i,r){var o=this,a=this._controller,l=this._controllerHost,u=this.group;a.setPointerChecker(function(f,g,v){var w=u.getBoundingRect();return w.applyTransform(u.transform),w.contain(g,v)&&!By(f,r,t)}),kk(t.coordinateSystem)?(a.enable(t.get("roam")),l.zoomLimit=t.get("scaleLimit"),l.zoom=t.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(f){Ry(l,f.dx,f.dy),r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){yf(l,f.scale,f.originX,f.originY),r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),o._updateNodeAndLinkScale(),Ck(t.getGraph(),e0(t)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),r=e0(t);i.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(r)})},e.prototype.updateLayout=function(t){Ck(t.getGraph(),e0(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(qr);function Yl(n){return"_EC_"+n}var lI=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var i=this._nodesMap;if(!i[Yl(e)]){var r=new If(e,t);return r.hostGraph=this,this.nodes.push(r),i[Yl(e)]=r,r}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[Yl(e)]},n.prototype.addEdge=function(e,t,i){var r=this._nodesMap,o=this._edgesMap;if(fi(e)&&(e=this.nodes[e]),fi(t)&&(t=this.nodes[t]),e instanceof If||(e=r[Yl(e)]),t instanceof If||(t=r[Yl(t)]),e&&t){var a=e.id+"-"+t.id,l=new a0(e,t,i);return l.hostGraph=this,this._directed&&(e.outEdges.push(l),t.inEdges.push(l)),e.edges.push(l),e!==t&&t.edges.push(l),this.edges.push(l),o[a]=l,l}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof If&&(e=e.id),t instanceof If&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},n.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof If||(t=this._nodesMap[Yl(t)]),t){for(var o=i==="out"?"outEdges":i==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(r,t,null))for(var l=[t];l.length;){var u=l.shift(),f=u[o];for(a=0;a<f.length;a++){var g=f[a],v=g.node1===u?g.node2:g.node1;if(!v.__visited){if(e.call(r,v,u))return;l.push(v),v.__visited=!0}}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(l){var u=r[t.getRawIndex(l)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)r[t.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},n}(),If=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n}(),a0=function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=i??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function Df(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}function s0(n,e,t,i,r){for(var o=new lI(i),a=0;a<n.length;a++)o.addNode(Ri(n[a].id,n[a].name,a),a);var l=[],u=[],f=0;for(a=0;a<e.length;a++){var g=e[a],v=g.source,w=g.target;o.addEdge(v,w,f)&&(u.push(g),l.push(Ri(po(g.id,null),v+" > "+w)),f++)}var _,A=t.get("coordinateSystem");if(A==="cartesian2d"||A==="polar")_=fu(n,t);else{var T=od.get(A),L=T&&T.dimensions||[];rn(L,"value")<0&&L.concat(["value"]);var R=nm(n,{coordDimensions:L,encodeDefine:t.getEncode()}).dimensions;(_=new Va(R,t)).initData(n)}var z=new Va(["value"],t);return z.initData(u,l),r&&r(_,z),N2({mainData:_,struct:o,structAttr:"graph",datas:{node:_,edge:z},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}oe(If,Df("hostGraph","data")),oe(a0,Df("hostGraph","edgeData"));var y1=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return wt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new Es(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),qc(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var r,o=t.edges||t.links||[],a=t.data||t.nodes||[],l=this;if(a&&o){Af(r=this)&&(r.__curvenessList=[],r.__edgeMap={},tI(r));var u=s0(a,o,this,!0,function(f,g){f.wrapMethod("getItemModel",function(A){var T=l._categoriesModels[A.getShallow("category")];return T&&(T.parentModel=A.parentModel,A.parentModel=T),A});var v=Nr.prototype.getModel;function w(A,T){var L=v.call(this,A,T);return L.resolveParentPath=_,L}function _(A){if(A&&(A[0]==="label"||A[1]==="label")){var T=A.slice();return A[0]==="label"?T[0]="edgeLabel":A[1]==="label"&&(T[1]="edgeLabel"),T}return A}g.wrapMethod("getItemModel",function(A){return A.resolveParentPath=_,A.getModel=w,A})});return U(u.edges,function(f){(function(g,v,w,_){if(Af(w)){var A=Qy(g,v,w),T=w.__edgeMap,L=T[mk(A)];T[A]&&!L?T[A].isForward=!0:L&&T[A]&&(L.isForward=!0,T[A].isForward=!1),T[A]=T[A]||[],T[A].push(_)}})(f.node1,f.node2,this,f.dataIndex)},this),u.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,r){if(r==="edge"){var o=this.getData(),a=this.getDataParams(t,r),l=o.graph.getEdgeByIndex(t),u=o.getName(l.node1.dataIndex),f=o.getName(l.node2.dataIndex),g=[];return u!=null&&g.push(u),f!=null&&g.push(f),oa("nameValue",{name:g.join(" > "),value:a.value,noValue:a.value==null})}return l_({series:this,dataIndex:t,multipleSeries:i})},e.prototype._updateCategoriesData=function(){var t=ye(this.option.categories||[],function(r){return r.value!=null?r:pe({value:0},r)}),i=new Va(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Vr),cI={type:"graphRoam",event:"graphRoam",update:"none"},ds=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},x1=function(n){function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return wt(e,n),e.prototype.getDefaultShape=function(){return new ds},e.prototype.buildPath=function(t,i){var r=Math.cos,o=Math.sin,a=i.r,l=i.width,u=i.angle,f=i.x-r(u)*l*(l>=a/3?1:2),g=i.y-o(u)*l*(l>=a/3?1:2);u=i.angle-Math.PI/2,t.moveTo(f,g),t.lineTo(i.x+r(u)*l,i.y+o(u)*l),t.lineTo(i.x+r(i.angle)*a,i.y+o(i.angle)*a),t.lineTo(i.x-r(u)*l,i.y-o(u)*l),t.lineTo(f,g)},e}(Ti);function l0(n,e){var t=n==null?"":n+"";return e&&(kn(e)?t=e.replace("{value}",t):In(e)&&(t=e(n))),t}var uI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){this.group.removeAll();var o=t.get(["axisLine","lineStyle","color"]),a=function(l,u){var f=l.get("center"),g=u.getWidth(),v=u.getHeight(),w=Math.min(g,v);return{cx:Yn(f[0],u.getWidth()),cy:Yn(f[1],u.getHeight()),r:Yn(l.get("radius"),w/2)}}(t,r);this._renderMain(t,i,r,o,a),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,r,o,a){var l=this.group,u=t.get("clockwise"),f=-t.get("startAngle")/180*Math.PI,g=-t.get("endAngle")/180*Math.PI,v=t.getModel("axisLine"),w=v.get("roundCap")?df:os,_=v.get("show"),A=v.getModel("lineStyle"),T=A.get("width"),L=[f,g];Vt(L,!u);for(var R=(g=L[1])-(f=L[0]),z=f,j=[],X=0;_&&X<o.length;X++){var Z=new w({shape:{startAngle:z,endAngle:g=f+R*Math.min(Math.max(o[X][0],0),1),cx:a.cx,cy:a.cy,clockwise:u,r0:a.r-T,r:a.r},silent:!0});Z.setStyle({fill:o[X][1]}),Z.setStyle(A.getLineStyle(["color","width"])),j.push(Z),z=g}j.reverse(),U(j,function(nt){return l.add(nt)});var Q=function(nt){if(nt<=0)return o[0][1];var it;for(it=0;it<o.length;it++)if(o[it][0]>=nt&&(it===0?0:o[it-1][0])<nt)return o[it][1];return o[it-1][1]};this._renderTicks(t,i,r,Q,a,f,g,u,T),this._renderTitleAndDetail(t,i,r,Q,a),this._renderAnchor(t,a),this._renderPointer(t,i,r,Q,a,f,g,u,T)},e.prototype._renderTicks=function(t,i,r,o,a,l,u,f,g){for(var v,w,_=this.group,A=a.cx,T=a.cy,L=a.r,R=+t.get("min"),z=+t.get("max"),j=t.getModel("splitLine"),X=t.getModel("axisTick"),Z=t.getModel("axisLabel"),Q=t.get("splitNumber"),nt=X.get("splitNumber"),it=Yn(j.get("length"),L),mt=Yn(X.get("length"),L),bt=l,St=(u-l)/Q,Ot=St/nt,Yt=j.getModel("lineStyle").getLineStyle(),ee=X.getModel("lineStyle").getLineStyle(),le=j.get("distance"),ge=0;ge<=Q;ge++){if(v=Math.cos(bt),w=Math.sin(bt),j.get("show")){var be=new Zo({shape:{x1:v*(L-(Ie=le?le+g:g))+A,y1:w*(L-Ie)+T,x2:v*(L-it-Ie)+A,y2:w*(L-it-Ie)+T},style:Yt,silent:!0});Yt.stroke==="auto"&&be.setStyle({stroke:o(ge/Q)}),_.add(be)}if(Z.get("show")){var Ie=Z.get("distance")+le,He=l0(uo(ge/Q*(z-R)+R),Z.get("formatter")),qe=o(ge/Q),Ke=v*(L-it-Ie)+A,bn=w*(L-it-Ie)+T,Rn=Z.get("rotate"),Je=0;Rn==="radial"?(Je=-bt+2*Math.PI)>Math.PI/2&&(Je+=Math.PI):Rn==="tangential"?Je=-bt-Math.PI/2:fi(Rn)&&(Je=Rn*Math.PI/180),Je===0?_.add(new wr({style:Dr(Z,{text:He,x:Ke,y:bn,verticalAlign:w<-.8?"top":w>.8?"bottom":"middle",align:v<-.4?"left":v>.4?"right":"center"},{inheritColor:qe}),silent:!0})):_.add(new wr({style:Dr(Z,{text:He,x:Ke,y:bn,verticalAlign:"middle",align:"center"},{inheritColor:qe}),silent:!0,originX:Ke,originY:bn,rotation:Je}))}if(X.get("show")&&ge!==Q){Ie=(Ie=X.get("distance"))?Ie+g:g;for(var Tn=0;Tn<=nt;Tn++){v=Math.cos(bt),w=Math.sin(bt);var Fn=new Zo({shape:{x1:v*(L-Ie)+A,y1:w*(L-Ie)+T,x2:v*(L-mt-Ie)+A,y2:w*(L-mt-Ie)+T},silent:!0,style:ee});ee.stroke==="auto"&&Fn.setStyle({stroke:o((ge+Tn/nt)/Q)}),_.add(Fn),bt+=Ot}bt-=Ot}else bt+=St}},e.prototype._renderPointer=function(t,i,r,o,a,l,u,f,g){var v=this.group,w=this._data,_=this._progressEls,A=[],T=t.get(["pointer","show"]),L=t.getModel("progress"),R=L.get("show"),z=t.getData(),j=z.mapDimension("value"),X=+t.get("min"),Z=+t.get("max"),Q=[X,Z],nt=[l,u];function it(bt,St){var Ot,Yt=z.getItemModel(bt).getModel("pointer"),ee=Yn(Yt.get("width"),a.r),le=Yn(Yt.get("length"),a.r),ge=t.get(["pointer","icon"]),be=Yt.get("offsetCenter"),Ie=Yn(be[0],a.r),He=Yn(be[1],a.r),qe=Yt.get("keepAspect");return(Ot=ge?Do(ge,Ie-ee/2,He-le,ee,le,null,qe):new x1({shape:{angle:-Math.PI/2,width:ee,r:le,x:Ie,y:He}})).rotation=-(St+Math.PI/2),Ot.x=a.cx,Ot.y=a.cy,Ot}function mt(bt,St){var Ot=L.get("roundCap")?df:os,Yt=L.get("overlap"),ee=Yt?L.get("width"):g/z.count(),le=Yt?a.r-ee:a.r-(bt+1)*ee,ge=Yt?a.r:a.r-bt*ee,be=new Ot({shape:{startAngle:l,endAngle:St,cx:a.cx,cy:a.cy,clockwise:f,r0:le,r:ge}});return Yt&&(be.z2=Z-z.get(j,bt)%Z),be}(R||T)&&(z.diff(w).add(function(bt){var St=z.get(j,bt);if(T){var Ot=it(bt,l);vo(Ot,{rotation:-((isNaN(+St)?nt[0]:Br(St,Q,nt,!0))+Math.PI/2)},t),v.add(Ot),z.setItemGraphicEl(bt,Ot)}if(R){var Yt=mt(bt,l),ee=L.get("clip");vo(Yt,{shape:{endAngle:Br(St,Q,nt,ee)}},t),v.add(Yt),M0(t.seriesIndex,z.dataType,bt,Yt),A[bt]=Yt}}).update(function(bt,St){var Ot=z.get(j,bt);if(T){var Yt=w.getItemGraphicEl(St),ee=Yt?Yt.rotation:l,le=it(bt,ee);le.rotation=ee,Mr(le,{rotation:-((isNaN(+Ot)?nt[0]:Br(Ot,Q,nt,!0))+Math.PI/2)},t),v.add(le),z.setItemGraphicEl(bt,le)}if(R){var ge=_[St],be=mt(bt,ge?ge.shape.endAngle:l),Ie=L.get("clip");Mr(be,{shape:{endAngle:Br(Ot,Q,nt,Ie)}},t),v.add(be),M0(t.seriesIndex,z.dataType,bt,be),A[bt]=be}}).execute(),z.each(function(bt){var St=z.getItemModel(bt),Ot=St.getModel("emphasis"),Yt=Ot.get("focus"),ee=Ot.get("blurScope"),le=Ot.get("disabled");if(T){var ge=z.getItemGraphicEl(bt),be=z.getItemVisual(bt,"style"),Ie=be.fill;if(ge instanceof Kr){var He=ge.style;ge.useStyle(pe({image:He.image,x:He.x,y:He.y,width:He.width,height:He.height},be))}else ge.useStyle(be),ge.type!=="pointer"&&ge.setColor(Ie);ge.setStyle(St.getModel(["pointer","itemStyle"]).getItemStyle()),ge.style.fill==="auto"&&ge.setStyle("fill",o(Br(z.get(j,bt),Q,[0,1],!0))),ge.z2EmphasisLift=0,Wo(ge,St),Io(ge,Yt,ee,le)}if(R){var qe=A[bt];qe.useStyle(z.getItemVisual(bt,"style")),qe.setStyle(St.getModel(["progress","itemStyle"]).getItemStyle()),qe.z2EmphasisLift=0,Wo(qe,St),Io(qe,Yt,ee,le)}}),this._progressEls=A)},e.prototype._renderAnchor=function(t,i){var r=t.getModel("anchor");if(r.get("show")){var o=r.get("size"),a=r.get("icon"),l=r.get("offsetCenter"),u=r.get("keepAspect"),f=Do(a,i.cx-o/2+Yn(l[0],i.r),i.cy-o/2+Yn(l[1],i.r),o,o,null,u);f.z2=r.get("showAbove")?1:0,f.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(f)}},e.prototype._renderTitleAndDetail=function(t,i,r,o,a){var l=this,u=t.getData(),f=u.mapDimension("value"),g=+t.get("min"),v=+t.get("max"),w=new Ei,_=[],A=[],T=t.isAnimationEnabled(),L=t.get(["pointer","showAbove"]);u.diff(this._data).add(function(R){_[R]=new wr({silent:!0}),A[R]=new wr({silent:!0})}).update(function(R,z){_[R]=l._titleEls[z],A[R]=l._detailEls[z]}).execute(),u.each(function(R){var z=u.getItemModel(R),j=u.get(f,R),X=new Ei,Z=o(Br(j,[g,v],[0,1],!0)),Q=z.getModel("title");if(Q.get("show")){var nt=Q.get("offsetCenter"),it=a.cx+Yn(nt[0],a.r),mt=a.cy+Yn(nt[1],a.r);(be=_[R]).attr({z2:L?0:2,style:Dr(Q,{x:it,y:mt,text:u.getName(R),align:"center",verticalAlign:"middle"},{inheritColor:Z})}),X.add(be)}var bt=z.getModel("detail");if(bt.get("show")){var St=bt.get("offsetCenter"),Ot=a.cx+Yn(St[0],a.r),Yt=a.cy+Yn(St[1],a.r),ee=Yn(bt.get("width"),a.r),le=Yn(bt.get("height"),a.r),ge=t.get(["progress","show"])?u.getItemVisual(R,"style").fill:Z,be=A[R],Ie=bt.get("formatter");be.attr({z2:L?0:2,style:Dr(bt,{x:Ot,y:Yt,text:l0(j,Ie),width:isNaN(ee)?null:ee,height:isNaN(le)?null:le,align:"center",verticalAlign:"middle"},{inheritColor:ge})}),_A(be,{normal:bt},j,function(He){return l0(He,Ie)}),T&&fw(be,R,u,t,{getFormattedLabel:function(He,qe,Ke,bn,Rn,Je){return l0(Je?Je.interpolatedValue:j,Ie)}}),X.add(be)}w.add(X)}),this.group.add(w),this._titleEls=_,this._detailEls=A},e.type="gauge",e}(qr),RL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return wt(e,n),e.prototype.getInitialData=function(t,i){return ff(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Vr),Fd=["itemStyle","opacity"],BL=function(n){function e(t,i){var r=n.call(this)||this,o=r,a=new ss,l=new wr;return o.setTextContent(l),r.setTextGuideLine(a),r.updateData(t,i,!0),r}return wt(e,n),e.prototype.updateData=function(t,i,r){var o=this,a=t.hostModel,l=t.getItemModel(i),u=t.getItemLayout(i),f=l.getModel("emphasis"),g=l.get(Fd);g=g??1,r||Ca(o),o.useStyle(t.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:u.points}),o.style.opacity=0,vo(o,{style:{opacity:g}},a,i)):Mr(o,{style:{opacity:g},shape:{points:u.points}},a,i),Wo(o,l),this._updateLabel(t,i),Io(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},e.prototype._updateLabel=function(t,i){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),l=t.hostModel,u=t.getItemModel(i),f=t.getItemLayout(i).label,g=t.getItemVisual(i,"style"),v=g.fill;so(a,Xr(u),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:g.opacity,defaultText:t.getName(i)},{normal:{align:f.textAlign,verticalAlign:f.verticalAlign}}),r.setTextConfig({local:!0,inside:!!f.inside,insideStroke:v,outsideFill:v});var w=f.linePoints;o.setShape({points:w}),r.textGuideLineConfig={anchor:w?new ti(w[0][0],w[0][1]):null},Mr(a,{style:{x:f.x,y:f.y}},l,i),a.attr({rotation:f.rotation,originX:f.x,originY:f.y,z2:10}),eb(r,TS(u),{stroke:v})},e}(as),hI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this._data,l=this.group;o.diff(a).add(function(u){var f=new BL(o,u);o.setItemGraphicEl(u,f),l.add(f)}).update(function(u,f){var g=a.getItemGraphicEl(f);g.updateData(o,u),l.add(g),o.setItemGraphicEl(u,g)}).remove(function(u){$u(a.getItemGraphicEl(u),t,u)}).execute(),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(qr),Lm=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Es(Be(this.getData,this),Be(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return ff(this,{coordDimensions:["value"],encodeDefaulter:un(Ew,this)})},e.prototype._defaultLabelLine=function(t){qc(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),o=i.mapDimension("value"),a=i.getSum(o);return r.percent=a?+(i.get(o,t)/a*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Vr);function b1(n,e){n.eachSeriesByType("funnel",function(t){var i=t.getData(),r=i.mapDimension("value"),o=t.get("sort"),a=function(Yt,ee){return Ao(Yt.getBoxLayoutParams(),{width:ee.getWidth(),height:ee.getHeight()})}(t,e),l=t.get("orient"),u=a.width,f=a.height,g=function(Yt,ee){for(var le=Yt.mapDimension("value"),ge=Yt.mapArray(le,function(Ke){return Ke}),be=[],Ie=ee==="ascending",He=0,qe=Yt.count();He<qe;He++)be[He]=He;return In(ee)?be.sort(ee):ee!=="none"&&be.sort(function(Ke,bn){return Ie?ge[Ke]-ge[bn]:ge[bn]-ge[Ke]}),be}(i,o),v=a.x,w=a.y,_=l==="horizontal"?[Yn(t.get("minSize"),f),Yn(t.get("maxSize"),f)]:[Yn(t.get("minSize"),u),Yn(t.get("maxSize"),u)],A=i.getDataExtent(r),T=t.get("min"),L=t.get("max");T==null&&(T=Math.min(A[0],0)),L==null&&(L=A[1]);var R=t.get("funnelAlign"),z=t.get("gap"),j=((l==="horizontal"?u:f)-z*(i.count()-1))/i.count(),X=function(Yt,ee){if(l==="horizontal"){var le=Br(i.get(r,Yt)||0,[T,L],_,!0),ge=void 0;switch(R){case"top":ge=w;break;case"center":ge=w+(f-le)/2;break;case"bottom":ge=w+(f-le)}return[[ee,ge],[ee,ge+le]]}var be,Ie=Br(i.get(r,Yt)||0,[T,L],_,!0);switch(R){case"left":be=v;break;case"center":be=v+(u-Ie)/2;break;case"right":be=v+u-Ie}return[[be,ee],[be+Ie,ee]]};o==="ascending"&&(j=-j,z=-z,l==="horizontal"?v+=u:w+=f,g=g.reverse());for(var Z=0;Z<g.length;Z++){var Q=g[Z],nt=g[Z+1],it=i.getItemModel(Q);if(l==="horizontal"){var mt=it.get(["itemStyle","width"]);mt==null?mt=j:(mt=Yn(mt,u),o==="ascending"&&(mt=-mt));var bt=X(Q,v),St=X(nt,v+mt);v+=mt+z,i.setItemLayout(Q,{points:bt.concat(St.slice().reverse())})}else{var Ot=it.get(["itemStyle","height"]);Ot==null?Ot=j:(Ot=Yn(Ot,f),o==="ascending"&&(Ot=-Ot)),bt=X(Q,w),St=X(nt,w+Ot),w+=Ot+z,i.setItemLayout(Q,{points:bt.concat(St.slice().reverse())})}}(function(Yt){var ee=Yt.hostModel.get("orient");Yt.each(function(le){var ge,be,Ie,He,qe=Yt.getItemModel(le),Ke=qe.getModel("label").get("position"),bn=qe.getModel("labelLine"),Rn=Yt.getItemLayout(le),Je=Rn.points,Tn=Ke==="inner"||Ke==="inside"||Ke==="center"||Ke==="insideLeft"||Ke==="insideRight";if(Tn)Ke==="insideLeft"?(be=(Je[0][0]+Je[3][0])/2+5,Ie=(Je[0][1]+Je[3][1])/2,ge="left"):Ke==="insideRight"?(be=(Je[1][0]+Je[2][0])/2-5,Ie=(Je[1][1]+Je[2][1])/2,ge="right"):(be=(Je[0][0]+Je[1][0]+Je[2][0]+Je[3][0])/4,Ie=(Je[0][1]+Je[1][1]+Je[2][1]+Je[3][1])/4,ge="center"),He=[[be,Ie],[be,Ie]];else{var Fn=void 0,Xn=void 0,Vn=void 0,qn=void 0,Hn=bn.get("length");Ke==="left"?(Fn=(Je[3][0]+Je[0][0])/2,Xn=(Je[3][1]+Je[0][1])/2,be=(Vn=Fn-Hn)-5,ge="right"):Ke==="right"?(Fn=(Je[1][0]+Je[2][0])/2,Xn=(Je[1][1]+Je[2][1])/2,be=(Vn=Fn+Hn)+5,ge="left"):Ke==="top"?(Fn=(Je[3][0]+Je[0][0])/2,Ie=(qn=(Xn=(Je[3][1]+Je[0][1])/2)-Hn)-5,ge="center"):Ke==="bottom"?(Fn=(Je[1][0]+Je[2][0])/2,Ie=(qn=(Xn=(Je[1][1]+Je[2][1])/2)+Hn)+5,ge="center"):Ke==="rightTop"?(Fn=ee==="horizontal"?Je[3][0]:Je[1][0],Xn=ee==="horizontal"?Je[3][1]:Je[1][1],ee==="horizontal"?(Ie=(qn=Xn-Hn)-5,ge="center"):(be=(Vn=Fn+Hn)+5,ge="top")):Ke==="rightBottom"?(Fn=Je[2][0],Xn=Je[2][1],ee==="horizontal"?(Ie=(qn=Xn+Hn)+5,ge="center"):(be=(Vn=Fn+Hn)+5,ge="bottom")):Ke==="leftTop"?(Fn=Je[0][0],Xn=ee==="horizontal"?Je[0][1]:Je[1][1],ee==="horizontal"?(Ie=(qn=Xn-Hn)-5,ge="center"):(be=(Vn=Fn-Hn)-5,ge="right")):Ke==="leftBottom"?(Fn=ee==="horizontal"?Je[1][0]:Je[3][0],Xn=ee==="horizontal"?Je[1][1]:Je[2][1],ee==="horizontal"?(Ie=(qn=Xn+Hn)+5,ge="center"):(be=(Vn=Fn-Hn)-5,ge="right")):(Fn=(Je[1][0]+Je[2][0])/2,Xn=(Je[1][1]+Je[2][1])/2,ee==="horizontal"?(Ie=(qn=Xn+Hn)+5,ge="center"):(be=(Vn=Fn+Hn)+5,ge="left")),ee==="horizontal"?be=Vn=Fn:Ie=qn=Xn,He=[[Fn,Xn],[Vn,qn]]}Rn.label={linePoints:He,x:be,y:Ie,verticalAlign:"middle",textAlign:ge,inside:Tn}})})(i)})}var dI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new Ei,t._initialized=!1,t}return wt(e,n),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var a=this._dataGroup,l=t.getData(),u=this._data,f=t.coordinateSystem,g=f.dimensions,v=fI(t);if(l.diff(u).add(function(_){Of(pI(l,a,_,g,f),l,_,v)}).update(function(_,A){var T=u.getItemGraphicEl(A),L=Lf(l,_,g,f);l.setItemGraphicEl(_,T),Mr(T,{shape:{points:L}},t,_),Ca(T),Of(T,l,_,v)}).remove(function(_){var A=u.getItemGraphicEl(_);a.remove(A)}).execute(),!this._initialized){this._initialized=!0;var w=function(_,A,T){var L=_.model,R=_.getRect(),z=new br({shape:{x:R.x,y:R.y,width:R.width,height:R.height}}),j=L.get("layout")==="horizontal"?"width":"height";return z.setShape(j,0),vo(z,{shape:{width:R.width,height:R.height}},A,T),z}(f,t,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(w)}this._data=l},e.prototype.incrementalPrepareRender=function(t,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,r){for(var o=i.getData(),a=i.coordinateSystem,l=a.dimensions,u=fI(i),f=this._progressiveEls=[],g=t.start;g<t.end;g++){var v=pI(o,this._dataGroup,g,l,a);v.incremental=!0,Of(v,o,g,u),f.push(v)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(qr);function Lf(n,e,t,i){for(var r,o=[],a=0;a<t.length;a++){var l=t[a],u=n.get(n.mapDimension(l),e);r=u,(i.getAxis(l).type==="category"?r==null:r==null||isNaN(r))||o.push(i.dataToPoint(u,l))}return o}function pI(n,e,t,i,r){var o=Lf(n,t,i,r),a=new ss({shape:{points:o},z2:10});return e.add(a),n.setItemGraphicEl(t,a),a}function fI(n){var e=n.get("smooth",!0);return e===!0&&(e=.3),ui(e=Da(e))&&(e=0),{smooth:e}}function Of(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=e.getItemModel(t),o=r.getModel("emphasis");Wo(n,r,"lineStyle"),Io(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var zL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return wt(e,n),e.prototype.getInitialData=function(t,i){return fu(null,this,{useEncodeDefaulter:Be(gI,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(a,l){t===a&&o.push(r.getRawIndex(l))}),o},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Vr);function gI(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return U(e.dimensions,function(i){var r=+i.replace("dim","");t[i]=r}),t}}var s=["lineStyle","opacity"],c={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){t.eachActiveState(o,function(a,l){var u=i[a];if(a==="normal"&&o.hasItemOption){var f=o.getItemModel(l).get(s,!0);f!=null&&(u=f)}o.ensureUniqueItemVisual(l,"style").opacity=u},r.start,r.end)}}}};function p(n){(function(e){if(!e.parallel){var t=!1;U(e.series,function(i){i&&i.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}})(n),function(e){U(Fr(e.parallelAxis),function(t){if(Zn(t)){var i=t.parallelIndex||0,r=Fr(e.parallel)[i];r&&r.parallelAxisDefault&&ie(t,r.parallelAxisDefault,!1)}})}(n)}var m=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){this._model=t,this._api=r,this._handlers||(this._handlers={},U(b,function(o,a){r.getZr().on(a,this._handlers[a]=Be(o,this))},this)),hl(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){Ba(this,"_throttledDispatchExpand"),U(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(pe({type:"parallelAxisExpand"},t))},e.type="parallel",e}(io),b={mousedown:function(n){S(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(S(this,"click")&&e){var t=[n.offsetX,n.offsetY];if(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&S(this,"mousemove")){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:i==="jump"?null:{duration:0}})}}};function S(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var I=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var i=this.option;t&&ie(i,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var r=t.get("parallelIndex");return r!=null&&i.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){U(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[];U($e(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){t.push("dim"+r.get("dim")),i.push(r.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(pr),E=function(n){function e(t,i,r,o,a){var l=n.call(this,t,i,r)||this;return l.type=o||"value",l.axisIndex=a,l}return wt(e,n),e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(Ds);function F(n,e,t,i,r,o){n=n||0;var a=t[1]-t[0];if(r!=null&&(r=$(r,[0,a])),o!=null&&(o=Math.max(o,r??0)),i==="all"){var l=Math.abs(e[1]-e[0]);l=$(l,[0,a]),r=o=$(l,[r,o]),i=0}e[0]=$(e[0],t),e[1]=$(e[1],t);var u=W(e,i);e[i]+=n;var f,g=r||0,v=t.slice();return u.sign<0?v[0]+=g:v[1]-=g,e[i]=$(e[i],v),f=W(e,i),r!=null&&(f.sign!==u.sign||f.span<r)&&(e[1-i]=e[i]+u.sign*r),f=W(e,i),o!=null&&f.span>o&&(e[1-i]=e[i]+f.sign*o),e}function W(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function $(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var tt=U,ut=Math.min,ht=Math.max,st=Math.floor,xt=Math.ceil,lt=uo,_t=Math.PI,Pt=function(){function n(e,t,i){this.type="parallel",this._axesMap=yn(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var r=e.dimensions,o=e.parallelAxisIndex;tt(r,function(a,l){var u=o[l],f=t.getComponent("parallelAxis",u),g=this._axesMap.set(a,new E(a,rm(f),[0,0],f.get("type"),u)),v=g.type==="category";g.onBand=v&&f.get("boundaryGap"),g.inverse=f.get("inverse"),f.axis=g,g.model=f,g.coordinateSystem=f.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],l=e[o];return a>=i&&a<=i+t.axisLength&&l>=r&&l<=r+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();tt(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),ef(a.scale,a.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=Ao(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e,t=this._model,i=this._rect,r=["x","y"],o=["width","height"],a=t.get("layout"),l=a==="horizontal"?0:1,u=i[o[l]],f=[0,u],g=this.dimensions.length,v=Xt(t.get("axisExpandWidth"),f),w=Xt(t.get("axisExpandCount")||0,[0,g]),_=t.get("axisExpandable")&&g>3&&g>w&&w>1&&v>0&&u>0,A=t.get("axisExpandWindow");A?(e=Xt(A[1]-A[0],f),A[1]=A[0]+e):(e=Xt(v*(w-1),f),(A=[v*(t.get("axisExpandCenter")||st(g/2))-e/2])[1]=A[0]+e);var T=(u-e)/(g-w);T<3&&(T=0);var L=[st(lt(A[0]/v,1))+1,xt(lt(A[1]/v,1))-1],R=T/v*A[0];return{layout:a,pixelDimIndex:l,layoutBase:i[r[l]],layoutLength:u,axisBase:i[r[1-l]],axisLength:i[o[1-l]],axisExpandable:_,axisExpandWidth:v,axisCollapseWidth:T,axisExpandWindow:A,axisCount:g,winInnerIndices:L,axisExpandWindow0Pos:R}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;t.each(function(a){var l=[0,r.axisLength],u=a.inverse?1:0;a.setExtent(l[u],l[1-u])}),tt(i,function(a,l){var u=(r.axisExpandable?Ae:ce)(l,r),f={horizontal:{x:u.position,y:r.axisLength},vertical:{x:0,y:u.position}},g={horizontal:_t/2,vertical:0},v=[f[o].x+e.x,f[o].y+e.y],w=g[o],_=[1,0,0,1,0,0];xr(_,_,w),lr(_,_,v),this._axesLayout[a]={position:v,rotation:w,transform:_,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,r){i==null&&(i=0),r==null&&(r=e.count());var o=this._axesMap,a=this.dimensions,l=[],u=[];U(a,function(T){l.push(e.mapDimension(T)),u.push(o.get(T).model)});for(var f=this.hasAxisBrushed(),g=i;g<r;g++){var v=void 0;if(f){v="active";for(var w=e.getValues(l,g),_=0,A=a.length;_<A;_++)if(u[_].getActiveState(w[_])==="inactive"){v="inactive";break}}else v="normal";t(v,g)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,o=e.length;r<o;r++)t.get(e[r]).model.getActiveState()!=="normal"&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){return Pl([e,0],this._axesLayout[t].transform)},n.prototype.getAxisLayout=function(e){return Gt(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,r=t.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var l,u=e[i]-t.layoutBase-t.axisExpandWindow0Pos,f="slide",g=t.axisCollapseWidth,v=this._model.get("axisExpandSlideTriggerArea"),w=v[0]!=null;if(g)w&&g&&u<o*v[0]?(f="jump",l=u-o*v[2]):w&&g&&u>o*(1-v[0])?(f="jump",l=u-o*(1-v[2])):(l=u-o*v[1])>=0&&(l=u-o*(1-v[1]))<=0&&(l=0),(l*=t.axisExpandWidth/g)?F(l,r,a,"all"):f="none";else{var _=r[1]-r[0];(r=[ht(0,a[1]*u/_-_/2)])[1]=ut(a[1],r[0]+_),r[0]=r[1]-_}return{axisExpandWindow:r,behavior:f}},n}();function Xt(n,e){return ut(ht(n,e[0]),e[1])}function ce(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function Ae(n,e){var t,i,r=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,l=e.axisCollapseWidth,u=e.winInnerIndices,f=l,g=!1;return n<u[0]?(t=n*l,i=l):n<=u[1]?(t=e.axisExpandWindow0Pos+n*o-e.axisExpandWindow[0],f=o,g=!0):(t=r-(a-1-n)*l,i=l),{position:t,axisNameAvailableWidth:f,axisLabelShow:g,nameTruncateMaxWidth:i}}var _e={create:function(n,e){var t=[];return n.eachComponent("parallel",function(i,r){var o=new Pt(i,n,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,t.push(o)}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="parallel"){var r=i.getReferringComponents("parallel",go).models[0];i.coordinateSystem=r.coordinateSystem}}),t}},Ye=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return wt(e,n),e.prototype.getAreaSelectStyle=function(){return Il([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=Gt(t);if(i)for(var r=i.length-1;r>=0;r--)Qa(i[r])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(i.length===1){var r=i[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var o=0,a=i.length;o<a;o++)if(i[o][0]<=t&&t<=i[o][1])return"active";return"inactive"},e}(pr);oe(Ye,hh);var ze=!0,Ge=Math.min,en=Math.max,nn=Math.pow,hn="globalPan",sn={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},xn={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},$n={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Kn=0,ki=function(n){function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new Ei,i._uid="brushController_"+Kn++,U(Ps,function(r,o){this._handlers[o]=Be(r,this)},i),i}return wt(e,n),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||function(r,o,a){PC(r)[o]=a}(i,hn,this._uid),U(this._handlers,function(r,o){i.on(o,r)}),this._brushType=t.brushType,this._brushOption=ie(Gt($n),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;(function(i,r,o){var a=PC(i);a[r]===o&&(a[r]=null)})(t,hn,this._uid),U(this._handlers,function(i,r){t.off(r,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};U(t,function(r){i[r.panelId]=Gt(r)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=ye(t,function(f){return ie(Gt($n),f,!0)});var i=this._covers,r=this._covers=[],o=this,a=this._creatingCover;return new ah(i,t,function(f,g){return l(f.__brushOption,g)},l).add(u).update(u).remove(function(f){i[f]!==a&&o.group.remove(i[f])}).execute(),this;function l(f,g){return(f.id!=null?f.id:"\0-brush-index-"+g)+"-"+f.brushType}function u(f,g){var v=t[f];if(g!=null&&i[g]===a)r[f]=i[g];else{var w=r[f]=g!=null?(i[g].__brushOption=v,i[g]):fr(o,Ii(o,v));Xi(o,w)}}},e.prototype.unmount=function(){return this.enableBrush(!1),mn(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(M);function Ii(n,e){var t=vl[e.brushType].createCover(n,e);return t.__brushOption=e,yi(t,e),n.group.add(t),t}function fr(n,e){var t=Vi(e);return t.endCreating&&(t.endCreating(n,e),yi(e,e.__brushOption)),e}function Hr(n,e){var t=e.__brushOption;Vi(e).updateCoverShape(n,e,t.range,t)}function yi(n,e){var t=e.z;t==null&&(t=1e4),n.traverse(function(i){i.z=t,i.z2=t})}function Xi(n,e){Vi(e).updateCommon(n,e),Hr(n,e)}function Vi(n){return vl[n.__brushOption.brushType]}function Ue(n,e,t){var i,r=n._panels;if(!r)return ze;var o=n._transform;return U(r,function(a){a.isTargetByCursor(e,t,o)&&(i=a)}),i}function Ze(n,e){var t=n._panels;if(!t)return ze;var i=e.__brushOption.panelId;return i!=null?t[i]:ze}function mn(n){var e=n._covers,t=e.length;return U(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function _n(n,e){var t=ye(n._covers,function(i){var r=i.__brushOption,o=Gt(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Sn(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function Cn(n,e,t,i){var r=new Ei;return r.add(new br({name:"main",style:Pi(t),silent:!0,draggable:!0,cursor:"move",drift:un($i,n,e,r,["n","s","w","e"]),ondragend:un(_n,e,{isEnd:!0})})),U(i,function(o){r.add(new br({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:un($i,n,e,r,o),ondragend:un(_n,e,{isEnd:!0})}))}),r}function Wn(n,e,t,i){var r=i.brushStyle.lineWidth||0,o=en(r,6),a=t[0][0],l=t[1][0],u=a-r/2,f=l-r/2,g=t[0][1],v=t[1][1],w=g-o+r/2,_=v-o+r/2,A=g-a,T=v-l,L=A+r,R=T+r;pi(n,e,"main",a,l,A,T),i.transformable&&(pi(n,e,"w",u,f,o,R),pi(n,e,"e",w,f,o,R),pi(n,e,"n",u,f,L,o),pi(n,e,"s",u,_,L,o),pi(n,e,"nw",u,f,o,o),pi(n,e,"ne",w,f,o,o),pi(n,e,"sw",u,_,o,o),pi(n,e,"se",w,_,o,o))}function si(n,e){var t=e.__brushOption,i=t.transformable,r=e.childAt(0);r.useStyle(Pi(t)),r.attr({silent:!i,cursor:i?"move":"default"}),U([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=e.childOfName(o.join("")),l=o.length===1?ai(n,o[0]):function(u,f){var g=[ai(u,f[0]),ai(u,f[1])];return(g[0]==="e"||g[0]==="w")&&g.reverse(),g.join("")}(n,o);a&&a.attr({silent:!i,invisible:!i,cursor:i?xn[l]+"-resize":null})})}function pi(n,e,t,i,r,o,a){var l=e.childOfName(t);l&&l.setShape(function(u){var f=Ge(u[0][0],u[1][0]),g=Ge(u[0][1],u[1][1]),v=en(u[0][0],u[1][0]),w=en(u[0][1],u[1][1]);return{x:f,y:g,width:v-f,height:w-g}}(ka(n,e,[[i,r],[i+o,r+a]])))}function Pi(n){return De({strokeNoScale:!0},n.brushStyle)}function ji(n,e,t,i){var r=[Ge(n,t),Ge(e,i)],o=[en(n,t),en(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function ai(n,e){var t=xg({w:"left",e:"right",n:"top",s:"bottom"}[e],function(i){return Ea(i.group)}(n));return{left:"w",right:"e",top:"n",bottom:"s"}[t]}function $i(n,e,t,i,r,o){var a=t.__brushOption,l=n.toRectRange(a.range),u=co(e,r,o);U(i,function(f){var g=sn[f];l[g[0]][g[1]]+=u[g[0]]}),a.range=n.fromRectRange(ji(l[0][0],l[1][0],l[0][1],l[1][1])),Xi(e,t),_n(e,{isEnd:!1})}function Oo(n,e,t,i){var r=e.__brushOption.range,o=co(n,t,i);U(r,function(a){a[0]+=o[0],a[1]+=o[1]}),Xi(n,e),_n(n,{isEnd:!1})}function co(n,e,t){var i=n.group,r=i.transformCoordToLocal(e,t),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function ka(n,e,t){var i=Ze(n,e);return i&&i!==ze?i.clipPath(t,n._transform):Gt(t)}function Aa(n){var e=n.event;e.preventDefault&&e.preventDefault()}function gl(n,e,t){return n.childOfName("main").contain(e,t)}function ml(n,e,t,i){var r,o=n._creatingCover,a=n._creatingPanel,l=n._brushOption;if(n._track.push(t.slice()),function(g){var v=g._track;if(!v.length)return!1;var w=v[v.length-1],_=v[0],A=w[0]-_[0],T=w[1]-_[1];return nn(A*A+T*T,.5)>6}(n)||o){if(a&&!o){l.brushMode==="single"&&mn(n);var u=Gt(l);u.brushType=Ko(u.brushType,a),u.panelId=a===ze?null:a.panelId,o=n._creatingCover=Ii(n,u),n._covers.push(o)}if(o){var f=vl[Ko(n._brushType,a)];o.__brushOption.range=f.getCreatingRange(ka(n,o,n._track)),i&&(fr(n,o),f.updateCommon(n,o)),Hr(n,o),r={isEnd:i}}}else i&&l.brushMode==="single"&&l.removeOnClick&&Ue(n,e,t)&&mn(n)&&(r={isEnd:i,removeOnClick:!0});return r}function Ko(n,e){return n==="auto"?e.defaultBrushType:n}var Ps={mousedown:function(n){if(this._dragging)yo(this,n);else if(!n.target||!n.target.draggable){Aa(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=Ue(this,n,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,i=this.group.transformCoordToLocal(e,t);if(function(o,a,l){if(o._brushType&&!function(_,A,T){var L=_._zr;return A<0||A>L.getWidth()||T<0||T>L.getHeight()}(o,a.offsetX,a.offsetY)){var u=o._zr,f=o._covers,g=Ue(o,a,l);if(!o._dragging)for(var v=0;v<f.length;v++){var w=f[v].__brushOption;if(g&&(g===ze||w.panelId===g.panelId)&&vl[w.brushType].contain(f[v],l[0],l[1]))return}g&&u.setCursorStyle("crosshair")}}(this,n,i),this._dragging){Aa(n);var r=ml(this,n,i,!1);r&&_n(this,r)}},mouseup:function(n){yo(this,n)}};function yo(n,e){if(n._dragging){Aa(e);var t=e.offsetX,i=e.offsetY,r=n.group.transformCoordToLocal(t,i),o=ml(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&_n(n,o)}}var vl={lineX:mh(0),lineY:mh(1),rect:{createCover:function(n,e){function t(i){return i}return Cn({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=Sn(n);return ji(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){Wn(n,e,t,i)},updateCommon:si,contain:gl},polygon:{createCover:function(n,e){var t=new Ei;return t.add(new ss({name:"main",style:Pi(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new as({name:"main",draggable:!0,drift:un(Oo,n,e),ondragend:un(_n,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:ka(n,e,t)})},updateCommon:si,contain:gl}};function mh(n){return{createCover:function(e,t){return Cn({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=Sn(e);return[Ge(t[0][n],t[1][n]),en(t[0][n],t[1][n])]},updateCoverShape:function(e,t,i,r){var o,a=Ze(e,t);if(a!==ze&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var l=e._zr;o=[0,[l.getWidth(),l.getHeight()][1-n]]}var u=[i,o];n&&u.reverse(),Wn(e,t,u,r)},updateCommon:si,contain:gl}}function c0(n){return n=ps(n),function(e){return wg(e,n)}}function Pc(n,e){return n=ps(n),function(t){var i=e??t,r=i?n.width:n.height,o=i?n.x:n.y;return[o,o+(r||0)]}}function Om(n,e,t){var i=ps(n);return function(r,o){return i.contain(o[0],o[1])&&!By(r,e,t)}}function ps(n){return Qi.create(n)}var Vd=["axisLine","axisTickLabel","axisName"],Ks=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new ki(i.getZr())).on("brush",Be(this._onBrush,this))},e.prototype.render=function(t,i,r,o){if(!function(A,T,L){return L&&L.type==="axisAreaSelect"&&T.findComponents({mainType:"parallelAxis",query:L})[0]===A}(t,i,o)){this.axisModel=t,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Ei,this.group.add(this._axisGroup),t.get("show")){var l=function(A,T){return T.getComponent("parallel",A.get("parallelIndex"))}(t,i),u=l.coordinateSystem,f=t.getAreaSelectStyle(),g=f.width,v=t.axis.dim,w=pe({strokeContainThreshold:g},u.getAxisLayout(v)),_=new hs(t,w);U(Vd,_.add,_),this._axisGroup.add(_.getGroup()),this._refreshBrushController(w,f,t,l,g,r),bg(a,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,i,r,o,a,l){var u=r.axis.getExtent(),f=u[1]-u[0],g=Math.min(30,.1*Math.abs(f)),v=Qi.create({x:u[0],y:-a/2,width:f,height:a});v.x-=g,v.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:c0(v),isTargetByCursor:Om(v,l,o),getLinearBrushOtherExtent:Pc(v,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(function(w){var _=w.axis;return ye(w.activeIntervals,function(A){return{brushType:"lineX",panelId:"pl",range:[_.dataToCoord(A[0],!0),_.dataToCoord(A[1],!0)]}})}(r))},e.prototype._onBrush=function(t){var i=t.areas,r=this.axisModel,o=r.axis,a=ye(i,function(l){return[o.coordToData(l.range[0],!0),o.coordToData(l.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(io),Ef={type:"axisAreaSelect",event:"axisAreaSelected"},mI={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function vI(n){n.registerComponentView(m),n.registerComponentModel(I),n.registerCoordinateSystem("parallel",_e),n.registerPreprocessor(p),n.registerComponentModel(Ye),n.registerComponentView(Ks),Ed(n,"parallel",Ye,mI),function(e){e.registerAction(Ef,function(t,i){i.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,i){i.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}(n)}var FL=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},Em=function(n){function e(t){return n.call(this,t)||this}return wt(e,n),e.prototype.getDefaultShape=function(){return new FL},e.prototype.buildPath=function(t,i){var r=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),i.orient==="vertical"?(t.lineTo(i.x2+r,i.y2),t.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(t.lineTo(i.x2,i.y2+r),t.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),t.closePath()},e.prototype.highlight=function(){Xu(this)},e.prototype.downplay=function(){qu(this)},e}(Ti),VL=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=this,a=t.getGraph(),l=this.group,u=t.layoutInfo,f=u.width,g=u.height,v=t.getData(),w=t.getData("edge"),_=t.get("orient");this._model=t,l.removeAll(),l.x=u.x,l.y=u.y,a.eachEdge(function(A){var T=new Em,L=Ui(T);L.dataIndex=A.dataIndex,L.seriesIndex=t.seriesIndex,L.dataType="edge";var R,z,j,X,Z,Q,nt,it,mt=A.getModel(),bt=mt.getModel("lineStyle"),St=bt.get("curveness"),Ot=A.node1.getLayout(),Yt=A.node1.getModel(),ee=Yt.get("localX"),le=Yt.get("localY"),ge=A.node2.getLayout(),be=A.node2.getModel(),Ie=be.get("localX"),He=be.get("localY"),qe=A.getLayout();switch(T.shape.extent=Math.max(1,qe.dy),T.shape.orient=_,_==="vertical"?(R=(ee!=null?ee*f:Ot.x)+qe.sy,z=(le!=null?le*g:Ot.y)+Ot.dy,j=(Ie!=null?Ie*f:ge.x)+qe.ty,Z=R,Q=z*(1-St)+(X=He!=null?He*g:ge.y)*St,nt=j,it=z*St+X*(1-St)):(R=(ee!=null?ee*f:Ot.x)+Ot.dx,z=(le!=null?le*g:Ot.y)+qe.sy,Z=R*(1-St)+(j=Ie!=null?Ie*f:ge.x)*St,Q=z,nt=R*St+j*(1-St),it=X=(He!=null?He*g:ge.y)+qe.ty),T.setShape({x1:R,y1:z,x2:j,y2:X,cpx1:Z,cpy1:Q,cpx2:nt,cpy2:it}),T.useStyle(bt.getItemStyle()),T.style.fill){case"source":T.style.fill=A.node1.getVisual("color"),T.style.decal=A.node1.getVisual("style").decal;break;case"target":T.style.fill=A.node2.getVisual("color"),T.style.decal=A.node2.getVisual("style").decal;break;case"gradient":var Ke=A.node1.getVisual("color"),bn=A.node2.getVisual("color");kn(Ke)&&kn(bn)&&(T.style.fill=new Tp(0,0,+(_==="horizontal"),+(_==="vertical"),[{color:Ke,offset:0},{color:bn,offset:1}]))}so(T,Xr(mt,"edgeLabel"),{labelFetcher:t,labelDataIndex:A.dataIndex,defaultText:""+mt.get("value")}),T.setTextConfig({position:"inside"});var Rn=mt.getModel("emphasis");Wo(T,mt,"lineStyle",function(Tn){return Tn.getItemStyle()}),l.add(T),w.setItemGraphicEl(A.dataIndex,T);var Je=Rn.get("focus");Io(T,Je==="adjacency"?A.getAdjacentDataIndices():Je,Rn.get("blurScope"),Rn.get("disabled")),Ui(T).dataType="edge"}),a.eachNode(function(A){var T=A.getLayout(),L=A.getModel(),R=L.get("localX"),z=L.get("localY"),j=L.getModel("emphasis"),X=new br({shape:{x:R!=null?R*f:T.x,y:z!=null?z*g:T.y,width:T.dx,height:T.dy},style:L.getModel("itemStyle").getItemStyle(),z2:10});so(X,Xr(L),{labelFetcher:t,labelDataIndex:A.dataIndex,defaultText:A.id}),X.disableLabelAnimation=!0,X.setStyle("fill",A.getVisual("color")),X.setStyle("decal",A.getVisual("style").decal),Wo(X,L),l.add(X),v.setItemGraphicEl(A.dataIndex,X),Ui(X).dataType="node";var Z=j.get("focus");Io(X,Z==="adjacency"?A.getAdjacentDataIndices():Z,j.get("blurScope"),j.get("disabled"))}),v.eachItemGraphicEl(function(A,T){v.getItemModel(T).get("draggable")&&(A.drift=function(L,R){o._focusAdjacencyDisabled=!0,this.shape.x+=L,this.shape.y+=R,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:v.getRawIndex(T),localX:this.shape.x/f,localY:this.shape.y/g})},A.ondragend=function(){o._focusAdjacencyDisabled=!1},A.draggable=!0,A.cursor="move")}),!this._data&&t.isAnimationEnabled()&&l.setClipPath(function(A,T,L){var R=new br({shape:{x:A.x-10,y:A.y-10,width:0,height:A.height+20}});return vo(R,{shape:{width:A.width+20}},T,L),R}(l.getBoundingRect(),t,function(){l.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(qr),yI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.getInitialData=function(t,i){var r=t.edges||t.links,o=t.data||t.nodes,a=t.levels;this.levelModels=[];for(var l=this.levelModels,u=0;u<a.length;u++)a[u].depth!=null&&a[u].depth>=0&&(l[a[u].depth]=new Nr(a[u],this,i));if(o&&r){var f=s0(o,r,this,!0,function(g,v){g.wrapMethod("getItemModel",function(w,_){var A=w.parentModel,T=A.getData().getItemLayout(_);if(T){var L=T.depth,R=A.levelModels[L];R&&(w.parentModel=R)}return w}),v.wrapMethod("getItemModel",function(w,_){var A=w.parentModel,T=A.getGraph().getEdgeByIndex(_).node1.getLayout();if(T){var L=T.depth,R=A.levelModels[L];R&&(w.parentModel=R)}return w})});return f.data}},e.prototype.setNodePosition=function(t,i){var r=(this.option.data||this.option.nodes)[t];r.localX=i[0],r.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){function o(v){return isNaN(v)||v==null}if(r==="edge"){var a=this.getDataParams(t,r),l=a.data,u=a.value;return oa("nameValue",{name:l.source+" -- "+l.target,value:u,noValue:o(u)})}var f=this.getGraph().getNodeByIndex(t).getLayout().value,g=this.getDataParams(t,r).data.name;return oa("nameValue",{name:g!=null?g+"":null,value:f,noValue:o(f)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(r.value==null&&i==="node"){var o=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=o}return r},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Vr);function Ak(n,e){n.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),o=function(v,w){return Ao(v.getBoxLayoutParams(),{width:w.getWidth(),height:w.getHeight()})}(t,e);t.layoutInfo=o;var a=o.width,l=o.height,u=t.getGraph(),f=u.nodes,g=u.edges;(function(v){U(v,function(w){var _=yh(w.outEdges,u0),A=yh(w.inEdges,u0),T=w.getValue()||0,L=Math.max(_,A,T);w.setLayout({value:L},!0)})})(f),function(v,w,_,A,T,L,R,z,j){(function(X,Z,Q,nt,it,mt,bt){for(var St=[],Ot=[],Yt=[],ee=[],le=0,ge=0;ge<Z.length;ge++)St[ge]=1;for(ge=0;ge<X.length;ge++)Ot[ge]=X[ge].inEdges.length,Ot[ge]===0&&Yt.push(X[ge]);for(var be=-1;Yt.length;){for(var Ie=0;Ie<Yt.length;Ie++){var He=Yt[Ie],qe=He.hostGraph.data.getRawDataItem(He.dataIndex),Ke=qe.depth!=null&&qe.depth>=0;Ke&&qe.depth>be&&(be=qe.depth),He.setLayout({depth:Ke?qe.depth:le},!0),mt==="vertical"?He.setLayout({dy:Q},!0):He.setLayout({dx:Q},!0);for(var bn=0;bn<He.outEdges.length;bn++){var Rn=He.outEdges[bn];St[Z.indexOf(Rn)]=0;var Je=Rn.node2;--Ot[X.indexOf(Je)]==0&&ee.indexOf(Je)<0&&ee.push(Je)}}++le,Yt=ee,ee=[]}for(ge=0;ge<St.length;ge++)if(St[ge]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Tn=be>le-1?be:le-1;bt&&bt!=="left"&&function(Fn,Xn,Vn,qn){if(Xn==="right"){for(var Hn=[],ni=Fn,wi=0;ni.length;){for(var Zi=0;Zi<ni.length;Zi++){var nr=ni[Zi];nr.setLayout({skNodeHeight:wi},!0);for(var Ur=0;Ur<nr.inEdges.length;Ur++){var gr=nr.inEdges[Ur];Hn.indexOf(gr.node1)<0&&Hn.push(gr.node1)}}ni=Hn,Hn=[],++wi}U(Fn,function(vr){Mk(vr)||vr.setLayout({depth:Math.max(0,qn-vr.getLayout().skNodeHeight)},!0)})}else Xn==="justify"&&function(vr,eo){U(vr,function(ro){Mk(ro)||ro.outEdges.length||ro.setLayout({depth:eo},!0)})}(Fn,qn)}(X,bt,0,Tn),function(Fn,Xn,Vn){U(Fn,function(qn){var Hn=qn.getLayout().depth*Xn;Vn==="vertical"?qn.setLayout({y:Hn},!0):qn.setLayout({x:Hn},!0)})}(X,mt==="vertical"?(it-Q)/Tn:(nt-Q)/Tn,mt)})(v,w,_,T,L,z,j),function(X,Z,Q,nt,it,mt,bt){var St=function(Yt,ee){var le=[],ge=ee==="vertical"?"y":"x",be=Hu(Yt,function(Ie){return Ie.getLayout()[ge]});return be.keys.sort(function(Ie,He){return Ie-He}),U(be.keys,function(Ie){le.push(be.buckets.get(Ie))}),le}(X,bt);(function(Yt,ee,le,ge,be,Ie){var He=1/0;U(Yt,function(qe){var Ke=qe.length,bn=0;U(qe,function(Je){bn+=Je.getLayout().value});var Rn=Ie==="vertical"?(ge-(Ke-1)*be)/bn:(le-(Ke-1)*be)/bn;Rn<He&&(He=Rn)}),U(Yt,function(qe){U(qe,function(Ke,bn){var Rn=Ke.getLayout().value*He;Ie==="vertical"?(Ke.setLayout({x:bn},!0),Ke.setLayout({dx:Rn},!0)):(Ke.setLayout({y:bn},!0),Ke.setLayout({dy:Rn},!0))})}),U(ee,function(qe){var Ke=+qe.getValue()*He;qe.setLayout({dy:Ke},!0)})})(St,Z,Q,nt,it,bt),w1(St,it,Q,nt,bt);for(var Ot=1;mt>0;mt--)HL(St,Ot*=.99,bt),w1(St,it,Q,nt,bt),jL(St,Ot,bt),w1(St,it,Q,nt,bt)}(v,w,L,T,A,R,z),function(X,Z){var Q=Z==="vertical"?"x":"y";U(X,function(nt){nt.outEdges.sort(function(it,mt){return it.node2.getLayout()[Q]-mt.node2.getLayout()[Q]}),nt.inEdges.sort(function(it,mt){return it.node1.getLayout()[Q]-mt.node1.getLayout()[Q]})}),U(X,function(nt){var it=0,mt=0;U(nt.outEdges,function(bt){bt.setLayout({sy:it},!0),it+=bt.getLayout().dy}),U(nt.inEdges,function(bt){bt.setLayout({ty:mt},!0),mt+=bt.getLayout().dy})})}(v,z)}(f,g,i,r,a,l,$e(f,function(v){return v.getLayout().value===0}).length!==0?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function Mk(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return e.depth!=null&&e.depth>=0}function w1(n,e,t,i,r){var o=r==="vertical"?"x":"y";U(n,function(a){var l,u,f;a.sort(function(A,T){return A.getLayout()[o]-T.getLayout()[o]});for(var g=0,v=a.length,w=r==="vertical"?"dx":"dy",_=0;_<v;_++)(f=g-(u=a[_]).getLayout()[o])>0&&(l=u.getLayout()[o]+f,r==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0)),g=u.getLayout()[o]+u.getLayout()[w]+e;if((f=g-e-(r==="vertical"?i:t))>0)for(l=u.getLayout()[o]-f,r==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0),g=l,_=v-2;_>=0;--_)(f=(u=a[_]).getLayout()[o]+u.getLayout()[w]+e-g)>0&&(l=u.getLayout()[o]-f,r==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0)),g=u.getLayout()[o]})}function HL(n,e,t){U(n.slice().reverse(),function(i){U(i,function(r){if(r.outEdges.length){var o=yh(r.outEdges,_1,t)/yh(r.outEdges,u0);if(isNaN(o)){var a=r.outEdges.length;o=a?yh(r.outEdges,Tk,t)/a:0}if(t==="vertical"){var l=r.getLayout().x+(o-Nc(r,t))*e;r.setLayout({x:l},!0)}else{var u=r.getLayout().y+(o-Nc(r,t))*e;r.setLayout({y:u},!0)}}})})}function _1(n,e){return Nc(n.node2,e)*n.getValue()}function Tk(n,e){return Nc(n.node2,e)}function WL(n,e){return Nc(n.node1,e)*n.getValue()}function vh(n,e){return Nc(n.node1,e)}function Nc(n,e){return e==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function u0(n){return n.getValue()}function yh(n,e,t){for(var i=0,r=n.length,o=-1;++o<r;){var a=+e(n[o],t);isNaN(a)||(i+=a)}return i}function jL(n,e,t){U(n,function(i){U(i,function(r){if(r.inEdges.length){var o=yh(r.inEdges,WL,t)/yh(r.inEdges,u0);if(isNaN(o)){var a=r.inEdges.length;o=a?yh(r.inEdges,vh,t)/a:0}if(t==="vertical"){var l=r.getLayout().x+(o-Nc(r,t))*e;r.setLayout({x:l},!0)}else{var u=r.getLayout().y+(o-Nc(r,t))*e;r.setLayout({y:u},!0)}}})})}function h0(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,r=t.edges;if(i.length){var o=1/0,a=-1/0;U(i,function(l){var u=l.getLayout().value;u<o&&(o=u),u>a&&(a=u)}),U(i,function(l){var u=new Yo({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:e.get("color")}).mapValueToVisual(l.getLayout().value),f=l.getModel().get(["itemStyle","color"]);f!=null?(l.setVisual("color",f),l.setVisual("style",{fill:f})):(l.setVisual("color",u),l.setVisual("style",{fill:u}))})}r.length&&U(r,function(l){var u=l.getModel().get("lineStyle");l.setVisual("style",u)})})}var wu=function(){function n(){}return n.prototype.getInitialData=function(e,t){var i,r,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),l=o.get("type"),u=a.get("type");l==="category"?(e.layout="horizontal",i=o.getOrdinalMeta(),r=!0):u==="category"?(e.layout="vertical",i=a.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var f=["x","y"],g=e.layout==="horizontal"?0:1,v=this._baseAxisDim=f[g],w=f[1-g],_=[o,a],A=_[g].get("type"),T=_[1-g].get("type"),L=e.data;if(L&&r){var R=[];U(L,function(X,Z){var Q;he(X)?(Q=X.slice(),X.unshift(Z)):he(X.value)?((Q=pe({},X)).value=Q.value.slice(),X.value.unshift(Z)):Q=X,R.push(Q)}),e.data=R}var z=this.defaultValueDimensions,j=[{name:v,type:Zv(A),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:w,type:Zv(T),dimsDef:z.slice()}];return ff(this,{coordDimensions:j,dimensionsCount:z.length+1,encodeDefaulter:un(Sv,j,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),Ik=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return wt(e,n),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Vr);oe(Ik,wu,!0);var xI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this.group,l=this._data;this._data||a.removeAll();var u=t.get("layout")==="horizontal"?1:0;o.diff(l).add(function(f){if(o.hasValue(f)){var g=_I(o.getItemLayout(f),o,f,u,!0);o.setItemGraphicEl(f,g),a.add(g)}}).update(function(f,g){var v=l.getItemGraphicEl(g);if(o.hasValue(f)){var w=o.getItemLayout(f);v?(Ca(v),on(w,v,o,f)):v=_I(w,o,f,u),a.add(v),o.setItemGraphicEl(f,v)}else a.remove(v)}).remove(function(f){var g=l.getItemGraphicEl(f);g&&a.remove(g)}).execute(),this._data=o},e.prototype.remove=function(t){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},e.type="boxplot",e}(qr),bI=function(){},wI=function(n){function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return wt(e,n),e.prototype.getDefaultShape=function(){return new bI},e.prototype.buildPath=function(t,i){var r=i.points,o=0;for(t.moveTo(r[o][0],r[o][1]),o++;o<4;o++)t.lineTo(r[o][0],r[o][1]);for(t.closePath();o<r.length;o++)t.moveTo(r[o][0],r[o][1]),o++,t.lineTo(r[o][0],r[o][1])},e}(Ti);function _I(n,e,t,i,r){var o=n.ends,a=new wI({shape:{points:r?Fi(o,i,n):o}});return on(n,a,e,t,r),a}function on(n,e,t,i,r){var o=t.hostModel;(0,qh[r?"initProps":"updateProps"])(e,{shape:{points:n.ends}},o,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var a=t.getItemModel(i),l=a.getModel("emphasis");Wo(e,a),Io(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Fi(n,e,t){return ye(n,function(i){return(i=i.slice())[e]=t.initBaseline,i})}var bi=U;function xo(n){var e=function(t){var i=[],r=[];return t.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),l=rn(r,a);l<0&&(l=r.length,r[l]=a,i[l]={axis:a,seriesModels:[]}),i[l].seriesModels.push(o)}),i}(n);bi(e,function(t){var i=t.seriesModels;i.length&&(function(r){var o,a=r.axis,l=r.seriesModels,u=l.length,f=r.boxWidthList=[],g=r.boxOffsetList=[],v=[];if(a.type==="category")o=a.getBandWidth();else{var w=0;bi(l,function(z){w=Math.max(w,z.getData().count())});var _=a.getExtent();o=Math.abs(_[1]-_[0])/w}bi(l,function(z){var j=z.get("boxWidth");he(j)||(j=[j,j]),v.push([Yn(j[0],o)||0,Yn(j[1],o)||0])});var A=.8*o-2,T=A/u*.3,L=(A-T*(u-1))/u,R=L/2-A/2;bi(l,function(z,j){g.push(R),R+=T+L,f.push(Math.min(Math.max(L,v[j][0]),v[j][1]))})}(t),bi(i,function(r,o){(function(a,l,u){var f=a.coordinateSystem,g=a.getData(),v=u/2,w=a.get("layout")==="horizontal"?0:1,_=1-w,A=["x","y"],T=g.mapDimension(A[w]),L=g.mapDimensionsAll(A[_]);if(T==null||L.length<5)return;for(var R=0;R<g.count();R++){var z=g.get(T,R),j=mt(z,L[2],R),X=mt(z,L[0],R),Z=mt(z,L[1],R),Q=mt(z,L[3],R),nt=mt(z,L[4],R),it=[];bt(it,Z,!1),bt(it,Q,!0),it.push(X,Z,nt,Q),St(it,X),St(it,nt),St(it,j),g.setItemLayout(R,{initBaseline:j[_],ends:it})}function mt(Ot,Yt,ee){var le,ge=g.get(Yt,ee),be=[];return be[w]=Ot,be[_]=ge,isNaN(Ot)||isNaN(ge)?le=[NaN,NaN]:(le=f.dataToPoint(be))[w]+=l,le}function bt(Ot,Yt,ee){var le=Yt.slice(),ge=Yt.slice();le[w]+=v,ge[w]-=v,ee?Ot.push(le,ge):Ot.push(ge,le)}function St(Ot,Yt){var ee=Yt.slice(),le=Yt.slice();ee[w]-=v,le[w]+=v,Ot.push(ee,le)}})(r,t.boxOffsetList[o],t.boxWidthList[o])}))})}var Jo={type:"echarts:boxplot",transform:function(n){var e=n.upstream;if(e.sourceFormat!==ou){var t="";Sr(t)}var i=function(r,o){for(var a=[],l=[],u=(o=o||{}).boundIQR,f=u==="none"||u===0,g=0;g<r.length;g++){var v=Qa(r[g].slice()),w=Nh(v,.25),_=Nh(v,.5),A=Nh(v,.75),T=v[0],L=v[v.length-1],R=(u??1.5)*(A-w),z=f?T:Math.max(T,w-R),j=f?L:Math.min(L,A+R),X=o.itemNameFormatter,Z=In(X)?X({value:g}):kn(X)?X.replace("{value}",g+""):g+"";a.push([Z,z,w,_,A,j]);for(var Q=0;Q<v.length;Q++){var nt=v[Q];if(nt<z||nt>j){var it=[Z,nt];l.push(it)}}}return{boxData:a,outliers:l}}(e.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},Ns=["color","borderColor"],Ha=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,r,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype.eachRendered=function(t){ra(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;this._isLargeDraw!=null&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),r=this._data,o=this.group,a=i.getLayout("isSimpleBox"),l=t.get("clip",!0),u=t.coordinateSystem,f=u.getArea&&u.getArea();this._data||o.removeAll(),i.diff(r).add(function(g){if(i.hasValue(g)){var v=i.getItemLayout(g);if(l&&SI(f,v))return;var w=yl(v,g,!0);vo(w,{shape:{points:v.ends}},t,g),Dk(w,i,g,a),o.add(w),i.setItemGraphicEl(g,w)}}).update(function(g,v){var w=r.getItemGraphicEl(v);if(i.hasValue(g)){var _=i.getItemLayout(g);l&&SI(f,_)?o.remove(w):(w?(Mr(w,{shape:{points:_.ends}},t,g),Ca(w)):w=yl(_),Dk(w,i,g,a),o.add(w),i.setItemGraphicEl(g,w))}else o.remove(w)}).remove(function(g){var v=r.getItemGraphicEl(g);v&&o.remove(v)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),cE(t,this.group);var i=t.get("clip",!0)?Ty(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var r,o=i.getData(),a=o.getLayout("isSimpleBox");(r=t.next())!=null;){var l=yl(o.getItemLayout(r));Dk(l,o,r,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,i){cE(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(qr),d0=function(){},_u=function(n){function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return wt(e,n),e.prototype.getDefaultShape=function(){return new d0},e.prototype.buildPath=function(t,i){var r=i.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e}(Ti);function yl(n,e,t){var i=n.ends;return new _u({shape:{points:t?lE(i,n):i},z2:100})}function SI(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function Dk(n,e,t,i){var r=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,Wo(n,r)}function lE(n,e){return ye(n,function(t){return(t=t.slice())[1]=e.initBaseline,t})}var PR=function(){},YL=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return wt(e,n),e.prototype.getDefaultShape=function(){return new PR},e.prototype.buildPath=function(t,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];t.moveTo(a,r[o++]),t.lineTo(a,r[o++])}else o+=3},e}(Ti);function cE(n,e,t,i){var r=n.getData().getLayout("largePoints"),o=new YL({shape:{points:r},__sign:1,ignoreCoarsePointer:!0});e.add(o);var a=new YL({shape:{points:r},__sign:-1,ignoreCoarsePointer:!0});e.add(a);var l=new YL({shape:{points:r},__sign:0,ignoreCoarsePointer:!0});e.add(l),GL(1,o,n),GL(-1,a,n),GL(0,l,n),i&&(o.incremental=!0,a.incremental=!0),t&&t.push(o,a)}function GL(n,e,t,i){var r=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]);n===0&&(r=t.get(["itemStyle","borderColorDoji"]));var o=t.getModel("itemStyle").getItemStyle(Ns);e.useStyle(o),e.style.fill=null,e.style.stroke=r}var uE=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return wt(e,n),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,r){var o=i.getItemLayout(t);return o&&r.rect(o.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Vr);function NR(n){n&&he(n.series)&&U(n.series,function(e){Zn(e)&&e.type==="k"&&(e.type="candlestick")})}oe(uE,wu,!0);var RR=["itemStyle","borderColor"],BR=["itemStyle","borderColor0"],zR=["itemStyle","borderColorDoji"],FR=["itemStyle","color"],VR=["itemStyle","color0"],HR={seriesType:"candlestick",plan:eh(),performRawSeries:!0,reset:function(n,e){function t(r,o){return o.get(r>0?FR:VR)}function i(r,o){return o.get(r===0?zR:r>0?RR:BR)}if(!e.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(r,o){for(var a;(a=r.next())!=null;){var l=o.getItemModel(a),u=o.getItemLayout(a).sign,f=l.getItemStyle();f.fill=t(u,l),f.stroke=i(u,l)||f.fill,pe(o.ensureUniqueItemVisual(a,"style"),f)}}}}},WR={seriesType:"candlestick",plan:eh(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),i=function(v,w){var _,A=v.getBaseAxis(),T=A.type==="category"?A.getBandWidth():(_=A.getExtent(),Math.abs(_[1]-_[0])/w.count()),L=Yn(Rt(v.get("barMaxWidth"),T),T),R=Yn(Rt(v.get("barMinWidth"),1),T),z=v.get("barWidth");return z!=null?Yn(z,T):Math.max(Math.min(T/2,L),R)}(n,t),r=["x","y"],o=t.getDimensionIndex(t.mapDimension(r[0])),a=ye(t.mapDimensionsAll(r[1]),t.getDimensionIndex,t),l=a[0],u=a[1],f=a[2],g=a[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||a.length<4))return{progress:n.pipelineContext.large?function(v,w){for(var _,A,T=gu(4*v.count),L=0,R=[],z=[],j=w.getStore(),X=!!n.get(["itemStyle","borderColorDoji"]);(A=v.next())!=null;){var Z=j.get(o,A),Q=j.get(l,A),nt=j.get(u,A),it=j.get(f,A),mt=j.get(g,A);isNaN(Z)||isNaN(it)||isNaN(mt)?(T[L++]=NaN,L+=3):(T[L++]=hE(j,A,Q,nt,u,X),R[0]=Z,R[1]=it,_=e.dataToPoint(R,null,z),T[L++]=_?_[0]:NaN,T[L++]=_?_[1]:NaN,R[1]=mt,_=e.dataToPoint(R,null,z),T[L++]=_?_[1]:NaN)}w.setLayout("largePoints",T)}:function(v,w){for(var _,A=w.getStore();(_=v.next())!=null;){var T=A.get(o,_),L=A.get(l,_),R=A.get(u,_),z=A.get(f,_),j=A.get(g,_),X=Math.min(L,R),Z=Math.max(L,R),Q=Ot(X,T),nt=Ot(Z,T),it=Ot(z,T),mt=Ot(j,T),bt=[];Yt(bt,nt,0),Yt(bt,Q,1),bt.push(le(mt),le(nt),le(it),le(Q));var St=!!w.getItemModel(_).get(["itemStyle","borderColorDoji"]);w.setItemLayout(_,{sign:hE(A,_,L,R,u,St),initBaseline:L>R?nt[1]:Q[1],ends:bt,brushRect:ee(z,j,T)})}function Ot(ge,be){var Ie=[];return Ie[0]=be,Ie[1]=ge,isNaN(be)||isNaN(ge)?[NaN,NaN]:e.dataToPoint(Ie)}function Yt(ge,be,Ie){var He=be.slice(),qe=be.slice();He[0]=W0(He[0]+i/2,1,!1),qe[0]=W0(qe[0]-i/2,1,!0),Ie?ge.push(He,qe):ge.push(qe,He)}function ee(ge,be,Ie){var He=Ot(ge,Ie),qe=Ot(be,Ie);return He[0]-=i/2,qe[0]-=i/2,{x:He[0],y:He[1],width:i,height:qe[1]-He[1]}}function le(ge){return ge[0]=W0(ge[0],1),ge}}}}};function hE(n,e,t,i,r,o){return t>i?-1:t<i?1:o?0:e>0?n.get(r,e-1)<=i?1:-1:1}function dE(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var jR=function(n){function e(t,i){var r=n.call(this)||this,o=new ky(t,i),a=new Ei;return r.add(o),r.add(a),r.updateData(t,i),r}return wt(e,n),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,r=t.color,o=t.rippleNumber,a=this.childAt(1),l=0;l<o;l++){var u=Do(i,-1,-1,2,2,r);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-l/o*t.period+t.effectOffset;u.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(f).start(),u.animateStyle(!0).when(t.period,{opacity:0}).delay(f).start(),a.add(u)}dE(a,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var l=o[a];if(i[l]!==t[l])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}dE(r,t)},e.prototype.highlight=function(){Xu(this)},e.prototype.downplay=function(){qu(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var r=this,o=t.hostModel;this.childAt(0).updateData(t,i);var a=this.childAt(1),l=t.getItemModel(i),u=t.getItemVisual(i,"symbol"),f=zv(t.getItemVisual(i,"symbolSize")),g=t.getItemVisual(i,"style"),v=g&&g.fill,w=l.getModel("emphasis");a.setScale(f),a.traverse(function(L){L.setStyle("fill",v)});var _=nh(t.getItemVisual(i,"symbolOffset"),f);_&&(a.x=_[0],a.y=_[1]);var A=t.getItemVisual(i,"symbolRotate");a.rotation=(A||0)*Math.PI/180||0;var T={};T.showEffectOn=o.get("showEffectOn"),T.rippleScale=l.get(["rippleEffect","scale"]),T.brushType=l.get(["rippleEffect","brushType"]),T.period=1e3*l.get(["rippleEffect","period"]),T.effectOffset=i/t.count(),T.z=o.getShallow("z")||0,T.zlevel=o.getShallow("zlevel")||0,T.symbolType=u,T.color=v,T.rippleEffectColor=l.get(["rippleEffect","color"]),T.rippleNumber=l.get(["rippleEffect","number"]),T.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(T):this.startEffectAnimation(T),this._effectCfg=T):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(L){L==="emphasis"?T.showEffectOn!=="render"&&r.startEffectAnimation(T):L==="normal"&&T.showEffectOn!=="render"&&r.stopEffectAnimation()}),this._effectCfg=T,Io(this,w.get("focus"),w.get("blurScope"),w.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Ei),YR=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(){this._symbolDraw=new hm(jR)},e.prototype.render=function(t,i,r){var o=t.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(t)}),this.group.add(a.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,i,r){var o=t.getData();this.group.dirty();var a=dm("").reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=Qr(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(qr),GR=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return wt(e,n),e.prototype.getInitialData=function(t,i){return fu(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Vr),pE=function(n){function e(t,i,r){var o=n.call(this)||this;return o.add(o.createLine(t,i,r)),o._updateEffectSymbol(t,i),o}return wt(e,n),e.prototype.createLine=function(t,i,r){return new f1(t,i,r)},e.prototype._updateEffectSymbol=function(t,i){var r=t.getItemModel(i).getModel("effect"),o=r.get("symbolSize"),a=r.get("symbol");he(o)||(o=[o,o]);var l=t.getItemVisual(i,"style"),u=r.get("color")||l&&l.stroke,f=this.childAt(1);this._symbolType!==a&&(this.remove(f),(f=Do(a,-.5,-.5,1,1,u)).z2=100,f.culling=!0,this.add(f)),f&&(f.setStyle("shadowColor",u),f.setStyle(r.getItemStyle(["color"])),f.scaleX=o[0],f.scaleY=o[1],f.setColor(u),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(t,r,i))},e.prototype._updateEffectAnimation=function(t,i,r){var o=this.childAt(1);if(o){var a=t.getItemLayout(r),l=1e3*i.get("period"),u=i.get("loop"),f=i.get("roundTrip"),g=i.get("constantSpeed"),v=Ri(i.get("delay"),function(_){return _/t.count()*l/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),g>0&&(l=this._getLineLength(o)/g*1e3),l!==this._period||u!==this._loop||f!==this._roundTrip){o.stopAnimation();var w=void 0;w=In(v)?v(r):v,o.__t>0&&(w=-l*o.__t),this._animateSymbol(o,l,w,u,f)}this._period=l,this._loop=u,this._roundTrip=f}},e.prototype._animateSymbol=function(t,i,r,o,a){if(i>0){t.__t=0;var l=this,u=t.animate("",o).when(a?2*i:i,{__t:a?2:1}).delay(r).during(function(){l._updateSymbolPosition(t)});o||u.done(function(){l.remove(t)}),u.start()}},e.prototype._getLineLength=function(t){return sr(t.__p1,t.__cp1)+sr(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,r){this.childAt(0).updateData(t,i,r),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,r=t.__p2,o=t.__cp1,a=t.__t<1?t.__t:2-t.__t,l=[t.x,t.y],u=l.slice(),f=Ir,g=Ga;l[0]=f(i[0],o[0],r[0],a),l[1]=f(i[1],o[1],r[1],a);var v=t.__t<1?g(i[0],o[0],r[0],a):g(r[0],o[0],i[0],1-a),w=t.__t<1?g(i[1],o[1],r[1],a):g(r[1],o[1],i[1],1-a);t.rotation=-Math.atan2(w,v)-Math.PI/2,this._symbolType!=="line"&&this._symbolType!=="rect"&&this._symbolType!=="roundRect"||(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=1.05*sr(u,l),a===1&&(l[0]=u[0]+(l[0]-u[0])/2,l[1]=u[1]+(l[1]-u[1])/2)):t.__lastT===1?t.scaleY=2*sr(i,l):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=l[0],t.y=l[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var r=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,r,i)},e}(Ei),fE=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createPolyline(t,i,r),o}return wt(e,n),e.prototype._createPolyline=function(t,i,r){var o=t.getItemLayout(i),a=new ss({shape:{points:o}});this.add(a),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel;Mr(this.childAt(0),{shape:{points:t.getItemLayout(i)}},o,i),this._updateCommonStl(t,i,r)},e.prototype._updateCommonStl=function(t,i,r){var o=this.childAt(0),a=t.getItemModel(i),l=r&&r.emphasisLineStyle,u=r&&r.focus,f=r&&r.blurScope,g=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var v=a.getModel("emphasis");l=v.getModel("lineStyle").getLineStyle(),g=v.get("disabled"),u=v.get("focus"),f=v.get("blurScope")}o.useStyle(t.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=l,Io(this,u,f,g)},e.prototype.updateLayout=function(t,i){this.childAt(0).setShape("points",t.getItemLayout(i))},e}(Ei),XR=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return wt(e,n),e.prototype.createLine=function(t,i,r){return new fE(t,i,r)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var r=[0],o=0,a=1;a<i.length;a++){var l=i[a-1],u=i[a];o+=sr(l,u),r.push(o)}if(o!==0){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t<1?t.__t:2-t.__t,r=this._points,o=this._offsets,a=r.length;if(o){var l,u=this._lastFrame;if(i<this._lastFramePercent){for(l=Math.min(u+1,a-1);l>=0&&!(o[l]<=i);l--);l=Math.min(l,a-2)}else{for(l=u;l<a&&!(o[l]>i);l++);l=Math.min(l-1,a-2)}var f=(i-o[l])/(o[l+1]-o[l]),g=r[l],v=r[l+1];t.x=g[0]*(1-f)+f*v[0],t.y=g[1]*(1-f)+f*v[1];var w=t.__t<1?v[0]-g[0]:g[0]-v[0],_=t.__t<1?v[1]-g[1]:g[1]-v[1];t.rotation=-Math.atan2(_,w)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=i,t.ignore=!1}},e}(pE),qR=function(){this.polyline=!1,this.curveness=0,this.segs=[]},UR=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return wt(e,n),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new qR},e.prototype.buildPath=function(t,i){var r,o=i.segs,a=i.curveness;if(i.polyline)for(r=this._off;r<o.length;){var l=o[r++];if(l>0){t.moveTo(o[r++],o[r++]);for(var u=1;u<l;u++)t.lineTo(o[r++],o[r++])}}else for(r=this._off;r<o.length;){var f=o[r++],g=o[r++],v=o[r++],w=o[r++];if(t.moveTo(f,g),a>0){var _=(f+v)/2-(g-w)*a,A=(g+w)/2-(v-f)*a;t.quadraticCurveTo(_,A,v,w)}else t.lineTo(v,w)}this.incremental&&(this._off=r,this.notClear=!0)},e.prototype.findDataIndex=function(t,i){var r=this.shape,o=r.segs,a=r.curveness,l=this.style.lineWidth;if(r.polyline)for(var u=0,f=0;f<o.length;){var g=o[f++];if(g>0){for(var v=o[f++],w=o[f++],_=1;_<g;_++)if(Se(v,w,A=o[f++],T=o[f++],l,t,i))return u}u++}else for(u=0,f=0;f<o.length;){v=o[f++],w=o[f++];var A=o[f++],T=o[f++];if(a>0){if(we(v,w,(v+A)/2-(w-T)*a,(w+T)/2-(A-v)*a,A,T,l,t,i))return u}else if(Se(v,w,A,T,l,t,i))return u;u++}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect();return t=r[0],i=r[1],o.contain(t,i)?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape.segs,r=1/0,o=1/0,a=-1/0,l=-1/0,u=0;u<i.length;){var f=i[u++],g=i[u++];r=Math.min(f,r),a=Math.max(f,a),o=Math.min(g,o),l=Math.max(g,l)}t=this._rect=new Qi(r,o,a,l)}return t},e}(Ti),$R=function(){function n(){this.group=new Ei}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],r=t.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var a=o.length,l=new Float32Array(a+r.length);l.set(o),l.set(r,a),i.setShape({segs:l})}else{this._newAdded=[];var u=this._create();u.incremental=!0,u.setShape({segs:r}),this._setCommon(u,t),u.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new UR({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null);var a=Ui(e);a.seriesIndex=r.seriesIndex,e.on("mousemove",function(l){a.dataIndex=null;var u=e.hoverDataIdx;u>0&&(a.dataIndex=u+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),gE={seriesType:"lines",plan:eh(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var l=void 0,u=r.end-r.start;if(t){for(var f=0,g=r.start;g<r.end;g++)f+=n.getLineCoordsCount(g);l=new Float32Array(u+2*f)}else l=new Float32Array(4*u);var v=0,w=[];for(g=r.start;g<r.end;g++){var _=n.getLineCoords(g,a);t&&(l[v++]=_);for(var A=0;A<_;A++)w=e.dataToPoint(a[A],!1,w),l[v++]=w[0],l[v++]=w[1]}o.setLayout("linesPoints",l)}else for(g=r.start;g<r.end;g++){var T=o.getItemModel(g),L=(_=n.getLineCoords(g,a),[]);if(t)for(var R=0;R<_;R++)L.push(e.dataToPoint(a[R]));else{L[0]=e.dataToPoint(a[0]),L[1]=e.dataToPoint(a[1]);var z=T.get(["lineStyle","curveness"]);+z&&(L[2]=[(L[0][0]+L[1][0])/2-(L[0][1]-L[1][1])*z,(L[0][1]+L[1][1])/2-(L[1][0]-L[0][0])*z])}o.setItemLayout(g,L)}}}}}},ZR=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this._updateLineDraw(o,t),l=t.get("zlevel"),u=t.get(["effect","trailLength"]),f=r.getZr(),g=f.painter.getType()==="svg";g||f.painter.getLayer(l).clear(!0),this._lastZlevel==null||g||f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&u>0&&(g||f.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),a.updateData(o);var v=t.get("clip",!0)&&Ty(t.coordinateSystem,!1,t);v?this.group.setClipPath(v):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateLineDraw(o,t).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,i,r){var o=t.getData(),a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var l=gE.reset(t,i,r);l.progress&&l.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,i){var r=this._lineDraw,o=this._showEffect(i),a=!!i.get("polyline"),l=i.pipelineContext.large;return r&&o===this._hasEffet&&a===this._isPolyline&&l===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=l?new $R:new g1(a?o?XR:fE:o?pE:f1),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=l),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr();i.painter.getType()==="svg"||this._lastZlevel==null||i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e}(qr),KR=typeof Uint32Array>"u"?Array:Uint32Array,JR=typeof Float64Array>"u"?Array:Float64Array;function mE(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=ye(e,function(t){var i={coords:[t[0].coord,t[1].coord]};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),Le([i,t[0],t[1]])}))}var QR=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return wt(e,n),e.prototype.init=function(t){t.data=t.data||[],mE(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(mE(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=jn(this._flatCoords,i.flatCoords),this._flatCoordsOffset=jn(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t),r=i.option instanceof Array?i.option:i.getShallow("coords");return r},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*t],o=this._flatCoordsOffset[2*t+1],a=0;a<o;a++)i[a]=i[a]||[],i[a][0]=this._flatCoords[r+2*a],i[a][1]=this._flatCoords[r+2*a+1];return o}var l=this._getCoordsFromItemModel(t);for(a=0;a<l.length;a++)i[a]=i[a]||[],i[a][0]=l[a][0],i[a][1]=l[a][1];return l.length},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),fi(t[0])){for(var r=t.length,o=new KR(r),a=new JR(r),l=0,u=0,f=0,g=0;g<r;){f++;var v=t[g++];o[u++]=l+i,o[u++]=v;for(var w=0;w<v;w++){var _=t[g++],A=t[g++];a[l++]=_,a[l++]=A}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,u),flatCoords:a,count:f}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var r=new Va(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(o,a,l,u){if(o instanceof Array)return NaN;r.hasItemOption=!0;var f=o.value;return f!=null?f instanceof Array?f[u]:f:void 0}),r},e.prototype.formatTooltip=function(t,i,r){var o=this.getData().getItemModel(t),a=o.get("name");if(a)return a;var l=o.get("fromName"),u=o.get("toName"),f=[];return l!=null&&f.push(l),u!=null&&f.push(u),oa("nameValue",{name:f.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),i=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Vr);function CI(n){return n instanceof Array||(n=[n,n]),n}var tB={seriesType:"lines",reset:function(n){var e=CI(n.get("symbol")),t=CI(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]),{dataEach:i.hasItemOption?function(r,o){var a=r.getItemModel(o),l=CI(a.getShallow("symbol",!0)),u=CI(a.getShallow("symbolSize",!0));l[0]&&r.setItemVisual(o,"fromSymbol",l[0]),l[1]&&r.setItemVisual(o,"toSymbol",l[1]),u[0]&&r.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&r.setItemVisual(o,"toSymbolSize",u[1])}:null}}},eB=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=pt.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,i,r,o,a){var l=this._getBrush(),u=this._getGradient(o,"inRange"),f=this._getGradient(o,"outOfRange"),g=this.pointSize+this.blurSize,v=this.canvas,w=v.getContext("2d"),_=e.length;v.width=t,v.height=i;for(var A=0;A<_;++A){var T=e[A],L=T[0],R=T[1],z=r(T[2]);w.globalAlpha=z,w.drawImage(l,L-g,R-g)}if(!v.width||!v.height)return v;for(var j=w.getImageData(0,0,v.width,v.height),X=j.data,Z=0,Q=X.length,nt=this.minOpacity,it=this.maxOpacity-nt;Z<Q;){z=X[Z+3]/256;var mt=4*Math.floor(255*z);if(z>0){var bt=a(z)?u:f;z>0&&(z=z*it+nt),X[Z++]=bt[mt],X[Z++]=bt[mt+1],X[Z++]=bt[mt+2],X[Z++]=bt[mt+3]*z*256}else Z+=4}return w.putImageData(j,0,0),v},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=pt.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,l=0;l<256;l++)e[t](l/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},n}();function vE(n){var e=n.dimensions;return e[0]==="lng"&&e[1]==="lat"}var nB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){var o;i.eachComponent("visualMap",function(l){l.eachTargetSeries(function(u){u===t&&(o=l)})}),this._progressiveEls=null,this.group.removeAll();var a=t.coordinateSystem;a.type==="cartesian2d"||a.type==="calendar"?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):vE(a)&&this._renderOnGeo(a,t,o,r)},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,r,o){var a=i.coordinateSystem;a&&(vE(a)?this.render(i,r,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,o,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){ra(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,i,r,o,a){var l,u,f,g,v=t.coordinateSystem,w=Dd(v,"cartesian2d");if(w){var _=v.getAxis("x"),A=v.getAxis("y");l=_.getBandWidth()+.5,u=A.getBandWidth()+.5,f=_.scale.getExtent(),g=A.scale.getExtent()}for(var T=this.group,L=t.getData(),R=t.getModel(["emphasis","itemStyle"]).getItemStyle(),z=t.getModel(["blur","itemStyle"]).getItemStyle(),j=t.getModel(["select","itemStyle"]).getItemStyle(),X=t.get(["itemStyle","borderRadius"]),Z=Xr(t),Q=t.getModel("emphasis"),nt=Q.get("focus"),it=Q.get("blurScope"),mt=Q.get("disabled"),bt=w?[L.mapDimension("x"),L.mapDimension("y"),L.mapDimension("value")]:[L.mapDimension("time"),L.mapDimension("value")],St=r;St<o;St++){var Ot=void 0,Yt=L.getItemVisual(St,"style");if(w){var ee=L.get(bt[0],St),le=L.get(bt[1],St);if(isNaN(L.get(bt[2],St))||isNaN(ee)||isNaN(le)||ee<f[0]||ee>f[1]||le<g[0]||le>g[1])continue;var ge=v.dataToPoint([ee,le]);Ot=new br({shape:{x:ge[0]-l/2,y:ge[1]-u/2,width:l,height:u},style:Yt})}else{if(isNaN(L.get(bt[1],St)))continue;Ot=new br({z2:1,shape:v.dataToRect([L.get(bt[0],St)]).contentShape,style:Yt})}if(L.hasItemOption){var be=L.getItemModel(St),Ie=be.getModel("emphasis");R=Ie.getModel("itemStyle").getItemStyle(),z=be.getModel(["blur","itemStyle"]).getItemStyle(),j=be.getModel(["select","itemStyle"]).getItemStyle(),X=be.get(["itemStyle","borderRadius"]),nt=Ie.get("focus"),it=Ie.get("blurScope"),mt=Ie.get("disabled"),Z=Xr(be)}Ot.shape.r=X;var He=t.getRawValue(St),qe="-";He&&He[2]!=null&&(qe=He[2]+""),so(Ot,Z,{labelFetcher:t,labelDataIndex:St,defaultOpacity:Yt.opacity,defaultText:qe}),Ot.ensureState("emphasis").style=R,Ot.ensureState("blur").style=z,Ot.ensureState("select").style=j,Io(Ot,nt,it,mt),Ot.incremental=a,a&&(Ot.states.emphasis.hoverLayer=!0),T.add(Ot),L.setItemGraphicEl(St,Ot),this._progressiveEls&&this._progressiveEls.push(Ot)}},e.prototype._renderOnGeo=function(t,i,r,o){var a=r.targetVisuals.inRange,l=r.targetVisuals.outOfRange,u=i.getData(),f=this._hmLayer||this._hmLayer||new eB;f.blurSize=i.get("blurSize"),f.pointSize=i.get("pointSize"),f.minOpacity=i.get("minOpacity"),f.maxOpacity=i.get("maxOpacity");var g=t.getViewRect().clone(),v=t.getRoamTransform();g.applyTransform(v);var w=Math.max(g.x,0),_=Math.max(g.y,0),A=Math.min(g.width+g.x,o.getWidth()),T=Math.min(g.height+g.y,o.getHeight()),L=A-w,R=T-_,z=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],j=u.mapArray(z,function(nt,it,mt){var bt=t.dataToPoint([nt,it]);return bt[0]-=w,bt[1]-=_,bt.push(mt),bt}),X=r.getExtent(),Z=r.type==="visualMap.continuous"?function(nt,it){var mt=nt[1]-nt[0];return it=[(it[0]-nt[0])/mt,(it[1]-nt[0])/mt],function(bt){return bt>=it[0]&&bt<=it[1]}}(X,r.option.range):function(nt,it,mt){var bt=nt[1]-nt[0],St=(it=ye(it,function(Yt){return{interval:[(Yt.interval[0]-nt[0])/bt,(Yt.interval[1]-nt[0])/bt]}})).length,Ot=0;return function(Yt){var ee;for(ee=Ot;ee<St;ee++)if((le=it[ee].interval)[0]<=Yt&&Yt<=le[1]){Ot=ee;break}if(ee===St)for(ee=Ot-1;ee>=0;ee--){var le;if((le=it[ee].interval)[0]<=Yt&&Yt<=le[1]){Ot=ee;break}}return ee>=0&&ee<St&&mt[ee]}}(X,r.getPieceList(),r.option.selected);f.update(j,L,R,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:l.color.getColorMapper()},Z);var Q=new Kr({style:{width:L,height:R,x:w,y:_,image:f.canvas},silent:!0});this.group.add(Q)},e.type="heatmap",e}(qr),iB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.getInitialData=function(t,i){return fu(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=od.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Vr),rB=["itemStyle","borderWidth"],yE=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],XL=new El,oB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=this.group,a=t.getData(),l=this._data,u=t.coordinateSystem,f=u.getBaseAxis().isHorizontal(),g=u.master.getRect(),v={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:u,coordSysExtent:[[g.x,g.x+g.width],[g.y,g.y+g.height]],isHorizontal:f,valueDim:yE[+f],categoryDim:yE[1-+f]};return a.diff(l).add(function(w){if(a.hasValue(w)){var _=kE(a,w),A=xE(a,w,_,v),T=AE(a,v,A);a.setItemGraphicEl(w,T),o.add(T),IE(T,v,A)}}).update(function(w,_){var A=l.getItemGraphicEl(_);if(a.hasValue(w)){var T=kE(a,w),L=xE(a,w,T,v),R=TE(a,L);A&&R!==A.__pictorialShapeStr&&(o.remove(A),a.setItemGraphicEl(w,null),A=null),A?function(z,j,X){var Z=X.animationModel,Q=X.dataIndex;Mr(z.__pictorialBundle,{x:X.bundlePosition[0],y:X.bundlePosition[1]},Z,Q),X.symbolRepeat?wE(z,j,X,!0):_E(z,j,X,!0),SE(z,X,!0),CE(z,j,X,!0)}(A,v,L):A=AE(a,v,L,!0),a.setItemGraphicEl(w,A),A.__pictorialSymbolMeta=L,o.add(A),IE(A,v,L)}else o.remove(A)}).remove(function(w){var _=l.getItemGraphicEl(w);_&&ME(l,w,_.__pictorialSymbolMeta.animationModel,_)}).execute(),this._data=a,this.group},e.prototype.remove=function(t,i){var r=this.group,o=this._data;t.get("animation")?o&&o.eachItemGraphicEl(function(a){ME(o,Ui(a).dataIndex,t,a)}):r.removeAll()},e.type="pictorialBar",e}(qr);function xE(n,e,t,i){var r=n.getItemLayout(e),o=t.get("symbolRepeat"),a=t.get("symbolClip"),l=t.get("symbolPosition")||"start",u=(t.get("symbolRotate")||0)*Math.PI/180||0,f=t.get("symbolPatternSize")||2,g=t.isAnimationEnabled(),v={dataIndex:e,layout:r,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:u,animationModel:g?t:null,hoverScale:g&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function(A,T,L,R,z){var j,X=R.valueDim,Z=A.get("symbolBoundingData"),Q=R.coordSys.getOtherAxis(R.coordSys.getBaseAxis()),nt=Q.toGlobalCoord(Q.dataToCoord(0)),it=1-+(L[X.wh]<=0);if(he(Z)){var mt=[qL(Q,Z[0])-nt,qL(Q,Z[1])-nt];mt[1]<mt[0]&&mt.reverse(),j=mt[it]}else j=Z!=null?qL(Q,Z)-nt:T?R.coordSysExtent[X.index][it]-nt:L[X.wh];z.boundingLength=j,T&&(z.repeatCutLength=L[X.wh]),z.pxSign=j>0?1:-1})(t,o,r,i,v),function(A,T,L,R,z,j,X,Z,Q,nt){var it,mt=Q.valueDim,bt=Q.categoryDim,St=Math.abs(L[bt.wh]),Ot=A.getItemVisual(T,"symbolSize");it=he(Ot)?Ot.slice():Ot==null?["100%","100%"]:[Ot,Ot],it[bt.index]=Yn(it[bt.index],St),it[mt.index]=Yn(it[mt.index],R?St:Math.abs(j)),nt.symbolSize=it,(nt.symbolScale=[it[0]/Z,it[1]/Z])[mt.index]*=(Q.isHorizontal?-1:1)*X}(n,e,r,o,0,v.boundingLength,v.pxSign,f,i,v),function(A,T,L,R,z){var j=A.get(rB)||0;j&&(XL.attr({scaleX:T[0],scaleY:T[1],rotation:L}),XL.updateTransform(),j/=XL.getLineScale(),j*=T[R.valueDim.index]),z.valueLineWidth=j||0}(t,v.symbolScale,u,i,v);var w=v.symbolSize,_=nh(t.get("symbolOffset"),w);return function(A,T,L,R,z,j,X,Z,Q,nt,it,mt){var bt=it.categoryDim,St=it.valueDim,Ot=mt.pxSign,Yt=Math.max(T[St.index]+Z,0),ee=Yt;if(R){var le=Math.abs(Q),ge=Ri(A.get("symbolMargin"),"15%")+"",be=!1;ge.lastIndexOf("!")===ge.length-1&&(be=!0,ge=ge.slice(0,ge.length-1));var Ie=Yn(ge,T[St.index]),He=Math.max(Yt+2*Ie,0),qe=be?0:2*Ie,Ke=mp(R),bn=Ke?R:DE((le+qe)/He);He=Yt+2*(Ie=(le-bn*Yt)/2/(be?bn:Math.max(bn-1,1))),qe=be?0:2*Ie,Ke||R==="fixed"||(bn=nt?DE((Math.abs(nt)+qe)/He):0),ee=bn*He-qe,mt.repeatTimes=bn,mt.symbolMargin=Ie}var Rn=Ot*(ee/2),Je=mt.pathPosition=[];Je[bt.index]=L[bt.wh]/2,Je[St.index]=X==="start"?Rn:X==="end"?Q-Rn:Q/2,j&&(Je[0]+=j[0],Je[1]+=j[1]);var Tn=mt.bundlePosition=[];Tn[bt.index]=L[bt.xy],Tn[St.index]=L[St.xy];var Fn=mt.barRectShape=pe({},L);Fn[St.wh]=Ot*Math.max(Math.abs(L[St.wh]),Math.abs(Je[St.index]+Rn)),Fn[bt.wh]=L[bt.wh];var Xn=mt.clipShape={};Xn[bt.xy]=-L[bt.xy],Xn[bt.wh]=it.ecSize[bt.wh],Xn[St.xy]=0,Xn[St.wh]=L[St.wh]}(t,w,r,o,0,_,l,v.valueLineWidth,v.boundingLength,v.repeatCutLength,i,v),v}function qL(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function bE(n){var e=n.symbolPatternSize,t=Do(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function wE(n,e,t,i){var r=n.__pictorialBundle,o=t.symbolSize,a=t.valueLineWidth,l=t.pathPosition,u=e.valueDim,f=t.repeatTimes||0,g=0,v=o[e.valueDim.index]+a+2*t.symbolMargin;for(UL(n,function(T){T.__pictorialAnimationIndex=g,T.__pictorialRepeatTimes=f,g<f?S1(T,null,A(g),t,i):S1(T,null,{scaleX:0,scaleY:0},t,i,function(){r.remove(T)}),g++});g<f;g++){var w=bE(t);w.__pictorialAnimationIndex=g,w.__pictorialRepeatTimes=f,r.add(w);var _=A(g);S1(w,{x:_.x,y:_.y,scaleX:0,scaleY:0},{scaleX:_.scaleX,scaleY:_.scaleY,rotation:_.rotation},t,i)}function A(T){var L=l.slice(),R=t.pxSign,z=T;return(t.symbolRepeatDirection==="start"?R>0:R<0)&&(z=f-1-T),L[u.index]=v*(z-f/2+.5)+l[u.index],{x:L[0],y:L[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function _E(n,e,t,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?S1(o,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(o=n.__pictorialMainPath=bE(t),r.add(o),S1(o,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function SE(n,e,t){var i=pe({},e.barRectShape),r=n.__pictorialBarRect;r?S1(r,null,{shape:i},e,t):((r=n.__pictorialBarRect=new br({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function CE(n,e,t,i){if(t.symbolClip){var r=n.__pictorialClipPath,o=pe({},t.clipShape),a=e.valueDim,l=t.animationModel,u=t.dataIndex;if(r)Mr(r,{shape:o},l,u);else{o[a.wh]=0,r=new br({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var f={};f[a.wh]=t.clipShape[a.wh],qh[i?"updateProps":"initProps"](r,{shape:f},l,u)}}}function kE(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=aB,t.isAnimationEnabled=sB,t}function aB(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function sB(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function AE(n,e,t,i){var r=new Ei,o=new Ei;return r.add(o),r.__pictorialBundle=o,o.x=t.bundlePosition[0],o.y=t.bundlePosition[1],t.symbolRepeat?wE(r,e,t):_E(r,0,t),SE(r,t,i),CE(r,e,t,i),r.__pictorialShapeStr=TE(n,t),r.__pictorialSymbolMeta=t,r}function ME(n,e,t,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];UL(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),U(o,function(a){Ys(a,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function TE(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function UL(n,e,t){U(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function S1(n,e,t,i,r,o){e&&n.attr(e),i.symbolClip&&!r?t&&n.attr(t):t&&qh[r?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,o)}function IE(n,e,t){var i=t.dataIndex,r=t.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),l=r.getModel(["blur","itemStyle"]).getItemStyle(),u=r.getModel(["select","itemStyle"]).getItemStyle(),f=r.getShallow("cursor"),g=o.get("focus"),v=o.get("blurScope"),w=o.get("scale");UL(n,function(A){if(A instanceof Kr){var T=A.style;A.useStyle(pe({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},t.style))}else A.useStyle(t.style);var L=A.ensureState("emphasis");L.style=a,w&&(L.scaleX=1.1*A.scaleX,L.scaleY=1.1*A.scaleY),A.ensureState("blur").style=l,A.ensureState("select").style=u,f&&(A.cursor=f),A.z2=t.z2});var _=e.valueDim.posDesc[+(t.boundingLength>0)];so(n.__pictorialBarRect,Xr(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:hf(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:_}),Io(n,g,v,o.get("disabled"))}function DE(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}var lB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return wt(e,n),e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=bc(pm.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(pm),cB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return wt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),a=this,l=this.group,u=t.getLayerSeries(),f=o.getLayout("layoutInfo"),g=f.rect,v=f.boundaryGap;function w(L){return L.name}l.x=0,l.y=g.y+v[0];var _=new ah(this._layersSeries||[],u,w,w),A=[];function T(L,R,z){var j=a._layers;if(L!=="remove"){for(var X,Z,Q=[],nt=[],it=u[R].indices,mt=0;mt<it.length;mt++){var bt=o.getItemLayout(it[mt]),St=bt.x,Ot=bt.y0,Yt=bt.y;Q.push(St,Ot),nt.push(St,Ot+Yt),X=o.getItemVisual(it[mt],"style")}var ee=o.getItemLayout(it[0]),le=t.getModel("label").get("margin"),ge=t.getModel("emphasis");if(L==="add"){var be=A[R]=new Ei;Z=new KS({shape:{points:Q,stackedOnPoints:nt,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),be.add(Z),l.add(be),t.isAnimationEnabled()&&Z.setClipPath(function(He,qe,Ke){var bn=new br({shape:{x:He.x-10,y:He.y-10,width:0,height:He.height+20}});return vo(bn,{shape:{x:He.x-50,width:He.width+100,height:He.height+20}},qe,Ke),bn}(Z.getBoundingRect(),t,function(){Z.removeClipPath()}))}else be=j[z],Z=be.childAt(0),l.add(be),A[R]=be,Mr(Z,{shape:{points:Q,stackedOnPoints:nt}},t),Ca(Z);so(Z,Xr(t),{labelDataIndex:it[mt-1],defaultText:o.getName(it[mt-1]),inheritColor:X.fill},{normal:{verticalAlign:"middle"}}),Z.setTextConfig({position:null,local:!0});var Ie=Z.getTextContent();Ie&&(Ie.x=ee.x-le,Ie.y=ee.y0+ee.y/2),Z.useStyle(X),o.setItemGraphicEl(R,Z),Wo(Z,t),Io(Z,ge.get("focus"),ge.get("blurScope"),ge.get("disabled"))}else l.remove(j[R])}_.add(Be(T,this,"add")).update(Be(T,this,"update")).remove(Be(T,this,"remove")).execute(),this._layersSeries=u,this._layers=A},e.type="themeRiver",e}(qr),uB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Es(Be(this.getData,this),Be(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,r={},o=Hu(t,function(w){return r.hasOwnProperty(w[0]+"")||(r[w[0]+""]=-1),w[2]}),a=[];o.buckets.each(function(w,_){a.push({name:_,dataList:w})});for(var l=a.length,u=0;u<l;++u){for(var f=a[u].name,g=0;g<a[u].dataList.length;++g){var v=a[u].dataList[g][0]+"";r[v]=u}for(var v in r)r.hasOwnProperty(v)&&r[v]!==u&&(r[v]=u,t[i]=[v,0,f],i++)}return t},e.prototype.getInitialData=function(t,i){for(var r=this.getReferringComponents("singleAxis",go).models[0].get("type"),o=$e(t.data,function(_){return _[2]!==void 0}),a=this.fixData(o||[]),l=[],u=this.nameMap=yn(),f=0,g=0;g<a.length;++g)l.push(a[g][2]),u.get(a[g][2])||(u.set(a[g][2],f),f++);var v=nm(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Zv(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,w=new Va(v,this);return w.initData(a),w},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),r=[],o=0;o<i;++o)r[o]=o;var a=t.mapDimension("single"),l=Hu(r,function(f){return t.get("name",f)}),u=[];return l.buckets.each(function(f,g){f.sort(function(v,w){return t.get(a,v)-t.get(a,w)}),u.push({name:g,indices:f})}),u},e.prototype.getAxisTooltipData=function(t,i,r){he(t)||(t=t?[t]:[]);for(var o,a=this.getData(),l=this.getLayerSeries(),u=[],f=l.length,g=0;g<f;++g){for(var v=Number.MAX_VALUE,w=-1,_=l[g].indices.length,A=0;A<_;++A){var T=a.get(t[0],l[g].indices[A]),L=Math.abs(T-i);L<=v&&(o=T,v=L,w=l[g].indices[A])}u.push(w)}return{dataIndices:u,nestestValue:o}},e.prototype.formatTooltip=function(t,i,r){var o=this.getData();return oa("nameValue",{name:o.getName(t),value:o.get(o.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Vr);function hB(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),r=t.coordinateSystem,o={},a=r.getRect();o.rect=a;var l=t.get("boundaryGap"),u=r.getAxis();o.boundaryGap=l,u.orient==="horizontal"?(l[0]=Yn(l[0],a.height),l[1]=Yn(l[1],a.height),LE(i,t,a.height-l[0]-l[1])):(l[0]=Yn(l[0],a.width),l[1]=Yn(l[1],a.width),LE(i,t,a.width-l[0]-l[1])),i.setLayout("layoutInfo",o)})}function LE(n,e,t){if(n.count())for(var i,r=e.coordinateSystem,o=e.getLayerSeries(),a=n.mapDimension("single"),l=n.mapDimension("value"),u=ye(o,function(L){return ye(L.indices,function(R){var z=r.dataToPoint(n.get(a,R));return z[1]=n.get(l,R),z})}),f=function(L){for(var R=L.length,z=L[0].length,j=[],X=[],Z=0,Q=0;Q<z;++Q){for(var nt=0,it=0;it<R;++it)nt+=L[it][Q][1];nt>Z&&(Z=nt),j.push(nt)}for(var mt=0;mt<z;++mt)X[mt]=(Z-j[mt])/2;Z=0;for(var bt=0;bt<z;++bt){var St=j[bt]+X[bt];St>Z&&(Z=St)}return{y0:X,max:Z}}(u),g=f.y0,v=t/f.max,w=o.length,_=o[0].indices.length,A=0;A<_;++A){i=g[A]*v,n.setItemLayout(o[0].indices[A],{layerIndex:0,x:u[0][A][0],y0:i,y:u[0][A][1]*v});for(var T=1;T<w;++T)i+=u[T-1][A][1]*v,n.setItemLayout(o[T].indices[A],{layerIndex:T,x:u[T][A][0],y0:i,y:u[T][A][1]*v})}}var OE=function(n){function e(t,i,r,o){var a=n.call(this)||this;a.z2=2,a.textConfig={inside:!0},Ui(a).seriesIndex=i.seriesIndex;var l=new wr({z2:4,silent:t.getModel().get(["label","silent"])});return a.setTextContent(l),a.updateData(!0,t,i,r,o),a}return wt(e,n),e.prototype.updateData=function(t,i,r,o,a){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var l=this;Ui(l).dataIndex=i.dataIndex;var u=i.getModel(),f=u.getModel("emphasis"),g=i.getLayout(),v=pe({},g);v.label=null;var w=i.getVisual("style");w.lineJoin="bevel";var _=i.getVisual("decal");_&&(w.decal=Zp(_,a));var A=pf(u.getModel("itemStyle"),v,!0);pe(v,A),U(is,function(R){var z=l.ensureState(R),j=u.getModel([R,"itemStyle"]);z.style=j.getItemStyle();var X=pf(j,v);X&&(z.shape=X)}),t?(l.setShape(v),l.shape.r=g.r0,Mr(l,{shape:{r:g.r}},r,i.dataIndex)):(Mr(l,{shape:v},r),Ca(l)),l.useStyle(w),this._updateLabel(r);var T=u.getShallow("cursor");T&&l.attr("cursor",T),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var L=f.get("focus");Io(this,L==="ancestor"?i.getAncestorsIndices():L==="descendant"?i.getDescendantIndices():L,f.get("blurScope"),f.get("disabled"))},e.prototype._updateLabel=function(t){var i=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),l=a.endAngle-a.startAngle,u=(a.startAngle+a.endAngle)/2,f=Math.cos(u),g=Math.sin(u),v=this,w=v.getTextContent(),_=this.node.dataIndex,A=o.get("minAngle")/180*Math.PI,T=o.get("show")&&!(A!=null&&Math.abs(l)<A);function L(R,z){var j=R.get(z);return j??o.get(z)}w.ignore=!T,U(di,function(R){var z=R==="normal"?r.getModel("label"):r.getModel([R,"label"]),j=R==="normal",X=j?w:w.ensureState(R),Z=t.getFormattedLabel(_,R);j&&(Z=Z||i.node.name),X.style=Dr(z,{},null,R!=="normal",!0),Z&&(X.style.text=Z);var Q=z.get("show");Q==null||j||(X.ignore=!Q);var nt,it=L(z,"position"),mt=j?v:v.states[R],bt=mt.style.fill;mt.textConfig={outsideFill:z.get("color")==="inherit"?bt:null,inside:it!=="outside"};var St=L(z,"distance")||0,Ot=L(z,"align");it==="outside"?(nt=a.r+St,Ot=u>Math.PI/2?"right":"left"):Ot&&Ot!=="center"?Ot==="left"?(nt=a.r0+St,u>Math.PI/2&&(Ot="right")):Ot==="right"&&(nt=a.r-St,u>Math.PI/2&&(Ot="left")):(nt=l===2*Math.PI&&a.r0===0?0:(a.r+a.r0)/2,Ot="center"),X.style.align=Ot,X.style.verticalAlign=L(z,"verticalAlign")||"middle",X.x=nt*f+a.cx,X.y=nt*g+a.cy;var Yt=L(z,"rotate"),ee=0;Yt==="radial"?(ee=-u)<-Math.PI/2&&(ee+=Math.PI):Yt==="tangential"?(ee=Math.PI/2-u)>Math.PI/2?ee-=Math.PI:ee<-Math.PI/2&&(ee+=Math.PI):fi(Yt)&&(ee=Yt*Math.PI/180),X.rotation=ee}),w.dirtyStyle()},e}(os),$L="sunburstRootToNode",EE="sunburstHighlight",dB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r,o){var a=this;this.seriesModel=t,this.api=r,this.ecModel=i;var l=t.getData(),u=l.tree.root,f=t.getViewRoot(),g=this.group,v=t.get("renderLabelForZeroData"),w=[];f.eachNode(function(A){w.push(A)});var _=this._oldChildren||[];(function(A,T){if(A.length===0&&T.length===0)return;function L(z){return z.getId()}function R(z,j){(function(X,Z){if(v||!X||X.getValue()||(X=null),X!==u&&Z!==u){if(Z&&Z.piece)X?(Z.piece.updateData(!1,X,t,i,r),l.setItemGraphicEl(X.dataIndex,Z.piece)):function(nt){nt&&nt.piece&&(g.remove(nt.piece),nt.piece=null)}(Z);else if(X){var Q=new OE(X,t,i,r);g.add(Q),l.setItemGraphicEl(X.dataIndex,Q)}}})(z==null?null:A[z],j==null?null:T[j])}new ah(T,A,L,L).add(R).update(R).remove(un(R,null)).execute()})(w,_),function(A,T){T.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,A,t,i,r):(a.virtualPiece=new OE(A,t,i,r),g.add(a.virtualPiece)),T.piece.off("click"),a.virtualPiece.on("click",function(L){a._rootToNode(T.parentNode)})):a.virtualPiece&&(g.remove(a.virtualPiece),a.virtualPiece=null)}(u,f),this._initEvents(),this._oldChildren=w},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===i.target){var a=o.getModel().get("nodeClick");if(a==="rootToNode")t._rootToNode(o);else if(a==="link"){var l=o.getModel(),u=l.get("link");u&&Qh(u,l.get("target",!0)||"_blank")}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:$L,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var r=i.getData().getItemLayout(0);if(r){var o=t[0]-r.cx,a=t[1]-r.cy,l=Math.sqrt(o*o+a*a);return l<=r.r&&l>=r.r0}},e.type="sunburst",e}(qr),pB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return wt(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};PE(r);var o=this._levelModels=ye(t.levels||[],function(l){return new Nr(l,this,i)},this),a=Kb.createTree(r,this,function(l){l.wrapMethod("getItemModel",function(u,f){var g=a.getNodeByDataIndex(f),v=o[g.depth];return v&&(u.parentModel=v),u})});return a.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=Qb(r,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;t&&(t===i||i.contains(t))||(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){W2(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Vr);function PE(n){var e=0;U(n.children,function(i){PE(i);var r=i.value;he(r)&&(r=r[0]),e+=r});var t=n.value;he(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),he(n.value)?n.value[0]=t:n.value=t}var NE=Math.PI/180;function fB(n,e,t){e.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");he(o)||(o=[0,o]),he(r)||(r=[r,r]);var a=t.getWidth(),l=t.getHeight(),u=Math.min(a,l),f=Yn(r[0],a),g=Yn(r[1],l),v=Yn(o[0],u/2),w=Yn(o[1],u/2),_=-i.get("startAngle")*NE,A=i.get("minAngle")*NE,T=i.getData().tree.root,L=i.getViewRoot(),R=L.depth,z=i.get("sort");z!=null&&RE(L,z);var j=0;U(L.children,function(ge){!isNaN(ge.getValue())&&j++});var X=L.getValue(),Z=Math.PI/(X||j)*2,Q=L.depth>0,nt=L.height-(Q?-1:1),it=(w-v)/(nt||1),mt=i.get("clockwise"),bt=i.get("stillShowZeroSum"),St=mt?1:-1,Ot=function(ge,be){if(ge){var Ie=be;if(ge!==T){var He=ge.getValue(),qe=X===0&&bt?Z:He*Z;qe<A&&(qe=A),Ie=be+St*qe;var Ke=ge.depth-R-(Q?-1:1),bn=v+it*Ke,Rn=v+it*(Ke+1),Je=i.getLevelModel(ge);if(Je){var Tn=Je.get("r0",!0),Fn=Je.get("r",!0),Xn=Je.get("radius",!0);Xn!=null&&(Tn=Xn[0],Fn=Xn[1]),Tn!=null&&(bn=Yn(Tn,u/2)),Fn!=null&&(Rn=Yn(Fn,u/2))}ge.setLayout({angle:qe,startAngle:be,endAngle:Ie,clockwise:mt,cx:f,cy:g,r0:bn,r:Rn})}if(ge.children&&ge.children.length){var Vn=0;U(ge.children,function(qn){Vn+=Ot(qn,be+Vn)})}return Ie-be}};if(Q){var Yt=v,ee=v+it,le=2*Math.PI;T.setLayout({angle:le,startAngle:_,endAngle:_+le,clockwise:mt,cx:f,cy:g,r0:Yt,r:ee})}Ot(L,_)})}function RE(n,e){var t=n.children||[];n.children=function(i,r){if(In(r)){var o=ye(i,function(l,u){var f=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return f}},index:u}});return o.sort(function(l,u){return r(l.params,u.params)}),ye(o,function(l){return i[l.index]})}var a=r==="asc";return i.sort(function(l,u){var f=(l.getValue()-u.getValue())*(a?1:-1);return f===0?(l.dataIndex-u.dataIndex)*(a?-1:1):f})}(t,e),t.length&&U(n.children,function(i){RE(i,e)})}function gB(n){var e={};n.eachSeriesByType("sunburst",function(t){var i=t.getData(),r=i.tree;r.eachNode(function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(l,u,f){for(var g=l;g&&g.depth>1;)g=g.parentNode;var v=u.getColorFromPalette(g.name||g.dataIndex+"",e);return l.depth>1&&kn(v)&&(v=tc(v,(l.depth-1)/(f-1)*.5)),v}(o,t,r.root.height)),pe(i.ensureUniqueItemVisual(o.dataIndex,"style"),a)})})}var BE={color:"fill",borderColor:"stroke"},mB={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Pf=hr(),vB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return fu(null,this)},e.prototype.getDataParams=function(t,i,r){var o=n.prototype.getDataParams.call(this,t,i);return r&&(o.info=Pf(r).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(Vr);function yB(n,e){return e=e||[0,0],ye(["x","y"],function(t,i){var r=this.getAxis(t),o=e[i],a=n[i]/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function xB(n,e){return e=e||[0,0],ye([0,1],function(t){var i=e[t],r=n[t]/2,o=[],a=[];return o[t]=i-r,a[t]=i+r,o[1-t]=a[1-t]=e[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(a)[t])},this)}function bB(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,r=(n instanceof Array?n[0]:n)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(i-r)-t.dataToCoord(i+r))}function wB(n,e){return e=e||[0,0],ye(["Radius","Angle"],function(t,i){var r=this["get"+t+"Axis"](),o=e[i],a=n[i]/2,l=r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function zE(n,e,t,i){return n&&(n.legacy||n.legacy!==!1&&!t&&!i&&e!=="tspan"&&(e==="text"||vn(n,"text")))}function FE(n,e,t){var i,r,o,a=n;if(e==="text")o=a;else{o={},vn(a,"text")&&(o.text=a.text),vn(a,"rich")&&(o.rich=a.rich),vn(a,"textFill")&&(o.fill=a.textFill),vn(a,"textStroke")&&(o.stroke=a.textStroke),vn(a,"fontFamily")&&(o.fontFamily=a.fontFamily),vn(a,"fontSize")&&(o.fontSize=a.fontSize),vn(a,"fontStyle")&&(o.fontStyle=a.fontStyle),vn(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var l=vn(a,"textPosition");t?i.position=l?a.textPosition:"inside":l&&(i.position=a.textPosition),vn(a,"textPosition")&&(i.position=a.textPosition),vn(a,"textOffset")&&(i.offset=a.textOffset),vn(a,"textRotation")&&(i.rotation=a.textRotation),vn(a,"textDistance")&&(i.distance=a.textDistance)}return VE(o,n),U(o.rich,function(u){VE(u,u)}),{textConfig:i,textContent:r}}function VE(n,e){e&&(e.font=e.textFont||e.font,vn(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),vn(e,"textAlign")&&(n.align=e.textAlign),vn(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),vn(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),vn(e,"textWidth")&&(n.width=e.textWidth),vn(e,"textHeight")&&(n.height=e.textHeight),vn(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),vn(e,"textPadding")&&(n.padding=e.textPadding),vn(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),vn(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),vn(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),vn(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),vn(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),vn(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),vn(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function HE(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",t.offset!=null&&(i.textOffset=t.offset),t.rotation!=null&&(i.textRotation=t.rotation),t.distance!=null&&(i.textDistance=t.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";WE(i,e);var a=i.textFill==null;return r?a&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=o),i.textStrokeWidth==null&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,U(e.rich,function(l){WE(l,l)}),i}function WE(n,e){e&&(vn(e,"fill")&&(n.textFill=e.fill),vn(e,"stroke")&&(n.textStroke=e.fill),vn(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),vn(e,"font")&&(n.font=e.font),vn(e,"fontStyle")&&(n.fontStyle=e.fontStyle),vn(e,"fontWeight")&&(n.fontWeight=e.fontWeight),vn(e,"fontSize")&&(n.fontSize=e.fontSize),vn(e,"fontFamily")&&(n.fontFamily=e.fontFamily),vn(e,"align")&&(n.textAlign=e.align),vn(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),vn(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),vn(e,"width")&&(n.textWidth=e.width),vn(e,"height")&&(n.textHeight=e.height),vn(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),vn(e,"padding")&&(n.textPadding=e.padding),vn(e,"borderColor")&&(n.textBorderColor=e.borderColor),vn(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),vn(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),vn(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),vn(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),vn(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),vn(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),vn(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),vn(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),vn(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),vn(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var jE={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},YE=Re(jE),kI=(cn(Ia,function(n,e){return n[e]=1,n},{}),Ia.join(", "),["","style","shape","extra"]),C1=hr();function ZL(n,e,t,i,r){var o=n+"Animation",a=Ip(n,i,r)||{},l=C1(e).userDuring;return a.duration>0&&(a.during=l?Be(SB,{el:e,userDuring:l}):null,a.setToFinal=!0,a.scope=n),pe(a,t[o]),a}function AI(n,e,t,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,l=t.isAnimationEnabled(),u=C1(n),f=e.style;u.userDuring=e.during;var g={},v={};if(function(A,T,L){for(var R=0;R<YE.length;R++){var z=YE[R],j=jE[z],X=T[z];X&&(L[j[0]]=X[0],L[j[1]]=X[1])}for(R=0;R<Ia.length;R++){var Z=Ia[R];T[Z]!=null&&(L[Z]=T[Z])}}(0,e,v),qE("shape",e,v),qE("extra",e,v),!o&&l&&(function(A,T,L){for(var R=T.transition,z=p0(R)?Ia:Fr(R||[]),j=0;j<z.length;j++){var X=z[j];if(X!=="style"&&X!=="shape"&&X!=="extra"){var Z=A[X];L[X]=Z}}}(n,e,g),XE("shape",n,e,g),XE("extra",n,e,g),function(A,T,L,R){if(L){var z,j=A.style;if(j){var X=L.transition,Z=T.transition;if(X&&!p0(X)){var Q=Fr(X);!z&&(z=R.style={});for(var nt=0;nt<Q.length;nt++){var it=j[Ot=Q[nt]];z[Ot]=it}}else if(A.getAnimationStyleProps&&(p0(Z)||p0(X)||rn(Z,"style")>=0)){var mt=A.getAnimationStyleProps(),bt=mt?mt.style:null;if(bt){!z&&(z=R.style={});var St=Re(L);for(nt=0;nt<St.length;nt++){var Ot;bt[Ot=St[nt]]&&(it=j[Ot],z[Ot]=it)}}}}}}(n,e,f,g)),v.style=f,function(A,T,L){var R=T.style;if(!A.isGroup&&R){if(L){A.useStyle({});for(var z=A.animators,j=0;j<z.length;j++){var X=z[j];X.targetName==="style"&&X.changeTarget(A.style)}}A.setStyle(R)}T&&(T.style=null,T&&A.attr(T),T.style=R)}(n,v,a),function(A,T){vn(T,"silent")&&(A.silent=T.silent),vn(T,"ignore")&&(A.ignore=T.ignore),A instanceof _a&&vn(T,"invisible")&&(A.invisible=T.invisible),A instanceof Ti&&vn(T,"autoBatch")&&(A.autoBatch=T.autoBatch)}(n,e),l)if(o){var w={};U(kI,function(A){var T=A?e[A]:e;T&&T.enterFrom&&(A&&(w[A]=w[A]||{}),pe(A?w[A]:w,T.enterFrom))});var _=ZL("enter",n,e,t,r);_.duration>0&&n.animateFrom(w,_)}else(function(A,T,L,R,z){if(z){var j=ZL("update",A,T,R,L);j.duration>0&&A.animateFrom(z,j)}})(n,e,r||0,t,g);GE(n,e),f?n.dirty():n.markRedraw()}function GE(n,e){for(var t=C1(n).leaveToProps,i=0;i<kI.length;i++){var r=kI[i],o=r?e[r]:e;o&&o.leaveTo&&(t||(t=C1(n).leaveToProps={}),r&&(t[r]=t[r]||{}),pe(r?t[r]:t,o.leaveTo))}}function MI(n,e,t,i){if(n){var r=n.parent,o=C1(n).leaveToProps;if(o){var a=ZL("update",n,e,t,0);a.done=function(){r.remove(n),i&&i()},n.animateTo(o,a)}else r.remove(n),i&&i()}}function p0(n){return n==="all"}var Hd={},_B={setTransform:function(n,e){return Hd.el[n]=e,this},getTransform:function(n){return Hd.el[n]},setShape:function(n,e){var t=Hd.el;return(t.shape||(t.shape={}))[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=Hd.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=Hd.el,i=t.style;return i&&(i[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=Hd.el.style;if(e)return e[n]},setExtra:function(n,e){return(Hd.el.extra||(Hd.el.extra={}))[n]=e,this},getExtra:function(n){var e=Hd.el.extra;if(e)return e[n]}};function SB(){var n=this,e=n.el;if(e){var t=C1(e).userDuring,i=n.userDuring;t===i?(Hd.el=e,i(_B)):n.el=n.userDuring=null}}function XE(n,e,t,i){var r=t[n];if(r){var o,a=e[n];if(a){var l=t.transition,u=r.transition;if(u)if(!o&&(o=i[n]={}),p0(u))pe(o,a);else for(var f=Fr(u),g=0;g<f.length;g++){var v=a[_=f[g]];o[_]=v}else if(p0(l)||rn(l,n)>=0){!o&&(o=i[n]={});var w=Re(a);for(g=0;g<w.length;g++){var _;v=a[_=w[g]],CB(r[_],v)&&(o[_]=v)}}}}}function qE(n,e,t){var i=e[n];if(i)for(var r=t[n]={},o=Re(i),a=0;a<o.length;a++){var l=o[a];r[l]=oc(i[l])}}function CB(n,e){return Oe(n)?n!==e:n!=null&&isFinite(n)}var UE=hr(),kB=["percent","easing","shape","style","extra"];function $E(n){n.stopAnimation("keyframe"),n.attr(UE(n))}function TI(n,e,t){if(t.isAnimationEnabled()&&e)if(he(e))U(e,function(l){TI(n,l,t)});else{var i=e.keyframes,r=e.duration;if(t&&r==null){var o=Ip("enter",t,0);r=o&&o.duration}if(i&&r){var a=UE(n);U(kI,function(l){if(!l||n[l]){var u;i.sort(function(f,g){return f.percent-g.percent}),U(i,function(f){var g=n.animators,v=l?f[l]:f;if(v){var w=Re(v);if(l||(w=$e(w,function(T){return rn(kB,T)<0})),w.length){u||((u=n.animate(l,e.loop,!0)).scope="keyframe");for(var _=0;_<g.length;_++)g[_]!==u&&g[_].targetName===u.targetName&&g[_].stopTracks(w);l&&(a[l]=a[l]||{});var A=l?a[l]:a;U(w,function(T){A[T]=((l?n[l]:n)||{})[T]}),u.whenWithKeys(r*f.percent,v,w,f.easing)}}}),u&&u.delay(e.delay||0).duration(r).start(e.easing)}})}}}var Nf="emphasis",Pm="normal",KL="blur",JL="select",Nm=[Pm,Nf,KL,JL],QL={normal:["itemStyle"],emphasis:[Nf,"itemStyle"],blur:[KL,"itemStyle"],select:[JL,"itemStyle"]},tO={normal:["label"],emphasis:[Nf,"label"],blur:[KL,"label"],select:[JL,"label"]},AB=["x","y"],Su={normal:{},emphasis:{},blur:{},select:{}},MB={cartesian2d:function(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Be(yB,n)}}},geo:function(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:Be(xB,n)}}},single:function(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Be(bB,n)}}},polar:function(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=e.dataToRadius(r[0]),a=t.dataToAngle(r[1]),l=n.coordToPoint([o,a]);return l.push(o,a*Math.PI/180),l},size:Be(wB,n)}}},calendar:function(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function eO(n){return n instanceof Ti}function nO(n){return n instanceof _a}var TB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var a=this._data,l=t.getData(),u=this.group,f=KE(t,l,i,r);a||u.removeAll(),l.diff(a).add(function(v){oO(r,null,v,f(v,o),t,u,l)}).remove(function(v){var w=a.getItemGraphicEl(v);w&&MI(w,Pf(w).option,t)}).update(function(v,w){var _=a.getItemGraphicEl(w);oO(r,_,v,f(v,o),t,u,l)}).execute();var g=t.get("clip",!0)?Ty(t.coordinateSystem,!1,t):null;g?u.setClipPath(g):u.removeClipPath(),this._data=l},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,r,o,a){var l=i.getData(),u=KE(i,l,r,o),f=this._progressiveEls=[];function g(_){_.isGroup||(_.incremental=!0,_.ensureState("emphasis").hoverLayer=!0)}for(var v=t.start;v<t.end;v++){var w=oO(null,null,v,u(v,a),i,this.group,l);w&&(w.traverse(g),f.push(w))}},e.prototype.eachRendered=function(t){ra(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,i,r,o){var a=i.element;if(a==null||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},e.type="custom",e}(qr);function iO(n){var e,t=n.type;if(t==="path"){var i=n.shape,r=i.width!=null&&i.height!=null?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=nP(i);e=vg(o,null,r,i.layout||"center"),Pf(e).customPathData=o}else if(t==="image")e=new Kr({}),Pf(e).customImagePath=n.style.image;else if(t==="text")e=new wr({});else if(t==="group")e=new Ei;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var a=mg(t);if(!a){var l="";Sr(l)}e=new a}return Pf(e).customGraphicType=t,e.name=n.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function rO(n,e,t,i,r,o,a){$E(e);var l=r&&r.normal.cfg;l&&e.setTextConfig(l),i&&i.transition==null&&(i.transition=AB);var u=i&&i.style;if(u){if(e.type==="text"){var f=u;vn(f,"textFill")&&(f.fill=f.textFill),vn(f,"textStroke")&&(f.stroke=f.textStroke)}var g=void 0,v=eO(e)?u.decal:null;n&&v&&(v.dirty=!0,g=Zp(v,n)),u.__decalPattern=g}nO(e)&&u&&(g=u.__decalPattern)&&(u.decal=g),AI(e,i,o,{dataIndex:t,isInit:a,clearStyle:!0}),TI(e,i.keyframeAnimation,o)}function ZE(n,e,t,i,r){var o=e.isGroup?null:e,a=r&&r[n].cfg;if(o){var l=o.ensureState(n);if(i===!1){var u=o.getState(n);u&&(u.style=null)}else l.style=i||null;a&&(l.textConfig=a),_p(o)}}function IB(n,e,t){var i=t===Pm,r=i?e:II(e,t),o=r?r.z2:null;o!=null&&((i?n:n.ensureState(t)).z2=o||0)}function KE(n,e,t,i){var r=n.get("renderItem"),o=n.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):MB[o.type](o));for(var l,u,f=De({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(Q,nt){return nt==null&&(nt=l),e.getStore().get(e.getDimensionIndex(Q||0),nt)},style:function(Q,nt){nt==null&&(nt=l);var it=e.getItemVisual(nt,"style"),mt=it&&it.fill,bt=it&&it.opacity,St=z(nt,Pm).getItemStyle();mt!=null&&(St.fill=mt),bt!=null&&(St.opacity=bt);var Ot={inheritColor:kn(mt)?mt:"#000"},Yt=j(nt,Pm),ee=Dr(Yt,null,Ot,!1,!0);ee.text=Yt.getShallow("show")?Rt(n.getFormattedLabel(nt,Pm),hf(e,nt)):null;var le=_g(Yt,Ot,!1);return Z(Q,St),St=HE(St,ee,le),Q&&X(St,Q),St.legacy=!0,St},ordinalRawValue:function(Q,nt){nt==null&&(nt=l),Q=Q||0;var it=e.getDimensionInfo(Q);if(!it){var mt=e.getDimensionIndex(Q);return mt>=0?e.getStore().get(mt,nt):void 0}var bt=e.get(it.name,nt),St=it&&it.ordinalMeta;return St?St.categories[bt]:bt},styleEmphasis:function(Q,nt){nt==null&&(nt=l);var it=z(nt,Nf).getItemStyle(),mt=j(nt,Nf),bt=Dr(mt,null,null,!0,!0);bt.text=mt.getShallow("show")?kt(n.getFormattedLabel(nt,Nf),n.getFormattedLabel(nt,Pm),hf(e,nt)):null;var St=_g(mt,null,!0);return Z(Q,it),it=HE(it,bt,St),Q&&X(it,Q),it.legacy=!0,it},visual:function(Q,nt){if(nt==null&&(nt=l),vn(BE,Q)){var it=e.getItemVisual(nt,"style");return it?it[BE[Q]]:null}if(vn(mB,Q))return e.getItemVisual(nt,Q)},barLayout:function(Q){if(o.type==="cartesian2d")return function(nt){var it=[],mt=nt.axis,bt="axis0";if(mt.type==="category"){for(var St=mt.getBandWidth(),Ot=0;Ot<nt.count;Ot++)it.push(De({bandWidth:St,axisKey:bt,stackId:$x+Ot},nt));var Yt=VM(it),ee=[];for(Ot=0;Ot<nt.count;Ot++){var le=Yt.axis0[$x+Ot];le.offsetCenter=le.offset+le.width/2,ee.push(le)}return ee}}(De({axis:o.getBaseAxis()},Q))},currentSeriesIndices:function(){return t.getCurrentSeriesIndices()},font:function(Q){return gv(Q,t)}},a.api||{}),g={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:DB(n.getData())},v={},w={},_={},A={},T=0;T<Nm.length;T++){var L=Nm[T];_[L]=n.getModel(QL[L]),A[L]=n.getModel(tO[L])}function R(Q){return Q===l?u||(u=e.getItemModel(Q)):e.getItemModel(Q)}function z(Q,nt){return e.hasItemOption?Q===l?v[nt]||(v[nt]=R(Q).getModel(QL[nt])):R(Q).getModel(QL[nt]):_[nt]}function j(Q,nt){return e.hasItemOption?Q===l?w[nt]||(w[nt]=R(Q).getModel(tO[nt])):R(Q).getModel(tO[nt]):A[nt]}return function(Q,nt){return l=Q,u=null,v={},w={},r&&r(De({dataIndexInside:Q,dataIndex:e.getRawIndex(Q),actionType:nt?nt.type:null},g),f)};function X(Q,nt){for(var it in nt)vn(nt,it)&&(Q[it]=nt[it])}function Z(Q,nt){Q&&(Q.textFill&&(nt.textFill=Q.textFill),Q.textPosition&&(nt.textPosition=Q.textPosition))}}function DB(n){var e={};return U(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function oO(n,e,t,i,r,o,a){if(i){var l=aO(n,e,t,i,r,o);return l&&a.setItemGraphicEl(t,l),l&&Io(l,i.focus,i.blurScope,i.emphasisDisabled),l}o.remove(e)}function aO(n,e,t,i,r,o){var a=-1,l=e;e&&JE(e,i,r)&&(a=rn(o.childrenRef(),e),e=null);var u,f,g=!e,v=e;v?v.clearStates():(v=iO(i),l&&(u=l,(f=v).copyTransform(u),nO(f)&&nO(u)&&(f.setStyle(u.style),f.z=u.z,f.z2=u.z2,f.zlevel=u.zlevel,f.invisible=u.invisible,f.ignore=u.ignore,eO(f)&&eO(u)&&f.setShape(u.shape)))),i.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),Su.normal.cfg=Su.normal.conOpt=Su.emphasis.cfg=Su.emphasis.conOpt=Su.blur.cfg=Su.blur.conOpt=Su.select.cfg=Su.select.conOpt=null,Su.isLegacy=!1,function(T,L,R,z,j,X){if(!T.isGroup){QE(R,null,X),QE(R,Nf,X);var Z=X.normal.conOpt,Q=X.emphasis.conOpt,nt=X.blur.conOpt,it=X.select.conOpt;if(Z!=null||Q!=null||it!=null||nt!=null){var mt=T.getTextContent();if(Z===!1)mt&&T.removeTextContent();else{Z=X.normal.conOpt=Z||{type:"text"},mt?mt.clearStates():(mt=iO(Z),T.setTextContent(mt)),rO(null,mt,L,Z,null,z,j);for(var bt=Z&&Z.style,St=0;St<Nm.length;St++){var Ot=Nm[St];if(Ot!==Pm){var Yt=X[Ot].conOpt;ZE(Ot,mt,0,sO(Z,Yt,Ot),null)}}bt?mt.dirty():mt.markRedraw()}}}}(v,t,i,r,g,Su),function(T,L,R,z,j){var X=R.clipPath;if(X===!1)T&&T.getClipPath()&&T.removeClipPath();else if(X){var Z=T.getClipPath();Z&&JE(Z,X,z)&&(Z=null),Z||(Z=iO(X),T.setClipPath(Z)),rO(null,Z,L,X,null,z,j)}}(v,t,i,r,g),rO(n,v,t,i,Su,r,g),vn(i,"info")&&(Pf(v).info=i.info);for(var w=0;w<Nm.length;w++){var _=Nm[w];if(_!==Pm){var A=II(i,_);ZE(_,v,0,sO(i,A,_),Su)}}return function(T,L,R){if(!T.isGroup){var z=T,j=R.currentZ,X=R.currentZLevel;z.z=j,z.zlevel=X;var Z=L.z2;Z!=null&&(z.z2=Z||0);for(var Q=0;Q<Nm.length;Q++)IB(z,L,Nm[Q])}}(v,i,r),i.type==="group"&&function(T,L,R,z,j){var X=z.children,Z=X?X.length:0,Q=z.$mergeChildren,nt=Q==="byName"||z.diffChildrenByName,it=Q===!1;if(!(!Z&&!nt&&!it)){if(nt)return mt={api:T,oldChildren:L.children()||[],newChildren:X||[],dataIndex:R,seriesModel:j,group:L},void new ah(mt.oldChildren,mt.newChildren,tP,tP,mt).add(eP).update(eP).remove(OB).execute();var mt;it&&L.removeAll();for(var bt=0;bt<Z;bt++){var St=X[bt],Ot=L.childAt(bt);St?(St.ignore==null&&(St.ignore=!1),aO(T,Ot,R,St,j,L)):Ot.ignore=!0}for(var Yt=L.childCount()-1;Yt>=bt;Yt--){var ee=L.childAt(Yt);LB(L,ee,j)}}}(n,v,t,i,r),a>=0?o.replaceAt(v,a):o.add(v),v}function JE(n,e,t){var i,r=Pf(n),o=e.type,a=e.shape,l=e.style;return t.isUniversalTransitionEnabled()||o!=null&&o!==r.customGraphicType||o==="path"&&(i=a)&&(vn(i,"pathData")||vn(i,"d"))&&nP(a)!==r.customPathData||o==="image"&&vn(l,"image")&&l.image!==r.customImagePath}function QE(n,e,t){var i=e?II(n,e):n,r=e?sO(n,i,Nf):n.style,o=n.type,a=i?i.textConfig:null,l=n.textContent,u=l?e?II(l,e):l:null;if(r&&(t.isLegacy||zE(r,o,!!a,!!u))){t.isLegacy=!0;var f=FE(r,o,!e);!a&&f.textConfig&&(a=f.textConfig),!u&&f.textContent&&(u=f.textContent)}if(!e&&u){var g=u;!g.type&&(g.type="text")}var v=e?t[e]:t.normal;v.cfg=a,v.conOpt=u}function II(n,e){return e?n?n[e]:null:n}function sO(n,e,t){var i=e&&e.style;return i==null&&t===Nf&&n&&(i=n.styleEmphasis),i}function LB(n,e,t){e&&MI(e,Pf(n).option,t)}function tP(n,e){var t=n&&n.name;return t??"e\0\0"+e}function eP(n,e){var t=this.context,i=n!=null?t.newChildren[n]:null,r=e!=null?t.oldChildren[e]:null;aO(t.api,r,t.dataIndex,i,t.seriesModel,t.group)}function OB(n){var e=this.context,t=e.oldChildren[n];t&&MI(t,Pf(t).option,e.seriesModel)}function nP(n){return n&&(n.pathData||n.d)}var f0=hr(),iP=Gt,lO=Be,cO=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,r){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var l=this._group,u=this._handle;if(!a||a==="hide")return l&&l.hide(),void(u&&u.hide());l&&l.show(),u&&u.show();var f={};this.makeElOption(f,o,e,t,i);var g=f.graphicKey;g!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=g;var v=this._moveAnimation=this.determineAnimation(e,t);if(l){var w=un(rP,t,v);this.updatePointerEl(l,f,w),this.updateLabelEl(l,f,w,t)}else l=this._group=new Ei,this.createPointerEl(l,f,e,t),this.createLabelEl(l,f,e,t),i.getZr().add(l);sP(l,t,!0),this._renderHandle(o)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,o=r.type==="category",a=t.get("snap");if(!a&&!o)return!1;if(i==="auto"||i==null){var l=this.animationThreshold;if(o&&r.getBandWidth()>l)return!0;if(a){var u=mf(e).seriesDataCount,f=r.getExtent();return Math.abs(f[0]-f[1])/u>l}return!1}return i===!0},n.prototype.makeElOption=function(e,t,i,r,o){},n.prototype.createPointerEl=function(e,t,i,r){var o=t.pointer;if(o){var a=f0(e).pointerEl=new qh[o.type](iP(t.pointer));e.add(a)}},n.prototype.createLabelEl=function(e,t,i,r){if(t.label){var o=f0(e).labelEl=new wr(iP(t.label));e.add(o),aP(o,r)}},n.prototype.updatePointerEl=function(e,t,i){var r=f0(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,r){var o=f0(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{x:t.label.x,y:t.label.y}),aP(o,r))},n.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,r=this._api.getZr(),o=this._handle,a=i.getModel("handle"),l=i.get("status");if(!a.get("show")||!l||l==="hide")return o&&r.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=Op(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){jt(f.event)},onmousedown:lO(this._onHandleDragMove,this,0,0),drift:lO(this._onHandleDragMove,this),ondragend:lO(this._onHandleDragEnd,this)}),r.add(o)),sP(o,i,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");he(u)||(u=[u,u]),o.scaleX=u[0]/2,o.scaleY=u[1]/2,hl(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},n.prototype._moveHandleToValue=function(e,t){rP(this._axisPointerModel,!t&&this._moveAnimation,this._handle,uO(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(uO(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(uO(r)),f0(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Ba(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},n}();function rP(n,e,t,i){oP(f0(t).lastProp,i)||(f0(t).lastProp=i,e?Mr(t,i,n):(t.stopAnimation(),t.attr(i)))}function oP(n,e){if(Zn(n)&&Zn(e)){var t=!0;return U(e,function(i,r){t=t&&oP(n[r],i)}),!!t}return n===e}function aP(n,e){n[e.get(["label","show"])?"show":"hide"]()}function uO(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function sP(n,e,t){var i=e.get("z"),r=e.get("zlevel");n&&n.traverse(function(o){o.type!=="group"&&(i!=null&&(o.z=i),r!=null&&(o.zlevel=r),o.silent=t)})}function hO(n){var e,t=n.get("type"),i=n.getModel(t+"Style");return t==="line"?(e=i.getLineStyle()).fill=null:t==="shadow"&&((e=i.getAreaStyle()).stroke=null),e}function lP(n,e,t,i,r){var o=cP(t.get("value"),e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),a=t.getModel("label"),l=Jh(a.get("padding")||0),u=a.getFont(),f=Ja(o,u),g=r.position,v=f.width+l[1]+l[3],w=f.height+l[0]+l[2],_=r.align;_==="right"&&(g[0]-=v),_==="center"&&(g[0]-=v/2);var A=r.verticalAlign;A==="bottom"&&(g[1]-=w),A==="middle"&&(g[1]-=w/2),function(L,R,z,j){var X=j.getWidth(),Z=j.getHeight();L[0]=Math.min(L[0]+R,X)-R,L[1]=Math.min(L[1]+z,Z)-z,L[0]=Math.max(L[0],0),L[1]=Math.max(L[1],0)}(g,v,w,i);var T=a.get("backgroundColor");T&&T!=="auto"||(T=e.get(["axisLine","lineStyle","color"])),n.label={x:g[0],y:g[1],style:Dr(a,{text:o,font:u,fill:a.getTextColor(),padding:l,backgroundColor:T}),z2:10}}function cP(n,e,t,i,r){n=e.scale.parse(n);var o=e.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var l={value:fS(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};U(i,function(u){var f=t.getSeriesByIndex(u.seriesIndex),g=u.dataIndexInside,v=f&&f.getDataParams(g);v&&l.seriesData.push(v)}),kn(a)?o=a.replace("{value}",o):In(a)&&(o=a(l))}return o}function dO(n,e,t){var i=[1,0,0,1,0,0];return xr(i,i,t.rotation),lr(i,i,t.position),Pl([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function uP(n,e,t,i,r,o){var a=hs.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),lP(e,i,r,o,{position:dO(i.axis,n,t),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function pO(n,e,t){return{x1:n[t=t||0],y1:n[1-t],x2:e[t],y2:e[1-t]}}function hP(n,e,t){return{x:n[t=t||0],y:n[1-t],width:e[t],height:e[1-t]}}function dP(n,e,t,i,r,o){return{cx:n,cy:e,r0:t,r:i,startAngle:r,endAngle:o,clockwise:!0}}var EB=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var l=r.axis,u=l.grid,f=o.get("type"),g=pP(u,l).getOtherAxis(l).getGlobalExtent(),v=l.toGlobalCoord(l.dataToCoord(i,!0));if(f&&f!=="none"){var w=hO(o),_=PB[f](l,v,g);_.style=w,t.graphicKey=_.type,t.pointer=_}uP(i,t,wC(u.model,r),r,o,a)},e.prototype.getHandleTransform=function(t,i,r){var o=wC(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=dO(i.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var a=r.axis,l=a.grid,u=a.getGlobalExtent(!0),f=pP(l,a).getOtherAxis(a).getGlobalExtent(),g=a.dim==="x"?0:1,v=[t.x,t.y];v[g]+=i[g],v[g]=Math.min(u[1],v[g]),v[g]=Math.max(u[0],v[g]);var w=(f[1]+f[0])/2,_=[w,w];return _[g]=v[g],{x:v[0],y:v[1],rotation:t.rotation,cursorPoint:_,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][g]}},e}(cO);function pP(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var PB={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:pO([e,t[0]],[e,t[1]],fP(n))}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth()),r=t[1]-t[0];return{type:"Rect",shape:hP([e-i/2,t[0]],[i,r],fP(n))}}};function fP(n){return n.dim==="x"?0:1}var NB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(pr),Rf=hr(),RB=U;function gP(n,e,t){if(!ke.node){var i=e.getZr();Rf(i).records||(Rf(i).records={}),function(r,o){if(Rf(r).initialized)return;function a(l,u){r.on(l,function(f){var g=function(v){var w={showTip:[],hideTip:[]},_=function(A){var T=w[A.type];T?T.push(A):(A.dispatchAction=_,v.dispatchAction(A))};return{dispatchAction:_,pendings:w}}(o);RB(Rf(r).records,function(v){v&&u(v,f,g.dispatchAction)}),function(v,w){var _,A=v.showTip.length,T=v.hideTip.length;A?_=v.showTip[A-1]:T&&(_=v.hideTip[T-1]),_&&(_.dispatchAction=null,w.dispatchAction(_))}(g.pendings,o)})}Rf(r).initialized=!0,a("click",un(mP,"click")),a("mousemove",un(mP,"mousemove")),a("globalout",BB)}(i,e),(Rf(i).records[n]||(Rf(i).records[n]={})).handler=t}}function BB(n,e,t){n.handler("leave",null,t)}function mP(n,e,t,i){e.handler(n,t,i)}function fO(n,e){if(!ke.node){var t=e.getZr();(Rf(t).records||{})[n]&&(Rf(t).records[n]=null)}}var zB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=i.getComponent("tooltip"),a=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";gP("axisPointer",r,function(l,u,f){a!=="none"&&(l==="leave"||a.indexOf(l)>=0)&&f({type:"updateAxisPointer",currTrigger:l,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(t,i){fO("axisPointer",i)},e.prototype.dispose=function(t,i){fO("axisPointer",i)},e.type="axisPointer",e}(io);function vP(n,e){var t,i=[],r=n.seriesIndex;if(r==null||!(t=e.getSeriesByIndex(r)))return{point:[]};var o=t.getData(),a=Uc(o,n);if(a==null||a<0||he(a))return{point:[]};var l=o.getItemGraphicEl(a),u=t.coordinateSystem;if(t.getTooltipPosition)i=t.getTooltipPosition(a)||[];else if(u&&u.dataToPoint)if(n.isStacked){var f=u.getBaseAxis(),g=u.getOtherAxis(f).dim,v=f.dim,w=g==="x"||g==="radius"?1:0,_=o.mapDimension(v),A=[];A[w]=o.get(_,a),A[1-w]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=u.dataToPoint(A)||[]}else i=u.dataToPoint(o.getValues(ye(u.dimensions,function(L){return o.mapDimension(L)}),a))||[];else if(l){var T=l.getBoundingRect().clone();T.applyTransform(l.transform),i=[T.x+T.width/2,T.y+T.height/2]}return{point:i,el:l}}var yP=hr();function FB(n,e,t){var i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||Be(t.dispatchAction,t),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){DI(r)&&(r=vP({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var u=DI(r),f=o.axesInfo,g=l.axesInfo,v=i==="leave"||DI(r),w={},_={},A={list:[],map:{}},T={showPointer:un(VB,_),showTooltip:un(HB,A)};U(l.coordSysMap,function(R,z){var j=u||R.containPoint(r);U(l.coordSysAxesInfo[z],function(X,Z){var Q=X.axis,nt=function(mt,bt){for(var St=0;St<(mt||[]).length;St++){var Ot=mt[St];if(bt.axis.dim===Ot.axisDim&&bt.axis.model.componentIndex===Ot.axisIndex)return Ot}}(f,X);if(!v&&j&&(!f||nt)){var it=nt&&nt.value;it!=null||u||(it=Q.pointToData(r)),it!=null&&xP(X,it,T,!1,w)}})});var L={};return U(g,function(R,z){var j=R.linkGroup;j&&!_[z]&&U(j.axesInfo,function(X,Z){var Q=_[Z];if(X!==R&&Q){var nt=Q.value;j.mapper&&(nt=R.axis.scale.parse(j.mapper(nt,bP(X),bP(R)))),L[R.key]=nt}})}),U(L,function(R,z){xP(g[z],R,T,!0,w)}),function(R,z,j){var X=j.axesInfo=[];U(z,function(Z,Q){var nt=Z.axisPointerModel.option,it=R[Q];it?(!Z.useHandle&&(nt.status="show"),nt.value=it.value,nt.seriesDataIndices=(it.payloadBatch||[]).slice()):!Z.useHandle&&(nt.status="hide"),nt.status==="show"&&X.push({axisDim:Z.axis.dim,axisIndex:Z.axis.model.componentIndex,value:nt.value})})}(_,g,w),function(R,z,j,X){if(DI(z)||!R.list.length)return void X({type:"hideTip"});var Z=((R.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};X({type:"showTip",escapeConnect:!0,x:z[0],y:z[1],tooltipOption:j.tooltipOption,position:j.position,dataIndexInside:Z.dataIndexInside,dataIndex:Z.dataIndex,seriesIndex:Z.seriesIndex,dataByCoordSys:R.list})}(A,r,n,a),function(R,z,j){var X=j.getZr(),Z="axisPointerLastHighlights",Q=yP(X)[Z]||{},nt=yP(X)[Z]={};U(R,function(bt,St){var Ot=bt.axisPointerModel.option;Ot.status==="show"&&U(Ot.seriesDataIndices,function(Yt){var ee=Yt.seriesIndex+" | "+Yt.dataIndex;nt[ee]=Yt})});var it=[],mt=[];U(Q,function(bt,St){!nt[St]&&mt.push(bt)}),U(nt,function(bt,St){!Q[St]&&it.push(bt)}),mt.length&&j.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:mt}),it.length&&j.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:it})}(g,0,t),w}}function xP(n,e,t,i,r){var o=n.axis;if(!o.scale.isBlank()&&o.containData(e))if(n.involveSeries){var a=function(f,g){var v=g.axis,w=v.dim,_=f,A=[],T=Number.MAX_VALUE,L=-1;return U(g.seriesModels,function(R,z){var j,X,Z=R.getData().mapDimensionsAll(w);if(R.getAxisTooltipData){var Q=R.getAxisTooltipData(Z,f,v);X=Q.dataIndices,j=Q.nestestValue}else{if(!(X=R.getData().indicesOfNearest(Z[0],f,v.type==="category"?.5:null)).length)return;j=R.getData().get(Z[0],X[0])}if(j!=null&&isFinite(j)){var nt=f-j,it=Math.abs(nt);it<=T&&((it<T||nt>=0&&L<0)&&(T=it,L=nt,_=j,A.length=0),U(X,function(mt){A.push({seriesIndex:R.seriesIndex,dataIndexInside:mt,dataIndex:R.getData().getRawIndex(mt)})}))}}),{payloadBatch:A,snapToValue:_}}(e,n),l=a.payloadBatch,u=a.snapToValue;l[0]&&r.seriesIndex==null&&pe(r,l[0]),!i&&n.snap&&o.containData(u)&&u!=null&&(e=u),t.showPointer(n,e,l),t.showTooltip(n,a,u)}else t.showPointer(n,e)}function VB(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function HB(n,e,t,i){var r=t.payloadBatch,o=e.axis,a=o.model,l=e.axisPointerModel;if(e.triggerTooltip&&r.length){var u=e.coordSys.model,f=gm(u),g=n.map[f];g||(g=n.map[f]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(g)),g.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function bP(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function DI(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function Lk(n){Pd.registerAxisPointerClass("CartesianAxisPointer",EB),n.registerComponentModel(NB),n.registerComponentView(zB),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!he(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Ob(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},FB)}var WB=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var l=r.axis;l.dim==="angle"&&(this.animationThreshold=Math.PI/18);var u=l.polar,f=u.getOtherAxis(l).getExtent(),g=l.dataToCoord(i),v=o.get("type");if(v&&v!=="none"){var w=hO(o),_=jB[v](l,u,g,f);_.style=w,t.graphicKey=_.type,t.pointer=_}var A=function(T,L,R,z,j){var X=L.axis,Z=X.dataToCoord(T),Q=z.getAngleAxis().getExtent()[0];Q=Q/180*Math.PI;var nt,it,mt,bt=z.getRadiusAxis().getExtent();if(X.dim==="radius"){var St=[1,0,0,1,0,0];xr(St,St,Q),lr(St,St,[z.cx,z.cy]),nt=Pl([Z,-j],St);var Ot=L.getModel("axisLabel").get("rotate")||0,Yt=hs.innerTextLayout(Q,Ot*Math.PI/180,-1);it=Yt.textAlign,mt=Yt.textVerticalAlign}else{var ee=bt[1];nt=z.coordToPoint([ee+j,Z]);var le=z.cx,ge=z.cy;it=Math.abs(nt[0]-le)/ee<.3?"center":nt[0]>le?"left":"right",mt=Math.abs(nt[1]-ge)/ee<.3?"middle":nt[1]>ge?"top":"bottom"}return{position:nt,align:it,verticalAlign:mt}}(i,r,0,u,o.get(["label","margin"]));lP(t,r,o,a,A)},e}(cO),jB={line:function(n,e,t,i){return n.dim==="angle"?{type:"Line",shape:pO(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:dP(e.cx,e.cy,i[0],i[1],(-t-r/2)*o,(r/2-t)*o)}:{type:"Sector",shape:dP(e.cx,e.cy,t-r/2,t+r/2,0,2*Math.PI)}}},YB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.findAxisModel=function(t){var i;return this.ecModel.eachComponent(t,function(r){r.getCoordSysModel()===this&&(i=r)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(pr),gO=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",go).models[0]},e.type="polarAxis",e}(pr);oe(gO,hh);var GB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="angleAxis",e}(gO),XB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="radiusAxis",e}(gO),mO=function(n){function e(t,i){return n.call(this,"radius",t,i)||this}return wt(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)[this.dim==="radius"?0:1]},e}(Ds);mO.prototype.dataToRadius=Ds.prototype.dataToCoord,mO.prototype.radiusToData=Ds.prototype.coordToData;var qB=hr(),vO=function(n){function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return wt(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),f=Math.abs(u),g=Ja(l==null?"":l+"",i.getFont(),"center","top"),v=Math.max(g.height,7)/f;isNaN(v)&&(v=1/0);var w=Math.max(0,Math.floor(v)),_=qB(t.model),A=_.lastAutoInterval,T=_.lastTickCount;return A!=null&&T!=null&&Math.abs(A-w)<=1&&Math.abs(T-a)<=1&&A>w?w=A:(_.lastTickCount=a,_.lastAutoInterval=w),w},e}(Ds);vO.prototype.dataToAngle=Ds.prototype.dataToCoord,vO.prototype.angleToData=Ds.prototype.coordToData;var wP=["radius","angle"],UB=function(){function n(e){this.dimensions=wP,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new mO,this._angleAxis=new vO,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){return this["_"+e+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),l=Math.max(o[0],o[1]);r.inverse?a=l-360:l=a+360;var u=Math.sqrt(t*t+i*i);t/=u,i/=u;for(var f=Math.atan2(-i,t)/Math.PI*180,g=f<a?1:-1;f<a||f>l;)f+=360*g;return[u,f]},n.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var i=e.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:e.inverse,contain:function(o,a){var l=o-this.cx,u=a-this.cy,f=l*l+u*u-1e-4,g=this.r,v=this.r0;return f<=g*g&&f>=v*v}}},n.prototype.convertToPixel=function(e,t,i){return _P(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return _P(t)===this?this.pointToData(i):null},n}();function _P(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function $B(n,e){var t=this,i=t.getAngleAxis(),r=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(l){if(l.coordinateSystem===t){var u=l.getData();U(rf(u,"radius"),function(f){r.scale.unionExtentFromData(u,f)}),U(rf(u,"angle"),function(f){i.scale.unionExtentFromData(u,f)})}}),ef(i.scale,i.model),ef(r.scale,r.model),i.type==="category"&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function SP(n,e){if(n.type=e.get("type"),n.scale=rm(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),function(i){return i.mainType==="angleAxis"}(e)){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var ZB={dimensions:wP,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,r){var o=new UB(r+"");o.update=$B;var a=o.getRadiusAxis(),l=o.getAngleAxis(),u=i.findAxisModel("radiusAxis"),f=i.findAxisModel("angleAxis");SP(a,u),SP(l,f),function(g,v,w){var _=v.get("center"),A=w.getWidth(),T=w.getHeight();g.cx=Yn(_[0],A),g.cy=Yn(_[1],T);var L=g.getRadiusAxis(),R=Math.min(A,T)/2,z=v.get("radius");z==null?z=[0,"100%"]:he(z)||(z=[0,z]);var j=[Yn(z[0],R),Yn(z[1],R)];L.inverse?L.setExtent(j[1],j[0]):L.setExtent(j[0],j[1])}(o,i,e),t.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="polar"){var r=i.getReferringComponents("polar",go).models[0];i.coordinateSystem=r.coordinateSystem}}),t}},KB=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function LI(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),r=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function OI(n){return n.getRadiusAxis().inverse?0:1}function CP(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var JB=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return wt(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=t.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),l=r.getTicksCoords(),u=r.getMinorTicksCoords(),f=ye(r.getViewLabels(),function(g){g=Gt(g);var v=r.scale,w=v.type==="ordinal"?v.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=r.dataToCoord(w),g});CP(f),CP(l),U(KB,function(g){!t.get([g,"show"])||r.scale.isBlank()&&g!=="axisLine"||QB[g](this.group,t,o,l,u,a,f)},this)}},e.type="angleAxis",e}(Pd),QB={axisLine:function(n,e,t,i,r,o){var a,l=e.getModel(["axisLine","lineStyle"]),u=OI(t),f=u?0:1;(a=o[f]===0?new El({shape:{cx:t.cx,cy:t.cy,r:o[u]},style:l.getLineStyle(),z2:1,silent:!0}):new Ap({shape:{cx:t.cx,cy:t.cy,r:o[u],r0:o[f]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(a)},axisTick:function(n,e,t,i,r,o){var a=e.getModel("axisTick"),l=(a.get("inside")?-1:1)*a.get("length"),u=o[OI(t)],f=ye(i,function(g){return new Zo({shape:LI(t,[u,u+l],g.coord)})});n.add(As(f,{style:De(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,r,o){if(r.length){for(var a=e.getModel("axisTick"),l=e.getModel("minorTick"),u=(a.get("inside")?-1:1)*l.get("length"),f=o[OI(t)],g=[],v=0;v<r.length;v++)for(var w=0;w<r[v].length;w++)g.push(new Zo({shape:LI(t,[f,f+u],r[v][w].coord)}));n.add(As(g,{style:De(l.getModel("lineStyle").getLineStyle(),De(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,r,o,a){var l=e.getCategories(!0),u=e.getModel("axisLabel"),f=u.get("margin"),g=e.get("triggerEvent");U(a,function(v,w){var _=u,A=v.tickValue,T=o[OI(t)],L=t.coordToPoint([T+f,v.coord]),R=t.cx,z=t.cy,j=Math.abs(L[0]-R)/T<.3?"center":L[0]>R?"left":"right",X=Math.abs(L[1]-z)/T<.3?"middle":L[1]>z?"top":"bottom";if(l&&l[A]){var Z=l[A];Zn(Z)&&Z.textStyle&&(_=new Nr(Z.textStyle,u,u.ecModel))}var Q=new wr({silent:hs.isLabelSilent(e),style:Dr(_,{x:L[0],y:L[1],fill:_.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:v.formattedLabel,align:j,verticalAlign:X})});if(n.add(Q),g){var nt=hs.makeAxisEventDataBase(e);nt.targetType="axisLabel",nt.value=v.rawLabel,Ui(Q).eventData=nt}},this)},splitLine:function(n,e,t,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=0;g<i.length;g++){var v=u++%l.length;f[v]=f[v]||[],f[v].push(new Zo({shape:LI(t,o,i[g].coord)}))}for(g=0;g<f.length;g++)n.add(As(f[g],{style:De({stroke:l[g%l.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,r,o){if(r.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<r.length;u++)for(var f=0;f<r[u].length;f++)l.push(new Zo({shape:LI(t,o,r[u][f].coord)}));n.add(As(l,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,r,o){if(i.length){var a=e.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=Math.PI/180,v=-i[0].coord*g,w=Math.min(o[0],o[1]),_=Math.max(o[0],o[1]),A=e.get("clockwise"),T=1,L=i.length;T<=L;T++){var R=T===L?i[0].coord:i[T].coord,z=u++%l.length;f[z]=f[z]||[],f[z].push(new os({shape:{cx:t.cx,cy:t.cy,r0:w,r:_,startAngle:v,endAngle:-R*g,clockwise:A},silent:!0})),v=-R*g}for(T=0;T<f.length;T++)n.add(As(f[T],{style:De({fill:l[T%l.length]},a.getAreaStyle()),silent:!0}))}}},tz=["axisLine","axisTickLabel","axisName"],ez=["splitLine","splitArea","minorSplitLine"],nz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return wt(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=this._axisGroup,o=this._axisGroup=new Ei;this.group.add(o);var a=t.axis,l=a.polar,u=l.getAngleAxis(),f=a.getTicksCoords(),g=a.getMinorTicksCoords(),v=u.getExtent()[0],w=a.getExtent(),_=function(T,L,R){return{position:[T.cx,T.cy],rotation:R/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:L.getModel("axisLabel").get("rotate"),z2:1}}(l,t,v),A=new hs(t,_);U(tz,A.add,A),o.add(A.getGroup()),bg(r,o,t),U(ez,function(T){t.get([T,"show"])&&!a.scale.isBlank()&&iz[T](this.group,t,l,v,w,f,g)},this)}},e.type="radiusAxis",e}(Pd),iz={splitLine:function(n,e,t,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=0;g<o.length;g++){var v=u++%l.length;f[v]=f[v]||[],f[v].push(new El({shape:{cx:t.cx,cy:t.cy,r:Math.max(o[g].coord,0)}}))}for(g=0;g<f.length;g++)n.add(As(f[g],{style:De({stroke:l[g%l.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,r,o,a){if(a.length){for(var l=e.getModel("minorSplitLine").getModel("lineStyle"),u=[],f=0;f<a.length;f++)for(var g=0;g<a[f].length;g++)u.push(new El({shape:{cx:t.cx,cy:t.cy,r:a[f][g].coord}}));n.add(As(u,{style:De({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,r,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],g=o[0].coord,v=1;v<o.length;v++){var w=u++%l.length;f[w]=f[w]||[],f[w].push(new os({shape:{cx:t.cx,cy:t.cy,r0:g,r:o[v].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),g=o[v].coord}for(v=0;v<f.length;v++)n.add(As(f[v],{style:De({fill:l[v%l.length]},a.getAreaStyle()),silent:!0}))}}};function kP(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function AP(n,e){return e.dim+n.model.componentIndex}function rz(n,e,t){var i={},r=function(o){var a={};U(o,function(u,f){var g=u.getData(),v=u.coordinateSystem,w=v.getBaseAxis(),_=AP(v,w),A=w.getExtent(),T=w.type==="category"?w.getBandWidth():Math.abs(A[1]-A[0])/g.count(),L=a[_]||{bandWidth:T,remainedWidth:T,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},R=L.stacks;a[_]=L;var z=kP(u);R[z]||L.autoWidthCount++,R[z]=R[z]||{width:0,maxWidth:0};var j=Yn(u.get("barWidth"),T),X=Yn(u.get("barMaxWidth"),T),Z=u.get("barGap"),Q=u.get("barCategoryGap");j&&!R[z].width&&(j=Math.min(L.remainedWidth,j),R[z].width=j,L.remainedWidth-=j),X&&(R[z].maxWidth=X),Z!=null&&(L.gap=Z),Q!=null&&(L.categoryGap=Q)});var l={};return U(a,function(u,f){l[f]={};var g=u.stacks,v=u.bandWidth,w=Yn(u.categoryGap,v),_=Yn(u.gap,1),A=u.remainedWidth,T=u.autoWidthCount,L=(A-w)/(T+(T-1)*_);L=Math.max(L,0),U(g,function(X,Z){var Q=X.maxWidth;Q&&Q<L&&(Q=Math.min(Q,A),X.width&&(Q=Math.min(Q,X.width)),A-=Q,X.width=Q,T--)}),L=(A-w)/(T+(T-1)*_),L=Math.max(L,0);var R,z=0;U(g,function(X,Z){X.width||(X.width=L),R=X,z+=X.width*(1+_)}),R&&(z-=R.width*_);var j=-z/2;U(g,function(X,Z){l[f][Z]=l[f][Z]||{offset:j,width:X.width},j+=X.width*(1+_)})}),l}($e(e.getSeriesByType(n),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&o.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(o){if(o.coordinateSystem.type==="polar"){var a=o.getData(),l=o.coordinateSystem,u=l.getBaseAxis(),f=AP(l,u),g=kP(o),v=r[f][g],w=v.offset,_=v.width,A=l.getOtherAxis(u),T=o.coordinateSystem.cx,L=o.coordinateSystem.cy,R=o.get("barMinHeight")||0,z=o.get("barMinAngle")||0;i[g]=i[g]||[];for(var j=a.mapDimension(A.dim),X=a.mapDimension(u.dim),Z=lh(a,j),Q=u.dim!=="radius"||!o.get("roundCap",!0),nt=A.dataToCoord(0),it=0,mt=a.count();it<mt;it++){var bt=a.get(j,it),St=a.get(X,it),Ot=bt>=0?"p":"n",Yt=nt;Z&&(i[g][St]||(i[g][St]={p:nt,n:nt}),Yt=i[g][St][Ot]);var ee=void 0,le=void 0,ge=void 0,be=void 0;if(A.dim==="radius"){var Ie=A.dataToCoord(bt)-nt,He=u.dataToCoord(St);Math.abs(Ie)<R&&(Ie=(Ie<0?-1:1)*R),ee=Yt,le=Yt+Ie,be=(ge=He-w)-_,Z&&(i[g][St][Ot]=le)}else{var qe=A.dataToCoord(bt,Q)-nt,Ke=u.dataToCoord(St);Math.abs(qe)<z&&(qe=(qe<0?-1:1)*z),le=(ee=Ke+w)+_,ge=Yt,be=Yt+qe,Z&&(i[g][St][Ot]=be)}a.setItemLayout(it,{cx:T,cy:L,r0:ee,r:le,startAngle:-ge*Math.PI/180,endAngle:-be*Math.PI/180,clockwise:ge>=be})}}})}var oz={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},az={splitNumber:5},sz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="polar",e}(io);function yO(n,e){e=e||{};var t=n.coordinateSystem,i=n.axis,r={},o=i.position,a=i.orient,l=t.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],f={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};r.position=[a==="vertical"?f.vertical[o]:u[0],a==="horizontal"?f.horizontal[o]:u[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Ri(e.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var g=e.rotate;return g==null&&(g=n.get(["axisLabel","rotate"])),r.labelRotation=o==="top"?-g:g,r.z2=1,r}var lz=["axisLine","axisTickLabel","axisName"],cz=["splitArea","splitLine"],uz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return wt(e,n),e.prototype.render=function(t,i,r,o){var a=this.group;a.removeAll();var l=this._axisGroup;this._axisGroup=new Ei;var u=yO(t),f=new hs(t,u);U(lz,f.add,f),a.add(this._axisGroup),a.add(f.getGroup()),U(cz,function(g){t.get([g,"show"])&&hz[g](this,this.group,this._axisGroup,t)},this),bg(l,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)},e.prototype.remove=function(){vf(this)},e.type="singleAxis",e}(Pd),hz={splitLine:function(n,e,t,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),l=a.get("color");l=l instanceof Array?l:[l];for(var u=a.get("width"),f=i.coordinateSystem.getRect(),g=r.isHorizontal(),v=[],w=0,_=r.getTicksCoords({tickModel:o}),A=[],T=[],L=0;L<_.length;++L){var R=r.toGlobalCoord(_[L].coord);g?(A[0]=R,A[1]=f.y,T[0]=R,T[1]=f.y+f.height):(A[0]=f.x,A[1]=R,T[0]=f.x+f.width,T[1]=R);var z=new Zo({shape:{x1:A[0],y1:A[1],x2:T[0],y2:T[1]},silent:!0});_o(z.shape,u);var j=w++%l.length;v[j]=v[j]||[],v[j].push(z)}var X=a.getLineStyle(["color"]);for(L=0;L<v.length;++L)e.add(As(v[L],{style:De({stroke:l[L%l.length]},X),silent:!0}))}},splitArea:function(n,e,t,i){Py(n,t,i,i)}},EI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(pr);oe(EI,hh.prototype);var dz=function(n){function e(t,i,r,o,a){var l=n.call(this,t,i,r)||this;return l.type=o||"value",l.position=a||"bottom",l}return wt(e,n),e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e}(Ds),MP=["single"],pz=function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=MP,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var r=this.dimension,o=new dz(r,rm(e),[0,0],e.get("type"),e.get("position")),a=o.type==="category";o.onBand=a&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();U(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),ef(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=Ao({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(r[o],r[1-o]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return r-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return r-a+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis();return i.orient==="horizontal"?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),r=[],o=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),r[o]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-o]=o===0?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(e,t,i){return TP(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return TP(t)===this?this.pointToData(i):null},n}();function TP(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}var fz={create:function(n,e){var t=[];return n.eachComponent("singleAxis",function(i,r){var o=new pz(i,n,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,t.push(o)}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="singleAxis"){var r=i.getReferringComponents("singleAxis",go).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),t},dimensions:MP},IP=["x","y"],gz=["width","height"],mz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.makeElOption=function(t,i,r,o,a){var l=r.axis,u=l.coordinateSystem,f=xO(u,1-PI(l)),g=u.dataToPoint(i)[0],v=o.get("type");if(v&&v!=="none"){var w=hO(o),_=vz[v](l,g,f);_.style=w,t.graphicKey=_.type,t.pointer=_}uP(i,t,yO(r),r,o,a)},e.prototype.getHandleTransform=function(t,i,r){var o=yO(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=dO(i.axis,t,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var a=r.axis,l=a.coordinateSystem,u=PI(a),f=xO(l,u),g=[t.x,t.y];g[u]+=i[u],g[u]=Math.min(f[1],g[u]),g[u]=Math.max(f[0],g[u]);var v=xO(l,1-u),w=(v[1]+v[0])/2,_=[w,w];return _[u]=g[u],{x:g[0],y:g[1],rotation:t.rotation,cursorPoint:_,tooltipOption:{verticalAlign:"middle"}}},e}(cO),vz={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:pO([e,t[0]],[e,t[1]],PI(n))}},shadow:function(n,e,t){var i=n.getBandWidth(),r=t[1]-t[0];return{type:"Rect",shape:hP([e-i/2,t[0]],[i,r],PI(n))}}};function PI(n){return n.isHorizontal()?0:1}function xO(n,e){var t=n.getRect();return[t[IP[e]],t[IP[e]]+t[gz[e]]]}var yz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="single",e}(io),xz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t,i,r){var o=Wp(t);n.prototype.init.apply(this,arguments),DP(t,o)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),DP(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(pr);function DP(n,e){var t,i=n.cellSize;(t=he(i)?i:n.cellSize=[i,i]).length===1&&(t[1]=t[0]);var r=ye([0,1],function(o){return function(a,l){return a[td[l][0]]!=null||a[td[l][1]]!=null&&a[td[l][2]]!=null}(e,o)&&(t[o]="auto"),t[o]!=null&&t[o]!=="auto"});Zu(n,e,{type:"box",ignoreSize:r})}var bz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){var o=this.group;o.removeAll();var a=t.coordinateSystem,l=a.getRangeInfo(),u=a.getOrient(),f=i.getLocaleModel();this._renderDayRect(t,l,o),this._renderLines(t,l,u,o),this._renderYearText(t,l,u,o),this._renderMonthText(t,f,u,o),this._renderWeekText(t,f,l,u,o)},e.prototype._renderDayRect=function(t,i,r){for(var o=t.coordinateSystem,a=t.getModel("itemStyle").getItemStyle(),l=o.getCellWidth(),u=o.getCellHeight(),f=i.start.time;f<=i.end.time;f=o.getNextNDay(f,1).time){var g=o.dataToRect([f],!1).tl,v=new br({shape:{x:g[0],y:g[1],width:l,height:u},cursor:"default",style:a});r.add(v)}},e.prototype._renderLines=function(t,i,r,o){var a=this,l=t.coordinateSystem,u=t.getModel(["splitLine","lineStyle"]).getLineStyle(),f=t.get(["splitLine","show"]),g=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var v=i.start,w=0;v.time<=i.end.time;w++){A(v.formatedDate),w===0&&(v=l.getDateInfo(i.start.y+"-"+i.start.m));var _=v.date;_.setMonth(_.getMonth()+1),v=l.getDateInfo(_)}function A(T){a._firstDayOfMonth.push(l.getDateInfo(T)),a._firstDayPoints.push(l.dataToRect([T],!1).tl);var L=a._getLinePointsOfOneWeek(t,T,r);a._tlpoints.push(L[0]),a._blpoints.push(L[L.length-1]),f&&a._drawSplitline(L,u,o)}A(l.getNextNDay(i.end.time,1).formatedDate),f&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,g,r),u,o),f&&this._drawSplitline(a._getEdgesPoints(a._blpoints,g,r),u,o)},e.prototype._getEdgesPoints=function(t,i,r){var o=[t[0].slice(),t[t.length-1].slice()],a=r==="horizontal"?0:1;return o[0][a]=o[0][a]-i/2,o[1][a]=o[1][a]+i/2,o},e.prototype._drawSplitline=function(t,i,r){var o=new ss({z2:20,shape:{points:t},style:i});r.add(o)},e.prototype._getLinePointsOfOneWeek=function(t,i,r){for(var o=t.coordinateSystem,a=o.getDateInfo(i),l=[],u=0;u<7;u++){var f=o.getNextNDay(a.time,u),g=o.dataToRect([f.time],!1);l[2*f.day]=g.tl,l[2*f.day+1]=g[r==="horizontal"?"bl":"tr"]}return l},e.prototype._formatterLabel=function(t,i){return kn(t)&&t?(r=t,U(i,function(a,l){r=r.replace("{"+l+"}",o?Lt(a):a)}),r):In(t)?t(i):i.nameMap;var r,o},e.prototype._yearTextPositionControl=function(t,i,r,o,a){var l=i[0],u=i[1],f=["center","bottom"];o==="bottom"?(u+=a,f=["center","top"]):o==="left"?l-=a:o==="right"?(l+=a,f=["center","top"]):u-=a;var g=0;return o!=="left"&&o!=="right"||(g=Math.PI/2),{rotation:g,x:l,y:u,style:{align:f[0],verticalAlign:f[1]}}},e.prototype._renderYearText=function(t,i,r,o){var a=t.getModel("yearLabel");if(a.get("show")){var l=a.get("margin"),u=a.get("position");u||(u=r!=="horizontal"?"top":"left");var f=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(f[0][0]+f[1][0])/2,v=(f[0][1]+f[1][1])/2,w=r==="horizontal"?0:1,_={top:[g,f[w][1]],bottom:[g,f[1-w][1]],left:[f[1-w][0],v],right:[f[w][0],v]},A=i.start.y;+i.end.y>+i.start.y&&(A=A+"-"+i.end.y);var T=a.get("formatter"),L={start:i.start.y,end:i.end.y,nameMap:A},R=this._formatterLabel(T,L),z=new wr({z2:30,style:Dr(a,{text:R})});z.attr(this._yearTextPositionControl(z,_[u],r,u,l)),o.add(z)}},e.prototype._monthTextPositionControl=function(t,i,r,o,a){var l="left",u="top",f=t[0],g=t[1];return r==="horizontal"?(g+=a,i&&(l="center"),o==="start"&&(u="bottom")):(f+=a,i&&(u="middle"),o==="start"&&(l="right")),{x:f,y:g,align:l,verticalAlign:u}},e.prototype._renderMonthText=function(t,i,r,o){var a=t.getModel("monthLabel");if(a.get("show")){var l=a.get("nameMap"),u=a.get("margin"),f=a.get("position"),g=a.get("align"),v=[this._tlpoints,this._blpoints];l&&!kn(l)||(l&&(i=xv(l)||i),l=i.get(["time","monthAbbr"])||[]);var w=f==="start"?0:1,_=r==="horizontal"?0:1;u=f==="start"?-u:u;for(var A=g==="center",T=0;T<v[w].length-1;T++){var L=v[w][T].slice(),R=this._firstDayOfMonth[T];if(A){var z=this._firstDayPoints[T];L[_]=(z[_]+v[0][T+1][_])/2}var j=a.get("formatter"),X=l[+R.m-1],Z={yyyy:R.y,yy:(R.y+"").slice(2),MM:R.m,M:+R.m,nameMap:X},Q=this._formatterLabel(j,Z),nt=new wr({z2:30,style:pe(Dr(a,{text:Q}),this._monthTextPositionControl(L,A,r,f,u))});o.add(nt)}}},e.prototype._weekTextPositionControl=function(t,i,r,o,a){var l="center",u="middle",f=t[0],g=t[1],v=r==="start";return i==="horizontal"?(f=f+o+(v?1:-1)*a[0]/2,l=v?"right":"left"):(g=g+o+(v?1:-1)*a[1]/2,u=v?"bottom":"top"),{x:f,y:g,align:l,verticalAlign:u}},e.prototype._renderWeekText=function(t,i,r,o,a){var l=t.getModel("dayLabel");if(l.get("show")){var u=t.coordinateSystem,f=l.get("position"),g=l.get("nameMap"),v=l.get("margin"),w=u.getFirstDayOfWeek();(!g||kn(g))&&(g&&(i=xv(g)||i),g=i.get(["time","dayOfWeekShort"])||ye(i.get(["time","dayOfWeekAbbr"]),function(X){return X[0]}));var _=u.getNextNDay(r.end.time,7-r.lweek).time,A=[u.getCellWidth(),u.getCellHeight()];v=Yn(v,Math.min(A[1],A[0])),f==="start"&&(_=u.getNextNDay(r.start.time,-(7+r.fweek)).time,v=-v);for(var T=0;T<7;T++){var L,R=u.getNextNDay(_,T),z=u.dataToRect([R.time],!1).center;L=Math.abs((T+w)%7);var j=new wr({z2:30,style:pe(Dr(l,{text:g[L]}),this._weekTextPositionControl(z,o,f,v,A))});a.add(j)}}},e.type="calendar",e}(io),bO=864e5,wz=function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){var t=(e=ma(e)).getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,o=e.getDate(),a=o<10?"0"+o:""+o,l=e.getDay();return{y:t+"",m:r,d:a,day:l=Math.abs((l+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+a,date:e}},n.prototype.getNextNDay=function(e,t){return(t=t||0)===0||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),l=this._orient==="horizontal"?[i,7]:[7,i];U([0,1],function(v){g(o,v)&&(a[r[v]]=o[v]*l[v])});var u={width:t.getWidth(),height:t.getHeight()},f=this._rect=Ao(a,u);function g(v,w){return v[w]!=null&&v[w]!=="auto"}U([0,1],function(v){g(o,v)||(o[v]=f[r[v]]/l[v])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(e,t){he(e)&&(e=e[0]),t==null&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo,o=i.formatedDate;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+bO))return[NaN,NaN];var a=i.day,l=this._getRangeInfo([r.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]:[this._rect.x+l*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},n.prototype.convertToPixel=function(e,t,i){var r=LP(t);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=LP(t);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(he(t)&&t.length===1&&(t=t[0]),he(t))e=t;else{var i=t.toString();if(/^\d{4}$/.test(i)&&(e=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);e=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(e=[i,i])}if(!e)return t;var l=this._getRangeInfo(e);return l.start.time>l.end.time&&e.reverse(),e},n.prototype._getRangeInfo=function(e){var t,i=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];i[0].time>i[1].time&&(t=!0,i.reverse());var r=Math.floor(i[1].time/bO)-Math.floor(i[0].time/bO)+1,o=new Date(i[0].time),a=o.getDate(),l=i[1].date.getDate();o.setDate(a+r-1);var u=o.getDate();if(u!==l)for(var f=o.getTime()-i[1].time>0?1:-1;(u=o.getDate())!==l&&(o.getTime()-i[1].time)*f>0;)r-=f,o.setDate(u-f);var g=Math.floor((r+i[0].day+6)/7),v=t?1-g:g-1;return t&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:g,nthWeek:v,fweek:i[0].day,lweek:i[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||e===0&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var o=7*(e-1)-r.fweek+t,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(r){var o=new n(r);i.push(o),r.coordinateSystem=o}),e.eachSeries(function(r){r.get("coordinateSystem")==="calendar"&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function LP(n){var e=n.calendarModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem:null}function OP(n,e){var t;return U(e,function(i){n[i]!=null&&n[i]!=="auto"&&(t=!0)}),t}var EP=["transition","enterFrom","leaveTo"],_z=EP.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function NI(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),n&&e)for(var i=t?EP:_z,r=0;r<i.length;r++){var o=i[r];n[o]==null&&e[o]!=null&&(n[o]=e[o])}}var Sz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return wt(e,n),e.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=r},e.prototype.optionUpdated=function(t,i){var r=this.option,o=(i?r:t).elements,a=r.elements=i?[]:r.elements,l=[];this._flatten(o,l,null);var u=ng(a,l,"normalMerge"),f=this._elOptionsToUpdate=[];U(u,function(g,v){var w=g.newOption;w&&(f.push(w),function(_,A){var T=_.existing;if(A.id=_.keyInfo.id,!A.type&&T&&(A.type=T.type),A.parentId==null){var L=A.parentOption;L?A.parentId=L.id:T&&(A.parentId=T.parentId)}A.parentOption=null}(g,w),function(_,A,T){var L=pe({},T),R=_[A],z=T.$action||"merge";z==="merge"?R?(ie(R,L,!0),Zu(R,L,{ignoreSize:!0}),Dw(T,R),NI(T,R),NI(T,R,"shape"),NI(T,R,"style"),NI(T,R,"extra"),T.clipPath=R.clipPath):_[A]=L:z==="replace"?_[A]=L:z==="remove"&&R&&(_[A]=null)}(a,v,w),function(_,A){if(_&&(_.hv=A.hv=[OP(A,["left","right"]),OP(A,["top","bottom"])],_.type==="group")){var T=_,L=A;T.width==null&&(T.width=L.width=0),T.height==null&&(T.height=L.height=0)}}(a[v],w))},this),r.elements=$e(a,function(g){return g&&delete g.$action,g!=null})},e.prototype._flatten=function(t,i,r){U(t,function(o){if(o){r&&(o.parentOption=r),i.push(o);var a=o.children;a&&a.length&&this._flatten(a,i,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(pr),PP={path:null,compoundPath:null,group:Ei,image:Kr,text:wr},Cu=hr(),Cz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(){this._elMap=yn()},e.prototype.render=function(t,i,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group,a=t.get("z"),l=t.get("zlevel");U(i,function(u){var f=po(u.id,null),g=f!=null?r.get(f):null,v=po(u.parentId,null),w=v!=null?r.get(v):o,_=u.type,A=u.style;_==="text"&&A&&u.hv&&u.hv[1]&&(A.textVerticalAlign=A.textBaseline=A.verticalAlign=A.align=null);var T=u.textContent,L=u.textConfig;if(A&&zE(A,_,!!L,!!T)){var R=FE(A,_,!0);!L&&R.textConfig&&(L=u.textConfig=R.textConfig),!T&&R.textContent&&(T=R.textContent)}var z=function(ge){return ge=pe({},ge),U(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Tw),function(be){delete ge[be]}),ge}(u),j=u.$action||"merge",X=j==="merge",Z=j==="replace";if(X){var Q=g;(Yt=!g)?Q=NP(f,w,u.type,r):(Q&&(Cu(Q).isNew=!1),$E(Q)),Q&&(AI(Q,z,t,{isInit:Yt}),RP(Q,u,a,l))}else if(Z){RI(g,u,r,t);var nt=NP(f,w,u.type,r);nt&&(AI(nt,z,t,{isInit:!0}),RP(nt,u,a,l))}else j==="remove"&&(GE(g,u),RI(g,u,r,t));var it=r.get(f);if(it&&T)if(X){var mt=it.getTextContent();mt?mt.attr(T):it.setTextContent(new wr(T))}else Z&&it.setTextContent(new wr(T));if(it){var bt=u.clipPath;if(bt){var St=bt.type,Ot=void 0,Yt=!1;if(X){var ee=it.getClipPath();Ot=(Yt=!ee||Cu(ee).type!==St)?wO(St):ee}else Z&&(Yt=!0,Ot=wO(St));it.setClipPath(Ot),AI(Ot,bt,t,{isInit:Yt}),TI(Ot,bt.keyframeAnimation,t)}var le=Cu(it);it.setTextConfig(L),le.option=u,function(ge,be,Ie){var He=Ui(ge).eventData;ge.silent||ge.ignore||He||(He=Ui(ge).eventData={componentType:"graphic",componentIndex:be.componentIndex,name:ge.name}),He&&(He.info=Ie.info)}(it,t,u),Pp({el:it,componentModel:t,itemName:it.name,itemTooltipOption:u.tooltip}),TI(it,u.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,i){for(var r=t.option.elements,o=this.group,a=this._elMap,l=i.getWidth(),u=i.getHeight(),f=["x","y"],g=0;g<r.length;g++)if((L=(T=po((A=r[g]).id,null))!=null?a.get(T):null)&&L.isGroup){var v=(R=L.parent)===o,w=Cu(L),_=Cu(R);w.width=Yn(w.option.width,v?l:_.width)||0,w.height=Yn(w.option.height,v?u:_.height)||0}for(g=r.length-1;g>=0;g--){var A,T,L;if(L=(T=po((A=r[g]).id,null))!=null?a.get(T):null){var R=L.parent,z=(_=Cu(R),{}),j=wv(L,A,R===o?{width:l,height:u}:{width:_.width,height:_.height},null,{hv:A.hv,boundingMode:A.bounding},z);if(!Cu(L).isNew&&j){for(var X=A.transition,Z={},Q=0;Q<f.length;Q++){var nt=f[Q],it=z[nt];X&&(p0(X)||rn(X,nt)>=0)?Z[nt]=it:L[nt]=it}Mr(L,Z,t,0)}else L.attr(z)}}},e.prototype._clear=function(){var t=this,i=this._elMap;i.each(function(r){RI(r,Cu(r).option,i,t._lastGraphicModel)}),this._elMap=yn()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(io);function wO(n){var e=vn(PP,n)?PP[n]:mg(n),t=new e({});return Cu(t).type=n,t}function NP(n,e,t,i){var r=wO(t);return e.add(r),i.set(n,r),Cu(r).id=n,Cu(r).isNew=!0,r}function RI(n,e,t,i){n&&n.parent&&(n.type==="group"&&n.traverse(function(r){RI(r,e,t,i)}),MI(n,e,i),t.removeKey(Cu(n).id))}function RP(n,e,t,i){n.isGroup||U([["cursor",_a.prototype.cursor],["zlevel",i||0],["z",t||0],["z2",0]],function(r){var o=r[0];vn(e,o)?n[o]=Rt(e[o],r[1]):n[o]==null&&(n[o]=r[1])}),U(Re(e),function(r){if(r.indexOf("on")===0){var o=e[r];n[r]=In(o)?o:null}}),vn(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}var BP=["x","y","radius","angle","single"],kz=["cartesian2d","polar","singleAxis"];function Rm(n){return n+"Axis"}function Az(n,e){var t,i=yn(),r=[],o=yn();n.eachComponent({mainType:"dataZoom",query:e},function(u){o.get(u.uid)||l(u)});do t=!1,n.eachComponent("dataZoom",a);while(t);function a(u){!o.get(u.uid)&&function(f){var g=!1;return f.eachTargetAxis(function(v,w){var _=i.get(v);_&&_[w]&&(g=!0)}),g}(u)&&(l(u),t=!0)}function l(u){o.set(u.uid,!0),r.push(u),u.eachTargetAxis(function(f,g){(i.get(f)||i.set(f,[]))[g]=!0})}return r}function zP(n){var e=n.ecModel,t={infoList:[],infoMap:yn()};return n.eachTargetAxis(function(i,r){var o=e.getComponent(Rm(i),r);if(o){var a=o.getCoordSysModel();if(a){var l=a.uid,u=t.infoMap.get(l);u||(u={model:a,axisModels:[]},t.infoList.push(u),t.infoMap.set(l,u)),u.axisModels.push(o)}}}),t}var _O=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),Ok=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return wt(e,n),e.prototype.init=function(t,i,r){var o=FP(t);this.settledOption=o,this.mergeDefaultAndTheme(t,r),this._doInit(o)},e.prototype.mergeOption=function(t){var i=FP(t);ie(this.option,t,!0),ie(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;U([["start","startValue"],["end","endValue"]],function(o,a){this._rangePropMode[a]==="value"&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=yn();this._fillSpecifiedTargetAxis(i)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return U(BP,function(r){var o=this.getReferringComponents(Rm(r),Zm);if(o.specified){i=!0;var a=new _O;U(o.models,function(l){a.add(l.componentIndex)}),t.set(r,a)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var r=this.ecModel,o=!0;if(o){var a=i==="vertical"?"y":"x";l(r.findComponents({mainType:a+"Axis"}),a)}o&&l(r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===i}}),"single");function l(u,f){var g=u[0];if(g){var v=new _O;if(v.add(g.componentIndex),t.set(f,v),o=!1,f==="x"||f==="y"){var w=g.getReferringComponents("grid",go).models[0];w&&U(u,function(_){g.componentIndex!==_.componentIndex&&w===_.getReferringComponents("grid",go).models[0]&&v.add(_.componentIndex)})}}}o&&U(BP,function(u){if(o){var f=r.findComponents({mainType:Rm(u),filter:function(v){return v.get("type",!0)==="category"}});if(f[0]){var g=new _O;g.add(f[0].componentIndex),t.set(u,g),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,r=this.get("rangeMode");U([["start","startValue"],["end","endValue"]],function(o,a){var l=t[o[0]]!=null,u=t[o[1]]!=null;l&&!u?i[a]="percent":!l&&u?i[a]="value":r?i[a]=r[a]:l&&(i[a]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,r){t==null&&(t=this.ecModel.getComponent(Rm(i),r))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(r,o){U(r.indexList,function(a){t.call(i,o,a)})})},e.prototype.getAxisProxy=function(t,i){var r=this.getAxisModel(t,i);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[i])return this.ecModel.getComponent(Rm(t),i)},e.prototype.setRawRange=function(t){var i=this.option,r=this.settledOption;U([["start","startValue"],["end","endValue"]],function(o){t[o[0]]==null&&t[o[1]]==null||(i[o[0]]=r[o[0]]=t[o[0]],i[o[1]]=r[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;U(["start","startValue","end","endValue"],function(r){i[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(t!=null||i!=null)return this.getAxisProxy(t,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],l=this._targetAxisInfoMap.get(a),u=0;u<l.indexList.length;u++){var f=this.getAxisProxy(a,l.indexList[u]);if(f.hostedBy(this))return f;i||(i=f)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(pr);function FP(n){var e={};return U(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var Mz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="dataZoom.select",e}(Ok),SO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r,o){this.dataZoomModel=t,this.ecModel=i,this.api=r},e.type="dataZoom",e}(io),Tz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="dataZoom.select",e}(SO),k1=U,VP=Qa,Iz=function(){function n(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(function(o){var a=o.get("coordinateSystem");return rn(kz,a)>=0}(t)){var i=Rm(this._dimName),r=t.getReferringComponents(i,go).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Gt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t,i=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],l=[],u=[];k1(["start","end"],function(v,w){var _=e[v],A=e[v+"Value"];o[w]==="percent"?(_==null&&(_=a[w]),A=r.parse(Br(_,a,i))):(t=!0,_=Br(A=A==null?i[w]:r.parse(A),i,a)),u[w]=A==null||isNaN(A)?i[w]:A,l[w]=_==null||isNaN(_)?a[w]:_}),VP(u),VP(l);var f=this._minMaxSpan;function g(v,w,_,A,T){var L=T?"Span":"ValueSpan";F(0,v,_,"all",f["min"+L],f["max"+L]);for(var R=0;R<2;R++)w[R]=Br(v[R],_,A,!0),T&&(w[R]=r.parse(w[R]))}return t?g(u,l,i,a,!1):g(l,u,a,i,!0),{valueWindow:u,percentWindow:l}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(r,o,a){var l=[1/0,-1/0];k1(a,function(g){(function(v,w,_){w&&U(rf(w,_),function(A){var T=w.getApproximateExtent(A);T[0]<v[0]&&(v[0]=T[0]),T[1]>v[1]&&(v[1]=T[1])})})(l,g.getData(),o)});var u=r.getAxisModel(),f=pS(u.axis.scale,u,l).calculate();return[f.min,f.max]}(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;o!=="none"&&k1(r,function(l){var u=l.getData(),f=u.mapDimensionsAll(i);if(f.length){if(o==="weakFilter"){var g=u.getStore(),v=ye(f,function(w){return u.getDimensionIndex(w)},u);u.filterSelf(function(w){for(var _,A,T,L=0;L<f.length;L++){var R=g.get(v[L],w),z=!isNaN(R),j=R<a[0],X=R>a[1];if(z&&!j&&!X)return!0;z&&(T=!0),j&&(_=!0),X&&(A=!0)}return T&&_&&A})}else k1(f,function(w){if(o==="empty")l.setData(u=u.map(w,function(A){return function(T){return T>=a[0]&&T<=a[1]}(A)?A:NaN}));else{var _={};_[w]=a,u.selectRange(_)}});k1(f,function(w){u.setApproximateExtent(a,w)})}})}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;k1(["min","max"],function(r){var o=t.get(r+"Span"),a=t.get(r+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?o=Br(i[0]+a,i,[0,100],!0):o!=null&&(a=Br(o,[0,100],i,!0)-i[0]),e[r+"Span"]=o,e[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=Zf(i,[0,500]);r=Math.min(r,20);var o=e.axis.scale.rawExtentInfo;t[0]!==0&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),t[1]!==100&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}(),Dz={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,l){var u=n.getComponent(Rm(a),l);r(a,l,u,o)})})}e(function(r,o,a,l){a.__dzAxisProxy=null});var t=[];e(function(r,o,a,l){a.__dzAxisProxy||(a.__dzAxisProxy=new Iz(r,o,l,n),t.push(a.__dzAxisProxy))});var i=yn();return U(t,function(r){U(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).reset(t)}),t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},HP=!1;function CO(n){HP||(HP=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,Dz),function(e){e.registerAction("dataZoom",function(t,i){U(Az(i,t),function(r){r.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Lz(n){n.registerComponentModel(Mz),n.registerComponentView(Tz),CO(n)}var ku=function(){},WP={};function A1(n,e){WP[n]=e}function jP(n){return WP[n]}var Oz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;U(this.option.feature,function(i,r){var o=jP(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(t)),ie(i,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(pr);function YP(n,e){var t=Jh(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),n=new br({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var Ez=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.render=function(t,i,r,o){var a=this.group;if(a.removeAll(),t.get("show")){var l=+t.get("itemSize"),u=t.get("orient")==="vertical",f=t.get("feature")||{},g=this._features||(this._features={}),v=[];U(f,function(_,A){v.push(A)}),new ah(this._featureNames||[],v).add(w).update(w).remove(un(w,null)).execute(),this._featureNames=v,function(_,A,T){var L=A.getBoxLayoutParams(),R=A.get("padding"),z={width:T.getWidth(),height:T.getHeight()},j=Ao(L,z,R);ed(A.get("orient"),_,A.get("itemGap"),j.width,j.height),wv(_,L,z,R)}(a,t,r),a.add(YP(a.getBoundingRect(),t)),u||a.eachChild(function(_){var A=_.__title,T=_.ensureState("emphasis"),L=T.textConfig||(T.textConfig={}),R=_.getTextContent(),z=R&&R.ensureState("emphasis");if(z&&!In(z)&&A){var j=z.style||(z.style={}),X=Ja(A,wr.makeFont(j)),Z=_.x+a.x,Q=!1;_.y+a.y+l+X.height>r.getHeight()&&(L.position="top",Q=!0);var nt=Q?-5-X.height:l+10;Z+X.width/2>r.getWidth()?(L.position=["100%",nt],j.align="right"):Z-X.width/2<0&&(L.position=[0,nt],j.align="left")}})}function w(_,A){var T,L=v[_],R=v[A],z=f[L],j=new Nr(z,t,t.ecModel);if(o&&o.newTitle!=null&&o.featureName===L&&(z.title=o.newTitle),L&&!R){if(function(Q){return Q.indexOf("my")===0}(L))T={onclick:j.option.onclick,featureName:L};else{var X=jP(L);if(!X)return;T=new X}g[L]=T}else if(!(T=g[R]))return;T.uid=Bp("toolbox-feature"),T.model=j,T.ecModel=i,T.api=r;var Z=T instanceof ku;L||!R?!j.get("show")||Z&&T.unusable?Z&&T.remove&&T.remove(i,r):(function(Q,nt,it){var mt,bt,St=Q.getModel("iconStyle"),Ot=Q.getModel(["emphasis","iconStyle"]),Yt=nt instanceof ku&&nt.getIcons?nt.getIcons():Q.get("icon"),ee=Q.get("title")||{};kn(Yt)?(mt={})[it]=Yt:mt=Yt,kn(ee)?(bt={})[it]=ee:bt=ee;var le=Q.iconPaths={};U(mt,function(ge,be){var Ie=Op(ge,{},{x:-l/2,y:-l/2,width:l,height:l});Ie.setStyle(St.getItemStyle()),Ie.ensureState("emphasis").style=Ot.getItemStyle();var He=new wr({style:{text:bt[be],align:Ot.get("textAlign"),borderRadius:Ot.get("textBorderRadius"),padding:Ot.get("textPadding"),fill:null},ignore:!0});Ie.setTextContent(He),Pp({el:Ie,componentModel:t,itemName:be,formatterParamsExtra:{title:bt[be]}}),Ie.__title=bt[be],Ie.on("mouseover",function(){var qe=Ot.getItemStyle(),Ke=u?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";He.setStyle({fill:Ot.get("textFill")||qe.fill||qe.stroke||"#000",backgroundColor:Ot.get("textBackgroundColor")}),Ie.setTextConfig({position:Ot.get("textPosition")||Ke}),He.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){Q.get(["iconStatus",be])!=="emphasis"&&r.leaveEmphasis(this),He.hide()}),(Q.get(["iconStatus",be])==="emphasis"?Xu:qu)(Ie),a.add(Ie),Ie.on("click",Be(nt.onclick,nt,i,r,be)),le[be]=Ie})}(j,T,L),j.setIconStatus=function(Q,nt){var it=this.option,mt=this.iconPaths;it.iconStatus=it.iconStatus||{},it.iconStatus[Q]=nt,mt[Q]&&(nt==="emphasis"?Xu:qu)(mt[Q])},T instanceof ku&&T.render&&T.render(j,i,r,o)):Z&&T.dispose&&T.dispose(i,r)}},e.prototype.updateView=function(t,i,r,o){U(this._features,function(a){a instanceof ku&&a.updateView&&a.updateView(a.model,i,r,o)})},e.prototype.remove=function(t,i){U(this._features,function(r){r instanceof ku&&r.remove&&r.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){U(this._features,function(r){r instanceof ku&&r.dispose&&r.dispose(t,i)})},e.type="toolbox",e}(io),Pz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.onclick=function(t,i){var r=this.model,o=r.get("name")||t.get("title.0.text")||"echarts",a=i.getZr().painter.getType()==="svg",l=a?"svg":r.get("type",!0)||"png",u=i.getConnectedDataURL({type:l,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),f=ke.browser;if(In(MouseEvent)&&(f.newEdge||!f.ie&&!f.edge)){var g=document.createElement("a");g.download=o+"."+l,g.target="_blank",g.href=u;var v=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(v)}else if(window.navigator.msSaveOrOpenBlob||a){var w=u.split(","),_=w[0].indexOf("base64")>-1,A=a?decodeURIComponent(w[1]):w[1];_&&(A=window.atob(A));var T=o+"."+l;if(window.navigator.msSaveOrOpenBlob){for(var L=A.length,R=new Uint8Array(L);L--;)R[L]=A.charCodeAt(L);var z=new Blob([R]);window.navigator.msSaveOrOpenBlob(z,T)}else{var j=document.createElement("iframe");document.body.appendChild(j);var X=j.contentWindow,Z=X.document;Z.open("image/svg+xml","replace"),Z.write(A),Z.close(),X.focus(),Z.execCommand("SaveAs",!0,T),document.body.removeChild(j)}}else{var Q=r.get("lang"),nt='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(Q&&Q[0]||"")+'" /></body>',it=window.open();it.document.write(nt),it.document.title=o}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(ku),GP="__ec_magicType_stack__",Nz=[["line","bar"],["stack"]],Rz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),r={};return U(t.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(XP[r]){var l,u={series:[]};U(Nz,function(g){rn(g,r)>=0&&U(g,function(v){o.setIconStatus(v,"normal")})}),o.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},function(g){var v=g.subType,w=g.id,_=XP[r](v,w,g,o);_&&(De(_,g.option),u.series.push(_));var A=g.coordinateSystem;if(A&&A.type==="cartesian2d"&&(r==="line"||r==="bar")){var T=A.getAxesByScale("ordinal")[0];if(T){var L=T.dim+"Axis",R=g.getReferringComponents(L,go).models[0].componentIndex;u[L]=u[L]||[];for(var z=0;z<=R;z++)u[L][R]=u[L][R]||{};u[L][R].boundaryGap=r==="bar"}}});var f=r;r==="stack"&&(l=ie({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",r])!=="emphasis"&&(f="tiled")),i.dispatchAction({type:"changeMagicType",currentType:f,newOption:u,newTitle:l,featureName:"magicType"})}},e}(ku),XP={line:function(n,e,t,i){if(n==="bar")return ie({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if(n==="line")return ie({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var r=t.get("stack")===GP;if(n==="line"||n==="bar")return i.setIconStatus("stack",r?"normal":"emphasis"),ie({id:e,stack:r?"":GP},i.get(["option","stack"])||{},!0)}};Us({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var BI=new Array(60).join("-"),Ek="	";function zI(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var kO=new RegExp("[	]+","g");function Bz(n,e){var t=n.split(new RegExp(`
*`+BI+`
*`,"g")),i={series:[]};return U(t,function(r,o){if(function(f){if(f.slice(0,f.indexOf(`
`)).indexOf(Ek)>=0)return!0}(r)){var a=function(f){for(var g=f.split(/\n+/g),v=[],w=ye(zI(g.shift()).split(kO),function(L){return{name:L,data:[]}}),_=0;_<g.length;_++){var A=zI(g[_]).split(kO);v.push(A.shift());for(var T=0;T<A.length;T++)w[T]&&(w[T].data[_]=A[T])}return{series:w,categories:v}}(r),l=e[o],u=l.axisDim+"Axis";l&&(i[u]=i[u]||[],i[u][l.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else a=function(f){for(var g=f.split(/\n+/g),v=zI(g.shift()),w=[],_=0;_<g.length;_++){var A=zI(g[_]);if(A){var T=A.split(kO),L="",R=void 0,z=!1;isNaN(T[0])?(z=!0,L=T[0],T=T.slice(1),w[_]={name:L,value:[]},R=w[_].value):R=w[_]=[];for(var j=0;j<T.length;j++)R.push(+T[j]);R.length===1&&(z?w[_].value=R[0]:w[_]=R[0])}}return{name:v,data:w}}(r),i.series.push(a)}),i}var zz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.onclick=function(t,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var l=document.createElement("h4"),u=o.get("lang")||[];l.innerHTML=u[0]||o.get("title"),l.style.cssText="margin:10px 20px",l.style.color=o.get("textColor");var f=document.createElement("div"),g=document.createElement("textarea");f.style.cssText="overflow:auto";var v=o.get("optionToContent"),w=o.get("contentToOption"),_=function(nt){var it,mt,bt,St=function(Ot){var Yt={},ee=[],le=[];return Ot.eachRawSeries(function(ge){var be=ge.coordinateSystem;if(!be||be.type!=="cartesian2d"&&be.type!=="polar")ee.push(ge);else{var Ie=be.getBaseAxis();if(Ie.type==="category"){var He=Ie.dim+"_"+Ie.index;Yt[He]||(Yt[He]={categoryAxis:Ie,valueAxis:be.getOtherAxis(Ie),series:[]},le.push({axisDim:Ie.dim,axisIndex:Ie.index})),Yt[He].series.push(ge)}else ee.push(ge)}}),{seriesGroupByCategoryAxis:Yt,other:ee,meta:le}}(nt);return{value:$e([(mt=St.seriesGroupByCategoryAxis,bt=[],U(mt,function(Ot,Yt){var ee=Ot.categoryAxis,le=Ot.valueAxis.dim,ge=[" "].concat(ye(Ot.series,function(bn){return bn.name})),be=[ee.model.getCategories()];U(Ot.series,function(bn){var Rn=bn.getRawData();be.push(bn.getRawData().mapArray(Rn.mapDimension(le),function(Je){return Je}))});for(var Ie=[ge.join(Ek)],He=0;He<be[0].length;He++){for(var qe=[],Ke=0;Ke<be.length;Ke++)qe.push(be[Ke][He]);Ie.push(qe.join(Ek))}bt.push(Ie.join(`
`))}),bt.join(`

`+BI+`

`)),(it=St.other,ye(it,function(Ot){var Yt=Ot.getRawData(),ee=[Ot.name],le=[];return Yt.each(Yt.dimensions,function(){for(var ge=arguments.length,be=arguments[ge-1],Ie=Yt.getName(be),He=0;He<ge-1;He++)le[He]=arguments[He];ee.push((Ie?Ie+Ek:"")+le.join(Ek))}),ee.join(`
`)}).join(`

`+BI+`

`))],function(Ot){return!!Ot.replace(/[\n\t\s]/g,"")}).join(`

`+BI+`

`),meta:St.meta}}(t);if(In(v)){var A=v(i.getOption());kn(A)?f.innerHTML=A:wn(A)&&f.appendChild(A)}else{g.readOnly=o.get("readOnly");var T=g.style;T.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",T.color=o.get("textColor"),T.borderColor=o.get("textareaBorderColor"),T.backgroundColor=o.get("textareaColor"),g.value=_.value,f.appendChild(g)}var L=_.meta,R=document.createElement("div");R.style.cssText="position:absolute;bottom:5px;left:0;right:0";var z="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",j=document.createElement("div"),X=document.createElement("div");z+=";background-color:"+o.get("buttonColor"),z+=";color:"+o.get("buttonTextColor");var Z=this;function Q(){r.removeChild(a),Z._dom=null}zt(j,"click",Q),zt(X,"click",function(){if(w==null&&v!=null||w!=null&&v==null)Q();else{var nt;try{nt=In(w)?w(f,i.getOption()):Bz(g.value,L)}catch(it){throw Q(),new Error("Data view format error "+it)}nt&&i.dispatchAction({type:"changeDataView",newOption:nt}),Q()}}),j.innerHTML=u[1],X.innerHTML=u[2],X.style.cssText=j.style.cssText=z,!o.get("readOnly")&&R.appendChild(X),R.appendChild(j),a.appendChild(l),a.appendChild(f),a.appendChild(R),f.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(ku);function Fz(n,e){return ye(n,function(t,i){var r=e&&e[i];if(Zn(r)&&!he(r)){Zn(t)&&!he(t)||(t={value:t});var o=r.name!=null&&t.name==null;return t=De(t,r),o&&delete t.name,t}return t})}Us({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];U(n.newOption.series,function(i){var r=e.getSeriesByName(i.name)[0];if(r){var o=r.get("data");t.push({name:i.name,data:Fz(i.data,o)})}else t.push(pe({type:"scatter"},i))}),e.mergeOption(De({series:t},n.newOption))});var qP=U,UP=hr();function AO(n){var e=UP(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Vz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.onclick=function(t,i){(function(r){UP(r).snapshots=null})(t),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(ku);Us({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var Hz=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],MO=function(){function n(e,t,i){var r=this;this._targetInfoList=[];var o=$P(t,e);U(Wz,function(a,l){(!i||!i.include||rn(i.include,l)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=IO[i.brushType](0,o,r);i.__rangeOffset={offset:QP[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){U(e,function(r){var o=this.findTargetInfo(r,t);o&&o!==!0&&U(o.coordSyses,function(a){var l=IO[r.brushType](1,a,r.range,!0);i(r,l.values,a,t)})},this)},n.prototype.setInputRanges=function(e,t){U(e,function(i){var r,o,a,l,u,f=this.findTargetInfo(i,t);if(i.range=i.range||[],f&&f!==!0){i.panelId=f.panelId;var g=IO[i.brushType](0,f.coordSys,i.coordRange),v=i.__rangeOffset;i.range=v?QP[i.brushType](g.values,v.offset,(r=g.xyMinMax,o=v.xyMinMax,a=eN(r),l=eN(o),u=[a[0]/l[0],a[1]/l[1]],isNaN(u[0])&&(u[0]=1),isNaN(u[1])&&(u[1]=1),u)):g.values}},this)},n.prototype.makePanelOpts=function(e,t){return ye(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:c0(r),isTargetByCursor:Om(r,e,i.coordSysModel),getLinearBrushOtherExtent:Pc(r)}})},n.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return r===!0||r&&rn(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=$P(t,e),o=0;o<i.length;o++){var a=i[o],l=e.panelId;if(l){if(a.panelId===l)return a}else for(var u=0;u<ZP.length;u++)if(ZP[u](r,a))return a}return!0},n}();function TO(n){return n[0]>n[1]&&n.reverse(),n}function $P(n,e){return Vu(n,e,{includeMainTypes:Hz})}var Wz={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=yn(),a={},l={};(t||i||r)&&(U(t,function(u){var f=u.axis.grid.model;o.set(f.id,f),a[f.id]=!0}),U(i,function(u){var f=u.axis.grid.model;o.set(f.id,f),l[f.id]=!0}),U(r,function(u){o.set(u.id,u),a[u.id]=!0,l[u.id]=!0}),o.each(function(u){var f=u.coordinateSystem,g=[];U(f.getCartesians(),function(v,w){(rn(t,v.getAxis("x").model)>=0||rn(i,v.getAxis("y").model)>=0)&&g.push(v)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:g[0],coordSyses:g,getPanelRect:KP.grid,xAxisDeclared:a[u.id],yAxisDeclared:l[u.id]})}))},geo:function(n,e){U(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:KP.geo})})}},ZP=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],KP={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(Ea(n)),e}},IO={lineX:un(JP,0),lineY:un(JP,1),rect:function(n,e,t,i){var r=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),o=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),a=[TO([r[0],o[0]]),TO([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,e,t,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:ye(t,function(o){var a=n?e.pointToData(o,i):e.dataToPoint(o,i);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}),xyMinMax:r}}};function JP(n,e,t,i){var r=t.getAxis(["x","y"][n]),o=TO(ye([0,1],function(l){return e?r.coordToData(r.toLocalCoord(i[l]),!0):r.toGlobalCoord(r.dataToCoord(i[l]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var QP={lineX:un(tN,0),lineY:un(tN,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return ye(n,function(i,r){return[i[0]-t[0]*e[r][0],i[1]-t[1]*e[r][1]]})}};function tN(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function eN(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var DO,LO,OO=U,jz=vp+"toolbox-dataZoom_",Yz=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.render=function(t,i,r,o){this._brushController||(this._brushController=new ki(r.getZr()),this._brushController.on("brush",Be(this._onBrush,this)).mount()),function(a,l,u,f,g){var v=u._isZoomActive;f&&f.type==="takeGlobalCursor"&&(v=f.key==="dataZoomSelect"&&f.dataZoomSelectActive),u._isZoomActive=v,a.setIconStatus("zoom",v?"emphasis":"normal");var w=new MO(EO(a),l,{include:["grid"]}).makePanelOpts(g,function(_){return _.xAxisDeclared&&!_.yAxisDeclared?"lineX":!_.xAxisDeclared&&_.yAxisDeclared?"lineY":"rect"});u._brushController.setPanels(w).enableBrush(!(!v||!w.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(t,i,this,o,r),function(a,l){a.setIconStatus("back",function(u){return AO(u).length}(l)>1?"emphasis":"normal")}(t,i)},e.prototype.onclick=function(t,i,r){Gz[r].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var i=t.areas;if(t.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new MO(EO(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(l,u,f){if(f.type==="cartesian2d"){var g=l.brushType;g==="rect"?(a("x",f,u[0]),a("y",f,u[1])):a({lineX:"x",lineY:"y"}[g],f,u)}}),function(l,u){var f=AO(l);qP(u,function(g,v){for(var w=f.length-1;w>=0&&!f[w][v];w--);if(w<0){var _=l.queryComponents({mainType:"dataZoom",subType:"select",id:v})[0];if(_){var A=_.getPercentRange();f[0][v]={dataZoomId:v,start:A[0],end:A[1]}}}}),f.push(u)}(o,r),this._dispatchZoomAction(r)}function a(l,u,f){var g=u.getAxis(l),v=g.model,w=function(A,T,L){var R;return L.eachComponent({mainType:"dataZoom",subType:"select"},function(z){z.getAxisModel(A,T.componentIndex)&&(R=z)}),R}(l,v,o),_=w.findRepresentativeAxisProxy(v).getMinMaxSpan();_.minValueSpan==null&&_.maxValueSpan==null||(f=F(0,f.slice(),g.scale.getExtent(),0,_.minValueSpan,_.maxValueSpan)),w&&(r[w.id]={dataZoomId:w.id,startValue:f[0],endValue:f[1]})}},e.prototype._dispatchZoomAction=function(t){var i=[];OO(t,function(r,o){i.push(Gt(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(ku),Gz={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(function(n){var e=AO(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return qP(t,function(r,o){for(var a=e.length-1;a>=0;a--)if(r=e[a][o]){i[o]=r;break}}),i}(this.ecModel))}};function EO(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}DO="dataZoom",LO=function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(e&&e.get(t)!=null){var i=e.getModel(t),r=[],o=Vu(n,EO(i));return OO(o.xAxisModels,function(l){return a(l,"xAxis","xAxisIndex")}),OO(o.yAxisModels,function(l){return a(l,"yAxis","yAxisIndex")}),r}function a(l,u,f){var g=l.componentIndex,v={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:jz+u+g};v[f]=g,r.push(v)}},ve(ax.get(DO)==null&&LO),ax.set(DO,LO);var Xz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(pr);function nN(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function iN(n){if(ke.domSupported){for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}}var rN=iN(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function oN(n,e){if(!n)return e;e=kw(e,!0);var t=n.indexOf(e);return(n=t===-1?e:"-"+n.slice(0,t)+"-"+e).toLowerCase()}var qz=oN(iN(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),PO=oN(rN,"transform"),Uz="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ke.transform3dSupported?"will-change:transform;":"");function aN(n,e,t){var i=n.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!ke.transformSupported)return t?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=ke.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return t?"top:0;left:0;"+PO+":"+a+";":[["top",0],["left",0],[rN,a]]}function $z(n,e,t){var i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),f=n.get("shadowOffsetY"),g=n.getModel("textStyle"),v=s_(n,"html"),w=u+"px "+f+"px "+a+"px "+l;return i.push("box-shadow:"+w),e&&r&&i.push(function(_,A){var T="cubic-bezier(0.23,1,0.32,1)",L=" "+_/2+"s "+T,R="opacity"+L+",visibility"+L;return A||(L=" "+_+"s "+T,R+=ke.transformSupported?","+PO+L:",left"+L+",top"+L),qz+":"+R}(r,t)),o&&i.push("background-color:"+o),U(["width","color","radius"],function(_){var A="border-"+_,T=kw(A),L=n.get(T);L!=null&&i.push(A+":"+L+(_==="color"?"":"px"))}),i.push(function(_){var A=[],T=_.get("fontSize"),L=_.getTextColor();L&&A.push("color:"+L),A.push("font:"+_.getFont()),T&&A.push("line-height:"+Math.round(3*T/2)+"px");var R=_.get("textShadowColor"),z=_.get("textShadowBlur")||0,j=_.get("textShadowOffsetX")||0,X=_.get("textShadowOffsetY")||0;return R&&z&&A.push("text-shadow:"+j+"px "+X+"px "+z+"px "+R),U(["decoration","align"],function(Z){var Q=_.get(Z);Q&&A.push("text-"+Z+":"+Q)}),A.join(";")}(g)),v!=null&&i.push("padding:"+Jh(v).join("px ")+"px"),i.join(";")+";"}function sN(n,e,t,i,r){var o=e&&e.painter;if(t){var a=o&&o.getViewportRoot();a&&function(u,f,g,v,w){K(G,f,v,w,!0)&&K(u,g,G[0],G[1])}(n,a,document.body,i,r)}else{n[0]=i,n[1]=r;var l=o&&o.getViewportRootOffset();l&&(n[0]+=l.offsetLeft,n[1]+=l.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var Zz=function(){function n(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,ke.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=t.getZr(),a=this._appendToBody=i&&i.appendToBody;sN(this._styleCoord,o,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(r):e.appendChild(r),this._container=e;var l=this;r.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},r.onmousemove=function(u){if(u=u||window.event,!l._enterable){var f=o.handler;ot(o.painter.getViewportRoot(),u,!0),f.dispatch("mousemove",u)}},r.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return n.prototype.update=function(e){var t,i,r,o=this._container,a=(i="position",(r=(t=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t))?i?r[i]:r:null),l=o.style;l.position!=="absolute"&&a!=="absolute"&&(l.position="relative"),e.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=Uz+$z(e,!this._firstShow,this._longHide)+aN(o[0],o[1],!0)+"border-color:"+ul(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,r,o){var a=this.el;if(e!=null){var l="";if(kn(o)&&i.get("trigger")==="item"&&!nN(i)&&(l=function(g,v,w){if(!kn(w)||w==="inside")return"";var _=g.get("backgroundColor"),A=g.get("borderWidth");v=ul(v);var T,L,R=(T=w)==="left"?"right":T==="right"?"left":T==="top"?"bottom":"top",z=Math.max(1.5*Math.round(A),6),j="",X=PO+":";rn(["left","right"],R)>-1?(j+="top:50%",X+="translateY(-50%) rotate("+(L=R==="left"?-225:-45)+"deg)"):(j+="left:50%",X+="translateX(-50%) rotate("+(L=R==="top"?225:45)+"deg)");var Z=L*Math.PI/180,Q=z+A,nt=Q*Math.abs(Math.cos(Z))+Q*Math.abs(Math.sin(Z)),it=v+" solid "+A+"px;";return'<div style="'+["position:absolute;width:"+z+"px;height:"+z+"px;z-index:-1;",(j+=";"+R+":-"+Math.round(100*((nt-Math.SQRT2*A)/2+Math.SQRT2*A-(nt-Q)/2))/100+"px")+";"+X+";","border-bottom:"+it,"border-right:"+it,"background-color:"+_+";"].join("")+'"></div>'}(i,r,o)),kn(e))a.innerHTML=e+l;else if(e){a.innerHTML="",he(e)||(e=[e]);for(var u=0;u<e.length;u++)wn(e[u])&&e[u].parentNode!==a&&a.appendChild(e[u]);if(l&&a.childNodes.length){var f=document.createElement("div");f.innerHTML=l,a.appendChild(f)}}}else a.innerHTML=""},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var i=this._styleCoord;if(sN(i,this._zr,this._appendToBody,e,t),i[0]!=null&&i[1]!=null){var r=this.el.style;U(aN(i[0],i[1]),function(o){r[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",ke.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Be(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),Kz=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),cN(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){e.get("alwaysShowContent")&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,r,o){var a=this;Zn(e)&&Sr(""),this.el&&this._zr.remove(this.el);var l=i.getModel("textStyle");this.el=new wr({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:l.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:s_(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),U(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(f){a.el.style[f]=i.get(f)}),U(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(f){a.el.style[f]=l.get(f)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=lN(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;cN(r,this._zr,e,t),e=r[0],t=r[1];var o=i.style,a=Bm(o.borderWidth||0),l=lN(o);i.x=e+a+l.left,i.y=t+a+l.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Be(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Bm(n){return Math.max(0,n)}function lN(n){var e=Bm(n.shadowBlur||0),t=Bm(n.shadowOffsetX||0),i=Bm(n.shadowOffsetY||0);return{left:Bm(e-t),right:Bm(e+t),top:Bm(e-i),bottom:Bm(e+i)}}function cN(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var Jz=new br({shape:{x:-1,y:-1,width:2,height:2}}),Qz=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t,i){if(!ke.node&&i.getDom()){var r,o=t.getComponent("tooltip"),a=this._renderMode=(r=o.get("renderMode"))==="auto"?ke.domSupported?"html":"richText":r||"html";this._tooltipContent=a==="richText"?new Kz(i):new Zz(i.getDom(),i,{appendToBody:o.get("appendToBody",!0)})}},e.prototype.render=function(t,i,r){if(!ke.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=r,this._alwaysShowContent=t.get("alwaysShowContent");var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?hl(this,"_updatePosition",50,"fixRate"):Ba(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");gP("itemTooltip",this._api,Be(function(i,r,o){t!=="none"&&(t.indexOf(i)>=0?this._tryShow(r,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,o=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(t,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,r,o){if(o.from!==this.uid&&!ke.node&&r.getDom()){var a=uN(o,r);this._ticket="";var l=o.dataByCoordSys,u=function(A,T,L){var R=hc(A).queryOptionMap,z=R.keys()[0];if(!(!z||z==="series")){var j,X=dc(T,z,R.get(z),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(X&&(L.getViewOfComponentModel(X).group.traverse(function(Z){var Q=Ui(Z).tooltipConfig;if(Q&&Q.name===A.name)return j=Z,!0}),j))return{componentMainType:z,componentIndex:X.componentIndex,el:j}}}(o,i,r);if(u){var f=u.el.getBoundingRect().clone();f.applyTransform(u.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:u.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var g=Jz;g.x=o.x,g.y=o.y,g.update(),Ui(g).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:g},a)}else if(l)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:l,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(t,i,r,o))return;var v=vP(o,i),w=v.point[0],_=v.point[1];w!=null&&_!=null&&this._tryShow({offsetX:w,offsetY:_,target:v.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},e.prototype.manuallyHideTip=function(t,i,r,o){var a=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(uN(o,r))},e.prototype._manuallyAxisShowTip=function(t,i,r,o){var a=o.seriesIndex,l=o.dataIndex,u=i.getComponent("axisPointer").coordSysAxesInfo;if(a!=null&&l!=null&&u!=null){var f=i.getSeriesByIndex(a);if(f&&Pk([f.getData().getItemModel(l),f,(f.coordinateSystem||{}).model],this._tooltipModel).get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:l,position:o.position}),!0}},e.prototype._tryShow=function(t,i){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(r){var a,l;this._lastDataByCoordSys=null,fd(r,function(u){return Ui(u).dataIndex!=null?(a=u,!0):Ui(u).tooltipConfig!=null?(l=u,!0):void 0},!0),a?this._showSeriesItemTooltip(t,a,i):l?this._showComponentItemTooltip(t,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var r=t.get("showDelay");i=Be(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(t,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],l=Pk([i.tooltipOption],o),u=this._renderMode,f=[],g=oa("section",{blocks:[],noHeader:!0}),v=[],w=new vx;U(t,function(z){U(z.dataByAxis,function(j){var X=r.getComponent(j.axisDim+"Axis",j.axisIndex),Z=j.value;if(X&&Z!=null){var Q=cP(Z,X.axis,r,j.seriesDataIndices,j.valueLabelOpt),nt=oa("section",{header:Q,noHeader:!Pe(Q),sortBlocks:!0,blocks:[]});g.blocks.push(nt),U(j.seriesDataIndices,function(it){var mt=r.getSeriesByIndex(it.seriesIndex),bt=it.dataIndexInside,St=mt.getDataParams(bt);if(!(St.dataIndex<0)){St.axisDim=j.axisDim,St.axisIndex=j.axisIndex,St.axisType=j.axisType,St.axisId=j.axisId,St.axisValue=fS(X.axis,{value:Z}),St.axisValueLabel=Q,St.marker=w.makeTooltipMarker("item",ul(St.color),u);var Ot=Ra(mt.formatTooltip(bt,!0,null)),Yt=Ot.frag;if(Yt){var ee=Pk([mt],o).get("valueFormatter");nt.blocks.push(ee?pe({valueFormatter:ee},Yt):Yt)}Ot.text&&v.push(Ot.text),f.push(St)}})}})}),g.blocks.reverse(),v.reverse();var _=i.position,A=l.get("order"),T=mx(g,w,u,A,r.get("useUTC"),l.get("textStyle"));T&&v.unshift(T);var L=u==="richText"?`

`:"<br/>",R=v.join(L);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t,f)?this._updatePosition(l,_,a[0],a[1],this._tooltipContent,f):this._showTooltipContent(l,R,f,Math.random()+"",a[0],a[1],_,null,w)})},e.prototype._showSeriesItemTooltip=function(t,i,r){var o=this._ecModel,a=Ui(i),l=a.seriesIndex,u=o.getSeriesByIndex(l),f=a.dataModel||u,g=a.dataIndex,v=a.dataType,w=f.getData(v),_=this._renderMode,A=t.positionDefault,T=Pk([w.getItemModel(g),f,u&&(u.coordinateSystem||{}).model],this._tooltipModel,A?{position:A}:null),L=T.get("trigger");if(L==null||L==="item"){var R=f.getDataParams(g,v),z=new vx;R.marker=z.makeTooltipMarker("item",ul(R.color),_);var j=Ra(f.formatTooltip(g,!1,v)),X=T.get("order"),Z=T.get("valueFormatter"),Q=j.frag,nt=Q?mx(Z?pe({valueFormatter:Z},Q):Q,z,_,X,o.get("useUTC"),T.get("textStyle")):j.text,it="item_"+f.name+"_"+g;this._showOrMove(T,function(){this._showTooltipContent(T,nt,R,it,t.offsetX,t.offsetY,t.position,t.target,z)}),r({type:"showTip",dataIndexInside:g,dataIndex:w.getRawIndex(g),seriesIndex:l,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,r){var o=Ui(i),a=o.tooltipConfig.option||{};kn(a)&&(a={content:a,formatter:a});var l=[a],u=this._ecModel.getComponent(o.componentMainType,o.componentIndex);u&&l.push(u),l.push({formatter:a.content});var f=t.positionDefault,g=Pk(l,this._tooltipModel,f?{position:f}:null),v=g.get("content"),w=Math.random()+"",_=new vx;this._showOrMove(g,function(){var A=Gt(g.get("formatterParams")||{});this._showTooltipContent(g,v,A,w,t.offsetX,t.offsetY,t.position,i,_)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,r,o,a,l,u,f,g){if(this._ticket="",t.get("showContent")&&t.get("show")){var v=this._tooltipContent;v.setEnterable(t.get("enterable"));var w=t.get("formatter");u=u||t.get("position");var _=i,A=this._getNearestPoint([a,l],r,t.get("trigger"),t.get("borderColor")).color;if(w)if(kn(w)){var T=t.ecModel.get("useUTC"),L=he(r)?r[0]:r;_=w,L&&L.axisType&&L.axisType.indexOf("time")>=0&&(_=Rl(L.axisValue,_,T)),_=Mg(_,r,!0)}else if(In(w)){var R=Be(function(z,j){z===this._ticket&&(v.setContent(j,g,t,A,u),this._updatePosition(t,u,a,l,v,r,f))},this);this._ticket=o,_=w(r,o,R)}else _=w;v.setContent(_,g,t,A,u),v.show(t,A),this._updatePosition(t,u,a,l,v,r,f)}},e.prototype._getNearestPoint=function(t,i,r,o){return r==="axis"||he(i)?{color:o||(this._renderMode==="html"?"#fff":"none")}:he(i)?void 0:{color:o||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,r,o,a,l,u){var f=this._api.getWidth(),g=this._api.getHeight();i=i||t.get("position");var v=a.getSize(),w=t.get("align"),_=t.get("verticalAlign"),A=u&&u.getBoundingRect().clone();if(u&&A.applyTransform(u.transform),In(i)&&(i=i([r,o],l,a.el,A,{viewSize:[f,g],contentSize:v.slice()})),he(i))r=Yn(i[0],f),o=Yn(i[1],g);else if(Zn(i)){var T=i;T.width=v[0],T.height=v[1];var L=Ao(T,{width:f,height:g});r=L.x,o=L.y,w=null,_=null}else if(kn(i)&&u){var R=function(z,j,X,Z){var Q=X[0],nt=X[1],it=Math.ceil(Math.SQRT2*Z)+8,mt=0,bt=0,St=j.width,Ot=j.height;switch(z){case"inside":mt=j.x+St/2-Q/2,bt=j.y+Ot/2-nt/2;break;case"top":mt=j.x+St/2-Q/2,bt=j.y-nt-it;break;case"bottom":mt=j.x+St/2-Q/2,bt=j.y+Ot+it;break;case"left":mt=j.x-Q-it,bt=j.y+Ot/2-nt/2;break;case"right":mt=j.x+St+it,bt=j.y+Ot/2-nt/2}return[mt,bt]}(i,A,v,t.get("borderWidth"));r=R[0],o=R[1]}else R=function(z,j,X,Z,Q,nt,it){var mt=X.getSize(),bt=mt[0],St=mt[1];return nt!=null&&(z+bt+nt+2>Z?z-=bt+nt:z+=nt),it!=null&&(j+St+it>Q?j-=St+it:j+=it),[z,j]}(r,o,a,f,g,w?null:20,_?null:20),r=R[0],o=R[1];w&&(r-=hN(w)?v[0]/2:w==="right"?v[0]:0),_&&(o-=hN(_)?v[1]/2:_==="bottom"?v[1]:0),nN(t)&&(R=function(z,j,X,Z,Q){var nt=X.getSize(),it=nt[0],mt=nt[1];return z=Math.min(z+it,Z)-it,j=Math.min(j+mt,Q)-mt,z=Math.max(z,0),j=Math.max(j,0),[z,j]}(r,o,a,f,g),r=R[0],o=R[1]),a.moveTo(r,o)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===t.length;return a&&U(r,function(l,u){var f=l.dataByAxis||[],g=(t[u]||{}).dataByAxis||[];(a=a&&f.length===g.length)&&U(f,function(v,w){var _=g[w]||{},A=v.seriesDataIndices||[],T=_.seriesDataIndices||[];(a=a&&v.value===_.value&&v.axisType===_.axisType&&v.axisId===_.axisId&&A.length===T.length)&&U(A,function(L,R){var z=T[R];a=a&&L.seriesIndex===z.seriesIndex&&L.dataIndex===z.dataIndex}),o&&U(v.seriesDataIndices,function(L){var R=L.seriesIndex,z=i[R],j=o[R];z&&j&&j.data!==z.data&&(a=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!a},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){!ke.node&&i.getDom()&&(Ba(this,"_updatePosition"),this._tooltipContent.dispose(),fO("itemTooltip",i))},e.type="tooltip",e}(io);function Pk(n,e,t){var i,r=e.ecModel;t?(i=new Nr(t,r,r),i=new Nr(e.option,i,r)):i=e;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof Nr&&(a=a.get("tooltip",!0)),kn(a)&&(a={formatter:a}),a&&(i=new Nr(a,i,r)))}return i}function uN(n,e){return n.dispatchAction||Be(e.dispatchAction,e)}function hN(n){return n==="center"||n==="middle"}var t5=["rect","polygon","keep","clear"];function e5(n,e){var t=Fr(n?n.brush:[]);if(t.length){var i=[];U(t,function(u){var f=u.hasOwnProperty("toolbox")?u.toolbox:[];f instanceof Array&&(i=i.concat(f))});var r=n&&n.toolbox;he(r)&&(r=r[0]),r||(r={feature:{}},n.toolbox=[r]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),l=a.type||(a.type=[]);l.push.apply(l,i),function(u){var f={};U(u,function(g){f[g]=1}),u.length=0,U(f,function(g,v){u.push(v)})}(l),e&&!l.length&&l.push.apply(l,t5)}}var dN=U;function pN(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function NO(n,e,t){var i={};return dN(e,function(r){var o,a=i[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);dN(n[r],function(l,u){if(Yo.isValidType(u)){var f={type:u,visual:l};t&&t(f,r),a[u]=new Yo(f),u==="opacity"&&((f=Gt(f)).type="colorAlpha",a.__hidden.__alphaForOpacity=new Yo(f))}})}),i}function fN(n,e,t){var i;U(t,function(r){e.hasOwnProperty(r)&&pN(e[r])&&(i=!0)}),i&&U(t,function(r){e.hasOwnProperty(r)&&pN(e[r])?n[r]=Gt(e[r]):delete n[r]})}var gN={lineX:mN(0),lineY:mN(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&Sd(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,a=n.width,l=n.height,u=i[0];return!!(Sd(i,r,o)||Sd(i,r+a,o)||Sd(i,r,o+l)||Sd(i,r+a,o+l)||Qi.create(n).contain(u[0],u[1])||Ep(r,o,r+a,o,i)||Ep(r,o,r,o+l,i)||Ep(r+a,o,r+a,o+l,i)||Ep(r,o+l,r+a,o+l,i))||void 0}}};function mN(n){var e=["x","y"],t=["width","height"];return{point:function(i,r,o){if(i){var a=o.range;return Nk(i[n],a)}},rect:function(i,r,o){if(i){var a=o.range,l=[i[e[n]],i[e[n]]+i[t[n]]];return l[1]<l[0]&&l.reverse(),Nk(l[0],a)||Nk(l[1],a)||Nk(a[0],l)||Nk(a[1],l)}}}}function Nk(n,e){return e[0]<=n&&n<=e[1]}var vN=["inBrush","outOfBrush"],n5="__ecBrushSelect",RO="__ecInBrushSelectEvent";function yN(n){n.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new MO(e.option,n)).setInputRanges(e.areas,n)})}function i5(n,e,t){var i,r,o=[];n.eachComponent({mainType:"brush"},function(a){t&&t.type==="takeGlobalCursor"&&a.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),yN(n),n.eachComponent({mainType:"brush"},function(a,l){var u={brushId:a.id,brushIndex:l,brushName:a.name,areas:Gt(a.areas),selected:[]};o.push(u);var f=a.option,g=f.brushLink,v=[],w=[],_=[],A=!1;l||(i=f.throttleType,r=f.throttleDelay);var T=ye(a.areas,function(j){var X=o5[j.brushType],Z=De({boundingRect:X?X(j):void 0},j);return Z.selectors=function(Q){var nt=Q.brushType,it={point:function(mt){return gN[nt].point(mt,it,Q)},rect:function(mt){return gN[nt].rect(mt,it,Q)}};return it}(Z),Z}),L=NO(a.option,vN,function(j){j.mappingMethod="fixed"});function R(j){return g==="all"||!!v[j]}function z(j){return!!j.length}he(g)&&U(g,function(j){v[j]=1}),n.eachSeries(function(j,X){var Z=_[X]=[];j.subType==="parallel"?function(Q,nt){var it=Q.coordinateSystem;A=A||it.hasAxisBrushed(),R(nt)&&it.eachActiveState(Q.getData(),function(mt,bt){mt==="active"&&(w[bt]=1)})}(j,X):function(Q,nt,it){if(!(!Q.brushSelector||function(bt,St){var Ot=bt.option.seriesIndex;return Ot!=null&&Ot!=="all"&&(he(Ot)?rn(Ot,St)<0:St!==Ot)}(a,nt))&&(U(T,function(bt){a.brushTargetManager.controlSeries(bt,Q,n)&&it.push(bt),A=A||z(it)}),R(nt)&&z(it))){var mt=Q.getData();mt.each(function(bt){xN(Q,it,mt,bt)&&(w[bt]=1)})}}(j,X,Z)}),n.eachSeries(function(j,X){var Z={seriesId:j.id,seriesIndex:X,seriesName:j.name,dataIndex:[]};u.selected.push(Z);var Q=_[X],nt=j.getData(),it=R(X)?function(mt){return w[mt]?(Z.dataIndex.push(nt.getRawIndex(mt)),"inBrush"):"outOfBrush"}:function(mt){return xN(j,Q,nt,mt)?(Z.dataIndex.push(nt.getRawIndex(mt)),"inBrush"):"outOfBrush"};(R(X)?A:z(Q))&&function(mt,bt,St,Ot,Yt,ee){var le,ge={};function be(qe){return Nv(St,le,qe)}function Ie(qe,Ke){C_(St,le,qe,Ke)}function He(qe,Ke){le=ee==null?qe:Ke;var bn=St.getRawDataItem(le);if(!bn||bn.visualMap!==!1)for(var Rn=Ot.call(Yt,qe),Je=bt[Rn],Tn=ge[Rn],Fn=0,Xn=Tn.length;Fn<Xn;Fn++){var Vn=Tn[Fn];Je[Vn]&&Je[Vn].applyVisual(qe,be,Ie)}}U(mt,function(qe){var Ke=Yo.prepareVisualTypes(bt[qe]);ge[qe]=Ke}),ee==null?St.each(He):St.each([ee],He)}(vN,L,nt,it)})}),function(a,l,u,f,g){if(g){var v=a.getZr();v[RO]||(v.__ecBrushSelect||(v.__ecBrushSelect=r5),hl(v,n5,u,l)(a,f))}}(e,i,r,o,t)}function r5(n,e){if(!n.isDisposed()){var t=n.getZr();t[RO]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[RO]=!1}}function xN(n,e,t,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(n.brushSelector(i,t,a.selectors,a))return!0}}var o5={rect:function(n){return bN(n.range)},polygon:function(n){for(var e,t=n.range,i=0,r=t.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=t[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&bN(e)}};function bN(n){return new Qi(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var a5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i,this.model,(this._brushController=new ki(i.getZr())).on("brush",Be(this._onBrush,this)).mount()},e.prototype.render=function(t,i,r,o){this.model=t,this._updateController(t,i,r,o)},e.prototype.updateTransform=function(t,i,r,o){yN(i),this._updateController(t,i,r,o)},e.prototype.updateVisual=function(t,i,r,o){this.updateTransform(t,i,r,o)},e.prototype.updateView=function(t,i,r,o){this._updateController(t,i,r,o)},e.prototype._updateController=function(t,i,r,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:Gt(r),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:Gt(r),$from:i})},e.type="brush",e}(io),s5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return wt(e,n),e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&fN(r,t,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=ye(t,function(i){return wN(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=wN(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(pr);function wN(n,e){return ie({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Nr(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}var l5=["rect","polygon","lineX","lineY","keep","clear"],c5=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return wt(e,n),e.prototype.render=function(t,i,r){var o,a,l;i.eachComponent({mainType:"brush"},function(u){o=u.brushType,a=u.brushOption.brushMode||"single",l=l||!!u.areas.length}),this._brushType=o,this._brushMode=a,U(t.get("type",!0),function(u){t.setIconStatus(u,(u==="keep"?a==="multiple":u==="clear"?l:u===o)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,r){this.render(t,i,r)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),r={};return U(t.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},e.prototype.onclick=function(t,i,r){var o=this._brushType,a=this._brushMode;r==="clear"?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?o:o!==r&&r,brushMode:r==="keep"?a==="multiple"?"single":"multiple":a}})},e.getDefaultOption=function(t){return{show:!0,type:l5.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(ku),u5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return wt(e,n),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(pr),h5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.render=function(t,i,r){if(this.group.removeAll(),t.get("show")){var o=this.group,a=t.getModel("textStyle"),l=t.getModel("subtextStyle"),u=t.get("textAlign"),f=Rt(t.get("textBaseline"),t.get("textVerticalAlign")),g=new wr({style:Dr(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),v=g.getBoundingRect(),w=t.get("subtext"),_=new wr({style:Dr(l,{text:w,fill:l.getTextColor(),y:v.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),A=t.get("link"),T=t.get("sublink"),L=t.get("triggerEvent",!0);g.silent=!A&&!L,_.silent=!T&&!L,A&&g.on("click",function(){Qh(A,"_"+t.get("target"))}),T&&_.on("click",function(){Qh(T,"_"+t.get("subtarget"))}),Ui(g).eventData=Ui(_).eventData=L?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(g),w&&o.add(_);var R=o.getBoundingRect(),z=t.getBoxLayoutParams();z.width=R.width,z.height=R.height;var j=Ao(z,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));u||((u=t.get("left")||t.get("right"))==="middle"&&(u="center"),u==="right"?j.x+=j.width:u==="center"&&(j.x+=j.width/2)),f||((f=t.get("top")||t.get("bottom"))==="center"&&(f="middle"),f==="bottom"?j.y+=j.height:f==="middle"&&(j.y+=j.height/2),f=f||"top"),o.x=j.x,o.y=j.y,o.markRedraw();var X={align:u,verticalAlign:f};g.setStyle(X),_.setStyle(X),R=o.getBoundingRect();var Z=j.margin,Q=t.getItemStyle(["color","opacity"]);Q.fill=t.get("backgroundColor");var nt=new br({shape:{x:R.x-Z[3],y:R.y-Z[0],width:R.width+Z[1]+Z[3],height:R.height+Z[0]+Z[2],r:t.get("borderRadius")},style:Q,subPixelOptimize:!0,silent:!0});o.add(nt)}},e.type="title",e}(io),_N=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return wt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,i=this.option,r=i.data||[],o=i.axisType,a=this._names=[];o==="category"?(t=[],U(r,function(u,f){var g,v=po(Fu(u),"");Zn(u)?(g=Gt(u)).value=f:g=f,t.push(g),a.push(v)})):t=r;var l={category:"ordinal",time:"time",value:"number"}[o]||"number";(this._data=new Va([{name:"value",type:l}],this)).initData(t,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(pr),SN=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="timeline.slider",e.defaultOption=bc(_N.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(_N);oe(SN,dx.prototype);var d5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="timeline",e}(io),p5=function(n){function e(t,i,r,o){var a=n.call(this,t,i,r)||this;return a.type=o||"value",a}return wt(e,n),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(Ds),BO=Math.PI,CN=hr(),f5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,r){if(this.model=t,this.api=r,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,r),a=this._createGroup("_mainGroup"),l=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(o,t);t.formatTooltip=function(f){return oa("nameValue",{noName:!0,value:u.scale.getLabel({value:f})})},U(["AxisLine","AxisTick","Control","CurrentPointer"],function(f){this["_render"+f](o,a,u,t)},this),this._renderAxisLabel(o,l,u,t),this._position(o,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var r,o,a,l,u=t.get(["label","position"]),f=t.get("orient"),g=function(Ot,Yt){return Ao(Ot.getBoxLayoutParams(),{width:Yt.getWidth(),height:Yt.getHeight()},Ot.get("padding"))}(t,i),v={horizontal:"center",vertical:(r=u==null||u==="auto"?f==="horizontal"?g.y+g.height/2<i.getHeight()/2?"-":"+":g.x+g.width/2<i.getWidth()/2?"+":"-":kn(u)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[f][u]:u)>=0||r==="+"?"left":"right"},w={horizontal:r>=0||r==="+"?"top":"bottom",vertical:"middle"},_={horizontal:0,vertical:BO/2},A=f==="vertical"?g.height:g.width,T=t.getModel("controlStyle"),L=T.get("show",!0),R=L?T.get("itemSize"):0,z=L?T.get("itemGap"):0,j=R+z,X=t.get(["label","rotate"])||0;X=X*BO/180;var Z=T.get("position",!0),Q=L&&T.get("showPlayBtn",!0),nt=L&&T.get("showPrevBtn",!0),it=L&&T.get("showNextBtn",!0),mt=0,bt=A;Z==="left"||Z==="bottom"?(Q&&(o=[0,0],mt+=j),nt&&(a=[mt,0],mt+=j),it&&(l=[bt-R,0],bt-=j)):(Q&&(o=[bt-R,0],bt-=j),nt&&(a=[0,0],mt+=j),it&&(l=[bt-R,0],bt-=j));var St=[mt,bt];return t.get("inverse")&&St.reverse(),{viewRect:g,mainLength:A,orient:f,rotation:_[f],labelRotation:X,labelPosOpt:r,labelAlign:t.get(["label","align"])||v[f],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||w[f],playPosition:o,prevBtnPosition:a,nextBtnPosition:l,axisExtent:St,controlSize:R,controlGap:z}},e.prototype._position=function(t,i){var r=this._mainGroup,o=this._labelGroup,a=t.viewRect;if(t.orient==="vertical"){var l=[1,0,0,1,0,0],u=a.x,f=a.y+a.height;lr(l,l,[-u,-f]),xr(l,l,-BO/2),lr(l,l,[u,f]),(a=a.clone()).applyTransform(l)}var g=z(a),v=z(r.getBoundingRect()),w=z(o.getBoundingRect()),_=[r.x,r.y],A=[o.x,o.y];A[0]=_[0]=g[0][0];var T,L=t.labelPosOpt;L==null||kn(L)?(j(_,v,g,1,T=L==="+"?0:1),j(A,w,g,1,1-T)):(j(_,v,g,1,T=L>=0?0:1),A[1]=_[1]+L);function R(X){X.originX=g[0][0]-X.x,X.originY=g[1][0]-X.y}function z(X){return[[X.x,X.x+X.width],[X.y,X.y+X.height]]}function j(X,Z,Q,nt,it){X[nt]+=Q[nt][it]-Z[nt][it]}r.setPosition(_),o.setPosition(A),r.rotation=o.rotation=t.rotation,R(r),R(o)},e.prototype._createAxis=function(t,i){var r=i.getData(),o=i.get("axisType"),a=function(f,g){if(g=g||f.get("type"))switch(g){case"category":return new ry({ordinalMeta:f.getCategories(),extent:[1/0,-1/0]});case"time":return new im({locale:f.ecModel.getLocaleModel(),useUTC:f.ecModel.get("useUTC")});default:return new Mc}}(i,o);a.getTicks=function(){return r.mapArray(["value"],function(f){return{value:f}})};var l=r.getDataExtent("value");a.setExtent(l[0],l[1]),a.calcNiceTicks();var u=new p5("value",a,t.axisExtent,o);return u.model=i,u},e.prototype._createGroup=function(t){var i=this[t]=new Ei;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var l=new Zo({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:pe({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(l);var u=this._progressLine=new Zo({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:De({lineCap:"round",lineWidth:l.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(u)}},e.prototype._renderAxisTick=function(t,i,r,o){var a=this,l=o.getData(),u=r.scale.getTicks();this._tickSymbols=[],U(u,function(f){var g=r.dataToCoord(f.value),v=l.getItemModel(f.value),w=v.getModel("itemStyle"),_=v.getModel(["emphasis","itemStyle"]),A=v.getModel(["progress","itemStyle"]),T={x:g,y:0,onclick:Be(a._changeTimeline,a,f.value)},L=kN(v,w,i,T);L.ensureState("emphasis").style=_.getItemStyle(),L.ensureState("progress").style=A.getItemStyle(),Uu(L);var R=Ui(L);v.get("tooltip")?(R.dataIndex=f.value,R.dataModel=o):R.dataIndex=R.dataModel=null,a._tickSymbols.push(L)})},e.prototype._renderAxisLabel=function(t,i,r,o){var a=this;if(r.getLabelModel().get("show")){var l=o.getData(),u=r.getViewLabels();this._tickLabels=[],U(u,function(f){var g=f.tickValue,v=l.getItemModel(g),w=v.getModel("label"),_=v.getModel(["emphasis","label"]),A=v.getModel(["progress","label"]),T=r.dataToCoord(f.tickValue),L=new wr({x:T,y:0,rotation:t.labelRotation-t.rotation,onclick:Be(a._changeTimeline,a,g),silent:!1,style:Dr(w,{text:f.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});L.ensureState("emphasis").style=Dr(_),L.ensureState("progress").style=Dr(A),i.add(L),Uu(L),CN(L).dataIndex=g,a._tickLabels.push(L)})}},e.prototype._renderControl=function(t,i,r,o){var a=t.controlSize,l=t.rotation,u=o.getModel("controlStyle").getItemStyle(),f=o.getModel(["emphasis","controlStyle"]).getItemStyle(),g=o.getPlayState(),v=o.get("inverse",!0);function w(_,A,T,L){if(_){var R=Ho(Rt(o.get(["controlStyle",A+"BtnSize"]),a),a),z=function(j,X,Z,Q){var nt=Q.style,it=Op(j.get(["controlStyle",X]),Q||{},new Qi(Z[0],Z[1],Z[2],Z[3]));return nt&&it.setStyle(nt),it}(o,A+"Icon",[0,-R/2,R,R],{x:_[0],y:_[1],originX:a/2,originY:0,rotation:L?-l:0,rectHover:!0,style:u,onclick:T});z.ensureState("emphasis").style=f,i.add(z),Uu(z)}}w(t.nextBtnPosition,"next",Be(this._changeTimeline,this,v?"-":"+")),w(t.prevBtnPosition,"prev",Be(this._changeTimeline,this,v?"+":"-")),w(t.playPosition,g?"stop":"play",Be(this._handlePlayClick,this,!g),!0)},e.prototype._renderCurrentPointer=function(t,i,r,o){var a=o.getData(),l=o.getCurrentIndex(),u=a.getItemModel(l).getModel("checkpointStyle"),f=this,g={onCreate:function(v){v.draggable=!0,v.drift=Be(f._handlePointerDrag,f),v.ondragend=Be(f._handlePointerDragend,f),AN(v,f._progressLine,l,r,o,!0)},onUpdate:function(v){AN(v,f._progressLine,l,r,o)}};this._currentPointer=kN(u,u,this._mainGroup,{},this._currentPointer,g)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var r=this._toAxisCoord(t)[0],o=Qa(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var a=this._progressLine;a&&(a.shape.x2=r,a.dirty());var l=this._findNearestTick(r),u=this.model;(i||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return Pl(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var i,r=this.model.getData(),o=1/0,a=this._axis;return r.each(["value"],function(l,u){var f=a.dataToCoord(l),g=Math.abs(f-t);g<o&&(o=g,i=u)}),i},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();t==="+"?t=i+1:t==="-"&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<t);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",CN(r[o]).dataIndex<=t)},e.type="timeline.slider",e}(d5);function kN(n,e,t,i,r,o){var a=e.get("color");r?(r.setColor(a),t.add(r),o&&o.onUpdate(r)):((r=Do(n.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),t.add(r),o&&o.onCreate(r));var l=e.getItemStyle(["color"]);r.setStyle(l),i=ie({rectHover:!0,z2:100},i,!0);var u=zv(n.get("symbolSize"));i.scaleX=u[0]/2,i.scaleY=u[1]/2;var f=nh(n.get("symbolOffset"),u);f&&(i.x=(i.x||0)+f[0],i.y=(i.y||0)+f[1]);var g=n.get("symbolRotate");return i.rotation=(g||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function AN(n,e,t,i,r,o){if(!n.dragging){var a=r.getModel("checkpointStyle"),l=i.dataToCoord(r.getData().get("value",t));if(o||!a.get("animation",!0))n.attr({x:l,y:0}),e&&e.attr({shape:{x2:l}});else{var u={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:l,y:0},u),e&&e.animateTo({shape:{x2:l}},u)}}}function g5(n){var e=n&&n.timeline;he(e)||(e=e?[e]:[]),U(e,function(t){t&&function(i){var r=i.type,o={number:"value",time:"time"};if(o[r]&&(i.axisType=o[r],delete i.type),MN(i),g0(i,"controlPosition")){var a=i.controlStyle||(i.controlStyle={});g0(a,"position")||(a.position=i.controlPosition),a.position!=="none"||g0(a,"show")||(a.show=!1,delete a.position),delete i.controlPosition}U(i.data||[],function(l){Zn(l)&&!he(l)&&(!g0(l,"value")&&g0(l,"name")&&(l.value=l.name),MN(l))})}(t)})}function MN(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};U(i,function(a,l){o[l]||g0(r,l)||(r[l]=a)}),t.label&&!g0(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function g0(n,e){return n.hasOwnProperty(e)}function zO(n,e){if(!n)return!1;for(var t=he(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function FI(n){qc(n,"label",["show"])}var VI=hr(),Bf=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return wt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(ke.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,r,o){var a=this.mainType;r||i.eachSeries(function(l){var u=l.get(this.mainType,!0),f=VI(l)[a];u&&u.data?(f?f._mergeOption(u,i,!0):(o&&FI(u),U(u.data,function(g){g instanceof Array?(FI(g[0]),FI(g[1])):FI(g)}),pe(f=this.createMarkerModelFromSeries(u,this,i),{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),f.__hostSeries=l),VI(l)[a]=f):VI(l)[a]=null},this)},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),a=this.getRawValue(t),l=o.getName(t);return oa("section",{header:this.name,blocks:[oa("nameValue",{name:l,value:a,noName:!l,noValue:a==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,i){return VI(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(pr);oe(Bf,dx.prototype);var m5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(Bf);function FO(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function HI(n,e,t,i,r,o){var a=[],l=lh(e,i)?e.getCalculationInfo("stackResultDimension"):i,u=HO(e,l,n),f=e.indicesOfNearest(l,u)[0];a[r]=e.get(t,f),a[o]=e.get(l,f);var g=e.get(i,f),v=Ss(e.get(i,f));return(v=Math.min(v,20))>=0&&(a[o]=+a[o].toFixed(v)),[a,g]}var VO={min:un(HI,"min"),max:un(HI,"max"),average:un(HI,"average"),median:un(HI,"median")};function Rk(n,e){if(e){var t=n.getData(),i=n.coordinateSystem,r=i.dimensions;if(!function(v){return!isNaN(parseFloat(v.x))&&!isNaN(parseFloat(v.y))}(e)&&!he(e.coord)&&i){var o=TN(e,t,i,n);if((e=Gt(e)).type&&VO[e.type]&&o.baseAxis&&o.valueAxis){var a=rn(r,o.baseAxis.dim),l=rn(r,o.valueAxis.dim),u=VO[e.type](t,o.baseDataDim,o.valueDataDim,a,l);e.coord=u[0],e.value=u[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null)e.coord=[];else for(var f=e.coord,g=0;g<2;g++)VO[f[g]]&&(f[g]=HO(t,t.mapDimension(r[g]),f[g]));return e}}function TN(n,e,t,i){var r={};return n.valueIndex!=null||n.valueDim!=null?(r.valueDataDim=n.valueIndex!=null?e.getDimension(n.valueIndex):n.valueDim,r.valueAxis=t.getAxis(function(o,a){var l=o.getData().getDimensionInfo(a);return l&&l.coordDim}(i,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function Bk(n,e){return!(n&&n.containData&&e.coord&&!FO(e))||n.containData(e.coord)}function IN(n,e){return n?function(t,i,r,o){return cd(o<2?t.coord&&t.coord[o]:t.value,e[o])}:function(t,i,r,o){return cd(t.value,e[o])}}function HO(n,e,t){if(t==="average"){var i=0,r=0;return n.each(e,function(o,a){isNaN(o)||(i+=o,r++)}),i/r}return t==="median"?n.getMedian(e):n.getDataExtent(e)[t==="max"?1:0]}var WO=hr(),jO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.init=function(){this.markerGroupMap=yn()},e.prototype.render=function(t,i,r){var o=this,a=this.markerGroupMap;a.each(function(l){WO(l).keep=!1}),i.eachSeries(function(l){var u=Bf.getMarkerModelFromSeries(l,o.type);u&&o.renderSeries(l,u,i,r)}),a.each(function(l){!WO(l).keep&&o.group.remove(l.group)})},e.prototype.markKeep=function(t){WO(t).keep=!0},e.prototype.toggleBlurSeries=function(t,i){var r=this;U(t,function(o){var a=Bf.getMarkerModelFromSeries(o,r.type);a&&a.getData().eachItemGraphicEl(function(l){l&&(i?tA(l):ov(l))})})},e.type="marker",e}(io);function DN(n,e,t){var i=e.coordinateSystem;n.each(function(r){var o,a=n.getItemModel(r),l=Yn(a.get("x"),t.getWidth()),u=Yn(a.get("y"),t.getHeight());if(isNaN(l)||isNaN(u)){if(e.getMarkerPosition)o=e.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var f=n.get(i.dimensions[0],r),g=n.get(i.dimensions[1],r);o=i.dataToPoint([f,g])}}else o=[l,u];isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u),n.setItemLayout(r,o)})}var v5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=Bf.getMarkerModelFromSeries(o,"markPoint");a&&(DN(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,new hm),v=function(w,_,A){var T;T=w?ye(w&&w.dimensions,function(j){return pe(pe({},_.getData().getDimensionInfo(_.getData().mapDimension(j))||{}),{name:j,ordinalMeta:null})}):[{name:"value",type:"float"}];var L=new Va(T,A),R=ye(A.get("data"),un(Rk,_));w&&(R=$e(R,un(Bk,w)));var z=IN(!!w,T);return L.initData(R,null,z),L}(a,t,i);i.setData(v),DN(i.getData(),t,o),v.each(function(w){var _=v.getItemModel(w),A=_.getShallow("symbol"),T=_.getShallow("symbolSize"),L=_.getShallow("symbolRotate"),R=_.getShallow("symbolOffset"),z=_.getShallow("symbolKeepAspect");if(In(A)||In(T)||In(L)||In(R)){var j=i.getRawValue(w),X=i.getDataParams(w);In(A)&&(A=A(j,X)),In(T)&&(T=T(j,X)),In(L)&&(L=L(j,X)),In(R)&&(R=R(j,X))}var Z=_.getModel("itemStyle").getItemStyle(),Q=qg(u,"color");Z.fill||(Z.fill=Q),v.setItemVisual(w,{symbol:A,symbolSize:T,symbolRotate:L,symbolOffset:R,symbolKeepAspect:z,style:Z})}),g.updateData(v),this.group.add(g.group),v.eachItemGraphicEl(function(w){w.traverse(function(_){Ui(_).dataModel=i})}),this.markKeep(g),g.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e}(jO),y5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(Bf),WI=hr(),x5=function(n,e,t,i){var r,o=n.getData();if(he(i))r=i;else{var a=i.type;if(a==="min"||a==="max"||a==="average"||a==="median"||i.xAxis!=null||i.yAxis!=null){var l=void 0,u=void 0;if(i.yAxis!=null||i.xAxis!=null)l=e.getAxis(i.yAxis!=null?"y":"x"),u=Ri(i.yAxis,i.xAxis);else{var f=TN(i,o,e,n);l=f.valueAxis,u=HO(o,nS(o,f.valueDataDim),a)}var g=l.dim==="x"?0:1,v=1-g,w=Gt(i),_={coord:[]};w.type=null,w.coord=[],w.coord[v]=-1/0,_.coord[v]=1/0;var A=t.get("precision");A>=0&&fi(u)&&(u=+u.toFixed(Math.min(A,20))),w.coord[g]=_.coord[g]=u,r=[w,_,{type:a,valueIndex:i.valueIndex,value:u}]}else r=[]}var T=[Rk(n,r[0]),Rk(n,r[1]),pe({},r[2])];return T[2].type=T[2].type||null,ie(T[2],T[0]),ie(T[2],T[1]),T};function jI(n){return!isNaN(n)&&!isFinite(n)}function LN(n,e,t,i){var r=1-n,o=i.dimensions[n];return jI(e[r])&&jI(t[r])&&e[n]===t[n]&&i.getAxis(o).containData(e[n])}function b5(n,e){if(n.type==="cartesian2d"){var t=e[0].coord,i=e[1].coord;if(t&&i&&(LN(1,t,i,n)||LN(0,t,i,n)))return!0}return Bk(n,e[0])&&Bk(n,e[1])}function YO(n,e,t,i,r){var o,a=i.coordinateSystem,l=n.getItemModel(e),u=Yn(l.get("x"),r.getWidth()),f=Yn(l.get("y"),r.getHeight());if(isNaN(u)||isNaN(f)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var g=a.dimensions,v=n.get(g[0],e),w=n.get(g[1],e);o=a.dataToPoint([v,w])}if(Dd(a,"cartesian2d")){var _=a.getAxis("x"),A=a.getAxis("y");g=a.dimensions,jI(n.get(g[0],e))?o[0]=_.toGlobalCoord(_.getExtent()[t?0:1]):jI(n.get(g[1],e))&&(o[1]=A.toGlobalCoord(A.getExtent()[t?0:1]))}isNaN(u)||(o[0]=u),isNaN(f)||(o[1]=f)}else o=[u,f];n.setItemLayout(e,o)}var w5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=Bf.getMarkerModelFromSeries(o,"markLine");if(a){var l=a.getData(),u=WI(a).from,f=WI(a).to;u.each(function(g){YO(u,g,!0,o,r),YO(f,g,!1,o,r)}),l.each(function(g){l.setItemLayout(g,[u.getItemLayout(g),f.getItemLayout(g)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,new g1);this.group.add(g.group);var v=function(X,Z,Q){var nt;nt=X?ye(X&&X.dimensions,function(Yt){return pe(pe({},Z.getData().getDimensionInfo(Z.getData().mapDimension(Yt))||{}),{name:Yt,ordinalMeta:null})}):[{name:"value",type:"float"}];var it=new Va(nt,Q),mt=new Va(nt,Q),bt=new Va([],Q),St=ye(Q.get("data"),un(x5,Z,X,Q));X&&(St=$e(St,un(b5,X)));var Ot=IN(!!X,nt);return it.initData(ye(St,function(Yt){return Yt[0]}),null,Ot),mt.initData(ye(St,function(Yt){return Yt[1]}),null,Ot),bt.initData(ye(St,function(Yt){return Yt[2]})),bt.hasItemOption=!0,{from:it,to:mt,line:bt}}(a,t,i),w=v.from,_=v.to,A=v.line;WI(i).from=w,WI(i).to=_,i.setData(A);var T=i.get("symbol"),L=i.get("symbolSize"),R=i.get("symbolRotate"),z=i.get("symbolOffset");function j(X,Z,Q){var nt=X.getItemModel(Z);YO(X,Z,Q,t,o);var it=nt.getModel("itemStyle").getItemStyle();it.fill==null&&(it.fill=qg(u,"color")),X.setItemVisual(Z,{symbolKeepAspect:nt.get("symbolKeepAspect"),symbolOffset:Rt(nt.get("symbolOffset",!0),z[Q?0:1]),symbolRotate:Rt(nt.get("symbolRotate",!0),R[Q?0:1]),symbolSize:Rt(nt.get("symbolSize"),L[Q?0:1]),symbol:Rt(nt.get("symbol",!0),T[Q?0:1]),style:it})}he(T)||(T=[T,T]),he(L)||(L=[L,L]),he(R)||(R=[R,R]),he(z)||(z=[z,z]),v.from.each(function(X){j(w,X,!0),j(_,X,!1)}),A.each(function(X){var Z=A.getItemModel(X).getModel("lineStyle").getLineStyle();A.setItemLayout(X,[w.getItemLayout(X),_.getItemLayout(X)]),Z.stroke==null&&(Z.stroke=w.getItemVisual(X,"style").fill),A.setItemVisual(X,{fromSymbolKeepAspect:w.getItemVisual(X,"symbolKeepAspect"),fromSymbolOffset:w.getItemVisual(X,"symbolOffset"),fromSymbolRotate:w.getItemVisual(X,"symbolRotate"),fromSymbolSize:w.getItemVisual(X,"symbolSize"),fromSymbol:w.getItemVisual(X,"symbol"),toSymbolKeepAspect:_.getItemVisual(X,"symbolKeepAspect"),toSymbolOffset:_.getItemVisual(X,"symbolOffset"),toSymbolRotate:_.getItemVisual(X,"symbolRotate"),toSymbolSize:_.getItemVisual(X,"symbolSize"),toSymbol:_.getItemVisual(X,"symbol"),style:Z})}),g.updateData(A),v.line.eachItemGraphicEl(function(X){Ui(X).dataModel=i,X.traverse(function(Z){Ui(Z).dataModel=i})}),this.markKeep(g),g.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e}(jO),_5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(Bf),YI=hr(),S5=function(n,e,t,i){var r=i[0],o=i[1];if(r&&o){var a=Rk(n,r),l=Rk(n,o),u=a.coord,f=l.coord;u[0]=Ri(u[0],-1/0),u[1]=Ri(u[1],-1/0),f[0]=Ri(f[0],1/0),f[1]=Ri(f[1],1/0);var g=Le([{},a,l]);return g.coord=[a.coord,l.coord],g.x0=a.x,g.y0=a.y,g.x1=l.x,g.y1=l.y,g}};function GI(n){return!isNaN(n)&&!isFinite(n)}function ON(n,e,t,i){var r=1-n;return GI(e[r])&&GI(t[r])}function C5(n,e){var t=e.coord[0],i=e.coord[1],r={coord:t,x:e.x0,y:e.y0},o={coord:i,x:e.x1,y:e.y1};return Dd(n,"cartesian2d")?!(!t||!i||!ON(1,t,i)&&!ON(0,t,i))||function(a,l,u){return!(a&&a.containZone&&l.coord&&u.coord&&!FO(l)&&!FO(u))||a.containZone(l.coord,u.coord)}(n,r,o):Bk(n,r)||Bk(n,o)}function EN(n,e,t,i,r){var o,a=i.coordinateSystem,l=n.getItemModel(e),u=Yn(l.get(t[0]),r.getWidth()),f=Yn(l.get(t[1]),r.getHeight());if(isNaN(u)||isNaN(f)){if(i.getMarkerPosition){var g=n.getValues(["x0","y0"],e),v=n.getValues(["x1","y1"],e),w=a.clampData(g),_=a.clampData(v),A=[];t[0]==="x0"?A[0]=w[0]>_[0]?v[0]:g[0]:A[0]=w[0]>_[0]?g[0]:v[0],t[1]==="y0"?A[1]=w[1]>_[1]?v[1]:g[1]:A[1]=w[1]>_[1]?g[1]:v[1],o=i.getMarkerPosition(A,t,!0)}else{var T=[z=n.get(t[0],e),j=n.get(t[1],e)];a.clampData&&a.clampData(T,T),o=a.dataToPoint(T,!0)}if(Dd(a,"cartesian2d")){var L=a.getAxis("x"),R=a.getAxis("y"),z=n.get(t[0],e),j=n.get(t[1],e);GI(z)?o[0]=L.toGlobalCoord(L.getExtent()[t[0]==="x0"?0:1]):GI(j)&&(o[1]=R.toGlobalCoord(R.getExtent()[t[1]==="y0"?0:1]))}isNaN(u)||(o[0]=u),isNaN(f)||(o[1]=f)}else o=[u,f];return o}var PN=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],k5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var a=Bf.getMarkerModelFromSeries(o,"markArea");if(a){var l=a.getData();l.each(function(u){var f=ye(PN,function(g){return EN(l,u,g,o,r)});l.setItemLayout(u,f),l.getItemGraphicEl(u).setShape("points",f)})}},this)},e.prototype.renderSeries=function(t,i,r,o){var a=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,g=f.get(l)||f.set(l,{group:new Ei});this.group.add(g.group),this.markKeep(g);var v=function(w,_,A){var T,L,R=["x0","y0","x1","y1"];if(w){var z=ye(w&&w.dimensions,function(Z){var Q=_.getData();return pe(pe({},Q.getDimensionInfo(Q.mapDimension(Z))||{}),{name:Z,ordinalMeta:null})});L=ye(R,function(Z,Q){return{name:Z,type:z[Q%2].type}}),T=new Va(L,A)}else T=new Va(L=[{name:"value",type:"float"}],A);var j=ye(A.get("data"),un(S5,_,w,A));w&&(j=$e(j,un(C5,w)));var X=w?function(Z,Q,nt,it){return cd(Z.coord[Math.floor(it/2)][it%2],L[it])}:function(Z,Q,nt,it){return cd(Z.value,L[it])};return T.initData(j,null,X),T.hasItemOption=!0,T}(a,t,i);i.setData(v),v.each(function(w){var _=ye(PN,function(nt){return EN(v,w,nt,t,o)}),A=a.getAxis("x").scale,T=a.getAxis("y").scale,L=A.getExtent(),R=T.getExtent(),z=[A.parse(v.get("x0",w)),A.parse(v.get("x1",w))],j=[T.parse(v.get("y0",w)),T.parse(v.get("y1",w))];Qa(z),Qa(j);var X=L[0]>z[1]||L[1]<z[0]||R[0]>j[1]||R[1]<j[0];v.setItemLayout(w,{points:_,allClipped:X});var Z=v.getItemModel(w).getModel("itemStyle").getItemStyle(),Q=qg(u,"color");Z.fill||(Z.fill=Q,kn(Z.fill)&&(Z.fill=xs(Z.fill,.4))),Z.stroke||(Z.stroke=Q),v.setItemVisual(w,"style",Z)}),v.diff(YI(g).data).add(function(w){var _=v.getItemLayout(w);if(!_.allClipped){var A=new as({shape:{points:_.points}});v.setItemGraphicEl(w,A),g.group.add(A)}}).update(function(w,_){var A=YI(g).data.getItemGraphicEl(_),T=v.getItemLayout(w);T.allClipped?A&&g.group.remove(A):(A?Mr(A,{shape:{points:T.points}},i,w):A=new as({shape:{points:T.points}}),v.setItemGraphicEl(w,A),g.group.add(A))}).remove(function(w){var _=YI(g).data.getItemGraphicEl(w);g.group.remove(_)}).execute(),v.eachItemGraphicEl(function(w,_){var A=v.getItemModel(_),T=v.getItemVisual(_,"style");w.useStyle(v.getItemVisual(_,"style")),so(w,Xr(A),{labelFetcher:i,labelDataIndex:_,defaultText:v.getName(_)||"",inheritColor:kn(T.fill)?xs(T.fill,1):"#000"}),Wo(w,A),Io(w,null,null,A.get(["emphasis","disabled"])),Ui(w).dataModel=i}),YI(g).data=v,g.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e}(jO),GO=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return wt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,r=this.ecModel;i===!0&&(i=t.selector=["all","inverse"]),he(i)&&U(i,function(o,a){kn(o)&&(o={type:o}),i[a]=ie(o,function(l,u){return u==="all"?{type:"all",title:l.getLocaleModel().get(["legend","selector","all"])}:u==="inverse"?{type:"inverse",title:l.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(r,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var i=!1,r=0;r<t.length;r++){var o=t[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],r=[];t.eachRawSeries(function(u){var f,g=u.name;if(r.push(g),u.legendVisualProvider){var v=u.legendVisualProvider.getAllNames();t.isSeriesFiltered(u)||(r=r.concat(v)),v.length?i=i.concat(v):f=!0}else f=!0;f&&wa(u)&&i.push(u.name)}),this._availableNames=r;var o=this.get("data")||i,a=yn(),l=ye(o,function(u){return(kn(u)||fi(u))&&(u={name:u}),a.get(u.name)?null:(a.set(u.name,!0),new Nr(u,this,this.ecModel))},this);this._data=$e(l,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected;this.get("selectedMode")==="single"&&U(this._data,function(r){i[r.get("name")]=!1}),i[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,i=this.option.selected;U(t,function(r){i[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,i=this.option.selected;U(t,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&rn(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(pr),M1=un,XO=U,XI=Ei,NN=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return wt(e,n),e.prototype.init=function(){this.group.add(this._contentGroup=new XI),this.group.add(this._selectorGroup=new XI),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var a=t.get("align"),l=t.get("orient");a&&a!=="auto"||(a=t.get("left")==="right"&&l==="vertical"?"right":"left");var u=t.get("selector",!0),f=t.get("selectorPosition",!0);!u||f&&f!=="auto"||(f=l==="horizontal"?"end":"start"),this.renderInner(a,t,i,r,u,l,f);var g=t.getBoxLayoutParams(),v={width:r.getWidth(),height:r.getHeight()},w=t.get("padding"),_=Ao(g,v,w),A=this.layoutInner(t,a,_,o,u,f),T=Ao(De({width:A.width,height:A.height},g),v,w);this.group.x=T.x-A.x,this.group.y=T.y-A.y,this.group.markRedraw(),this.group.add(this._backgroundEl=YP(A,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,r,o,a,l,u){var f=this.getContentGroup(),g=yn(),v=i.get("selectedMode"),w=[];r.eachRawSeries(function(_){!_.get("legendHoverLink")&&w.push(_.id)}),XO(i.getData(),function(_,A){var T=_.get("name");if(!this.newlineDisabled&&(T===""||T===`
`)){var L=new XI;return L.newline=!0,void f.add(L)}var R=r.getSeriesByName(T)[0];if(!g.get(T))if(R){var z=R.getData(),j=z.getVisual("legendLineStyle")||{},X=z.getVisual("legendIcon"),Z=z.getVisual("style");this._createItem(R,T,A,_,i,t,j,Z,X,v,o).on("click",M1(RN,T,null,o,w)).on("mouseover",M1(qO,R.name,null,o,w)).on("mouseout",M1(UO,R.name,null,o,w)),g.set(T,!0)}else r.eachRawSeries(function(Q){if(!g.get(T)&&Q.legendVisualProvider){var nt=Q.legendVisualProvider;if(!nt.containName(T))return;var it=nt.indexOfName(T),mt=nt.getItemVisual(it,"style"),bt=nt.getItemVisual(it,"legendIcon"),St=To(mt.fill);St&&St[3]===0&&(St[3]=.2,mt=pe(pe({},mt),{fill:_r(St,"rgba")})),this._createItem(Q,T,A,_,i,t,{},mt,bt,v,o).on("click",M1(RN,null,T,o,w)).on("mouseover",M1(qO,null,T,o,w)).on("mouseout",M1(UO,null,T,o,w)),g.set(T,!0)}},this)},this),a&&this._createSelector(a,i,o,l,u)},e.prototype._createSelector=function(t,i,r,o,a){var l=this.getSelectorGroup();XO(t,function(u){var f=u.type,g=new wr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:f==="all"?"legendAllSelect":"legendInverseSelect"})}});l.add(g),so(g,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:u.title}),Uu(g)})},e.prototype._createItem=function(t,i,r,o,a,l,u,f,g,v,w){var _=t.visualDrawType,A=a.get("itemWidth"),T=a.get("itemHeight"),L=a.isSelected(i),R=o.get("symbolRotate"),z=o.get("symbolKeepAspect"),j=o.get("icon"),X=function(le,ge,be,Ie,He,qe,Ke){function bn(ni,wi){ni.lineWidth==="auto"&&(ni.lineWidth=wi.lineWidth>0?2:0),XO(ni,function(Zi,nr){ni[nr]==="inherit"&&(ni[nr]=wi[nr])})}var Rn=ge.getModel("itemStyle"),Je=Rn.getItemStyle(),Tn=le.lastIndexOf("empty",0)===0?"fill":"stroke",Fn=Rn.getShallow("decal");Je.decal=Fn&&Fn!=="inherit"?Zp(Fn,Ke):Ie.decal,Je.fill==="inherit"&&(Je.fill=Ie[He]),Je.stroke==="inherit"&&(Je.stroke=Ie[Tn]),Je.opacity==="inherit"&&(Je.opacity=(He==="fill"?Ie:be).opacity),bn(Je,Ie);var Xn=ge.getModel("lineStyle"),Vn=Xn.getLineStyle();if(bn(Vn,be),Je.fill==="auto"&&(Je.fill=Ie.fill),Je.stroke==="auto"&&(Je.stroke=Ie.fill),Vn.stroke==="auto"&&(Vn.stroke=Ie.fill),!qe){var qn=ge.get("inactiveBorderWidth"),Hn=Je[Tn];Je.lineWidth=qn==="auto"?Ie.lineWidth>0&&Hn?2:0:Je.lineWidth,Je.fill=ge.get("inactiveColor"),Je.stroke=ge.get("inactiveBorderColor"),Vn.stroke=Xn.get("inactiveColor"),Vn.lineWidth=Xn.get("inactiveWidth")}return{itemStyle:Je,lineStyle:Vn}}(g=j||g||"roundRect",o,u,f,_,L,w),Z=new XI,Q=o.getModel("textStyle");if(!In(t.getLegendIcon)||j&&j!=="inherit"){var nt=j==="inherit"&&t.getData().getVisual("symbol")?R==="inherit"?t.getData().getVisual("symbolRotate"):R:0;Z.add(function(le){var ge=le.icon||"roundRect",be=Do(ge,0,0,le.itemWidth,le.itemHeight,le.itemStyle.fill,le.symbolKeepAspect);return be.setStyle(le.itemStyle),be.rotation=(le.iconRotate||0)*Math.PI/180,be.setOrigin([le.itemWidth/2,le.itemHeight/2]),ge.indexOf("empty")>-1&&(be.style.stroke=be.style.fill,be.style.fill="#fff",be.style.lineWidth=2),be}({itemWidth:A,itemHeight:T,icon:g,iconRotate:nt,itemStyle:X.itemStyle,lineStyle:X.lineStyle,symbolKeepAspect:z}))}else Z.add(t.getLegendIcon({itemWidth:A,itemHeight:T,icon:g,iconRotate:R,itemStyle:X.itemStyle,lineStyle:X.lineStyle,symbolKeepAspect:z}));var it=l==="left"?A+5:-5,mt=l,bt=a.get("formatter"),St=i;kn(bt)&&bt?St=bt.replace("{name}",i??""):In(bt)&&(St=bt(i));var Ot=o.get("inactiveColor");Z.add(new wr({style:Dr(Q,{text:St,x:it,y:T/2,fill:L?Q.getTextColor():Ot,align:mt,verticalAlign:"middle"})}));var Yt=new br({shape:Z.getBoundingRect(),invisible:!0}),ee=o.getModel("tooltip");return ee.get("show")&&Pp({el:Yt,componentModel:a,itemName:i,itemTooltipOption:ee.option}),Z.add(Yt),Z.eachChild(function(le){le.silent=!0}),Yt.silent=!v,this.getContentGroup().add(Z),Uu(Z),Z.__legendDataIndex=r,Z},e.prototype.layoutInner=function(t,i,r,o,a,l){var u=this.getContentGroup(),f=this.getSelectorGroup();ed(t.get("orient"),u,t.get("itemGap"),r.width,r.height);var g=u.getBoundingRect(),v=[-g.x,-g.y];if(f.markRedraw(),u.markRedraw(),a){ed("horizontal",f,t.get("selectorItemGap",!0));var w=f.getBoundingRect(),_=[-w.x,-w.y],A=t.get("selectorButtonGap",!0),T=t.getOrient().index,L=T===0?"width":"height",R=T===0?"height":"width",z=T===0?"y":"x";l==="end"?_[T]+=g[L]+A:v[T]+=w[L]+A,_[1-T]+=g[R]/2-w[R]/2,f.x=_[0],f.y=_[1],u.x=v[0],u.y=v[1];var j={x:0,y:0};return j[L]=g[L]+A+w[L],j[R]=Math.max(g[R],w[R]),j[z]=Math.min(0,w[z]+_[1-T]),j}return u.x=v[0],u.y=v[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(io);function RN(n,e,t,i){UO(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:n??e}),qO(n,e,t,i)}function BN(n){for(var e,t=n.getZr().storage.getDisplayList(),i=0,r=t.length;i<r&&!(e=t[i].states.emphasis);)i++;return e&&e.hoverLayer}function qO(n,e,t,i){BN(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function UO(n,e,t,i){BN(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}function A5(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function zk(n,e,t){var i,r={},o=n==="toggleSelected";return t.eachComponent("legend",function(a){o&&i!=null?a[i?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?a[n]():(a[n](e.name),i=a.isSelected(e.name)),U(a.getData(),function(l){var u=l.get("name");if(u!==`
`&&u!==""){var f=a.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&f:r[u]=f}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function zN(n){n.registerComponentModel(GO),n.registerComponentView(NN),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,A5),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(e){e.registerAction("legendToggleSelect","legendselectchanged",un(zk,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",un(zk,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",un(zk,"inverseSelect")),e.registerAction("legendSelect","legendselected",un(zk,"select")),e.registerAction("legendUnSelect","legendunselected",un(zk,"unSelect"))}(n)}var M5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,r){var o=Wp(t);n.prototype.init.call(this,t,i,r),FN(this,t,o)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),FN(this,this.option,t)},e.type="legend.scroll",e.defaultOption=bc(GO.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(GO);function FN(n,e,t){var i=[1,1];i[n.getOrient().index]=0,Zu(e,t,{type:"box",ignoreSize:!!i})}var VN=Ei,$O=["width","height"],ZO=["x","y"],T5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return wt(e,n),e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new VN),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new VN)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,r,o,a,l,u){var f=this;n.prototype.renderInner.call(this,t,i,r,o,a,l,u);var g=this._controllerGroup,v=i.get("pageIconSize",!0),w=he(v)?v:[v,v];A("pagePrev",0);var _=i.getModel("pageTextStyle");function A(T,L){var R=T+"DataIndex",z=Op(i.get("pageIcons",!0)[i.getOrient().name][L],{onclick:Be(f._pageGo,f,R,i,o)},{x:-w[0]/2,y:-w[1]/2,width:w[0],height:w[1]});z.name=T,g.add(z)}g.add(new wr({name:"pageText",style:{text:"xx/xx",fill:_.getTextColor(),font:_.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),A("pageNext",1)},e.prototype.layoutInner=function(t,i,r,o,a,l){var u=this.getSelectorGroup(),f=t.getOrient().index,g=$O[f],v=ZO[f],w=$O[1-f],_=ZO[1-f];a&&ed("horizontal",u,t.get("selectorItemGap",!0));var A=t.get("selectorButtonGap",!0),T=u.getBoundingRect(),L=[-T.x,-T.y],R=Gt(r);a&&(R[g]=r[g]-T[g]-A);var z=this._layoutContentAndController(t,o,R,f,g,w,_,v);if(a){if(l==="end")L[f]+=z[g]+A;else{var j=T[g]+A;L[f]-=j,z[v]-=j}z[g]+=T[g]+A,L[1-f]+=z[_]+z[w]/2-T[w]/2,z[w]=Math.max(z[w],T[w]),z[_]=Math.min(z[_],T[_]+L[1-f]),u.x=L[0],u.y=L[1],u.markRedraw()}return z},e.prototype._layoutContentAndController=function(t,i,r,o,a,l,u,f){var g=this.getContentGroup(),v=this._containerGroup,w=this._controllerGroup;ed(t.get("orient"),g,t.get("itemGap"),o?r.width:null,o?null:r.height),ed("horizontal",w,t.get("pageButtonItemGap",!0));var _=g.getBoundingRect(),A=w.getBoundingRect(),T=this._showController=_[a]>r[a],L=[-_.x,-_.y];i||(L[o]=g[f]);var R=[0,0],z=[-A.x,-A.y],j=Rt(t.get("pageButtonGap",!0),t.get("itemGap",!0));T&&(t.get("pageButtonPosition",!0)==="end"?z[o]+=r[a]-A[a]:R[o]+=A[a]+j),z[1-o]+=_[l]/2-A[l]/2,g.setPosition(L),v.setPosition(R),w.setPosition(z);var X={x:0,y:0};if(X[a]=T?r[a]:_[a],X[l]=Math.max(_[l],A[l]),X[u]=Math.min(0,A[u]+z[1-o]),v.__rectSize=r[a],T){var Z={x:0,y:0};Z[a]=Math.max(r[a]-A[a]-j,0),Z[l]=X[l],v.setClipPath(new br({shape:Z})),v.__rectSize=Z[a]}else w.eachChild(function(nt){nt.attr({invisible:!0,silent:!0})});var Q=this._getPageInfo(t);return Q.pageIndex!=null&&Mr(g,{x:Q.contentPosition[0],y:Q.contentPosition[1]},T?t:null),this._updatePageInfoView(t,Q),X},e.prototype._pageGo=function(t,i,r){var o=this._getPageInfo(i)[t];o!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var r=this._controllerGroup;U(["pagePrev","pageNext"],function(g){var v=i[g+"DataIndex"]!=null,w=r.childOfName(g);w&&(w.setStyle("fill",v?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),w.cursor=v?"pointer":"default")});var o=r.childOfName("pageText"),a=t.get("pageFormatter"),l=i.pageIndex,u=l!=null?l+1:0,f=i.pageCount;o&&a&&o.setStyle("text",kn(a)?a.replace("{current}",u==null?"":u+"").replace("{total}",f==null?"":f+""):a({current:u,total:f}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=t.getOrient().index,l=$O[a],u=ZO[a],f=this._findTargetItemIndex(i),g=r.children(),v=g[f],w=g.length,_=w?1:0,A={contentPosition:[r.x,r.y],pageCount:_,pageIndex:_-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return A;var T=X(v);A.contentPosition[a]=-T.s;for(var L=f+1,R=T,z=T,j=null;L<=w;++L)(!(j=X(g[L]))&&z.e>R.s+o||j&&!Z(j,R.s))&&(R=z.i>R.i?z:j)&&(A.pageNextDataIndex==null&&(A.pageNextDataIndex=R.i),++A.pageCount),z=j;for(L=f-1,R=T,z=T,j=null;L>=-1;--L)(j=X(g[L]))&&Z(z,j.s)||!(R.i<z.i)||(z=R,A.pagePrevDataIndex==null&&(A.pagePrevDataIndex=R.i),++A.pageCount,++A.pageIndex),R=j;return A;function X(Q){if(Q){var nt=Q.getBoundingRect(),it=nt[u]+Q[u];return{s:it,e:it+nt[l],i:Q.__legendDataIndex}}}function Z(Q,nt){return Q.e>=nt&&Q.s<=nt+o}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(o,a){var l=o.__legendDataIndex;r==null&&l!=null&&(r=a),l===t&&(i=a)}),i??r):0;var i,r},e.type="legend.scroll",e}(NN);function I5(n){cr(zN),n.registerComponentModel(M5),n.registerComponentView(T5),function(e){e.registerAction("legendScroll","legendscroll",function(t,i){var r=t.scrollDataIndex;r!=null&&i.eachComponent({mainType:"legend",subType:"scroll",query:t},function(o){o.setScrollDataIndex(r)})})}(n)}var D5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="dataZoom.inside",e.defaultOption=bc(Ok.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Ok),KO=hr();function L5(n,e,t){KO(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}function HN(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function O5(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function E5(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}function P5(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=KO(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=yn());r.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){U(zP(o).infoList,function(a){var l=a.model.uid,u=r.get(l)||r.set(l,function(f,g){var v={model:g,containsPoint:un(E5,g),dispatchAction:un(O5,f),dataZoomInfoMap:null,controller:null},w=v.controller=new Ny(f.getZr());return U(["pan","zoom","scrollMove"],function(_){w.on(_,function(A){var T=[];v.dataZoomInfoMap.each(function(L){if(A.isAvailableBehavior(L.model.option)){var R=(L.getRange||{})[_],z=R&&R(L.dzReferCoordSysInfo,v.model.mainType,v.controller,A);!L.model.get("disabled",!0)&&z&&T.push({dataZoomId:L.model.id,start:z[0],end:z[1]})}}),T.length&&v.dispatchAction(T)})}),v}(t,a.model));(u.dataZoomInfoMap||(u.dataZoomInfoMap=yn())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var a,l=o.controller,u=o.dataZoomInfoMap;if(u){var f=u.keys()[0];f!=null&&(a=u.get(f))}if(a){var g=function(v){var w,_="type_",A={type_true:2,type_move:1,type_false:0,type_undefined:-1},T=!0;return v.each(function(L){var R=L.model,z=!R.get("disabled",!0)&&(!R.get("zoomLock",!0)||"move");A[_+z]>A[_+w]&&(w=z),T=T&&R.get("preventDefaultMouseMove",!0)}),{controlType:w,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!T}}}(u);l.enable(g.controlType,g.opt),l.setPointerChecker(o.containsPoint),hl(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")}else HN(r,o)})})}var N5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return wt(e,n),e.prototype.render=function(t,i,r){n.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),L5(r,t,{pan:Be(JO.pan,this),zoom:Be(JO.zoom,this),scrollMove:Be(JO.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){(function(t,i){for(var r=KO(t).coordSysRecordMap,o=r.keys(),a=0;a<o.length;a++){var l=o[a],u=r.get(l),f=u.dataZoomInfoMap;if(f){var g=i.uid;f.get(g)&&(f.removeKey(g),f.keys().length||HN(r,u))}}})(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(SO),JO={zoom:function(n,e,t,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var l=QO[e](null,[i.originX,i.originY],a,t,n),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(o[1]-o[0])+o[0],f=Math.max(1/i.scale,0);o[0]=(o[0]-u)*f+u,o[1]=(o[1]-u)*f+u;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return F(0,o,[0,100],0,g.minSpan,g.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:WN(function(n,e,t,i,r,o){var a=QO[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,t);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:WN(function(n,e,t,i,r,o){return QO[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,t).signal*(n[1]-n[0])*o.scrollDelta})};function WN(n){return function(e,t,i,r){var o=this.range,a=o.slice(),l=e.axisModels[0];if(l)return F(n(a,l,e,t,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var QO={grid:function(n,e,t,i,r){var o=t.axis,a={},l=r.model.coordinateSystem.getRect();return n=n||[0,0],o.dim==="x"?(a.pixel=e[0]-n[0],a.pixelLength=l.width,a.pixelStart=l.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=l.height,a.pixelStart=l.y,a.signal=o.inverse?-1:1),a},polar:function(n,e,t,i,r){var o=t.axis,a={},l=r.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),f=l.getAngleAxis().getExtent();return n=n?l.pointToCoord(n):[0,0],e=l.pointToCoord(e),t.mainType==="radiusAxis"?(a.pixel=e[0]-n[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=f[1]-f[0],a.pixelStart=f[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,e,t,i,r){var o=t.axis,a=r.model.coordinateSystem.getRect(),l={};return n=n||[0,0],o.orient==="horizontal"?(l.pixel=e[0]-n[0],l.pixelLength=a.width,l.pixelStart=a.x,l.signal=o.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=a.height,l.pixelStart=a.y,l.signal=o.inverse?-1:1),l}};function jN(n){CO(n),n.registerComponentModel(D5),n.registerComponentView(N5),P5(n)}var R5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=bc(Ok.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Ok),Fk=br,Vk="horizontal",YN="vertical",B5=["line","bar","candlestick","scatter"],z5={easing:"cubicOut",duration:100,delay:0},F5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return wt(e,n),e.prototype.init=function(t,i){this.api=i,this._onBrush=Be(this._onBrush,this),this._onBrushEnd=Be(this._onBrushEnd,this)},e.prototype.render=function(t,i,r,o){if(n.prototype.render.apply(this,arguments),hl(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")!==!1){if(t.noTarget())return this._clear(),void this.group.removeAll();o&&o.type==="dataZoom"&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Ba(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new Ei;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,r=t.get("brushSelect")?7:0,o=this._findCoordRect(),a={width:i.getWidth(),height:i.getHeight()},l=this._orient===Vk?{right:a.width-o.x-o.width,top:a.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},u=Wp(t.option);U(["right","top","width","height"],function(g){u[g]==="ph"&&(u[g]=l[g])});var f=Ao(u,a);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===YN&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),l=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(r!==Vk||a?r===Vk&&a?{scaleY:u?1:-1,scaleX:-1}:r!==YN||a?{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?1:-1,scaleX:1});var f=t.getBoundingRect([l]);t.x=i.x-f.x,t.y=i.y-f.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=t.get("brushSelect");r.add(new Fk({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var a=new Fk({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:Be(this._onClickPanel,this)}),l=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),r.add(a)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,r=this._shadowSize||[],o=t.series,a=o.getRawData(),l=o.getShadowDim&&o.getShadowDim(),u=l&&a.getDimensionInfo(l)?o.getShadowDim():t.otherDim;if(u!=null){var f=this._shadowPolygonPts,g=this._shadowPolylinePts;if(a!==this._shadowData||u!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var v=a.getDataExtent(u),w=.3*(v[1]-v[0]);v=[v[0]-w,v[1]+w];var _,A=[0,i[1]],T=[0,i[0]],L=[[i[0],0],[0,0]],R=[],z=T[1]/(a.count()-1),j=0,X=Math.round(a.count()/i[0]);a.each([u],function(mt,bt){if(X>0&&bt%X)j+=z;else{var St=mt==null||isNaN(mt)||mt==="",Ot=St?0:Br(mt,v,A,!0);St&&!_&&bt?(L.push([L[L.length-1][0],0]),R.push([R[R.length-1][0],0])):!St&&_&&(L.push([j,0]),R.push([j,0])),L.push([j,Ot]),R.push([j,Ot]),j+=z,_=St}}),f=this._shadowPolygonPts=L,g=this._shadowPolylinePts=R}this._shadowData=a,this._shadowDim=u,this._shadowSize=[i[0],i[1]];for(var Z=this.dataZoomModel,Q=0;Q<3;Q++){var nt=it(Q===1);this._displayables.sliderGroup.add(nt),this._displayables.dataShadowSegs.push(nt)}}}function it(mt){var bt=Z.getModel(mt?"selectedDataBackground":"dataBackground"),St=new Ei,Ot=new as({shape:{points:f},segmentIgnoreThreshold:1,style:bt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Yt=new ss({shape:{points:g},segmentIgnoreThreshold:1,style:bt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return St.add(Ot),St.add(Yt),St}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(i!==!1){var r,o=this.ecModel;return t.eachTargetAxis(function(a,l){U(t.getAxisProxy(a,l).getTargetSeriesModels(),function(u){if(!(r||i!==!0&&rn(B5,u.get("type"))<0)){var f,g=o.getComponent(Rm(a),l).axis,v={x:"y",y:"x",radius:"angle",angle:"radius"}[a],w=u.coordinateSystem;v!=null&&w.getOtherAxis&&(f=w.getOtherAxis(g).inverse),v=u.getData().mapDimension(v),r={thisAxis:g,series:u,thisDim:a,otherDim:v,otherAxisInverse:f}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,l=this._size,u=this.dataZoomModel,f=this.api,g=u.get("borderRadius")||0,v=u.get("brushSelect"),w=i.filler=new Fk({silent:v,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});a.add(w),a.add(new Fk({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:g},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),U([0,1],function(j){var X=u.get("handleIcon");!Bv[X]&&X.indexOf("path://")<0&&X.indexOf("image://")<0&&(X="path://"+X);var Z=Do(X,-1,0,2,2,null,!0);Z.attr({cursor:GN(this._orient),draggable:!0,drift:Be(this._onDragMove,this,j),ondragend:Be(this._onDragEnd,this),onmouseover:Be(this._showDataInfo,this,!0),onmouseout:Be(this._showDataInfo,this,!1),z2:5});var Q=Z.getBoundingRect(),nt=u.get("handleSize");this._handleHeight=Yn(nt,this._size[1]),this._handleWidth=Q.width/Q.height*this._handleHeight,Z.setStyle(u.getModel("handleStyle").getItemStyle()),Z.style.strokeNoScale=!0,Z.rectHover=!0,Z.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),Uu(Z);var it=u.get("handleColor");it!=null&&(Z.style.fill=it),a.add(r[j]=Z);var mt=u.getModel("textStyle");t.add(o[j]=new wr({silent:!0,invisible:!0,style:Dr(mt,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:mt.getTextColor(),font:mt.getFont()}),z2:10}))},this);var _=w;if(v){var A=Yn(u.get("moveHandleSize"),l[1]),T=i.moveHandle=new br({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:A}}),L=.8*A,R=i.moveHandleIcon=Do(u.get("moveHandleIcon"),-L/2,-L/2,L,L,"#fff",!0);R.silent=!0,R.y=l[1]+A/2-.5,T.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var z=Math.min(l[1]/2,Math.max(A,10));(_=i.moveZone=new br({invisible:!0,shape:{y:l[1]-z,height:A+z}})).on("mouseover",function(){f.enterEmphasis(T)}).on("mouseout",function(){f.leaveEmphasis(T)}),a.add(T),a.add(R),a.add(_)}_.attr({draggable:!0,cursor:GN(this._orient),drift:Be(this._onDragMove,this,"all"),ondragstart:Be(this._showDataInfo,this,!0),ondragend:Be(this._onDragEnd,this),onmouseover:Be(this._showDataInfo,this,!0),onmouseout:Be(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[Br(t[0],[0,100],i,!0),Br(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),l=r.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];F(i,o,a,r.get("zoomLock")?"all":t,l.minSpan!=null?Br(l.minSpan,u,a,!0):null,l.maxSpan!=null?Br(l.maxSpan,u,a,!0):null);var f=this._range,g=this._range=Qa([Br(o[0],a,u,!0),Br(o[1],a,u,!0)]);return!f||f[0]!==g[0]||f[1]!==g[1]},e.prototype._updateView=function(t){var i=this._displayables,r=this._handleEnds,o=Qa(r.slice()),a=this._size;U([0,1],function(_){var A=i.handles[_],T=this._handleHeight;A.attr({scaleX:T/2,scaleY:T/2,x:r[_]+(_?-1:1),y:a[1]/2-T/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var l={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(l),i.moveZone.setShape(l),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",l.x+l.width/2));for(var u=i.dataShadowSegs,f=[0,o[0],o[1],a[0]],g=0;g<u.length;g++){var v=u[g],w=v.getClipPath();w||(w=new br,v.setClipPath(w)),w.setShape({x:f[g],y:0,width:f[g+1]-f[g],height:a[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,l=["",""];if(i.get("showDetail")){var u=i.findRepresentativeAxisProxy();if(u){var f=u.getAxisModel().axis,g=this._range,v=t?u.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:u.getDataValueWindow();l=[this._formatLabel(v[0],f),this._formatLabel(v[1],f)]}}var w=Qa(this._handleEnds.slice());function _(A){var T=Ea(r.handles[A].parent,this.group),L=xg(A===0?"right":"left",T),R=this._handleWidth/2+5,z=Pl([w[A]+(A===0?-R:R),this._size[1]/2],T);o[A].setStyle({x:z[0],y:z[1],verticalAlign:a===Vk?"middle":L,align:a===Vk?L:"center",text:l[A]})}_.call(this,0),_.call(this,1)},e.prototype._formatLabel=function(t,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");a!=null&&a!=="auto"||(a=i.getPixelPrecision());var l=t==null||isNaN(t)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(a,20));return In(o)?o(t,l):kn(o)?o.replace("{value}",l):l},e.prototype._showDataInfo=function(t){t=this._dragging||t;var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!t),r[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},e.prototype._onDragMove=function(t,i,r,o){this._dragging=!0,jt(o.event);var a=Pl([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(t,a[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,a=(o[0]+o[1])/2,l=this._updateInterval("all",r[0]-a);this._updateView(),l&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var i=t.offsetX,r=t.offsetY;this._brushStart=new ti(i,r),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=Qa([Br(r.x,o,a,!0),Br(r.x+r.width,o,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(jt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var r=this._displayables,o=this.dataZoomModel,a=r.brushRect;a||(a=r.brushRect=new Fk({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var l=this._brushStart,u=this._displayables.sliderGroup,f=u.transformCoordToLocal(t,i),g=u.transformCoordToLocal(l.x,l.y),v=this._size;f[0]=Math.max(Math.min(v[0],f[0]),0),a.setShape({x:g[0],y:0,width:f[0]-g[0],height:v[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?z5:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=zP(this.dataZoomModel).infoList;if(!t&&i.length){var r=i[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var o=this.api.getWidth(),a=this.api.getHeight();t={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return t},e.type="dataZoom.slider",e}(SO);function GN(n){return n==="vertical"?"ns-resize":"ew-resize"}function XN(n){n.registerComponentModel(R5),n.registerComponentView(F5),CO(n)}var qN=function(n,e,t){var i=Gt((V5[n]||{})[e]);return t&&he(i)?i[i.length-1]:i},V5={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},UN=Yo.mapVisual,H5=Yo.eachVisual,W5=he,$N=U,j5=Qa,Y5=Br,qI=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return wt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&fN(r,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=Be(t,this),this.controllerVisuals=NO(this.option.controller,i,t),this.targetVisuals=NO(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return t==null||t==="all"?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=Fr(t),i},e.prototype.eachTargetSeries=function(t,i){U(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&t.call(i,o)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(r){r===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,r){var o,a=this.option,l=a.precision,u=this.dataBound,f=a.formatter;r=r||["<",">"],he(t)&&(t=t.slice(),o=!0);var g=i?t:o?[v(t[0]),v(t[1])]:v(t);return kn(f)?f.replace("{value}",o?g[0]:g).replace("{value2}",o?g[1]:g):In(f)?o?f(t[0],t[1]):f(t):o?t[0]===u[0]?r[0]+" "+g[1]:t[1]===u[1]?r[1]+" "+g[0]:g[0]+" - "+g[1]:g;function v(w){return w===u[0]?"min":w===u[1]?"max":(+w).toFixed(Math.min(l,20))}},e.prototype.resetExtent=function(){var t=this.option,i=j5([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(i!=null)return t.getDimensionIndex(i);for(var r=t.dimensions,o=r.length-1;o>=0;o--){var a=r[o],l=t.getDimensionInfo(a);if(!l.isCalculationCoord)return l.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),a=i.controller||(i.controller={});ie(o,r),ie(a,r);var l=this.isCategory();function u(f){W5(i.color)&&!f.inRange&&(f.inRange={color:i.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}u.call(this,o),u.call(this,a),function(f,g,v){var w=f[g],_=f[v];w&&!_&&(_=f[v]={},$N(w,function(A,T){if(Yo.isValidType(T)){var L=qN(T,"inactive",l);L!=null&&(_[T]=L,T!=="color"||_.hasOwnProperty("opacity")||_.hasOwnProperty("colorAlpha")||(_.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(f){var g=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,v=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,w=this.get("inactiveColor"),_=this.getItemSymbol()||"roundRect";$N(this.stateList,function(A){var T=this.itemSize,L=f[A];L||(L=f[A]={color:l?w:[w]}),L.symbol==null&&(L.symbol=g&&Gt(g)||(l?_:[_])),L.symbolSize==null&&(L.symbolSize=v&&Gt(v)||(l?T[0]:[T[0],T[0]])),L.symbol=UN(L.symbol,function(j){return j==="none"?_:j});var R=L.symbolSize;if(R!=null){var z=-1/0;H5(R,function(j){j>z&&(z=j)}),L.symbolSize=UN(R,function(j){return Y5(j,[0,z],[0,T[0]],!0)})}},this)}.call(this,a)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(pr),ZN=[20,140],G5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=ZN[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=ZN[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):he(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),U(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=Qa((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=t)&&(i[1]>=r[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(l,u){t[0]<=l&&l<=t[1]&&o.push(u)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},e.prototype.getVisualMeta=function(t){var i=KN(this,"outOfRange",this.getExtent()),r=KN(this,"inRange",this.option.range.slice()),o=[];function a(_,A){o.push({value:_,color:t(_,A)})}for(var l=0,u=0,f=r.length,g=i.length;u<g&&(!r.length||i[u]<=r[0]);u++)i[u]<r[l]&&a(i[u],"outOfRange");for(var v=1;l<f;l++,v=0)v&&o.length&&a(r[l],"outOfRange"),a(r[l],"inRange");for(v=1;u<g;u++)(!r.length||r[r.length-1]<i[u])&&(v&&(o.length&&a(o[o.length-1].value,"outOfRange"),v=0),a(i[u],"outOfRange"));var w=o.length;return{stops:o,outerColors:[w?o[0].color:"transparent",w?o[w-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=bc(qI.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(qI);function KN(n,e,t){if(t[0]===t[1])return t.slice();for(var i=(t[1]-t[0])/200,r=t[0],o=[],a=0;a<=200&&r<t[1];a++)o.push(r),r+=i;return o.push(t[1]),o}var JN=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return wt(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,r,o){this.visualMapModel=t,t.get("show")!==!1?this.doRender(t,i,r,o):this.group.removeAll()},e.prototype.renderBackground=function(t){var i=this.visualMapModel,r=Jh(i.get("padding")||0),o=t.getBoundingRect();t.add(new br({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,r){var o=(r=r||{}).forceState,a=this.visualMapModel,l={};if(i==="color"){var u=a.get("contentColor");l.color=u}function f(w){return l[w]}function g(w,_){l[w]=_}var v=a.controllerVisuals[o||a.getValueState(t)];return U(Yo.prepareVisualTypes(v),function(w){var _=v[w];r.convertOpacityToAlpha&&w==="opacity"&&(w="colorAlpha",_=v.__alphaForOpacity),Yo.dependsOn(w,i)&&_&&_.applyVisual(t,f,g)}),l[i]},e.prototype.positionGroup=function(t){var i=this.visualMapModel,r=this.api;wv(t,i.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},e.prototype.doRender=function(t,i,r,o){},e.type="visualMap",e}(io),QN=[["left","right","width"],["top","bottom","height"]];function tR(n,e,t){var i=n.option,r=i.align;if(r!=null&&r!=="auto")return r;for(var o={width:e.getWidth(),height:e.getHeight()},a=i.orient==="horizontal"?1:0,l=QN[a],u=[0,null,10],f={},g=0;g<3;g++)f[QN[1-a][g]]=u[g],f[l[g]]=g===2?t[0]:i[l[g]];var v=[["x","width",3],["y","height",0]][a],w=Ao(f,o,i.padding);return l[(w.margin[v[2]]||0)+w[v[0]]+.5*w[v[1]]<.5*o[v[1]]?0:1]}function UI(n,e){return U(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var Wd=Br,X5=U,eR=Math.min,tE=Math.max,q5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return wt(e,n),e.prototype.doRender=function(t,i,r,o){this._api=r,o&&o.type==="selectDataRange"&&o.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var r=t.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,r){if(i){var o=i[1-r];o=o!=null?o+"":"";var a=this.visualMapModel,l=a.get("textGap"),u=a.itemSize,f=this._shapes.mainGroup,g=this._applyTransform([u[0]/2,r===0?-l:u[1]+l],f),v=this._applyTransform(r===0?"bottom":"top",f),w=this._orient,_=this.visualMapModel.textStyleModel;this.group.add(new wr({style:Dr(_,{x:g[0],y:g[1],verticalAlign:w==="horizontal"?"middle":v,align:w==="horizontal"?v:"center",text:o})}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,a=this._orient,l=this._useHandle,u=tR(i,this.api,o),f=r.mainGroup=this._createBarGroup(u),g=new Ei;f.add(g),g.add(r.outOfRange=nR()),g.add(r.inRange=nR(null,l?rR(this._orient):null,Be(this._dragHandle,this,"all",!1),Be(this._dragHandle,this,"all",!0))),g.setClipPath(new br({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var v=i.textStyleModel.getTextRect("国"),w=tE(v.width,v.height);l&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,f,0,o,w,a),this._createHandle(i,f,1,o,w,a)),this._createIndicator(i,f,o,w,a),t.add(f)},e.prototype._createHandle=function(t,i,r,o,a,l){var u=Be(this._dragHandle,this,r,!1),f=Be(this._dragHandle,this,r,!0),g=Ho(t.get("handleSize"),o[0]),v=Do(t.get("handleIcon"),-g/2,-g/2,g,g,null,!0),w=rR(this._orient);v.attr({cursor:w,draggable:!0,drift:u,ondragend:f,onmousemove:function(R){jt(R.event)}}),v.x=o[0]/2,v.useStyle(t.getModel("handleStyle").getItemStyle()),v.setStyle({strokeNoScale:!0,strokeFirst:!0}),v.style.lineWidth*=2,v.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Sp(v,!0),i.add(v);var _=this.visualMapModel.textStyleModel,A=new wr({cursor:w,draggable:!0,drift:u,onmousemove:function(R){jt(R.event)},ondragend:f,style:Dr(_,{x:0,y:0,text:""})});A.ensureState("blur").style={opacity:.1},A.stateTransition={duration:200},this.group.add(A);var T=[g,0],L=this._shapes;L.handleThumbs[r]=v,L.handleLabelPoints[r]=T,L.handleLabels[r]=A},e.prototype._createIndicator=function(t,i,r,o,a){var l=Ho(t.get("indicatorSize"),r[0]),u=Do(t.get("indicatorIcon"),-l/2,-l/2,l,l,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var f=t.getModel("indicatorStyle").getItemStyle();if(u instanceof Kr){var g=u.style;u.useStyle(pe({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},f))}else u.useStyle(f);i.add(u);var v=this.visualMapModel.textStyleModel,w=new wr({silent:!0,invisible:!0,style:Dr(v,{x:0,y:0,text:""})});this.group.add(w);var _=[(a==="horizontal"?o/2:6)+r[0]/2,0],A=this._shapes;A.indicator=u,A.indicatorLabel=w,A.indicatorLabelPoint=_,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(t,a[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():iR(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),r=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[Wd(i[0],r,o,!0),Wd(i[1],r,o,!0)]},e.prototype._updateInterval=function(t,i){i=i||0;var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];F(i,o,a,t,0);var l=r.getExtent();this._dataInterval=[Wd(o[0],a,l,!0),Wd(o[1],a,l,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,a=[0,i.itemSize[1]],l=t?a:this._handleEnds,u=this._createBarVisual(this._dataInterval,r,l,"inRange"),f=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),o.outOfRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),this._updateHandle(l,u)},e.prototype._createBarVisual=function(t,i,r,o){var a={forceState:o,convertOpacityToAlpha:!0},l=this._makeColorGradient(t,a),u=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)],f=this._createBarPoints(r,u);return{barColor:new Tp(0,0,0,1,l),barPoints:f,handlesColor:[l[0].color,l[l.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var r=[],o=(t[1]-t[0])/100;r.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var a=1;a<100;a++){var l=t[0]+o*a;if(l>t[1])break;r.push({color:this.getControllerVisual(l,"color",i),offset:a/100})}return r.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),r},e.prototype._createBarPoints=function(t,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,r=this.visualMapModel.get("inverse");return new Ei(i!=="horizontal"||r?i==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:i!=="vertical"||r?{scaleX:t==="left"?1:-1}:{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,l=r.handleLabels,u=o.itemSize,f=o.getExtent();X5([0,1],function(g){var v=a[g];v.setStyle("fill",i.handlesColor[g]),v.y=t[g];var w=Wd(t[g],[0,u[1]],f,!0),_=this.getControllerVisual(w,"symbolSize");v.scaleX=v.scaleY=_/u[0],v.x=u[0]-_/2;var A=Pl(r.handleLabelPoints[g],Ea(v,this.group));l[g].setStyle({x:A[0],y:A[1],text:o.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,r,o){var a=this.visualMapModel,l=a.getExtent(),u=a.itemSize,f=[0,u[1]],g=this._shapes,v=g.indicator;if(v){v.attr("invisible",!1);var w=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),_=this.getControllerVisual(t,"symbolSize"),A=Wd(t,l,f,!0),T=u[0]-_/2,L={x:v.x,y:v.y};v.y=A,v.x=T;var R=Pl(g.indicatorLabelPoint,Ea(v,this.group)),z=g.indicatorLabel;z.attr("invisible",!1);var j=this._applyTransform("left",g.mainGroup),X=this._orient==="horizontal";z.setStyle({text:(r||"")+a.formatValueText(i),verticalAlign:X?j:"middle",align:X?"center":j});var Z={x:T,y:A,style:{fill:w}},Q={style:{x:R[0],y:R[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var nt={duration:100,easing:"cubicInOut",additive:!0};v.x=L.x,v.y=L.y,v.animateTo(Z,nt),z.animateTo(Q,nt)}else v.attr(Z),z.attr(Q);this._firstShowIndicator=!1;var it=this._shapes.handleLabels;if(it)for(var mt=0;mt<it.length;mt++)this._api.enterBlur(it[mt])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,o=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);o[1]=eR(tE(0,o[1]),r[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var r=this.visualMapModel,o=r.itemSize;if(r.option.hoverLink){var a=[0,o[1]],l=r.getExtent();t=eR(tE(a[0],t),a[1]);var u=function(T,L,R){var z=6,j=T.get("hoverLinkDataSize");return j&&(z=Wd(j,L,R,!0)/2),z}(r,l,a),f=[t-u,t+u],g=Wd(t,a,l,!0),v=[Wd(f[0],a,l,!0),Wd(f[1],a,l,!0)];f[0]<a[0]&&(v[0]=-1/0),f[1]>a[1]&&(v[1]=1/0),i&&(v[0]===-1/0?this._showIndicator(g,v[1],"< ",u):v[1]===1/0?this._showIndicator(g,v[0],"> ",u):this._showIndicator(g,g,"≈ ",u));var w=this._hoverLinkDataIndices,_=[];(i||iR(r))&&(_=this._hoverLinkDataIndices=r.findTargetDataIndices(v));var A=function(T,L){var R={},z={};return j(T||[],R),j(L||[],z,R),[X(R),X(z)];function j(Z,Q,nt){for(var it=0,mt=Z.length;it<mt;it++){var bt=po(Z[it].seriesId,null);if(bt==null)return;for(var St=Fr(Z[it].dataIndex),Ot=nt&&nt[bt],Yt=0,ee=St.length;Yt<ee;Yt++){var le=St[Yt];Ot&&Ot[le]?Ot[le]=null:(Q[bt]||(Q[bt]={}))[le]=1}}}function X(Z,Q){var nt=[];for(var it in Z)if(Z.hasOwnProperty(it)&&Z[it]!=null)if(Q)nt.push(+it);else{var mt=X(Z[it],!0);mt.length&&nt.push({seriesId:it,dataIndex:mt})}return nt}}(w,_);this._dispatchHighDown("downplay",UI(A[0],r)),this._dispatchHighDown("highlight",UI(A[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i;if(fd(t.target,function(u){var f=Ui(u);if(f.dataIndex!=null)return i=f,!0},!0),i){var r=this.ecModel.getSeriesByIndex(i.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(r)){var a=r.getData(i.dataType),l=a.getStore().get(o.getDataDimensionIndex(a),i.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",UI(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,r,o){var a=Ea(i,o?null:this.group);return he(t)?Pl(t,a,r):xg(t,a,r)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(JN);function nR(n,e,t,i){return new as({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){jt(r.event)},ondragend:i})}function iR(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function rR(n){return n==="vertical"?"ns-resize":"ew-resize"}var U5={type:"selectDataRange",event:"dataRangeSelected",update:"update"},$5=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},Z5=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var r,o,a,l,u,f=n.pipelineContext;!i.isTargetSeries(n)||f&&f.large||t.push((r=i.stateList,o=i.targetVisuals,a=Be(i.getValueState,i),l=i.getDataDimensionIndex(n.getData()),u={},U(r,function(g){var v=Yo.prepareVisualTypes(o[g]);u[g]=v}),{progress:function(g,v){var w,_;function A(mt){return Nv(v,_,mt)}function T(mt,bt){C_(v,_,mt,bt)}l!=null&&(w=v.getDimensionIndex(l));for(var L=v.getStore();(_=g.next())!=null;){var R=v.getRawDataItem(_);if(!R||R.visualMap!==!1)for(var z=l!=null?L.get(w,_):_,j=a(z),X=o[j],Z=u[j],Q=0,nt=Z.length;Q<nt;Q++){var it=Z[Q];X[it]&&X[it].applyVisual(z,A,T)}}}}))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(Be(K5,null,n,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(t);a>=0&&(o.dimension=a,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function K5(n,e,t,i){for(var r=e.targetVisuals[i],o=Yo.prepareVisualTypes(r),a={color:qg(n.getData(),"color")},l=0,u=o.length;l<u;l++){var f=o[l],g=r[f==="opacity"?"__alphaForOpacity":f];g&&g.applyVisual(t,v,w)}return a.color;function v(_){return a[_]}function w(_,A){a[_]=A}}var oR=U;function J5(n){var e=n&&n.visualMap;he(e)||(e=e?[e]:[]),oR(e,function(t){if(t){T1(t,"splitList")&&!T1(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&he(i)&&oR(i,function(r){Zn(r)&&(T1(r,"start")&&!T1(r,"min")&&(r.min=r.start),T1(r,"end")&&!T1(r,"max")&&(r.max=r.end))})}})}function T1(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var aR=!1;function sR(n){aR||(aR=!0,n.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),n.registerAction(U5,$5),U(Z5,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(J5))}function lR(n){n.registerComponentModel(G5),n.registerComponentView(q5),sR(n)}var Q5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return wt(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],tF[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var o=this.option.categories;this.resetVisual(function(a,l){r==="categories"?(a.mappingMethod="category",a.categories=Gt(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=ye(this._pieceList,function(u){return u=Gt(u),l!=="inRange"&&(u.visual=null),u}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},r=Yo.listVisualTypes(),o=this.isCategory();function a(l,u,f){return l&&l[u]&&l[u].hasOwnProperty(f)}U(t.pieces,function(l){U(r,function(u){l.hasOwnProperty(u)&&(i[u]=1)})}),U(i,function(l,u){var f=!1;U(this.stateList,function(g){f=f||a(t,g,u)||a(t.target,g,u)},this),!f&&U(this.stateList,function(g){(t[g]||(t[g]={}))[u]=qN(u,g==="inRange"?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var r=this.option,o=this._pieceList,a=(i?r:t).selected||{};if(r.selected=a,U(o,function(u,f){var g=this.getSelectedMapKey(u);a.hasOwnProperty(g)||(a[g]=!0)},this),r.selectedMode==="single"){var l=!1;U(o,function(u,f){var g=this.getSelectedMapKey(u);a[g]&&(l?a[g]=!1:l=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Gt(t)},e.prototype.getValueState=function(t){var i=Yo.findPieceIndex(t,this._pieceList);return i!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],l=o.getData();l.each(this.getDataDimensionIndex(l),function(u,f){Yo.findPieceIndex(u,r)===t&&a.push(f)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(t.value!=null)i=t.value;else{var r=t.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var i=[],r=["",""],o=this,a=this._pieceList.slice();if(a.length){var l=a[0].interval[0];l!==-1/0&&a.unshift({interval:[-1/0,l]}),(l=a[a.length-1].interval[1])!==1/0&&a.push({interval:[l,1/0]})}else a.push({interval:[-1/0,1/0]});var u=-1/0;return U(a,function(g){var v=g.interval;v&&(v[0]>u&&f([u,v[0]],"outOfRange"),f(v.slice()),u=v[1])},this),{stops:i,outerColors:r}}function f(g,v){var w=o.getRepresentValue({interval:g});v||(v=o.getValueState(w));var _=t(w,v);g[0]===-1/0?r[0]=_:g[1]===1/0?r[1]=_:i.push({value:g[0],color:_},{value:g[1],color:_})}},e.type="visualMap.piecewise",e.defaultOption=bc(qI.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(qI),tF={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(t)!==o&&t<5;)t++;e.precision=t,o=+o.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,l=i[0];a<r;l+=o,a++){var u=a===r-1?i[1]:l+o;n.push({interval:[l,u],close:[1,1]})}e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),Qf(n),U(n,function(f,g){f.index=g,f.text=this.formatValueText(f.interval)},this)},categories:function(n){var e=this.option;U(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),cR(e,n)},pieces:function(n){var e=this.option;U(e.pieces,function(t,i){Zn(t)||(t={value:t});var r={text:"",index:i};if(t.label!=null&&(r.text=t.label),t.hasOwnProperty("value")){var o=r.value=t.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],l=r.close=[0,0],u=[1,0,1],f=[-1/0,1/0],g=[],v=0;v<2;v++){for(var w=[["gte","gt","min"],["lte","lt","max"]][v],_=0;_<3&&a[v]==null;_++)a[v]=t[w[_]],l[v]=u[_],g[v]=_===2;a[v]==null&&(a[v]=f[v])}g[0]&&a[1]===1/0&&(l[0]=0),g[1]&&a[0]===-1/0&&(l[1]=0),a[0]===a[1]&&l[0]&&l[1]&&(r.value=a[0])}r.visual=Yo.retrieveVisuals(t),n.push(r)},this),cR(e,n),Qf(n),U(n,function(t){var i=t.close,r=[["<","≤"][i[1]],[">","≥"][i[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,r)},this)}};function cR(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}var eF=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return wt(e,n),e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,a=o.getFont(),l=o.getTextColor(),u=this._getItemAlign(),f=i.itemSize,g=this._getViewData(),v=g.endsText,w=Ri(i.get("showLabel",!0),!v);v&&this._renderEndsText(t,v[0],f,w,u),U(g.viewPieceList,function(_){var A=_.piece,T=new Ei;T.onclick=Be(this._onItemClick,this,A),this._enableHoverLink(T,_.indexInModelPieceList);var L=i.getRepresentValue(A);if(this._createItemSymbol(T,L,[0,0,f[0],f[1]]),w){var R=this.visualMapModel.getValueState(L);T.add(new wr({style:{x:u==="right"?-r:f[0]+r,y:f[1]/2,text:A.text,verticalAlign:"middle",align:u,font:a,fill:l,opacity:R==="outOfRange"?.5:1}}))}t.add(T)},this),v&&this._renderEndsText(t,v[1],f,w,u),ed(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var r=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var l=r.visualMapModel;l.option.hoverLink&&r.api.dispatchAction({type:a,batch:UI(l.findTargetDataIndices(i),l)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if(i.orient==="vertical")return tR(t,this.api,t.itemSize);var r=i.align;return r&&r!=="auto"||(r="left"),r},e.prototype._renderEndsText=function(t,i,r,o,a){if(i){var l=new Ei,u=this.visualMapModel.textStyleModel;l.add(new wr({style:Dr(u,{x:o?a==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:i})})),t.add(l)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=ye(t.getPieceList(),function(l,u){return{piece:l,indexInModelPieceList:u}}),r=t.get("text"),o=t.get("orient"),a=t.get("inverse");return(o==="horizontal"?a:!a)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},e.prototype._createItemSymbol=function(t,i,r){t.add(Do(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},e.prototype._onItemClick=function(t){var i=this.visualMapModel,r=i.option,o=r.selectedMode;if(o){var a=Gt(r.selected),l=i.getSelectedMapKey(t);o==="single"||o===!0?(a[l]=!0,U(a,function(u,f){a[f]=f===l})):a[l]=!a[l],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},e.type="visualMap.piecewise",e}(JN);function uR(n){n.registerComponentModel(Q5),n.registerComponentView(eF),sR(n)}var nF={label:{enabled:!0},decal:{show:!1}},hR=hr(),iF={};function rF(n,e){var t=n.getModel("aria");if(t.get("enabled")){var i=Gt(nF);ie(i.label,n.getLocaleModel().get("aria"),!1),ie(t.option,i,!1),function(){if(t.getModel("decal").get("show")){var o=yn();n.eachSeries(function(a){if(!a.isColorBySeries()){var l=o.get(a.type);l||(l={},o.set(a.type,l)),hR(a).scope=l}}),n.eachRawSeries(function(a){if(!n.isSeriesFiltered(a))if(In(a.enableAriaDecal))a.enableAriaDecal();else{var l=a.getData();if(a.isColorBySeries()){var u=sx(a.ecModel,a.name,iF,n.getSeriesCount()),f=l.getVisual("decal");l.setVisual("decal",A(f,u))}else{var g=a.getRawData(),v={},w=hR(a).scope;l.each(function(T){var L=l.getRawIndex(T);v[L]=T});var _=g.count();g.each(function(T){var L=v[T],R=g.getName(T)||T+"",z=sx(a.ecModel,R,w,_),j=l.getItemVisual(L,"decal");l.setItemVisual(L,"decal",A(j,z))})}}function A(T,L){var R=T?pe(pe({},L),T):L;return R.dirty=!0,R}})}}(),function(){var o=n.getLocaleModel().get("aria"),a=t.getModel("label");if(a.option=De(a.option,o),!!a.get("enabled")){var l=e.getZr().dom;if(a.get("description"))return void l.setAttribute("aria-label",a.get("description"));var u,f=n.getSeriesCount(),g=a.get(["data","maxCount"])||10,v=a.get(["series","maxCount"])||10,w=Math.min(f,v);if(!(f<1)){var _=function(){var X=n.get("title");return X&&X.length&&(X=X[0]),X&&X.text}();if(_){var A=a.get(["general","withTitle"]);u=r(A,{title:_})}else u=a.get(["general","withoutTitle"]);var T=[],L=f>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);u+=r(L,{seriesCount:f}),n.eachSeries(function(X,Z){if(Z<w){var Q=void 0,nt=X.get("name")?"withName":"withoutName";Q=r(Q=f>1?a.get(["series","multiple",nt]):a.get(["series","single",nt]),{seriesId:X.seriesIndex,seriesName:X.get("name"),seriesType:(ge=X.subType,n.getLocaleModel().get(["series","typeNames"])[ge]||"自定义图")});var it=X.getData();it.count()>g?Q+=r(a.get(["data","partialData"]),{displayCnt:g}):Q+=a.get(["data","allData"]);for(var mt=a.get(["data","separator","middle"]),bt=a.get(["data","separator","end"]),St=[],Ot=0;Ot<it.count();Ot++)if(Ot<g){var Yt=it.getName(Ot),ee=it.getValues(Ot),le=a.get(["data",Yt?"withName":"withoutName"]);St.push(r(le,{name:Yt,value:ee.join(mt)}))}Q+=St.join(mt)+bt,T.push(Q)}var ge});var R=a.getModel(["series","multiple","separator"]),z=R.get("middle"),j=R.get("end");u+=T.join(z)+j,l.setAttribute("aria-label",u)}}}()}function r(o,a){if(!kn(o))return o;var l=o;return U(a,function(u,f){l=l.replace(new RegExp("\\{\\s*"+f+"\\s*\\}","g"),u)}),l}}function oF(n){if(n&&n.aria){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},U(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}var dR={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},aF=function(){function n(e){if((this._condVal=kn(e)?new RegExp(e):_i(e)?e:null)==null){var t="";Sr(t)}}return n.prototype.evaluate=function(e){var t=typeof e;return kn(t)?this._condVal.test(e):!!fi(t)&&this._condVal.test(e+"")},n}(),sF=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),lF=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),cF=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),uF=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),hF=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),i=e?this.valueParser(t):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(e?i:t))return!1;return!0},n}();function eE(n,e){if(n===!0||n===!1){var t=new sF;return t.value=n,t}var i="";return fR(n)||Sr(i),n.and?pR("and",n,e):n.or?pR("or",n,e):n.not?function(r,o){var a=r.not,l="";fR(a)||Sr(l);var u=new uF;return u.child=eE(a,o),u.child||Sr(l),u}(n,e):function(r,o){for(var a="",l=o.prepareGetValue(r),u=[],f=Re(r),g=r.parser,v=g?Uw(g):null,w=0;w<f.length;w++){var _=f[w];if(_!=="parser"&&!o.valueGetterAttrMap.get(_)){var A=vn(dR,_)?dR[_]:_,T=r[_],L=v?v(T):T,R=ZA(A,L)||A==="reg"&&new aF(L);R||Sr(a),u.push(R)}}u.length||Sr(a);var z=new hF;return z.valueGetterParam=l,z.valueParser=v,z.getValue=o.getValue,z.subCondList=u,z}(n,e)}function pR(n,e,t){var i=e[n],r="";he(i)||Sr(r),i.length||Sr(r);var o=n==="and"?new lF:new cF;return o.children=ye(i,function(a){return eE(a,t)}),o.children.length||Sr(r),o}function fR(n){return Zn(n)&&!Oe(n)}var dF=function(){function n(e,t){this._cond=eE(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),pF={type:"echarts:filter",transform:function(n){for(var e,t,i,r=n.upstream,o=(t=n.config,i={valueGetterAttrMap:yn({dimension:!0}),prepareGetValue:function(f){var g="",v=f.dimension;vn(f,"dimension")||Sr(g);var w=r.getDimensionInfo(v);return w||Sr(g),{dimIdx:w.index}},getValue:function(f){return r.retrieveValueFromItem(e,f.dimIdx)}},new dF(t,i)),a=[],l=0,u=r.count();l<u;l++)e=r.getRawDataItem(l),o.evaluate()&&a.push(e);return{data:a}}},fF={type:"echarts:sort",transform:function(n){var e=n.upstream,t=n.config,i="",r=Fr(t);r.length||Sr(i);var o=[];U(r,function(g){var v=g.dimension,w=g.order,_=g.parser,A=g.incomparable;if(v==null&&Sr(i),w!=="asc"&&w!=="desc"&&Sr(i),A&&A!=="min"&&A!=="max"){var T="";Sr(T)}if(w!=="asc"&&w!=="desc"){var L="";Sr(L)}var R=e.getDimensionInfo(v);R||Sr(i);var z=_?Uw(_):null;_&&!z&&Sr(i),o.push({dimIdx:R.index,parser:z,comparator:new $w(w,A)})});var a=e.sourceFormat;a!==ou&&a!==Ku&&Sr(i);for(var l=[],u=0,f=e.count();u<f;u++)l.push(e.getRawDataItem(u));return l.sort(function(g,v){for(var w=0;w<o.length;w++){var _=o[w],A=e.retrieveValueFromItem(g,_.dimIdx),T=e.retrieveValueFromItem(v,_.dimIdx);_.parser&&(A=_.parser(A),T=_.parser(T));var L=_.comparator.evaluate(A,T);if(L!==0)return L}return 0}),{data:l}}},gF=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return wt(e,n),e.prototype.init=function(t,i,r){n.prototype.init.call(this,t,i,r),this._sourceManager=new Qw(this),uu(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),uu(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:id},e}(pr),mF=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return wt(e,n),e.type="dataset",e}(io),jd=ae.CMD;function I1(n,e){return Math.abs(n-e)<1e-5}function nE(n){var e,t,i,r,o,a=n.data,l=n.len(),u=[],f=0,g=0,v=0,w=0;function _(Ot,Yt){e&&e.length>2&&u.push(e),e=[Ot,Yt]}function A(Ot,Yt,ee,le){I1(Ot,ee)&&I1(Yt,le)||e.push(Ot,Yt,ee,le,ee,le)}function T(Ot,Yt,ee,le,ge,be){var Ie=Math.abs(Yt-Ot),He=4*Math.tan(Ie/4)/3,qe=Yt<Ot?-1:1,Ke=Math.cos(Ot),bn=Math.sin(Ot),Rn=Math.cos(Yt),Je=Math.sin(Yt),Tn=Ke*ge+ee,Fn=bn*be+le,Xn=Rn*ge+ee,Vn=Je*be+le,qn=ge*He*qe,Hn=be*He*qe;e.push(Tn-qn*bn,Fn+Hn*Ke,Xn+qn*Je,Vn-Hn*Rn,Xn,Vn)}for(var L=0;L<l;){var R=a[L++],z=L===1;switch(z&&(v=f=a[L],w=g=a[L+1],R!==jd.L&&R!==jd.C&&R!==jd.Q||(e=[v,w])),R){case jd.M:f=v=a[L++],g=w=a[L++],_(v,w);break;case jd.L:A(f,g,t=a[L++],i=a[L++]),f=t,g=i;break;case jd.C:e.push(a[L++],a[L++],a[L++],a[L++],f=a[L++],g=a[L++]);break;case jd.Q:t=a[L++],i=a[L++],r=a[L++],o=a[L++],e.push(f+2/3*(t-f),g+2/3*(i-g),r+2/3*(t-r),o+2/3*(i-o),r,o),f=r,g=o;break;case jd.A:var j=a[L++],X=a[L++],Z=a[L++],Q=a[L++],nt=a[L++],it=a[L++]+nt;L+=1;var mt=!a[L++];t=Math.cos(nt)*Z+j,i=Math.sin(nt)*Q+X,z?_(v=t,w=i):A(f,g,t,i),f=Math.cos(it)*Z+j,g=Math.sin(it)*Q+X;for(var bt=(mt?-1:1)*Math.PI/2,St=nt;mt?St>it:St<it;St+=bt)T(St,mt?Math.max(St+bt,it):Math.min(St+bt,it),j,X,Z,Q);break;case jd.R:v=f=a[L++],w=g=a[L++],t=v+a[L++],i=w+a[L++],_(t,w),A(t,w,t,i),A(t,i,v,i),A(v,i,v,w),A(v,w,t,w);break;case jd.Z:e&&A(f,g,v,w),f=v,g=w}}return e&&e.length>2&&u.push(e),u}function iE(n,e,t,i,r,o,a,l,u,f){if(I1(n,t)&&I1(e,i)&&I1(r,a)&&I1(o,l))u.push(a,l);else{var g=2/f,v=g*g,w=a-n,_=l-e,A=Math.sqrt(w*w+_*_);w/=A,_/=A;var T=t-n,L=i-e,R=r-a,z=o-l,j=T*T+L*L,X=R*R+z*z;if(j<v&&X<v)u.push(a,l);else{var Z=w*T+_*L,Q=-w*R-_*z;if(j-Z*Z<v&&Z>=0&&X-Q*Q<v&&Q>=0)u.push(a,l);else{var nt=[],it=[];Ya(n,t,r,a,.5,nt),Ya(e,i,o,l,.5,it),iE(nt[0],it[0],nt[1],it[1],nt[2],it[2],nt[3],it[3],u,f),iE(nt[4],it[4],nt[5],it[5],nt[6],it[6],nt[7],it[7],u,f)}}}}function gR(n,e,t){var i=n[e],r=n[1-e],o=Math.abs(i/r),a=Math.ceil(Math.sqrt(o*t)),l=Math.floor(t/a);l===0&&(l=1,a=t);for(var u=[],f=0;f<a;f++)u.push(l);var g=t-a*l;if(g>0)for(f=0;f<g;f++)u[f%a]+=1;return u}function mR(n,e,t){for(var i=n.r0,r=n.r,o=n.startAngle,a=n.endAngle,l=Math.abs(a-o),u=l*r,f=r-i,g=u>Math.abs(f),v=gR([u,f],g?0:1,e),w=(g?l:f)/v.length,_=0;_<v.length;_++)for(var A=(g?f:l)/v[_],T=0;T<v[_];T++){var L={};g?(L.startAngle=o+w*_,L.endAngle=o+w*(_+1),L.r0=i+A*T,L.r=i+A*(T+1)):(L.startAngle=o+A*T,L.endAngle=o+A*(T+1),L.r0=i+w*_,L.r=i+w*(_+1)),L.clockwise=n.clockwise,L.cx=n.cx,L.cy=n.cy,t.push(L)}}function vR(n,e,t,i){return n*i-t*e}function vF(n,e,t,i,r,o,a,l){var u=t-n,f=i-e,g=a-r,v=l-o,w=vR(g,v,u,f);if(Math.abs(w)<1e-6)return null;var _=vR(n-r,e-o,g,v)/w;return _<0||_>1?null:new ti(_*u+n,_*f+e)}function yF(n,e,t){var i=new ti;ti.sub(i,t,e),i.normalize();var r=new ti;return ti.sub(r,n,e),r.dot(i)}function D1(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function yR(n){var e=n.points,t=[],i=[];fc(e,t,i);var r=new Qi(t[0],t[1],i[0]-t[0],i[1]-t[1]),o=r.width,a=r.height,l=r.x,u=r.y,f=new ti,g=new ti;return o>a?(f.x=g.x=l+o/2,f.y=u,g.y=u+a):(f.y=g.y=u+a/2,f.x=l,g.x=l+o),function(v,w,_){for(var A=v.length,T=[],L=0;L<A;L++){var R=v[L],z=v[(L+1)%A],j=vF(R[0],R[1],z[0],z[1],w.x,w.y,_.x,_.y);j&&T.push({projPt:yF(j,w,_),pt:j,idx:L})}if(T.length<2)return[{points:v},{points:v}];T.sort(function(St,Ot){return St.projPt-Ot.projPt});var X=T[0],Z=T[T.length-1];if(Z.idx<X.idx){var Q=X;X=Z,Z=Q}var nt=[X.pt.x,X.pt.y],it=[Z.pt.x,Z.pt.y],mt=[nt],bt=[it];for(L=X.idx+1;L<=Z.idx;L++)D1(mt,v[L].slice());for(D1(mt,it),D1(mt,nt),L=Z.idx+1;L<=X.idx+A;L++)D1(bt,v[L%A].slice());return D1(bt,nt),D1(bt,it),[{points:mt},{points:bt}]}(e,f,g)}function $I(n,e,t,i){if(t===1)i.push(e);else{var r=Math.floor(t/2),o=n(e);$I(n,o[0],r,i),$I(n,o[1],t-r,i)}return i}function xF(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function bF(n,e){var t,i=[],r=n.shape;switch(n.type){case"rect":(function(R,z,j){for(var X=R.width,Z=R.height,Q=X>Z,nt=gR([X,Z],Q?0:1,z),it=Q?"width":"height",mt=Q?"height":"width",bt=Q?"x":"y",St=Q?"y":"x",Ot=R[it]/nt.length,Yt=0;Yt<nt.length;Yt++)for(var ee=R[mt]/nt[Yt],le=0;le<nt[Yt];le++){var ge={};ge[bt]=Yt*Ot,ge[St]=le*ee,ge[it]=Ot,ge[mt]=ee,ge.x+=R.x,ge.y+=R.y,j.push(ge)}})(r,e,i),t=br;break;case"sector":mR(r,e,i),t=os;break;case"circle":mR({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},e,i),t=os;break;default:var o=n.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,l=ye(function(R,z){var j=nE(R),X=[];z=z||1;for(var Z=0;Z<j.length;Z++){var Q=j[Z],nt=[],it=Q[0],mt=Q[1];nt.push(it,mt);for(var bt=2;bt<Q.length;){var St=Q[bt++],Ot=Q[bt++],Yt=Q[bt++],ee=Q[bt++],le=Q[bt++],ge=Q[bt++];iE(it,mt,St,Ot,Yt,ee,le,ge,nt,z),it=le,mt=ge}X.push(nt)}return X}(n.getUpdatedPathProxy(),a),function(R){return function(z){for(var j=[],X=0;X<z.length;)j.push([z[X++],z[X++]]);return j}(R)}),u=l.length;if(u===0)$I(yR,{points:l[0]},e,i);else if(u===e)for(var f=0;f<u;f++)i.push({points:l[f]});else{var g=0,v=ye(l,function(R){var z=[],j=[];fc(R,z,j);var X=(j[1]-z[1])*(j[0]-z[0]);return g+=X,{poly:R,area:X}});v.sort(function(R,z){return z.area-R.area});var w=e;for(f=0;f<u;f++){var _=v[f];if(w<=0)break;var A=f===u-1?w:Math.ceil(_.area/g*e);A<0||($I(yR,{points:_.poly},A,i),w-=A)}}t=as}if(!t)return function(R,z){for(var j=[],X=0;X<z;X++)j.push(R0(R));return j}(n,e);var T=[];for(f=0;f<i.length;f++){var L=new t;L.setShape(i[f]),xF(n,L),T.push(L)}return T}function wF(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var r=[],o=[],a=t<i?n:e,l=Math.min(t,i),u=Math.abs(i-t)/6,f=(l-2)/6,g=Math.ceil(u/f)+1,v=[a[0],a[1]],w=u,_=2;_<l;){var A=a[_-2],T=a[_-1],L=a[_++],R=a[_++],z=a[_++],j=a[_++],X=a[_++],Z=a[_++];if(w<=0)v.push(L,R,z,j,X,Z);else{for(var Q=Math.min(w,g-1)+1,nt=1;nt<=Q;nt++){var it=nt/Q;Ya(A,L,z,X,it,r),Ya(T,R,j,Z,it,o),A=r[3],T=o[3],v.push(r[1],o[1],r[2],o[2],A,T),L=r[5],R=o[5],z=r[6],j=o[6]}w-=Q-1}}return a===n?[v,e]:[n,v]}function xR(n,e){for(var t=n.length,i=n[t-2],r=n[t-1],o=[],a=0;a<e.length;)o[a++]=i,o[a++]=r;return o}function bR(n){for(var e=0,t=0,i=0,r=n.length,o=0,a=r-2;o<r;a=o,o+=2){var l=n[a],u=n[a+1],f=n[o],g=n[o+1],v=l*g-f*u;e+=v,t+=(l+f)*v,i+=(u+g)*v}return e===0?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function _F(n,e,t,i){for(var r=(n.length-2)/6,o=1/0,a=0,l=n.length,u=l-2,f=0;f<r;f++){for(var g=6*f,v=0,w=0;w<l;w+=2){var _=w===0?g:(g+w-2)%u+2,A=n[_]-t[0],T=n[_+1]-t[1],L=e[w]-i[0]-A,R=e[w+1]-i[1]-T;v+=L*L+R*R}v<o&&(o=v,a=f)}return a}function SF(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function ZI(n){return n.__isCombineMorphing}var wR="__mOriginal_";function KI(n,e,t){var i=wR+e,r=n[i]||n[e];n[i]||(n[i]=n[e]);var o=t.replace,a=t.after,l=t.before;n[e]=function(){var u,f=arguments;return l&&l.apply(this,f),u=o?o.apply(this,f):r.apply(this,f),a&&a.apply(this,f),u}}function Hk(n,e){var t=wR+e;n[t]&&(n[e]=n[t],n[t]=null)}function _R(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=e[0]*o+e[2]*a+e[4],i[r++]=e[1]*o+e[3]*a+e[5]}}function SR(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function(v,w){for(var _,A,T,L=[],R=[],z=0;z<Math.max(v.length,w.length);z++){var j=v[z],X=w[z],Z=void 0,Q=void 0;j?X?(A=Z=(_=wF(j,X))[0],T=Q=_[1]):(Q=xR(T||j,j),Z=j):(Z=xR(A||X,X),Q=X),L.push(Z),R.push(Q)}return[L,R]}(nE(t),nE(i)),o=r[0],a=r[1],l=n.getComputedTransform(),u=e.getComputedTransform();l&&_R(o,l),u&&_R(a,u),KI(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var f=function(v,w,_,A){for(var T,L=[],R=0;R<v.length;R++){var z=v[R],j=w[R],X=bR(z),Z=bR(j);T==null&&(T=X[2]<0!=Z[2]<0);var Q=[],nt=[],it=0,mt=1/0,bt=[],St=z.length;T&&(z=SF(z));for(var Ot=6*_F(z,j,X,Z),Yt=St-2,ee=0;ee<Yt;ee+=2){var le=(Ot+ee)%Yt+2;Q[ee+2]=z[le]-X[0],Q[ee+3]=z[le+1]-X[1]}if(Q[0]=z[Ot]-X[0],Q[1]=z[Ot+1]-X[1],_>0)for(var ge=A/_,be=-A/2;be<=A/2;be+=ge){var Ie=Math.sin(be),He=Math.cos(be),qe=0;for(ee=0;ee<z.length;ee+=2){var Ke=Q[ee],bn=Q[ee+1],Rn=j[ee]-Z[0],Je=j[ee+1]-Z[1],Tn=Rn*He-Je*Ie,Fn=Rn*Ie+Je*He;bt[ee]=Tn,bt[ee+1]=Fn;var Xn=Tn-Ke,Vn=Fn-bn;qe+=Xn*Xn+Vn*Vn}if(qe<mt){mt=qe,it=be;for(var qn=0;qn<bt.length;qn++)nt[qn]=bt[qn]}}else for(var Hn=0;Hn<St;Hn+=2)nt[Hn]=j[Hn]-Z[0],nt[Hn+1]=j[Hn+1]-Z[1];L.push({from:Q,to:nt,fromCp:X,toCp:Z,rotation:-it})}return L}(o,a,10,Math.PI),g=[];KI(e,"buildPath",{replace:function(v){for(var w=e.__morphT,_=1-w,A=[],T=0;T<f.length;T++){var L=f[T],R=L.from,z=L.to,j=L.rotation*w,X=L.fromCp,Z=L.toCp,Q=Math.sin(j),nt=Math.cos(j);Jr(A,X,Z,w);for(var it=0;it<R.length;it+=2){var mt=R[it],bt=R[it+1],St=mt*_+(le=z[it])*w,Ot=bt*_+(ge=z[it+1])*w;g[it]=St*nt-Ot*Q+A[0],g[it+1]=St*Q+Ot*nt+A[1]}var Yt=g[0],ee=g[1];for(v.moveTo(Yt,ee),it=2;it<R.length;){var le=g[it++],ge=g[it++],be=g[it++],Ie=g[it++],He=g[it++],qe=g[it++];Yt===le&&ee===ge&&be===He&&Ie===qe?v.lineTo(He,qe):v.bezierCurveTo(le,ge,be,Ie,He,qe),Yt=He,ee=qe}}}})}function rE(n,e,t){if(!n||!e)return e;var i=t.done,r=t.during;return SR(n,e),e.__morphT=0,e.animateTo({__morphT:1},De({during:function(o){e.dirtyShape(),r&&r(o)},done:function(){Hk(e,"buildPath"),Hk(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),i&&i()}},t)),e}function CF(n,e,t,i,r,o){n=r===t?0:Math.round(32767*(n-t)/(r-t)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var a,l=0,u=32768;u>0;u/=2){var f=0,g=0;(n&u)>0&&(f=1),(e&u)>0&&(g=1),l+=u*u*(3*f^g),g===0&&(f===1&&(n=u-1-n,e=u-1-e),a=n,n=e,e=a)}return l}function JI(n){var e=1/0,t=1/0,i=-1/0,r=-1/0,o=ye(n,function(a){var l=a.getBoundingRect(),u=a.getComputedTransform(),f=l.x+l.width/2+(u?u[4]:0),g=l.y+l.height/2+(u?u[5]:0);return e=Math.min(f,e),t=Math.min(g,t),i=Math.max(f,i),r=Math.max(g,r),[f,g]});return ye(o,function(a,l){return{cp:a,z:CF(a[0],a[1],e,t,i,r),path:n[l]}}).sort(function(a,l){return a.z-l.z}).map(function(a){return a.path})}function CR(n){return bF(n.path,n.count)}function kR(n){return he(n[0])}function AR(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push({one:n[r],many:[]});for(r=0;r<e.length;r++){var o=e[r].length,a=void 0;for(a=0;a<o;a++)t[a%i].many.push(e[r][a])}var l=0;for(r=i-1;r>=0;r--)if(!t[r].many.length){var u=t[l].many;if(u.length<=1){if(!l)return t;l=0}o=u.length;var f=Math.ceil(o/2);t[r].many=u.slice(f,o),t[l].many=u.slice(0,f),l++}return t}var kF={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=R0(n.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function oE(n,e,t,i,r,o){if(n.length&&e.length){var a=Ip("update",i,r);if(a&&a.duration>0){var l,u,f=i.getModel("universalTransition").get("delay"),g=Object.assign({setToFinal:!0},a);kR(n)&&(l=n,u=e),kR(e)&&(l=e,u=n);for(var v=l?l===n:n.length>e.length,w=l?AR(u,l):AR(v?e:n,[v?n:e]),_=0,A=0;A<w.length;A++)_+=w[A].many.length;var T=0;for(A=0;A<w.length;A++)L(w[A],v,T,_),T+=w[A].many.length}}function L(R,z,j,X,Z){var Q=R.many,nt=R.one;if(Q.length!==1||Z)for(var it=De({dividePath:kF[t],individualDelay:f&&function(be,Ie,He,qe){return f(be+j,X)}},g),mt=z?function(be,Ie,He){var qe=[];(function gr(vr){for(var eo=0;eo<vr.length;eo++){var ro=vr[eo];ZI(ro)?gr(ro.childrenRef()):ro instanceof Ti&&qe.push(ro)}})(be);var Ke=qe.length;if(!Ke)return{fromIndividuals:[],toIndividuals:[],count:0};var bn=(He.dividePath||CR)({path:Ie,count:Ke});if(bn.length!==Ke)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};qe=JI(qe),bn=JI(bn);for(var Rn=He.done,Je=He.during,Tn=He.individualDelay,Fn=new lc,Xn=0;Xn<Ke;Xn++){var Vn=qe[Xn],qn=bn[Xn];qn.parent=Ie,qn.copyTransform(Fn),Tn||SR(Vn,qn)}function Hn(gr){for(var vr=0;vr<bn.length;vr++)bn[vr].addSelfToZr(gr)}function ni(){Ie.__isCombineMorphing=!1,Ie.__morphT=-1,Ie.childrenRef=null,Hk(Ie,"addSelfToZr"),Hk(Ie,"removeSelfFromZr")}Ie.__isCombineMorphing=!0,Ie.childrenRef=function(){return bn},KI(Ie,"addSelfToZr",{after:function(gr){Hn(gr)}}),KI(Ie,"removeSelfFromZr",{after:function(gr){for(var vr=0;vr<bn.length;vr++)bn[vr].removeSelfFromZr(gr)}});var wi=bn.length;if(Tn){var Zi=wi,nr=function(){--Zi==0&&(ni(),Rn&&Rn())};for(Xn=0;Xn<wi;Xn++){var Ur=Tn?De({delay:(He.delay||0)+Tn(Xn,wi,qe[Xn],bn[Xn]),done:nr},He):He;rE(qe[Xn],bn[Xn],Ur)}}else Ie.__morphT=0,Ie.animateTo({__morphT:1},De({during:function(gr){for(var vr=0;vr<wi;vr++){var eo=bn[vr];eo.__morphT=Ie.__morphT,eo.dirtyShape()}Je&&Je(gr)},done:function(){ni();for(var gr=0;gr<be.length;gr++)Hk(be[gr],"updateTransform");Rn&&Rn()}},He));return Ie.__zr&&Hn(Ie.__zr),{fromIndividuals:qe,toIndividuals:bn,count:wi}}(Q,nt,it):function(be,Ie,He){var qe=Ie.length,Ke=[],bn=He.dividePath||CR;if(ZI(be)){(function qn(Hn){for(var ni=0;ni<Hn.length;ni++){var wi=Hn[ni];ZI(wi)?qn(wi.childrenRef()):wi instanceof Ti&&Ke.push(wi)}})(be.childrenRef());var Rn=Ke.length;if(Rn<qe)for(var Je=0,Tn=Rn;Tn<qe;Tn++)Ke.push(R0(Ke[Je++%Rn]));Ke.length=qe}else{Ke=bn({path:be,count:qe});var Fn=be.getComputedTransform();for(Tn=0;Tn<Ke.length;Tn++)Ke[Tn].setLocalTransform(Fn);if(Ke.length!==qe)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}Ke=JI(Ke),Ie=JI(Ie);var Xn=He.individualDelay;for(Tn=0;Tn<qe;Tn++){var Vn=Xn?De({delay:(He.delay||0)+Xn(Tn,qe,Ke[Tn],Ie[Tn])},He):He;rE(Ke[Tn],Ie[Tn],Vn)}return{fromIndividuals:Ke,toIndividuals:Ie,count:Ie.length}}(nt,Q,it),bt=mt.fromIndividuals,St=mt.toIndividuals,Ot=bt.length,Yt=0;Yt<Ot;Yt++)ee=f?De({delay:f(Yt,Ot)},g):g,o(bt[Yt],St[Yt],z?Q[Yt]:R.one,z?R.one:Q[Yt],ee);else{var ee,le=z?Q[0]:nt,ge=z?nt:Q[0];ZI(le)?L({many:[le],one:ge},!0,j,X,!0):(rE(le,ge,ee=f?De({delay:f(j,X)},g):g),o(le,ge,le,ge,ee))}}}function m0(n){if(!n)return[];if(he(n)){for(var e=[],t=0;t<n.length;t++)e.push(m0(n[t]));return e}var i=[];return n.traverse(function(r){r instanceof Ti&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var AF=hr();function MR(n){var e=[];return U(n,function(t){var i=t.data;if(!(i.count()>1e4))for(var r=i.getIndices(),o=function(l){for(var u=l.dimensions,f=0;f<u.length;f++){var g=l.getDimensionInfo(u[f]);if(g&&g.otherDims.itemGroupId===0)return u[f]}}(i),a=0;a<r.length;a++)e.push({dataGroupId:t.dataGroupId,data:i,dim:t.dim||o,divide:t.divide,dataIndex:a})}),e}function aE(n,e,t){n.traverse(function(i){i instanceof Ti&&vo(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function sE(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function L1(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function MF(n,e,t){var i=Ip("update",t,e);i&&n.traverse(function(r){if(r instanceof _a){var o=function(a){return lw(a).oldStyle}(r);o&&r.animateFrom({style:o},i)}})}function TR(n,e,t){var i=MR(n),r=MR(e);function o(R,z,j,X,Z){(j||R)&&z.animateFrom({style:j&&j!==R?pe(pe({},j.style),R.style):R.style},Z)}function a(R){for(var z=0;z<R.length;z++)if(R[z].dim)return R[z].dim}var l=a(i),u=a(r),f=!1;function g(R,z){return function(j){var X=j.data,Z=j.dataIndex;if(z)return X.getId(Z);var Q=j.dataGroupId,nt=R?l||u:u||l,it=nt&&X.getDimensionInfo(nt),mt=it&&it.ordinalMeta;if(it){var bt=X.get(it.name,Z);return mt&&mt.categories[bt]||bt+""}var St=X.getRawDataItem(Z);return St&&St.groupId?St.groupId+"":Q||X.getId(Z)}}var v=function(R,z){var j=R.length;if(j!==z.length)return!1;for(var X=0;X<j;X++){var Z=R[X],Q=z[X];if(Z.data.getId(Z.dataIndex)!==Q.data.getId(Q.dataIndex))return!1}return!0}(i,r),w={};if(!v)for(var _=0;_<r.length;_++){var A=r[_],T=A.data.getItemGraphicEl(A.dataIndex);T&&(w[T.id]=!0)}function L(R,z){var j=i[z],X=r[R],Z=X.data.hostModel,Q=j.data.getItemGraphicEl(j.dataIndex),nt=X.data.getItemGraphicEl(X.dataIndex);Q!==nt?Q&&w[Q.id]||nt&&(L1(nt),Q?(L1(Q),sE(Q),f=!0,oE(m0(Q),m0(nt),X.divide,Z,R,o)):aE(nt,Z,R)):nt&&MF(nt,X.dataIndex,Z)}new ah(i,r,g(!0,v),g(!1,v),null,"multiple").update(L).updateManyToOne(function(R,z){var j=r[R],X=j.data,Z=X.hostModel,Q=X.getItemGraphicEl(j.dataIndex),nt=$e(ye(z,function(it){return i[it].data.getItemGraphicEl(i[it].dataIndex)}),function(it){return it&&it!==Q&&!w[it.id]});Q&&(L1(Q),nt.length?(U(nt,function(it){L1(it),sE(it)}),f=!0,oE(m0(nt),m0(Q),j.divide,Z,R,o)):aE(Q,Z,j.dataIndex))}).updateOneToMany(function(R,z){var j=i[z],X=j.data.getItemGraphicEl(j.dataIndex);if(!X||!w[X.id]){var Z=$e(ye(R,function(nt){return r[nt].data.getItemGraphicEl(r[nt].dataIndex)}),function(nt){return nt&&nt!==X}),Q=r[R[0]].data.hostModel;Z.length&&(U(Z,function(nt){return L1(nt)}),X?(L1(X),sE(X),f=!0,oE(m0(X),m0(Z),j.divide,Q,R[0],o)):U(Z,function(nt){return aE(nt,Q,R[0])}))}}).updateManyToMany(function(R,z){new ah(z,R,function(j){return i[j].data.getId(i[j].dataIndex)},function(j){return r[j].data.getId(r[j].dataIndex)}).update(function(j,X){L(R[j],z[X])}).execute()}).execute(),f&&U(e,function(R){var z=R.data.hostModel,j=z&&t.getViewOfSeriesModel(z),X=Ip("update",z,0);j&&z.isAnimationEnabled()&&X&&X.duration>0&&j.group.traverse(function(Z){Z instanceof Ti&&!Z.animators.length&&Z.animateFrom({style:{opacity:0}},X)})})}function IR(n){var e=n.getModel("universalTransition").get("seriesKey");return e||n.id}function DR(n){return he(n)?n.sort().join(","):n}function zm(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function LR(n,e){for(var t=0;t<n.length;t++)if(e.seriesIndex!=null&&e.seriesIndex===n[t].seriesIndex||e.seriesId!=null&&e.seriesId===n[t].id)return t}cr([function(n){n.registerPainter("canvas",_T)}]),cr([function(n){n.registerPainter("svg",YS)}]),cr([function(n){n.registerChartView(oL),n.registerSeriesModel(nL),n.registerLayout(dm("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,iC("line"))},function(n){n.registerChartView(OT),n.registerSeriesModel(DT),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,un(HM,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,lS("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,iC("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})},function(n){n.registerChartView(lL),n.registerSeriesModel(Mb),k_("pie",n.registerAction),n.registerLayout(un(sL,"pie")),n.registerProcessor(Iy("pie")),n.registerProcessor(function(e){return{seriesType:e,reset:function(t,i){var r=t.getData();r.filterSelf(function(o){var a=r.mapDimension("value"),l=r.get(a,o);return!(fi(l)&&!isNaN(l)&&l<0)})}}}("pie"))},function(n){cr(t2),n.registerSeriesModel(gC),n.registerChartView(jT),n.registerLayout(dm("scatter"))},function(n){cr(mL),n.registerChartView(pL),n.registerSeriesModel(i2),n.registerLayout(hL),n.registerProcessor(Iy("radar")),n.registerPreprocessor(dL)},function(n){cr(UC),n.registerChartView(b2),n.registerSeriesModel(w2),n.registerLayout(S2),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,_2),k_("map",n.registerAction)},function(n){n.registerChartView(O2),n.registerSeriesModel(V2),n.registerLayout(Sm),n.registerVisual(ik),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,i){i.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var o=t.dataIndex,a=r.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,i,r){i.eachComponent({mainType:"series",subType:"tree",query:t},function(o){var a=$b(o.coordinateSystem,t,void 0,r);o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom)})})}(n)},function(n){n.registerSeriesModel(j2),n.registerChartView(X2),n.registerVisual($2),n.registerLayout(J2),function(e){for(var t=0;t<H2.length;t++)e.registerAction({type:H2[t],update:"updateView"},En);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,r){r.eachComponent({mainType:"series",subType:"treemap",query:i},function(o,a){var l=_m(i,["treemapZoomToNode","treemapRootToNode"],o);if(l){var u=o.getViewRoot();u&&(i.direction=Jb(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}})})}(n)},function(n){n.registerChartView(NL),n.registerSeriesModel(y1),n.registerProcessor(OL),n.registerVisual(EL),n.registerVisual(PL),n.registerLayout(nI),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,h1),n.registerLayout(Mf),n.registerCoordinateSystem("graphView",{dimensions:wf.dimensions,create:rI}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},En),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},En),n.registerAction(cI,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(r){var o=$b(r.coordinateSystem,e,void 0,i);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})},function(n){n.registerChartView(uI),n.registerSeriesModel(RL)},function(n){n.registerChartView(hI),n.registerSeriesModel(Lm),n.registerLayout(b1),n.registerProcessor(Iy("funnel"))},function(n){cr(vI),n.registerChartView(dI),n.registerSeriesModel(zL),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,c)},function(n){n.registerChartView(VL),n.registerSeriesModel(yI),n.registerLayout(Ak),n.registerVisual(h0),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function(n){n.registerSeriesModel(Ik),n.registerChartView(xI),n.registerLayout(xo),n.registerTransform(Jo)},function(n){n.registerChartView(Ha),n.registerSeriesModel(uE),n.registerPreprocessor(NR),n.registerVisual(HR),n.registerLayout(WR)},function(n){n.registerChartView(YR),n.registerSeriesModel(GR),n.registerLayout(dm("effectScatter"))},function(n){n.registerChartView(ZR),n.registerSeriesModel(QR),n.registerLayout(gE),n.registerVisual(tB)},function(n){n.registerChartView(nB),n.registerSeriesModel(iB)},function(n){n.registerChartView(oB),n.registerSeriesModel(lB),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,un(HM,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,lS("pictorialBar"))},function(n){n.registerChartView(cB),n.registerSeriesModel(uB),n.registerLayout(hB),n.registerProcessor(Iy("themeRiver"))},function(n){n.registerChartView(dB),n.registerSeriesModel(pB),n.registerLayout(un(fB,"sunburst")),n.registerProcessor(un(Iy,"sunburst")),n.registerVisual(gB),function(e){e.registerAction({type:$L,update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"sunburst",query:t},function(r,o){var a=_m(t,[$L],r);if(a){var l=r.getViewRoot();l&&(t.direction=Jb(l,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),e.registerAction({type:EE,update:"none"},function(t,i,r){t=pe({},t),i.eachComponent({mainType:"series",subType:"sunburst",query:t},function(o){var a=_m(t,[EE],o);a&&(t.dataIndex=a.node.dataIndex)}),r.dispatchAction(pe(t,{type:"highlight"}))}),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,i,r){t=pe({},t),r.dispatchAction(pe(t,{type:"downplay"}))})}(n)},function(n){n.registerChartView(TB),n.registerSeriesModel(vB)}]),cr(function(n){cr(t2),cr(Lk)}),cr(function(n){cr(Lk),Pd.registerAxisPointerClass("PolarAxisPointer",WB),n.registerCoordinateSystem("polar",ZB),n.registerComponentModel(YB),n.registerComponentView(sz),Ed(n,"angle",GB,oz),Ed(n,"radius",XB,az),n.registerComponentView(JB),n.registerComponentView(nz),n.registerLayout(un(rz,"bar"))}),cr(UC),cr(function(n){cr(Lk),Pd.registerAxisPointerClass("SingleAxisPointer",mz),n.registerComponentView(yz),n.registerComponentView(uz),n.registerComponentModel(EI),Ed(n,"single",EI,EI.defaultOption),n.registerCoordinateSystem("single",fz)}),cr(vI),cr(function(n){n.registerComponentModel(xz),n.registerComponentView(bz),n.registerCoordinateSystem("calendar",wz)}),cr(function(n){n.registerComponentModel(Sz),n.registerComponentView(Cz),n.registerPreprocessor(function(e){var t=e.graphic;he(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}),cr(function(n){n.registerComponentModel(Oz),n.registerComponentView(Ez),A1("saveAsImage",Pz),A1("magicType",Rz),A1("dataView",zz),A1("dataZoom",Yz),A1("restore",Vz),cr(Lz)}),cr(function(n){cr(Lk),n.registerComponentModel(Xz),n.registerComponentView(Qz),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},En),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},En)}),cr(Lk),cr(function(n){n.registerComponentView(a5),n.registerComponentModel(s5),n.registerPreprocessor(e5),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,i5),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},En),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},En),A1("brush",c5)}),cr(function(n){n.registerComponentModel(u5),n.registerComponentView(h5)}),cr(function(n){n.registerComponentModel(SN),n.registerComponentView(f5),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,i,r){var o=i.getComponent("timeline");return o&&t.currentIndex!=null&&(o.setCurrentIndex(t.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),i.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),De({currentIndex:o.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,i){var r=i.getComponent("timeline");r&&t.playState!=null&&r.setPlayState(t.playState)})}(n),n.registerPreprocessor(g5)}),cr(function(n){n.registerComponentModel(m5),n.registerComponentView(v5),n.registerPreprocessor(function(e){zO(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),cr(function(n){n.registerComponentModel(y5),n.registerComponentView(w5),n.registerPreprocessor(function(e){zO(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),cr(function(n){n.registerComponentModel(_5),n.registerComponentView(k5),n.registerPreprocessor(function(e){zO(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),cr(function(n){cr(zN),cr(I5)}),cr(function(n){cr(jN),cr(XN)}),cr(jN),cr(XN),cr(function(n){cr(lR),cr(uR)}),cr(lR),cr(uR),cr(function(n){n.registerPreprocessor(oF),n.registerVisual(n.PRIORITY.VISUAL.ARIA,rF)}),cr(function(n){n.registerTransform(pF),n.registerTransform(fF)}),cr(function(n){n.registerComponentModel(gF),n.registerComponentView(mF)}),cr(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){U(Fr(i.seriesTransition),function(r){U(Fr(r.to),function(o){for(var a=i.updatedSeries,l=0;l<a.length;l++)(o.seriesIndex!=null&&o.seriesIndex===a[l].seriesIndex||o.seriesId!=null&&o.seriesId===a[l].id)&&(a[l].__universalTransitionEnabled=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var r=AF(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)U(Fr(o),function(_){(function(A,T,L,R){var z=[],j=[];U(Fr(A.from),function(X){var Z=LR(T.oldSeries,X);Z>=0&&z.push({dataGroupId:T.oldDataGroupIds[Z],data:T.oldData[Z],divide:zm(T.oldData[Z]),dim:X.dimension})}),U(Fr(A.to),function(X){var Z=LR(L.updatedSeries,X);if(Z>=0){var Q=L.updatedSeries[Z].getData();j.push({dataGroupId:T.oldDataGroupIds[Z],data:Q,divide:zm(Q),dim:X.dimension})}}),z.length>0&&j.length>0&&TR(z,j,R)})(_,r,i,t)});else{var a=function(_,A){var T=yn(),L=yn(),R=yn();return U(_.oldSeries,function(z,j){var X=_.oldDataGroupIds[j],Z=_.oldData[j],Q=IR(z),nt=DR(Q);L.set(nt,{dataGroupId:X,data:Z}),he(Q)&&U(Q,function(it){R.set(it,{key:nt,dataGroupId:X,data:Z})})}),U(A.updatedSeries,function(z){if(z.isUniversalTransitionEnabled()&&z.isAnimationEnabled()){var j=z.get("dataGroupId"),X=z.getData(),Z=IR(z),Q=DR(Z),nt=L.get(Q);if(nt)T.set(Q,{oldSeries:[{dataGroupId:nt.dataGroupId,divide:zm(nt.data),data:nt.data}],newSeries:[{dataGroupId:j,divide:zm(X),data:X}]});else if(he(Z)){var it=[];U(Z,function(St){var Ot=L.get(St);Ot.data&&it.push({dataGroupId:Ot.dataGroupId,divide:zm(Ot.data),data:Ot.data})}),it.length&&T.set(Q,{oldSeries:it,newSeries:[{dataGroupId:j,data:X,divide:zm(X)}]})}else{var mt=R.get(Z);if(mt){var bt=T.get(mt.key);bt||(bt={oldSeries:[{dataGroupId:mt.dataGroupId,data:mt.data,divide:zm(mt.data)}],newSeries:[]},T.set(mt.key,bt)),bt.newSeries.push({dataGroupId:j,data:X,divide:zm(X)})}}}}),T}(r,i);U(a.keys(),function(_){var A=a.get(_);TR(A.oldSeries,A.newSeries,t)})}U(i.updatedSeries,function(_){_.__universalTransitionEnabled&&(_.__universalTransitionEnabled=!1)})}for(var l=e.getSeries(),u=r.oldSeries=[],f=r.oldDataGroupIds=[],g=r.oldData=[],v=0;v<l.length;v++){var w=l[v].getData();w.count()<1e4&&(u.push(l[v]),f.push(l[v].get("dataGroupId")),g.push(w))}})}),cr(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=LS(t).labelManager;r||(r=LS(t).labelManager=new lT),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=LS(t).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}),Ve.Axis=Ds,Ve.ChartView=qr,Ve.ComponentModel=pr,Ve.ComponentView=io,Ve.List=Va,Ve.Model=Nr,Ve.PRIORITY=F_,Ve.SeriesModel=Vr,Ve.color=ta,Ve.connect=function(n){if(he(n)){var e=n;n=null,U(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+BD++,U(e,function(t){t.group=n})}return Vx[n]=!0,n},Ve.dataTool={},Ve.dependencies={zrender:"5.4.1"},Ve.disConnect=Cc,Ve.disconnect=zD,Ve.dispose=function(n){kn(n)?n=xd[n]:n instanceof Xv||(n=Hx(n)),n instanceof Xv&&!n.isDisposed()&&n.dispose()},Ve.env=ke,Ve.extendChartView=function(n){var e=qr.extend(n);return qr.registerClass(e),e},Ve.extendComponentModel=function(n){var e=pr.extend(n);return pr.registerClass(e),e},Ve.extendComponentView=function(n){var e=io.extend(n);return io.registerClass(e),e},Ve.extendSeriesModel=function(n){var e=Vr.extend(n);return Vr.registerClass(e),e},Ve.format=GD,Ve.getCoordinateSystemDimensions=function(n){var e=od.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},Ve.getInstanceByDom=Hx,Ve.getInstanceById=function(n){return xd[n]},Ve.getMap=function(n){var e=Dx("getMap");return e&&e(n)},Ve.graphic=tT,Ve.helper=om,Ve.init=function(n,e,t){var i=!(t&&t.ssr);if(i){var r=Hx(n);if(r)return r}var o=new Xv(n,e,t);return o.id="ec_"+RD++,xd[o.id]=o,i&&Tl(n,za,o.id),Y_(o),zl.trigger("afterinit",o),o},Ve.innerDrawElementOnCanvas=E_,Ve.matrix=ha,Ve.number=dy,Ve.parseGeoJSON=af,Ve.parseGeoJson=af,Ve.registerAction=Us,Ve.registerCoordinateSystem=CM,Ve.registerLayout=oh,Ve.registerLoading=$v,Ve.registerLocale=yv,Ve.registerMap=Fl,Ve.registerPostInit=_M,Ve.registerPostUpdate=SM,Ve.registerPreprocessor=Uv,Ve.registerProcessor=Wx,Ve.registerTheme=tm,Ve.registerTransform=Lr,Ve.registerUpdateLifecycle=bd,Ve.registerVisual=wd,Ve.setCanvasCreator=function(n){gt({createCanvas:n})},Ve.setPlatformAPI=gt,Ve.throttle=du,Ve.time=Qx,Ve.use=cr,Ve.util=XD,Ve.vector=d,Ve.version="5.4.1",Ve.zrUtil=Di,Ve.zrender=v0,Object.defineProperty(Ve,"__esModule",{value:!0})});/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(Ve,Wt){typeof bh=="object"&&typeof Xl=="object"?Xl.exports=Wt():typeof define=="function"&&define.amd?define([],Wt):typeof bh=="object"?bh.Quill=Wt():Ve.Quill=Wt()})(typeof self<"u"?self:globalThis,function(){return function(Ve){function Wt(qt){if(wt[qt])return wt[qt].exports;var ke=wt[qt]={i:qt,l:!1,exports:{}};return Ve[qt].call(ke.exports,ke,ke.exports,Wt),ke.l=!0,ke.exports}var wt={};return Wt.m=Ve,Wt.c=wt,Wt.d=function(qt,ke,Jt){Wt.o(qt,ke)||Object.defineProperty(qt,ke,{configurable:!1,enumerable:!0,get:Jt})},Wt.n=function(qt){var ke=qt&&qt.__esModule?function(){return qt.default}:function(){return qt};return Wt.d(ke,"a",ke),ke},Wt.o=function(qt,ke){return Object.prototype.hasOwnProperty.call(qt,ke)},Wt.p="",Wt(Wt.s=45)}([function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0});var qt=wt(17),ke=wt(18),Jt=wt(19),re=wt(48),Zt=wt(49),Bt=wt(50),yt=wt(51),pt=wt(52),gt=wt(11),ft=wt(29),It=wt(30),Mt=wt(28),Ct=wt(1),ct={Scope:Ct.Scope,create:Ct.create,find:Ct.find,query:Ct.query,register:Ct.register,Container:qt.default,Format:ke.default,Leaf:Jt.default,Embed:yt.default,Scroll:re.default,Block:Bt.default,Inline:Zt.default,Text:pt.default,Attributor:{Attribute:gt.default,Class:ft.default,Style:It.default,Store:Mt.default}};Wt.default=ct},function(Ve,Wt,wt){function qt(Mt,Ct){var ct=Jt(Mt);if(ct==null)throw new Bt("Unable to create "+Mt+" blot");var te=ct;return new te(Mt instanceof Node||Mt.nodeType===Node.TEXT_NODE?Mt:te.create(Ct),Ct)}function ke(Mt,Ct){return Ct===void 0&&(Ct=!1),Mt==null?null:Mt[Wt.DATA_KEY]!=null?Mt[Wt.DATA_KEY].blot:Ct?ke(Mt.parentNode,Ct):null}function Jt(Mt,Ct){Ct===void 0&&(Ct=It.ANY);var ct;if(typeof Mt=="string")ct=ft[Mt]||yt[Mt];else if(Mt instanceof Text||Mt.nodeType===Node.TEXT_NODE)ct=ft.text;else if(typeof Mt=="number")Mt&It.LEVEL&It.BLOCK?ct=ft.block:Mt&It.LEVEL&It.INLINE&&(ct=ft.inline);else if(Mt instanceof HTMLElement){var te=(Mt.getAttribute("class")||"").split(/\s+/);for(var At in te)if(ct=pt[te[At]])break;ct=ct||gt[Mt.tagName]}return ct==null?null:Ct&It.LEVEL&ct.scope&&Ct&It.TYPE&ct.scope?ct:null}function re(){for(var Mt=[],Ct=0;Ct<arguments.length;Ct++)Mt[Ct]=arguments[Ct];if(Mt.length>1)return Mt.map(function(At){return re(At)});var ct=Mt[0];if(typeof ct.blotName!="string"&&typeof ct.attrName!="string")throw new Bt("Invalid definition");if(ct.blotName==="abstract")throw new Bt("Cannot register abstract class");if(ft[ct.blotName||ct.attrName]=ct,typeof ct.keyName=="string")yt[ct.keyName]=ct;else if(ct.className!=null&&(pt[ct.className]=ct),ct.tagName!=null){Array.isArray(ct.tagName)?ct.tagName=ct.tagName.map(function(At){return At.toUpperCase()}):ct.tagName=ct.tagName.toUpperCase();var te=Array.isArray(ct.tagName)?ct.tagName:[ct.tagName];te.forEach(function(At){gt[At]!=null&&ct.className!=null||(gt[At]=ct)})}return ct}var Zt=this&&this.__extends||function(){var Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ct,ct){Ct.__proto__=ct}||function(Ct,ct){for(var te in ct)ct.hasOwnProperty(te)&&(Ct[te]=ct[te])};return function(Ct,ct){function te(){this.constructor=Ct}Mt(Ct,ct),Ct.prototype=ct===null?Object.create(ct):(te.prototype=ct.prototype,new te)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var Bt=function(Mt){function Ct(ct){var te=this;return ct="[Parchment] "+ct,te=Mt.call(this,ct)||this,te.message=ct,te.name=te.constructor.name,te}return Zt(Ct,Mt),Ct}(Error);Wt.ParchmentError=Bt;var yt={},pt={},gt={},ft={};Wt.DATA_KEY="__blot";var It;(function(Mt){Mt[Mt.TYPE=3]="TYPE",Mt[Mt.LEVEL=12]="LEVEL",Mt[Mt.ATTRIBUTE=13]="ATTRIBUTE",Mt[Mt.BLOT=14]="BLOT",Mt[Mt.INLINE=7]="INLINE",Mt[Mt.BLOCK=11]="BLOCK",Mt[Mt.BLOCK_BLOT=10]="BLOCK_BLOT",Mt[Mt.INLINE_BLOT=6]="INLINE_BLOT",Mt[Mt.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Mt[Mt.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Mt[Mt.ANY=15]="ANY"})(It=Wt.Scope||(Wt.Scope={})),Wt.create=qt,Wt.find=ke,Wt.query=Jt,Wt.register=re},function(Ve,Wt){var wt=Object.prototype.hasOwnProperty,qt=Object.prototype.toString,ke=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,re=function(pt){return typeof Array.isArray=="function"?Array.isArray(pt):qt.call(pt)==="[object Array]"},Zt=function(pt){if(!pt||qt.call(pt)!=="[object Object]")return!1;var gt=wt.call(pt,"constructor"),ft=pt.constructor&&pt.constructor.prototype&&wt.call(pt.constructor.prototype,"isPrototypeOf");if(pt.constructor&&!gt&&!ft)return!1;var It;for(It in pt);return It===void 0||wt.call(pt,It)},Bt=function(pt,gt){ke&&gt.name==="__proto__"?ke(pt,gt.name,{enumerable:!0,configurable:!0,value:gt.newValue,writable:!0}):pt[gt.name]=gt.newValue},yt=function(pt,gt){if(gt==="__proto__"){if(!wt.call(pt,gt))return;if(Jt)return Jt(pt,gt).value}return pt[gt]};Ve.exports=function pt(){var gt,ft,It,Mt,Ct,ct,te=arguments[0],At=1,Ft=arguments.length,Kt=!1;for(typeof te=="boolean"&&(Kt=te,te=arguments[1]||{},At=2),(te==null||typeof te!="object"&&typeof te!="function")&&(te={});At<Ft;++At)if((gt=arguments[At])!=null)for(ft in gt)It=yt(te,ft),Mt=yt(gt,ft),te!==Mt&&(Kt&&Mt&&(Zt(Mt)||(Ct=re(Mt)))?(Ct?(Ct=!1,ct=It&&re(It)?It:[]):ct=It&&Zt(It)?It:{},Bt(te,{name:ft,newValue:pt(Kt,ct,Mt)})):Mt!==void 0&&Bt(te,{name:ft,newValue:Mt}));return te}},function(Ve,Wt,wt){function qt(ne){return ne&&ne.__esModule?ne:{default:ne}}function ke(ne,Ht){if(!(ne instanceof Ht))throw new TypeError("Cannot call a class as a function")}function Jt(ne,Ht){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ht||typeof Ht!="object"&&typeof Ht!="function"?ne:Ht}function re(ne,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);ne.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,Ht):ne.__proto__=Ht)}function Zt(ne){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ne==null?Ht:(typeof ne.formats=="function"&&(Ht=(0,gt.default)(Ht,ne.formats())),ne.parent==null||ne.parent.blotName=="scroll"||ne.parent.statics.scope!==ne.statics.scope?Ht:Zt(ne.parent,Ht))}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.BlockEmbed=Wt.bubbleFormats=void 0;var Bt=function(){function ne(Ht,Gt){for(var ie=0;ie<Gt.length;ie++){var Le=Gt[ie];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Ht,Le.key,Le)}}return function(Ht,Gt,ie){return Gt&&ne(Ht.prototype,Gt),ie&&ne(Ht,ie),Ht}}(),yt=function ne(Ht,Gt,ie){Ht===null&&(Ht=Function.prototype);var Le=Object.getOwnPropertyDescriptor(Ht,Gt);if(Le===void 0){var pe=Object.getPrototypeOf(Ht);return pe===null?void 0:ne(pe,Gt,ie)}if("value"in Le)return Le.value;var De=Le.get;if(De!==void 0)return De.call(ie)},pt=wt(2),gt=qt(pt),ft=wt(4),It=qt(ft),Mt=wt(0),Ct=qt(Mt),ct=wt(14),te=qt(ct),At=wt(5),Ft=qt(At),Kt=wt(8),se=qt(Kt),Me=function(ne){function Ht(){return ke(this,Ht),Jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).apply(this,arguments))}return re(Ht,ne),Bt(Ht,[{key:"attach",value:function(){yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"attach",this).call(this),this.attributes=new Ct.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new It.default().insert(this.value(),(0,gt.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(Gt,ie){var Le=Ct.default.query(Gt,Ct.default.Scope.BLOCK_ATTRIBUTE);Le!=null&&this.attributes.attribute(Le,ie)}},{key:"formatAt",value:function(Gt,ie,Le,pe){this.format(Le,pe)}},{key:"insertAt",value:function(Gt,ie,Le){if(typeof ie=="string"&&ie.endsWith(`
`)){var pe=Ct.default.create(fe.blotName);this.parent.insertBefore(pe,Gt===0?this:this.next),pe.insertAt(0,ie.slice(0,-1))}else yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"insertAt",this).call(this,Gt,ie,Le)}}]),Ht}(Ct.default.Embed);Me.scope=Ct.default.Scope.BLOCK_BLOT;var fe=function(ne){function Ht(Gt){ke(this,Ht);var ie=Jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Gt));return ie.cache={},ie}return re(Ht,ne),Bt(Ht,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(Ct.default.Leaf).reduce(function(Gt,ie){return ie.length()===0?Gt:Gt.insert(ie.value(),Zt(ie))},new It.default).insert(`
`,Zt(this))),this.cache.delta}},{key:"deleteAt",value:function(Gt,ie){yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"deleteAt",this).call(this,Gt,ie),this.cache={}}},{key:"formatAt",value:function(Gt,ie,Le,pe){ie<=0||(Ct.default.query(Le,Ct.default.Scope.BLOCK)?Gt+ie===this.length()&&this.format(Le,pe):yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"formatAt",this).call(this,Gt,Math.min(ie,this.length()-Gt-1),Le,pe),this.cache={})}},{key:"insertAt",value:function(Gt,ie,Le){if(Le!=null)return yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"insertAt",this).call(this,Gt,ie,Le);if(ie.length!==0){var pe=ie.split(`
`),De=pe.shift();De.length>0&&(Gt<this.length()-1||this.children.tail==null?yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"insertAt",this).call(this,Math.min(Gt,this.length()-1),De):this.children.tail.insertAt(this.children.tail.length(),De),this.cache={});var Bn=this;pe.reduce(function(rn,ln){return Bn=Bn.split(rn,!0),Bn.insertAt(0,ln),ln.length},Gt+De.length)}}},{key:"insertBefore",value:function(Gt,ie){var Le=this.children.head;yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"insertBefore",this).call(this,Gt,ie),Le instanceof te.default&&Le.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(Gt,ie){yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"moveChildren",this).call(this,Gt,ie),this.cache={}}},{key:"optimize",value:function(Gt){yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"optimize",this).call(this,Gt),this.cache={}}},{key:"path",value:function(Gt){return yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"path",this).call(this,Gt,!0)}},{key:"removeChild",value:function(Gt){yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"removeChild",this).call(this,Gt),this.cache={}}},{key:"split",value:function(Gt){var ie=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(ie&&(Gt===0||Gt>=this.length()-1)){var Le=this.clone();return Gt===0?(this.parent.insertBefore(Le,this),this):(this.parent.insertBefore(Le,this.next),Le)}var pe=yt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"split",this).call(this,Gt,ie);return this.cache={},pe}}]),Ht}(Ct.default.Block);fe.blotName="block",fe.tagName="P",fe.defaultChild="break",fe.allowedChildren=[Ft.default,Ct.default.Embed,se.default],Wt.bubbleFormats=Zt,Wt.BlockEmbed=Me,Wt.default=fe},function(Ve,Wt,wt){var qt=wt(54),ke=wt(12),Jt=wt(2),re=wt(20),Zt=String.fromCharCode(0),Bt=function(yt){Array.isArray(yt)?this.ops=yt:yt!=null&&Array.isArray(yt.ops)?this.ops=yt.ops:this.ops=[]};Bt.prototype.insert=function(yt,pt){var gt={};return yt.length===0?this:(gt.insert=yt,pt!=null&&typeof pt=="object"&&Object.keys(pt).length>0&&(gt.attributes=pt),this.push(gt))},Bt.prototype.delete=function(yt){return yt<=0?this:this.push({delete:yt})},Bt.prototype.retain=function(yt,pt){if(yt<=0)return this;var gt={retain:yt};return pt!=null&&typeof pt=="object"&&Object.keys(pt).length>0&&(gt.attributes=pt),this.push(gt)},Bt.prototype.push=function(yt){var pt=this.ops.length,gt=this.ops[pt-1];if(yt=Jt(!0,{},yt),typeof gt=="object"){if(typeof yt.delete=="number"&&typeof gt.delete=="number")return this.ops[pt-1]={delete:gt.delete+yt.delete},this;if(typeof gt.delete=="number"&&yt.insert!=null&&(pt-=1,typeof(gt=this.ops[pt-1])!="object"))return this.ops.unshift(yt),this;if(ke(yt.attributes,gt.attributes)){if(typeof yt.insert=="string"&&typeof gt.insert=="string")return this.ops[pt-1]={insert:gt.insert+yt.insert},typeof yt.attributes=="object"&&(this.ops[pt-1].attributes=yt.attributes),this;if(typeof yt.retain=="number"&&typeof gt.retain=="number")return this.ops[pt-1]={retain:gt.retain+yt.retain},typeof yt.attributes=="object"&&(this.ops[pt-1].attributes=yt.attributes),this}}return pt===this.ops.length?this.ops.push(yt):this.ops.splice(pt,0,yt),this},Bt.prototype.chop=function(){var yt=this.ops[this.ops.length-1];return yt&&yt.retain&&!yt.attributes&&this.ops.pop(),this},Bt.prototype.filter=function(yt){return this.ops.filter(yt)},Bt.prototype.forEach=function(yt){this.ops.forEach(yt)},Bt.prototype.map=function(yt){return this.ops.map(yt)},Bt.prototype.partition=function(yt){var pt=[],gt=[];return this.forEach(function(ft){(yt(ft)?pt:gt).push(ft)}),[pt,gt]},Bt.prototype.reduce=function(yt,pt){return this.ops.reduce(yt,pt)},Bt.prototype.changeLength=function(){return this.reduce(function(yt,pt){return pt.insert?yt+re.length(pt):pt.delete?yt-pt.delete:yt},0)},Bt.prototype.length=function(){return this.reduce(function(yt,pt){return yt+re.length(pt)},0)},Bt.prototype.slice=function(yt,pt){yt=yt||0,typeof pt!="number"&&(pt=1/0);for(var gt=[],ft=re.iterator(this.ops),It=0;It<pt&&ft.hasNext();){var Mt;It<yt?Mt=ft.next(yt-It):(Mt=ft.next(pt-It),gt.push(Mt)),It+=re.length(Mt)}return new Bt(gt)},Bt.prototype.compose=function(yt){var pt=re.iterator(this.ops),gt=re.iterator(yt.ops),ft=[],It=gt.peek();if(It!=null&&typeof It.retain=="number"&&It.attributes==null){for(var Mt=It.retain;pt.peekType()==="insert"&&pt.peekLength()<=Mt;)Mt-=pt.peekLength(),ft.push(pt.next());It.retain-Mt>0&&gt.next(It.retain-Mt)}for(var Ct=new Bt(ft);pt.hasNext()||gt.hasNext();)if(gt.peekType()==="insert")Ct.push(gt.next());else if(pt.peekType()==="delete")Ct.push(pt.next());else{var ct=Math.min(pt.peekLength(),gt.peekLength()),te=pt.next(ct),At=gt.next(ct);if(typeof At.retain=="number"){var Ft={};typeof te.retain=="number"?Ft.retain=ct:Ft.insert=te.insert;var Kt=re.attributes.compose(te.attributes,At.attributes,typeof te.retain=="number");if(Kt&&(Ft.attributes=Kt),Ct.push(Ft),!gt.hasNext()&&ke(Ct.ops[Ct.ops.length-1],Ft)){var se=new Bt(pt.rest());return Ct.concat(se).chop()}}else typeof At.delete=="number"&&typeof te.retain=="number"&&Ct.push(At)}return Ct.chop()},Bt.prototype.concat=function(yt){var pt=new Bt(this.ops.slice());return yt.ops.length>0&&(pt.push(yt.ops[0]),pt.ops=pt.ops.concat(yt.ops.slice(1))),pt},Bt.prototype.diff=function(yt,pt){if(this.ops===yt.ops)return new Bt;var gt=[this,yt].map(function(ct){return ct.map(function(te){if(te.insert!=null)return typeof te.insert=="string"?te.insert:Zt;var At=ct===yt?"on":"with";throw new Error("diff() called "+At+" non-document")}).join("")}),ft=new Bt,It=qt(gt[0],gt[1],pt),Mt=re.iterator(this.ops),Ct=re.iterator(yt.ops);return It.forEach(function(ct){for(var te=ct[1].length;te>0;){var At=0;switch(ct[0]){case qt.INSERT:At=Math.min(Ct.peekLength(),te),ft.push(Ct.next(At));break;case qt.DELETE:At=Math.min(te,Mt.peekLength()),Mt.next(At),ft.delete(At);break;case qt.EQUAL:At=Math.min(Mt.peekLength(),Ct.peekLength(),te);var Ft=Mt.next(At),Kt=Ct.next(At);ke(Ft.insert,Kt.insert)?ft.retain(At,re.attributes.diff(Ft.attributes,Kt.attributes)):ft.push(Kt).delete(At)}te-=At}}),ft.chop()},Bt.prototype.eachLine=function(yt,pt){pt=pt||`
`;for(var gt=re.iterator(this.ops),ft=new Bt,It=0;gt.hasNext();){if(gt.peekType()!=="insert")return;var Mt=gt.peek(),Ct=re.length(Mt)-gt.peekLength(),ct=typeof Mt.insert=="string"?Mt.insert.indexOf(pt,Ct)-Ct:-1;if(ct<0)ft.push(gt.next());else if(ct>0)ft.push(gt.next(ct));else{if(yt(ft,gt.next(1).attributes||{},It)===!1)return;It+=1,ft=new Bt}}ft.length()>0&&yt(ft,{},It)},Bt.prototype.transform=function(yt,pt){if(pt=!!pt,typeof yt=="number")return this.transformPosition(yt,pt);for(var gt=re.iterator(this.ops),ft=re.iterator(yt.ops),It=new Bt;gt.hasNext()||ft.hasNext();)if(gt.peekType()!=="insert"||!pt&&ft.peekType()==="insert")if(ft.peekType()==="insert")It.push(ft.next());else{var Mt=Math.min(gt.peekLength(),ft.peekLength()),Ct=gt.next(Mt),ct=ft.next(Mt);if(Ct.delete)continue;ct.delete?It.push(ct):It.retain(Mt,re.attributes.transform(Ct.attributes,ct.attributes,pt))}else It.retain(re.length(gt.next()));return It.chop()},Bt.prototype.transformPosition=function(yt,pt){pt=!!pt;for(var gt=re.iterator(this.ops),ft=0;gt.hasNext()&&ft<=yt;){var It=gt.peekLength(),Mt=gt.peekType();gt.next(),Mt!=="delete"?(Mt==="insert"&&(ft<yt||!pt)&&(yt+=It),ft+=It):yt-=Math.min(It,yt-ft)}return yt},Ve.exports=Bt},function(Ve,Wt,wt){function qt(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}}function ke(Mt,Ct){if(!(Mt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function Jt(Mt,Ct){if(!Mt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ct||typeof Ct!="object"&&typeof Ct!="function"?Mt:Ct}function re(Mt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ct);Mt.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:Mt,enumerable:!1,writable:!0,configurable:!0}}),Ct&&(Object.setPrototypeOf?Object.setPrototypeOf(Mt,Ct):Mt.__proto__=Ct)}Object.defineProperty(Wt,"__esModule",{value:!0});var Zt=function(){function Mt(Ct,ct){for(var te=0;te<ct.length;te++){var At=ct[te];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(Ct,At.key,At)}}return function(Ct,ct,te){return ct&&Mt(Ct.prototype,ct),te&&Mt(Ct,te),Ct}}(),Bt=function Mt(Ct,ct,te){Ct===null&&(Ct=Function.prototype);var At=Object.getOwnPropertyDescriptor(Ct,ct);if(At===void 0){var Ft=Object.getPrototypeOf(Ct);return Ft===null?void 0:Mt(Ft,ct,te)}if("value"in At)return At.value;var Kt=At.get;if(Kt!==void 0)return Kt.call(te)},yt=wt(8),pt=qt(yt),gt=wt(0),ft=qt(gt),It=function(Mt){function Ct(){return ke(this,Ct),Jt(this,(Ct.__proto__||Object.getPrototypeOf(Ct)).apply(this,arguments))}return re(Ct,Mt),Zt(Ct,[{key:"formatAt",value:function(ct,te,At,Ft){if(Ct.compare(this.statics.blotName,At)<0&&ft.default.query(At,ft.default.Scope.BLOT)){var Kt=this.isolate(ct,te);Ft&&Kt.wrap(At,Ft)}else Bt(Ct.prototype.__proto__||Object.getPrototypeOf(Ct.prototype),"formatAt",this).call(this,ct,te,At,Ft)}},{key:"optimize",value:function(ct){if(Bt(Ct.prototype.__proto__||Object.getPrototypeOf(Ct.prototype),"optimize",this).call(this,ct),this.parent instanceof Ct&&Ct.compare(this.statics.blotName,this.parent.statics.blotName)>0){var te=this.parent.isolate(this.offset(),this.length());this.moveChildren(te),te.wrap(this)}}}],[{key:"compare",value:function(ct,te){var At=Ct.order.indexOf(ct),Ft=Ct.order.indexOf(te);return At>=0||Ft>=0?At-Ft:ct===te?0:ct<te?-1:1}}]),Ct}(ft.default.Inline);It.allowedChildren=[It,ft.default.Embed,pt.default],It.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],Wt.default=It},function(Ve,Wt,wt){function qt(ln){return ln&&ln.__esModule?ln:{default:ln}}function ke(ln,oe,Oe){return oe in ln?Object.defineProperty(ln,oe,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):ln[oe]=Oe,ln}function Jt(ln,oe){if(!(ln instanceof oe))throw new TypeError("Cannot call a class as a function")}function re(ln,oe){if(oe=(0,Gt.default)(!0,{container:ln,modules:{clipboard:!0,keyboard:!0,history:!0}},oe),oe.theme&&oe.theme!==rn.DEFAULTS.theme){if(oe.theme=rn.import("themes/"+oe.theme),oe.theme==null)throw new Error("Invalid theme "+oe.theme+". Did you register it?")}else oe.theme=De.default;var Oe=(0,Gt.default)(!0,{},oe.theme.DEFAULTS);[Oe,oe].forEach(function(cn){cn.modules=cn.modules||{},Object.keys(cn.modules).forEach(function($e){cn.modules[$e]===!0&&(cn.modules[$e]={})})});var U=Object.keys(Oe.modules).concat(Object.keys(oe.modules)),ye=U.reduce(function(cn,$e){var We=rn.import("modules/"+$e);return We==null?Bn.error("Cannot load "+$e+" module. Are you sure you registered it?"):cn[$e]=We.DEFAULTS||{},cn},{});return oe.modules!=null&&oe.modules.toolbar&&oe.modules.toolbar.constructor!==Object&&(oe.modules.toolbar={container:oe.modules.toolbar}),oe=(0,Gt.default)(!0,{},rn.DEFAULTS,{modules:ye},Oe,oe),["bounds","container","scrollingContainer"].forEach(function(cn){typeof oe[cn]=="string"&&(oe[cn]=document.querySelector(oe[cn]))}),oe.modules=Object.keys(oe.modules).reduce(function(cn,$e){return oe.modules[$e]&&(cn[$e]=oe.modules[$e]),cn},{}),oe}function Zt(ln,oe,Oe,U){if(this.options.strict&&!this.isEnabled()&&oe===At.default.sources.USER)return new Mt.default;var ye=Oe==null?null:this.getSelection(),cn=this.editor.delta,$e=ln();if(ye!=null&&(Oe===!0&&(Oe=ye.index),U==null?ye=yt(ye,$e,oe):U!==0&&(ye=yt(ye,Oe,U,oe)),this.setSelection(ye,At.default.sources.SILENT)),$e.length()>0){var We,Re=[At.default.events.TEXT_CHANGE,$e,cn,oe];if((We=this.emitter).emit.apply(We,[At.default.events.EDITOR_CHANGE].concat(Re)),oe!==At.default.sources.SILENT){var Be;(Be=this.emitter).emit.apply(Be,Re)}}return $e}function Bt(ln,oe,Oe,U,ye){var cn={};return typeof ln.index=="number"&&typeof ln.length=="number"?typeof oe!="number"?(ye=U,U=Oe,Oe=oe,oe=ln.length,ln=ln.index):(oe=ln.length,ln=ln.index):typeof oe!="number"&&(ye=U,U=Oe,Oe=oe,oe=0),(Oe===void 0?"undefined":pt(Oe))==="object"?(cn=Oe,ye=U):typeof Oe=="string"&&(U!=null?cn[Oe]=U:ye=Oe),ye=ye||At.default.sources.API,[ln,oe,cn,ye]}function yt(ln,oe,Oe,U){if(ln==null)return null;var ye=void 0,cn=void 0;if(oe instanceof Mt.default){var $e=[ln.index,ln.index+ln.length].map(function(un){return oe.transformPosition(un,U!==At.default.sources.USER)}),We=gt($e,2);ye=We[0],cn=We[1]}else{var Re=[ln.index,ln.index+ln.length].map(function(un){return un<oe||un===oe&&U===At.default.sources.USER?un:Oe>=0?un+Oe:Math.max(oe,un+Oe)}),Be=gt(Re,2);ye=Be[0],cn=Be[1]}return new fe.Range(ye,cn-ye)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.overload=Wt.expandConfig=void 0;var pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ln){return typeof ln}:function(ln){return ln&&typeof Symbol=="function"&&ln.constructor===Symbol&&ln!==Symbol.prototype?"symbol":typeof ln},gt=function(){function ln(oe,Oe){var U=[],ye=!0,cn=!1,$e=void 0;try{for(var We,Re=oe[Symbol.iterator]();!(ye=(We=Re.next()).done)&&(U.push(We.value),!Oe||U.length!==Oe);ye=!0);}catch(Be){cn=!0,$e=Be}finally{try{!ye&&Re.return&&Re.return()}finally{if(cn)throw $e}}return U}return function(oe,Oe){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return ln(oe,Oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ft=function(){function ln(oe,Oe){for(var U=0;U<Oe.length;U++){var ye=Oe[U];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(oe,ye.key,ye)}}return function(oe,Oe,U){return Oe&&ln(oe.prototype,Oe),U&&ln(oe,U),oe}}();wt(53);var It=wt(4),Mt=qt(It),Ct=wt(57),ct=qt(Ct),te=wt(9),At=qt(te),Ft=wt(7),Kt=qt(Ft),se=wt(0),Me=qt(se),fe=wt(22),ne=qt(fe),Ht=wt(2),Gt=qt(Ht),ie=wt(10),Le=qt(ie),pe=wt(32),De=qt(pe),Bn=(0,Le.default)("quill"),rn=function(){function ln(oe){var Oe=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Jt(this,ln),this.options=re(oe,U),this.container=this.options.container,this.container==null)return Bn.error("Invalid Quill container",oe);this.options.debug&&ln.debug(this.options.debug);var ye=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new At.default,this.scroll=Me.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new ct.default(this.scroll),this.selection=new ne.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(At.default.events.EDITOR_CHANGE,function($e){$e===At.default.events.TEXT_CHANGE&&Oe.root.classList.toggle("ql-blank",Oe.editor.isBlank())}),this.emitter.on(At.default.events.SCROLL_UPDATE,function($e,We){var Re=Oe.selection.lastRange,Be=Re&&Re.length===0?Re.index:void 0;Zt.call(Oe,function(){return Oe.editor.update(null,We,Be)},$e)});var cn=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+ye+"<p><br></p></div>");this.setContents(cn),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return ft(ln,null,[{key:"debug",value:function(oe){oe===!0&&(oe="log"),Le.default.level(oe)}},{key:"find",value:function(oe){return oe.__quill||Me.default.find(oe)}},{key:"import",value:function(oe){return this.imports[oe]==null&&Bn.error("Cannot import "+oe+". Are you sure it was registered?"),this.imports[oe]}},{key:"register",value:function(oe,Oe){var U=this,ye=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof oe!="string"){var cn=oe.attrName||oe.blotName;typeof cn=="string"?this.register("formats/"+cn,oe,Oe):Object.keys(oe).forEach(function($e){U.register($e,oe[$e],Oe)})}else this.imports[oe]==null||ye||Bn.warn("Overwriting "+oe+" with",Oe),this.imports[oe]=Oe,(oe.startsWith("blots/")||oe.startsWith("formats/"))&&Oe.blotName!=="abstract"?Me.default.register(Oe):oe.startsWith("modules")&&typeof Oe.register=="function"&&Oe.register()}}]),ft(ln,[{key:"addContainer",value:function(oe){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof oe=="string"){var U=oe;oe=document.createElement("div"),oe.classList.add(U)}return this.container.insertBefore(oe,Oe),oe}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(oe,Oe,U){var ye=this,cn=Bt(oe,Oe,U),$e=gt(cn,4);return oe=$e[0],Oe=$e[1],U=$e[3],Zt.call(this,function(){return ye.editor.deleteText(oe,Oe)},U,oe,-1*Oe)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var oe=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(oe),this.container.classList.toggle("ql-disabled",!oe)}},{key:"focus",value:function(){var oe=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=oe,this.scrollIntoView()}},{key:"format",value:function(oe,Oe){var U=this,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:At.default.sources.API;return Zt.call(this,function(){var cn=U.getSelection(!0),$e=new Mt.default;if(cn==null)return $e;if(Me.default.query(oe,Me.default.Scope.BLOCK))$e=U.editor.formatLine(cn.index,cn.length,ke({},oe,Oe));else{if(cn.length===0)return U.selection.format(oe,Oe),$e;$e=U.editor.formatText(cn.index,cn.length,ke({},oe,Oe))}return U.setSelection(cn,At.default.sources.SILENT),$e},ye)}},{key:"formatLine",value:function(oe,Oe,U,ye,cn){var $e=this,We=void 0,Re=Bt(oe,Oe,U,ye,cn),Be=gt(Re,4);return oe=Be[0],Oe=Be[1],We=Be[2],cn=Be[3],Zt.call(this,function(){return $e.editor.formatLine(oe,Oe,We)},cn,oe,0)}},{key:"formatText",value:function(oe,Oe,U,ye,cn){var $e=this,We=void 0,Re=Bt(oe,Oe,U,ye,cn),Be=gt(Re,4);return oe=Be[0],Oe=Be[1],We=Be[2],cn=Be[3],Zt.call(this,function(){return $e.editor.formatText(oe,Oe,We)},cn,oe,0)}},{key:"getBounds",value:function(oe){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;U=typeof oe=="number"?this.selection.getBounds(oe,Oe):this.selection.getBounds(oe.index,oe.length);var ye=this.container.getBoundingClientRect();return{bottom:U.bottom-ye.top,height:U.height,left:U.left-ye.left,right:U.right-ye.left,top:U.top-ye.top,width:U.width}}},{key:"getContents",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-oe,U=Bt(oe,Oe),ye=gt(U,2);return oe=ye[0],Oe=ye[1],this.editor.getContents(oe,Oe)}},{key:"getFormat",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof oe=="number"?this.editor.getFormat(oe,Oe):this.editor.getFormat(oe.index,oe.length)}},{key:"getIndex",value:function(oe){return oe.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(oe){return this.scroll.leaf(oe)}},{key:"getLine",value:function(oe){return this.scroll.line(oe)}},{key:"getLines",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof oe!="number"?this.scroll.lines(oe.index,oe.length):this.scroll.lines(oe,Oe)}},{key:"getModule",value:function(oe){return this.theme.modules[oe]}},{key:"getSelection",value:function(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-oe,U=Bt(oe,Oe),ye=gt(U,2);return oe=ye[0],Oe=ye[1],this.editor.getText(oe,Oe)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(oe,Oe,U){var ye=this,cn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ln.sources.API;return Zt.call(this,function(){return ye.editor.insertEmbed(oe,Oe,U)},cn,oe)}},{key:"insertText",value:function(oe,Oe,U,ye,cn){var $e=this,We=void 0,Re=Bt(oe,0,U,ye,cn),Be=gt(Re,4);return oe=Be[0],We=Be[2],cn=Be[3],Zt.call(this,function(){return $e.editor.insertText(oe,Oe,We)},cn,oe,Oe.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(oe,Oe,U){this.clipboard.dangerouslyPasteHTML(oe,Oe,U)}},{key:"removeFormat",value:function(oe,Oe,U){var ye=this,cn=Bt(oe,Oe,U),$e=gt(cn,4);return oe=$e[0],Oe=$e[1],U=$e[3],Zt.call(this,function(){return ye.editor.removeFormat(oe,Oe)},U,oe)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(oe){var Oe=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:At.default.sources.API;return Zt.call(this,function(){oe=new Mt.default(oe);var ye=Oe.getLength(),cn=Oe.editor.deleteText(0,ye),$e=Oe.editor.applyDelta(oe),We=$e.ops[$e.ops.length-1];return We!=null&&typeof We.insert=="string"&&We.insert[We.insert.length-1]===`
`&&(Oe.editor.deleteText(Oe.getLength()-1,1),$e.delete(1)),cn.compose($e)},U)}},{key:"setSelection",value:function(oe,Oe,U){if(oe==null)this.selection.setRange(null,Oe||ln.sources.API);else{var ye=Bt(oe,Oe,U),cn=gt(ye,4);oe=cn[0],Oe=cn[1],U=cn[3],this.selection.setRange(new fe.Range(oe,Oe),U),U!==At.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(oe){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:At.default.sources.API,U=new Mt.default().insert(oe);return this.setContents(U,Oe)}},{key:"update",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:At.default.sources.USER,Oe=this.scroll.update(oe);return this.selection.update(oe),Oe}},{key:"updateContents",value:function(oe){var Oe=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:At.default.sources.API;return Zt.call(this,function(){return oe=new Mt.default(oe),Oe.editor.applyDelta(oe,U)},U,!0)}}]),ln}();rn.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},rn.events=At.default.events,rn.sources=At.default.sources,rn.version="1.3.7",rn.imports={delta:Mt.default,parchment:Me.default,"core/module":Kt.default,"core/theme":De.default},Wt.expandConfig=re,Wt.overload=Bt,Wt.default=rn},function(Ve,Wt,wt){function qt(Jt,re){if(!(Jt instanceof re))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(Wt,"__esModule",{value:!0});var ke=function Jt(re){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qt(this,Jt),this.quill=re,this.options=Zt};ke.DEFAULTS={},Wt.default=ke},function(Ve,Wt,wt){function qt(yt,pt){if(!(yt instanceof pt))throw new TypeError("Cannot call a class as a function")}function ke(yt,pt){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pt||typeof pt!="object"&&typeof pt!="function"?yt:pt}function Jt(yt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);yt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,pt):yt.__proto__=pt)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=wt(0),Zt=function(yt){return yt&&yt.__esModule?yt:{default:yt}}(re),Bt=function(yt){function pt(){return qt(this,pt),ke(this,(pt.__proto__||Object.getPrototypeOf(pt)).apply(this,arguments))}return Jt(pt,yt),pt}(Zt.default.Text);Wt.default=Bt},function(Ve,Wt,wt){function qt(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}function ke(Ct,ct){if(!(Ct instanceof ct))throw new TypeError("Cannot call a class as a function")}function Jt(Ct,ct){if(!Ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ct||typeof ct!="object"&&typeof ct!="function"?Ct:ct}function re(Ct,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ct);Ct.prototype=Object.create(ct&&ct.prototype,{constructor:{value:Ct,enumerable:!1,writable:!0,configurable:!0}}),ct&&(Object.setPrototypeOf?Object.setPrototypeOf(Ct,ct):Ct.__proto__=ct)}Object.defineProperty(Wt,"__esModule",{value:!0});var Zt=function(){function Ct(ct,te){for(var At=0;At<te.length;At++){var Ft=te[At];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(ct,Ft.key,Ft)}}return function(ct,te,At){return te&&Ct(ct.prototype,te),At&&Ct(ct,At),ct}}(),Bt=function Ct(ct,te,At){ct===null&&(ct=Function.prototype);var Ft=Object.getOwnPropertyDescriptor(ct,te);if(Ft===void 0){var Kt=Object.getPrototypeOf(ct);return Kt===null?void 0:Ct(Kt,te,At)}if("value"in Ft)return Ft.value;var se=Ft.get;if(se!==void 0)return se.call(At)},yt=wt(58),pt=qt(yt),gt=wt(10),ft=qt(gt),It=(0,ft.default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(Ct){document.addEventListener(Ct,function(){for(var ct=arguments.length,te=Array(ct),At=0;At<ct;At++)te[At]=arguments[At];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(Ft){if(Ft.__quill&&Ft.__quill.emitter){var Kt;(Kt=Ft.__quill.emitter).handleDOM.apply(Kt,te)}})})});var Mt=function(Ct){function ct(){ke(this,ct);var te=Jt(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this));return te.listeners={},te.on("error",It.error),te}return re(ct,Ct),Zt(ct,[{key:"emit",value:function(){It.log.apply(It,arguments),Bt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(te){for(var At=arguments.length,Ft=Array(At>1?At-1:0),Kt=1;Kt<At;Kt++)Ft[Kt-1]=arguments[Kt];(this.listeners[te.type]||[]).forEach(function(se){var Me=se.node,fe=se.handler;(te.target===Me||Me.contains(te.target))&&fe.apply(void 0,[te].concat(Ft))})}},{key:"listenDOM",value:function(te,At,Ft){this.listeners[te]||(this.listeners[te]=[]),this.listeners[te].push({node:At,handler:Ft})}}]),ct}(pt.default);Mt.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},Mt.sources={API:"api",SILENT:"silent",USER:"user"},Wt.default=Mt},function(Ve,Wt,wt){function qt(Zt){if(Jt.indexOf(Zt)<=Jt.indexOf(re)){for(var Bt,yt=arguments.length,pt=Array(yt>1?yt-1:0),gt=1;gt<yt;gt++)pt[gt-1]=arguments[gt];(Bt=console)[Zt].apply(Bt,pt)}}function ke(Zt){return Jt.reduce(function(Bt,yt){return Bt[yt]=qt.bind(console,yt,Zt),Bt},{})}Object.defineProperty(Wt,"__esModule",{value:!0});var Jt=["error","warn","log","info"],re="warn";qt.level=ke.level=function(Zt){re=Zt},Wt.default=ke},function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0});var qt=wt(1),ke=function(){function Jt(re,Zt,Bt){Bt===void 0&&(Bt={}),this.attrName=re,this.keyName=Zt;var yt=qt.Scope.TYPE&qt.Scope.ATTRIBUTE;Bt.scope!=null?this.scope=Bt.scope&qt.Scope.LEVEL|yt:this.scope=qt.Scope.ATTRIBUTE,Bt.whitelist!=null&&(this.whitelist=Bt.whitelist)}return Jt.keys=function(re){return[].map.call(re.attributes,function(Zt){return Zt.name})},Jt.prototype.add=function(re,Zt){return!!this.canAdd(re,Zt)&&(re.setAttribute(this.keyName,Zt),!0)},Jt.prototype.canAdd=function(re,Zt){return qt.query(re,qt.Scope.BLOT&(this.scope|qt.Scope.TYPE))!=null&&(this.whitelist==null||(typeof Zt=="string"?this.whitelist.indexOf(Zt.replace(/["']/g,""))>-1:this.whitelist.indexOf(Zt)>-1))},Jt.prototype.remove=function(re){re.removeAttribute(this.keyName)},Jt.prototype.value=function(re){var Zt=re.getAttribute(this.keyName);return this.canAdd(re,Zt)&&Zt?Zt:""},Jt}();Wt.default=ke},function(Ve,Wt,wt){function qt(pt){return pt==null}function ke(pt){return!(!pt||typeof pt!="object"||typeof pt.length!="number")&&typeof pt.copy=="function"&&typeof pt.slice=="function"&&!(pt.length>0&&typeof pt[0]!="number")}function Jt(pt,gt,ft){var It,Mt;if(qt(pt)||qt(gt)||pt.prototype!==gt.prototype)return!1;if(Bt(pt))return!!Bt(gt)&&(pt=re.call(pt),gt=re.call(gt),yt(pt,gt,ft));if(ke(pt)){if(!ke(gt)||pt.length!==gt.length)return!1;for(It=0;It<pt.length;It++)if(pt[It]!==gt[It])return!1;return!0}try{var Ct=Zt(pt),ct=Zt(gt)}catch{return!1}if(Ct.length!=ct.length)return!1;for(Ct.sort(),ct.sort(),It=Ct.length-1;It>=0;It--)if(Ct[It]!=ct[It])return!1;for(It=Ct.length-1;It>=0;It--)if(Mt=Ct[It],!yt(pt[Mt],gt[Mt],ft))return!1;return typeof pt==typeof gt}var re=Array.prototype.slice,Zt=wt(55),Bt=wt(56),yt=Ve.exports=function(pt,gt,ft){return ft||(ft={}),pt===gt||(pt instanceof Date&&gt instanceof Date?pt.getTime()===gt.getTime():!pt||!gt||typeof pt!="object"&&typeof gt!="object"?ft.strict?pt===gt:pt==gt:Jt(pt,gt,ft))}},function(Ve,Wt,wt){function qt(Me){return Me&&Me.__esModule?Me:{default:Me}}function ke(Me,fe){if(!(Me instanceof fe))throw new TypeError("Cannot call a class as a function")}function Jt(Me,fe){if(!Me)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!fe||typeof fe!="object"&&typeof fe!="function"?Me:fe}function re(Me,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);Me.prototype=Object.create(fe&&fe.prototype,{constructor:{value:Me,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(Me,fe):Me.__proto__=fe)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.Code=void 0;var Zt=function(){function Me(fe,ne){var Ht=[],Gt=!0,ie=!1,Le=void 0;try{for(var pe,De=fe[Symbol.iterator]();!(Gt=(pe=De.next()).done)&&(Ht.push(pe.value),!ne||Ht.length!==ne);Gt=!0);}catch(Bn){ie=!0,Le=Bn}finally{try{!Gt&&De.return&&De.return()}finally{if(ie)throw Le}}return Ht}return function(fe,ne){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return Me(fe,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Bt=function(){function Me(fe,ne){for(var Ht=0;Ht<ne.length;Ht++){var Gt=ne[Ht];Gt.enumerable=Gt.enumerable||!1,Gt.configurable=!0,"value"in Gt&&(Gt.writable=!0),Object.defineProperty(fe,Gt.key,Gt)}}return function(fe,ne,Ht){return ne&&Me(fe.prototype,ne),Ht&&Me(fe,Ht),fe}}(),yt=function Me(fe,ne,Ht){fe===null&&(fe=Function.prototype);var Gt=Object.getOwnPropertyDescriptor(fe,ne);if(Gt===void 0){var ie=Object.getPrototypeOf(fe);return ie===null?void 0:Me(ie,ne,Ht)}if("value"in Gt)return Gt.value;var Le=Gt.get;if(Le!==void 0)return Le.call(Ht)},pt=wt(4),gt=qt(pt),ft=wt(0),It=qt(ft),Mt=wt(3),Ct=qt(Mt),ct=wt(5),te=qt(ct),At=wt(8),Ft=qt(At),Kt=function(Me){function fe(){return ke(this,fe),Jt(this,(fe.__proto__||Object.getPrototypeOf(fe)).apply(this,arguments))}return re(fe,Me),fe}(te.default);Kt.blotName="code",Kt.tagName="CODE";var se=function(Me){function fe(){return ke(this,fe),Jt(this,(fe.__proto__||Object.getPrototypeOf(fe)).apply(this,arguments))}return re(fe,Me),Bt(fe,[{key:"delta",value:function(){var ne=this,Ht=this.domNode.textContent;return Ht.endsWith(`
`)&&(Ht=Ht.slice(0,-1)),Ht.split(`
`).reduce(function(Gt,ie){return Gt.insert(ie).insert(`
`,ne.formats())},new gt.default)}},{key:"format",value:function(ne,Ht){if(ne!==this.statics.blotName||!Ht){var Gt=this.descendant(Ft.default,this.length()-1),ie=Zt(Gt,1),Le=ie[0];Le!=null&&Le.deleteAt(Le.length()-1,1),yt(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"format",this).call(this,ne,Ht)}}},{key:"formatAt",value:function(ne,Ht,Gt,ie){if(Ht!==0&&It.default.query(Gt,It.default.Scope.BLOCK)!=null&&(Gt!==this.statics.blotName||ie!==this.statics.formats(this.domNode))){var Le=this.newlineIndex(ne);if(!(Le<0||Le>=ne+Ht)){var pe=this.newlineIndex(ne,!0)+1,De=Le-pe+1,Bn=this.isolate(pe,De),rn=Bn.next;Bn.format(Gt,ie),rn instanceof fe&&rn.formatAt(0,ne-pe+Ht-De,Gt,ie)}}}},{key:"insertAt",value:function(ne,Ht,Gt){if(Gt==null){var ie=this.descendant(Ft.default,ne),Le=Zt(ie,2),pe=Le[0],De=Le[1];pe.insertAt(De,Ht)}}},{key:"length",value:function(){var ne=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?ne:ne+1}},{key:"newlineIndex",value:function(ne){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1])return this.domNode.textContent.slice(0,ne).lastIndexOf(`
`);var Ht=this.domNode.textContent.slice(ne).indexOf(`
`);return Ht>-1?ne+Ht:-1}},{key:"optimize",value:function(ne){this.domNode.textContent.endsWith(`
`)||this.appendChild(It.default.create("text",`
`)),yt(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"optimize",this).call(this,ne);var Ht=this.next;Ht!=null&&Ht.prev===this&&Ht.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===Ht.statics.formats(Ht.domNode)&&(Ht.optimize(ne),Ht.moveChildren(this),Ht.remove())}},{key:"replace",value:function(ne){yt(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"replace",this).call(this,ne),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(Ht){var Gt=It.default.find(Ht);Gt==null?Ht.parentNode.removeChild(Ht):Gt instanceof It.default.Embed?Gt.remove():Gt.unwrap()})}}],[{key:"create",value:function(ne){var Ht=yt(fe.__proto__||Object.getPrototypeOf(fe),"create",this).call(this,ne);return Ht.setAttribute("spellcheck",!1),Ht}},{key:"formats",value:function(){return!0}}]),fe}(Ct.default);se.blotName="code-block",se.tagName="PRE",se.TAB="  ",Wt.Code=Kt,Wt.default=se},function(Ve,Wt,wt){function qt(gt,ft){if(!(gt instanceof ft))throw new TypeError("Cannot call a class as a function")}function ke(gt,ft){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?gt:ft}function Jt(gt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);gt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,ft):gt.__proto__=ft)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=function(){function gt(ft,It){for(var Mt=0;Mt<It.length;Mt++){var Ct=It[Mt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(ft,Ct.key,Ct)}}return function(ft,It,Mt){return It&&gt(ft.prototype,It),Mt&&gt(ft,Mt),ft}}(),Zt=function gt(ft,It,Mt){ft===null&&(ft=Function.prototype);var Ct=Object.getOwnPropertyDescriptor(ft,It);if(Ct===void 0){var ct=Object.getPrototypeOf(ft);return ct===null?void 0:gt(ct,It,Mt)}if("value"in Ct)return Ct.value;var te=Ct.get;if(te!==void 0)return te.call(Mt)},Bt=wt(0),yt=function(gt){return gt&&gt.__esModule?gt:{default:gt}}(Bt),pt=function(gt){function ft(){return qt(this,ft),ke(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return Jt(ft,gt),re(ft,[{key:"insertInto",value:function(It,Mt){It.children.length===0?Zt(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"insertInto",this).call(this,It,Mt):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),ft}(yt.default.Embed);pt.blotName="break",pt.tagName="BR",Wt.default=pt},function(Ve,Wt,wt){function qt(ft,It){if(!(ft instanceof It))throw new TypeError("Cannot call a class as a function")}function ke(ft,It){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!It||typeof It!="object"&&typeof It!="function"?ft:It}function Jt(ft,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof It);ft.prototype=Object.create(It&&It.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,It):ft.__proto__=It)}function re(ft,It){var Mt=document.createElement("a");Mt.href=ft;var Ct=Mt.href.slice(0,Mt.href.indexOf(":"));return It.indexOf(Ct)>-1}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.sanitize=Wt.default=void 0;var Zt=function(){function ft(It,Mt){for(var Ct=0;Ct<Mt.length;Ct++){var ct=Mt[Ct];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(It,ct.key,ct)}}return function(It,Mt,Ct){return Mt&&ft(It.prototype,Mt),Ct&&ft(It,Ct),It}}(),Bt=function ft(It,Mt,Ct){It===null&&(It=Function.prototype);var ct=Object.getOwnPropertyDescriptor(It,Mt);if(ct===void 0){var te=Object.getPrototypeOf(It);return te===null?void 0:ft(te,Mt,Ct)}if("value"in ct)return ct.value;var At=ct.get;if(At!==void 0)return At.call(Ct)},yt=wt(5),pt=function(ft){return ft&&ft.__esModule?ft:{default:ft}}(yt),gt=function(ft){function It(){return qt(this,It),ke(this,(It.__proto__||Object.getPrototypeOf(It)).apply(this,arguments))}return Jt(It,ft),Zt(It,[{key:"format",value:function(Mt,Ct){if(Mt!==this.statics.blotName||!Ct)return Bt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"format",this).call(this,Mt,Ct);Ct=this.constructor.sanitize(Ct),this.domNode.setAttribute("href",Ct)}}],[{key:"create",value:function(Mt){var Ct=Bt(It.__proto__||Object.getPrototypeOf(It),"create",this).call(this,Mt);return Mt=this.sanitize(Mt),Ct.setAttribute("href",Mt),Ct.setAttribute("rel","noopener noreferrer"),Ct.setAttribute("target","_blank"),Ct}},{key:"formats",value:function(Mt){return Mt.getAttribute("href")}},{key:"sanitize",value:function(Mt){return re(Mt,this.PROTOCOL_WHITELIST)?Mt:this.SANITIZED_URL}}]),It}(pt.default);gt.blotName="link",gt.tagName="A",gt.SANITIZED_URL="about:blank",gt.PROTOCOL_WHITELIST=["http","https","mailto","tel"],Wt.default=gt,Wt.sanitize=re},function(Ve,Wt,wt){function qt(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}}function ke(Mt,Ct){if(!(Mt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function Jt(Mt,Ct){Mt.setAttribute(Ct,Mt.getAttribute(Ct)!=="true")}Object.defineProperty(Wt,"__esModule",{value:!0});var re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt},Zt=function(){function Mt(Ct,ct){for(var te=0;te<ct.length;te++){var At=ct[te];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(Ct,At.key,At)}}return function(Ct,ct,te){return ct&&Mt(Ct.prototype,ct),te&&Mt(Ct,te),Ct}}(),Bt=wt(25),yt=qt(Bt),pt=wt(106),gt=qt(pt),ft=0,It=function(){function Mt(Ct){var ct=this;ke(this,Mt),this.select=Ct,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){ct.togglePicker()}),this.label.addEventListener("keydown",function(te){switch(te.keyCode){case yt.default.keys.ENTER:ct.togglePicker();break;case yt.default.keys.ESCAPE:ct.escape(),te.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return Zt(Mt,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),Jt(this.label,"aria-expanded"),Jt(this.options,"aria-hidden")}},{key:"buildItem",value:function(Ct){var ct=this,te=document.createElement("span");return te.tabIndex="0",te.setAttribute("role","button"),te.classList.add("ql-picker-item"),Ct.hasAttribute("value")&&te.setAttribute("data-value",Ct.getAttribute("value")),Ct.textContent&&te.setAttribute("data-label",Ct.textContent),te.addEventListener("click",function(){ct.selectItem(te,!0)}),te.addEventListener("keydown",function(At){switch(At.keyCode){case yt.default.keys.ENTER:ct.selectItem(te,!0),At.preventDefault();break;case yt.default.keys.ESCAPE:ct.escape(),At.preventDefault()}}),te}},{key:"buildLabel",value:function(){var Ct=document.createElement("span");return Ct.classList.add("ql-picker-label"),Ct.innerHTML=gt.default,Ct.tabIndex="0",Ct.setAttribute("role","button"),Ct.setAttribute("aria-expanded","false"),this.container.appendChild(Ct),Ct}},{key:"buildOptions",value:function(){var Ct=this,ct=document.createElement("span");ct.classList.add("ql-picker-options"),ct.setAttribute("aria-hidden","true"),ct.tabIndex="-1",ct.id="ql-picker-options-"+ft,ft+=1,this.label.setAttribute("aria-controls",ct.id),this.options=ct,[].slice.call(this.select.options).forEach(function(te){var At=Ct.buildItem(te);ct.appendChild(At),te.selected===!0&&Ct.selectItem(At)}),this.container.appendChild(ct)}},{key:"buildPicker",value:function(){var Ct=this;[].slice.call(this.select.attributes).forEach(function(ct){Ct.container.setAttribute(ct.name,ct.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var Ct=this;this.close(),setTimeout(function(){return Ct.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(Ct){var ct=arguments.length>1&&arguments[1]!==void 0&&arguments[1],te=this.container.querySelector(".ql-selected");if(Ct!==te&&(te!=null&&te.classList.remove("ql-selected"),Ct!=null&&(Ct.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(Ct.parentNode.children,Ct),Ct.hasAttribute("data-value")?this.label.setAttribute("data-value",Ct.getAttribute("data-value")):this.label.removeAttribute("data-value"),Ct.hasAttribute("data-label")?this.label.setAttribute("data-label",Ct.getAttribute("data-label")):this.label.removeAttribute("data-label"),ct))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":re(Event))==="object"){var At=document.createEvent("Event");At.initEvent("change",!0,!0),this.select.dispatchEvent(At)}this.close()}}},{key:"update",value:function(){var Ct=void 0;if(this.select.selectedIndex>-1){var ct=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];Ct=this.select.options[this.select.selectedIndex],this.selectItem(ct)}else this.selectItem(null);var te=Ct!=null&&Ct!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",te)}}]),Mt}();Wt.default=It},function(Ve,Wt,wt){function qt(yt){var pt=Zt.find(yt);if(pt==null)try{pt=Zt.create(yt)}catch{pt=Zt.create(Zt.Scope.INLINE),[].slice.call(yt.childNodes).forEach(function(ft){pt.domNode.appendChild(ft)}),yt.parentNode&&yt.parentNode.replaceChild(pt.domNode,yt),pt.attach()}return pt}var ke=this&&this.__extends||function(){var yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pt,gt){pt.__proto__=gt}||function(pt,gt){for(var ft in gt)gt.hasOwnProperty(ft)&&(pt[ft]=gt[ft])};return function(pt,gt){function ft(){this.constructor=pt}yt(pt,gt),pt.prototype=gt===null?Object.create(gt):(ft.prototype=gt.prototype,new ft)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var Jt=wt(47),re=wt(27),Zt=wt(1),Bt=function(yt){function pt(gt){var ft=yt.call(this,gt)||this;return ft.build(),ft}return ke(pt,yt),pt.prototype.appendChild=function(gt){this.insertBefore(gt)},pt.prototype.attach=function(){yt.prototype.attach.call(this),this.children.forEach(function(gt){gt.attach()})},pt.prototype.build=function(){var gt=this;this.children=new Jt.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(ft){try{var It=qt(ft);gt.insertBefore(It,gt.children.head||void 0)}catch(Mt){if(Mt instanceof Zt.ParchmentError)return;throw Mt}})},pt.prototype.deleteAt=function(gt,ft){if(gt===0&&ft===this.length())return this.remove();this.children.forEachAt(gt,ft,function(It,Mt,Ct){It.deleteAt(Mt,Ct)})},pt.prototype.descendant=function(gt,ft){var It=this.children.find(ft),Mt=It[0],Ct=It[1];return gt.blotName==null&&gt(Mt)||gt.blotName!=null&&Mt instanceof gt?[Mt,Ct]:Mt instanceof pt?Mt.descendant(gt,Ct):[null,-1]},pt.prototype.descendants=function(gt,ft,It){ft===void 0&&(ft=0),It===void 0&&(It=Number.MAX_VALUE);var Mt=[],Ct=It;return this.children.forEachAt(ft,It,function(ct,te,At){(gt.blotName==null&&gt(ct)||gt.blotName!=null&&ct instanceof gt)&&Mt.push(ct),ct instanceof pt&&(Mt=Mt.concat(ct.descendants(gt,te,Ct))),Ct-=At}),Mt},pt.prototype.detach=function(){this.children.forEach(function(gt){gt.detach()}),yt.prototype.detach.call(this)},pt.prototype.formatAt=function(gt,ft,It,Mt){this.children.forEachAt(gt,ft,function(Ct,ct,te){Ct.formatAt(ct,te,It,Mt)})},pt.prototype.insertAt=function(gt,ft,It){var Mt=this.children.find(gt),Ct=Mt[0],ct=Mt[1];if(Ct)Ct.insertAt(ct,ft,It);else{var te=It==null?Zt.create("text",ft):Zt.create(ft,It);this.appendChild(te)}},pt.prototype.insertBefore=function(gt,ft){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(It){return gt instanceof It}))throw new Zt.ParchmentError("Cannot insert "+gt.statics.blotName+" into "+this.statics.blotName);gt.insertInto(this,ft)},pt.prototype.length=function(){return this.children.reduce(function(gt,ft){return gt+ft.length()},0)},pt.prototype.moveChildren=function(gt,ft){this.children.forEach(function(It){gt.insertBefore(It,ft)})},pt.prototype.optimize=function(gt){if(yt.prototype.optimize.call(this,gt),this.children.length===0)if(this.statics.defaultChild!=null){var ft=Zt.create(this.statics.defaultChild);this.appendChild(ft),ft.optimize(gt)}else this.remove()},pt.prototype.path=function(gt,ft){ft===void 0&&(ft=!1);var It=this.children.find(gt,ft),Mt=It[0],Ct=It[1],ct=[[this,gt]];return Mt instanceof pt?ct.concat(Mt.path(Ct,ft)):(Mt!=null&&ct.push([Mt,Ct]),ct)},pt.prototype.removeChild=function(gt){this.children.remove(gt)},pt.prototype.replace=function(gt){gt instanceof pt&&gt.moveChildren(this),yt.prototype.replace.call(this,gt)},pt.prototype.split=function(gt,ft){if(ft===void 0&&(ft=!1),!ft){if(gt===0)return this;if(gt===this.length())return this.next}var It=this.clone();return this.parent.insertBefore(It,this.next),this.children.forEachAt(gt,this.length(),function(Mt,Ct,ct){Mt=Mt.split(Ct,ft),It.appendChild(Mt)}),It},pt.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},pt.prototype.update=function(gt,ft){var It=this,Mt=[],Ct=[];gt.forEach(function(ct){ct.target===It.domNode&&ct.type==="childList"&&(Mt.push.apply(Mt,ct.addedNodes),Ct.push.apply(Ct,ct.removedNodes))}),Ct.forEach(function(ct){if(!(ct.parentNode!=null&&ct.tagName!=="IFRAME"&&document.body.compareDocumentPosition(ct)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var te=Zt.find(ct);te!=null&&(te.domNode.parentNode!=null&&te.domNode.parentNode!==It.domNode||te.detach())}}),Mt.filter(function(ct){return ct.parentNode==It.domNode}).sort(function(ct,te){return ct===te?0:ct.compareDocumentPosition(te)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(ct){var te=null;ct.nextSibling!=null&&(te=Zt.find(ct.nextSibling));var At=qt(ct);At.next==te&&At.next!=null||(At.parent!=null&&At.parent.removeChild(It),It.insertBefore(At,te||void 0))})},pt}(re.default);Wt.default=Bt},function(Ve,Wt,wt){var qt=this&&this.__extends||function(){var yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pt,gt){pt.__proto__=gt}||function(pt,gt){for(var ft in gt)gt.hasOwnProperty(ft)&&(pt[ft]=gt[ft])};return function(pt,gt){function ft(){this.constructor=pt}yt(pt,gt),pt.prototype=gt===null?Object.create(gt):(ft.prototype=gt.prototype,new ft)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var ke=wt(11),Jt=wt(28),re=wt(17),Zt=wt(1),Bt=function(yt){function pt(gt){var ft=yt.call(this,gt)||this;return ft.attributes=new Jt.default(ft.domNode),ft}return qt(pt,yt),pt.formats=function(gt){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?gt.tagName.toLowerCase():void 0)},pt.prototype.format=function(gt,ft){var It=Zt.query(gt);It instanceof ke.default?this.attributes.attribute(It,ft):ft&&(It==null||gt===this.statics.blotName&&this.formats()[gt]===ft||this.replaceWith(gt,ft))},pt.prototype.formats=function(){var gt=this.attributes.values(),ft=this.statics.formats(this.domNode);return ft!=null&&(gt[this.statics.blotName]=ft),gt},pt.prototype.replaceWith=function(gt,ft){var It=yt.prototype.replaceWith.call(this,gt,ft);return this.attributes.copy(It),It},pt.prototype.update=function(gt,ft){var It=this;yt.prototype.update.call(this,gt,ft),gt.some(function(Mt){return Mt.target===It.domNode&&Mt.type==="attributes"})&&this.attributes.build()},pt.prototype.wrap=function(gt,ft){var It=yt.prototype.wrap.call(this,gt,ft);return It instanceof pt&&It.statics.scope===this.statics.scope&&this.attributes.move(It),It},pt}(re.default);Wt.default=Bt},function(Ve,Wt,wt){var qt=this&&this.__extends||function(){var Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,yt){Bt.__proto__=yt}||function(Bt,yt){for(var pt in yt)yt.hasOwnProperty(pt)&&(Bt[pt]=yt[pt])};return function(Bt,yt){function pt(){this.constructor=Bt}Zt(Bt,yt),Bt.prototype=yt===null?Object.create(yt):(pt.prototype=yt.prototype,new pt)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var ke=wt(27),Jt=wt(1),re=function(Zt){function Bt(){return Zt!==null&&Zt.apply(this,arguments)||this}return qt(Bt,Zt),Bt.value=function(yt){return!0},Bt.prototype.index=function(yt,pt){return this.domNode===yt||this.domNode.compareDocumentPosition(yt)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(pt,1):-1},Bt.prototype.position=function(yt,pt){var gt=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return yt>0&&(gt+=1),[this.parent.domNode,gt]},Bt.prototype.value=function(){var yt;return yt={},yt[this.statics.blotName]=this.statics.value(this.domNode)||!0,yt},Bt.scope=Jt.Scope.INLINE_BLOT,Bt}(ke.default);Wt.default=re},function(Ve,Wt,wt){function qt(Zt){this.ops=Zt,this.index=0,this.offset=0}var ke=wt(12),Jt=wt(2),re={attributes:{compose:function(Zt,Bt,yt){typeof Zt!="object"&&(Zt={}),typeof Bt!="object"&&(Bt={});var pt=Jt(!0,{},Bt);yt||(pt=Object.keys(pt).reduce(function(ft,It){return pt[It]!=null&&(ft[It]=pt[It]),ft},{}));for(var gt in Zt)Zt[gt]!==void 0&&Bt[gt]===void 0&&(pt[gt]=Zt[gt]);return Object.keys(pt).length>0?pt:void 0},diff:function(Zt,Bt){typeof Zt!="object"&&(Zt={}),typeof Bt!="object"&&(Bt={});var yt=Object.keys(Zt).concat(Object.keys(Bt)).reduce(function(pt,gt){return ke(Zt[gt],Bt[gt])||(pt[gt]=Bt[gt]===void 0?null:Bt[gt]),pt},{});return Object.keys(yt).length>0?yt:void 0},transform:function(Zt,Bt,yt){if(typeof Zt!="object")return Bt;if(typeof Bt=="object"){if(!yt)return Bt;var pt=Object.keys(Bt).reduce(function(gt,ft){return Zt[ft]===void 0&&(gt[ft]=Bt[ft]),gt},{});return Object.keys(pt).length>0?pt:void 0}}},iterator:function(Zt){return new qt(Zt)},length:function(Zt){return typeof Zt.delete=="number"?Zt.delete:typeof Zt.retain=="number"?Zt.retain:typeof Zt.insert=="string"?Zt.insert.length:1}};qt.prototype.hasNext=function(){return this.peekLength()<1/0},qt.prototype.next=function(Zt){Zt||(Zt=1/0);var Bt=this.ops[this.index];if(Bt){var yt=this.offset,pt=re.length(Bt);if(Zt>=pt-yt?(Zt=pt-yt,this.index+=1,this.offset=0):this.offset+=Zt,typeof Bt.delete=="number")return{delete:Zt};var gt={};return Bt.attributes&&(gt.attributes=Bt.attributes),typeof Bt.retain=="number"?gt.retain=Zt:typeof Bt.insert=="string"?gt.insert=Bt.insert.substr(yt,Zt):gt.insert=Bt.insert,gt}return{retain:1/0}},qt.prototype.peek=function(){return this.ops[this.index]},qt.prototype.peekLength=function(){return this.ops[this.index]?re.length(this.ops[this.index])-this.offset:1/0},qt.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},qt.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var Zt=this.offset,Bt=this.index,yt=this.next(),pt=this.ops.slice(this.index);return this.offset=Zt,this.index=Bt,[yt].concat(pt)}return[]},Ve.exports=re},function(Ve,Wt){var wt=function(){function qt(It,Mt){return Mt!=null&&It instanceof Mt}function ke(It,Mt,Ct,ct,te){function At(Me,fe){if(Me===null)return null;if(fe===0)return Me;var ne,Ht;if(typeof Me!="object")return Me;if(qt(Me,pt))ne=new pt;else if(qt(Me,gt))ne=new gt;else if(qt(Me,ft))ne=new ft(function(oe,Oe){Me.then(function(U){oe(At(U,fe-1))},function(U){Oe(At(U,fe-1))})});else if(ke.__isArray(Me))ne=[];else if(ke.__isRegExp(Me))ne=new RegExp(Me.source,yt(Me)),Me.lastIndex&&(ne.lastIndex=Me.lastIndex);else if(ke.__isDate(Me))ne=new Date(Me.getTime());else{if(se&&Buffer.isBuffer(Me))return ne=Buffer.allocUnsafe?Buffer.allocUnsafe(Me.length):new Buffer(Me.length),Me.copy(ne),ne;qt(Me,Error)?ne=Object.create(Me):ct===void 0?(Ht=Object.getPrototypeOf(Me),ne=Object.create(Ht)):(ne=Object.create(ct),Ht=ct)}if(Mt){var Gt=Ft.indexOf(Me);if(Gt!=-1)return Kt[Gt];Ft.push(Me),Kt.push(ne)}qt(Me,pt)&&Me.forEach(function(oe,Oe){var U=At(Oe,fe-1),ye=At(oe,fe-1);ne.set(U,ye)}),qt(Me,gt)&&Me.forEach(function(oe){var Oe=At(oe,fe-1);ne.add(Oe)});for(var ie in Me){var Le;Ht&&(Le=Object.getOwnPropertyDescriptor(Ht,ie)),Le&&Le.set==null||(ne[ie]=At(Me[ie],fe-1))}if(Object.getOwnPropertySymbols)for(var pe=Object.getOwnPropertySymbols(Me),ie=0;ie<pe.length;ie++){var De=pe[ie],Bn=Object.getOwnPropertyDescriptor(Me,De);(!Bn||Bn.enumerable||te)&&(ne[De]=At(Me[De],fe-1),Bn.enumerable||Object.defineProperty(ne,De,{enumerable:!1}))}if(te)for(var rn=Object.getOwnPropertyNames(Me),ie=0;ie<rn.length;ie++){var ln=rn[ie],Bn=Object.getOwnPropertyDescriptor(Me,ln);Bn&&Bn.enumerable||(ne[ln]=At(Me[ln],fe-1),Object.defineProperty(ne,ln,{enumerable:!1}))}return ne}typeof Mt=="object"&&(Ct=Mt.depth,ct=Mt.prototype,te=Mt.includeNonEnumerable,Mt=Mt.circular);var Ft=[],Kt=[],se=typeof Buffer<"u";return Mt===void 0&&(Mt=!0),Ct===void 0&&(Ct=1/0),At(It,Ct)}function Jt(It){return Object.prototype.toString.call(It)}function re(It){return typeof It=="object"&&Jt(It)==="[object Date]"}function Zt(It){return typeof It=="object"&&Jt(It)==="[object Array]"}function Bt(It){return typeof It=="object"&&Jt(It)==="[object RegExp]"}function yt(It){var Mt="";return It.global&&(Mt+="g"),It.ignoreCase&&(Mt+="i"),It.multiline&&(Mt+="m"),Mt}var pt;try{pt=Map}catch{pt=function(){}}var gt;try{gt=Set}catch{gt=function(){}}var ft;try{ft=Promise}catch{ft=function(){}}return ke.clonePrototype=function(It){if(It===null)return null;var Mt=function(){};return Mt.prototype=It,new Mt},ke.__objToStr=Jt,ke.__isDate=re,ke.__isArray=Zt,ke.__isRegExp=Bt,ke.__getRegExpFlags=yt,ke}();typeof Ve=="object"&&Ve.exports&&(Ve.exports=wt)},function(Ve,Wt,wt){function qt(Me){return Me&&Me.__esModule?Me:{default:Me}}function ke(Me){if(Array.isArray(Me)){for(var fe=0,ne=Array(Me.length);fe<Me.length;fe++)ne[fe]=Me[fe];return ne}return Array.from(Me)}function Jt(Me,fe){if(!(Me instanceof fe))throw new TypeError("Cannot call a class as a function")}function re(Me,fe){try{fe.parentNode}catch{return!1}return fe instanceof Text&&(fe=fe.parentNode),Me.contains(fe)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.Range=void 0;var Zt=function(){function Me(fe,ne){var Ht=[],Gt=!0,ie=!1,Le=void 0;try{for(var pe,De=fe[Symbol.iterator]();!(Gt=(pe=De.next()).done)&&(Ht.push(pe.value),!ne||Ht.length!==ne);Gt=!0);}catch(Bn){ie=!0,Le=Bn}finally{try{!Gt&&De.return&&De.return()}finally{if(ie)throw Le}}return Ht}return function(fe,ne){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return Me(fe,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Bt=function(){function Me(fe,ne){for(var Ht=0;Ht<ne.length;Ht++){var Gt=ne[Ht];Gt.enumerable=Gt.enumerable||!1,Gt.configurable=!0,"value"in Gt&&(Gt.writable=!0),Object.defineProperty(fe,Gt.key,Gt)}}return function(fe,ne,Ht){return ne&&Me(fe.prototype,ne),Ht&&Me(fe,Ht),fe}}(),yt=wt(0),pt=qt(yt),gt=wt(21),ft=qt(gt),It=wt(12),Mt=qt(It),Ct=wt(9),ct=qt(Ct),te=wt(10),At=qt(te),Ft=(0,At.default)("quill:selection"),Kt=function Me(fe){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Jt(this,Me),this.index=fe,this.length=ne},se=function(){function Me(fe,ne){var Ht=this;Jt(this,Me),this.emitter=ne,this.scroll=fe,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=pt.default.create("cursor",this),this.lastRange=this.savedRange=new Kt(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){Ht.mouseDown||setTimeout(Ht.update.bind(Ht,ct.default.sources.USER),1)}),this.emitter.on(ct.default.events.EDITOR_CHANGE,function(Gt,ie){Gt===ct.default.events.TEXT_CHANGE&&ie.length()>0&&Ht.update(ct.default.sources.SILENT)}),this.emitter.on(ct.default.events.SCROLL_BEFORE_UPDATE,function(){if(Ht.hasFocus()){var Gt=Ht.getNativeRange();Gt!=null&&Gt.start.node!==Ht.cursor.textNode&&Ht.emitter.once(ct.default.events.SCROLL_UPDATE,function(){try{Ht.setNativeRange(Gt.start.node,Gt.start.offset,Gt.end.node,Gt.end.offset)}catch{}})}}),this.emitter.on(ct.default.events.SCROLL_OPTIMIZE,function(Gt,ie){if(ie.range){var Le=ie.range,pe=Le.startNode,De=Le.startOffset,Bn=Le.endNode,rn=Le.endOffset;Ht.setNativeRange(pe,De,Bn,rn)}}),this.update(ct.default.sources.SILENT)}return Bt(Me,[{key:"handleComposition",value:function(){var fe=this;this.root.addEventListener("compositionstart",function(){fe.composing=!0}),this.root.addEventListener("compositionend",function(){if(fe.composing=!1,fe.cursor.parent){var ne=fe.cursor.restore();if(!ne)return;setTimeout(function(){fe.setNativeRange(ne.startNode,ne.startOffset,ne.endNode,ne.endOffset)},1)}})}},{key:"handleDragging",value:function(){var fe=this;this.emitter.listenDOM("mousedown",document.body,function(){fe.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){fe.mouseDown=!1,fe.update(ct.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(fe,ne){if(this.scroll.whitelist==null||this.scroll.whitelist[fe]){this.scroll.update();var Ht=this.getNativeRange();if(Ht!=null&&Ht.native.collapsed&&!pt.default.query(fe,pt.default.Scope.BLOCK)){if(Ht.start.node!==this.cursor.textNode){var Gt=pt.default.find(Ht.start.node,!1);if(Gt==null)return;if(Gt instanceof pt.default.Leaf){var ie=Gt.split(Ht.start.offset);Gt.parent.insertBefore(this.cursor,ie)}else Gt.insertBefore(this.cursor,Ht.start.node);this.cursor.attach()}this.cursor.format(fe,ne),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(fe){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ht=this.scroll.length();fe=Math.min(fe,Ht-1),ne=Math.min(fe+ne,Ht-1)-fe;var Gt=void 0,ie=this.scroll.leaf(fe),Le=Zt(ie,2),pe=Le[0],De=Le[1];if(pe==null)return null;var Bn=pe.position(De,!0),rn=Zt(Bn,2);Gt=rn[0],De=rn[1];var ln=document.createRange();if(ne>0){ln.setStart(Gt,De);var oe=this.scroll.leaf(fe+ne),Oe=Zt(oe,2);if(pe=Oe[0],De=Oe[1],pe==null)return null;var U=pe.position(De,!0),ye=Zt(U,2);return Gt=ye[0],De=ye[1],ln.setEnd(Gt,De),ln.getBoundingClientRect()}var cn="left",$e=void 0;return Gt instanceof Text?(De<Gt.data.length?(ln.setStart(Gt,De),ln.setEnd(Gt,De+1)):(ln.setStart(Gt,De-1),ln.setEnd(Gt,De),cn="right"),$e=ln.getBoundingClientRect()):($e=pe.domNode.getBoundingClientRect(),De>0&&(cn="right")),{bottom:$e.top+$e.height,height:$e.height,left:$e[cn],right:$e[cn],top:$e.top,width:0}}},{key:"getNativeRange",value:function(){var fe=document.getSelection();if(fe==null||fe.rangeCount<=0)return null;var ne=fe.getRangeAt(0);if(ne==null)return null;var Ht=this.normalizeNative(ne);return Ft.info("getNativeRange",Ht),Ht}},{key:"getRange",value:function(){var fe=this.getNativeRange();return fe==null?[null,null]:[this.normalizedToRange(fe),fe]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(fe){var ne=this,Ht=[[fe.start.node,fe.start.offset]];fe.native.collapsed||Ht.push([fe.end.node,fe.end.offset]);var Gt=Ht.map(function(pe){var De=Zt(pe,2),Bn=De[0],rn=De[1],ln=pt.default.find(Bn,!0),oe=ln.offset(ne.scroll);return rn===0?oe:ln instanceof pt.default.Container?oe+ln.length():oe+ln.index(Bn,rn)}),ie=Math.min(Math.max.apply(Math,ke(Gt)),this.scroll.length()-1),Le=Math.min.apply(Math,[ie].concat(ke(Gt)));return new Kt(Le,ie-Le)}},{key:"normalizeNative",value:function(fe){if(!re(this.root,fe.startContainer)||!fe.collapsed&&!re(this.root,fe.endContainer))return null;var ne={start:{node:fe.startContainer,offset:fe.startOffset},end:{node:fe.endContainer,offset:fe.endOffset},native:fe};return[ne.start,ne.end].forEach(function(Ht){for(var Gt=Ht.node,ie=Ht.offset;!(Gt instanceof Text)&&Gt.childNodes.length>0;)if(Gt.childNodes.length>ie)Gt=Gt.childNodes[ie],ie=0;else{if(Gt.childNodes.length!==ie)break;Gt=Gt.lastChild,ie=Gt instanceof Text?Gt.data.length:Gt.childNodes.length+1}Ht.node=Gt,Ht.offset=ie}),ne}},{key:"rangeToNative",value:function(fe){var ne=this,Ht=fe.collapsed?[fe.index]:[fe.index,fe.index+fe.length],Gt=[],ie=this.scroll.length();return Ht.forEach(function(Le,pe){Le=Math.min(ie-1,Le);var De=void 0,Bn=ne.scroll.leaf(Le),rn=Zt(Bn,2),ln=rn[0],oe=rn[1],Oe=ln.position(oe,pe!==0),U=Zt(Oe,2);De=U[0],oe=U[1],Gt.push(De,oe)}),Gt.length<2&&(Gt=Gt.concat(Gt)),Gt}},{key:"scrollIntoView",value:function(fe){var ne=this.lastRange;if(ne!=null){var Ht=this.getBounds(ne.index,ne.length);if(Ht!=null){var Gt=this.scroll.length()-1,ie=this.scroll.line(Math.min(ne.index,Gt)),Le=Zt(ie,1),pe=Le[0],De=pe;if(ne.length>0){var Bn=this.scroll.line(Math.min(ne.index+ne.length,Gt));De=Zt(Bn,1)[0]}if(pe!=null&&De!=null){var rn=fe.getBoundingClientRect();Ht.top<rn.top?fe.scrollTop-=rn.top-Ht.top:Ht.bottom>rn.bottom&&(fe.scrollTop+=Ht.bottom-rn.bottom)}}}}},{key:"setNativeRange",value:function(fe,ne){var Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fe,Gt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ne,ie=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(Ft.info("setNativeRange",fe,ne,Ht,Gt),fe==null||this.root.parentNode!=null&&fe.parentNode!=null&&Ht.parentNode!=null){var Le=document.getSelection();if(Le!=null)if(fe!=null){this.hasFocus()||this.root.focus();var pe=(this.getNativeRange()||{}).native;if(pe==null||ie||fe!==pe.startContainer||ne!==pe.startOffset||Ht!==pe.endContainer||Gt!==pe.endOffset){fe.tagName=="BR"&&(ne=[].indexOf.call(fe.parentNode.childNodes,fe),fe=fe.parentNode),Ht.tagName=="BR"&&(Gt=[].indexOf.call(Ht.parentNode.childNodes,Ht),Ht=Ht.parentNode);var De=document.createRange();De.setStart(fe,ne),De.setEnd(Ht,Gt),Le.removeAllRanges(),Le.addRange(De)}}else Le.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(fe){var ne=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ct.default.sources.API;if(typeof ne=="string"&&(Ht=ne,ne=!1),Ft.info("setRange",fe),fe!=null){var Gt=this.rangeToNative(fe);this.setNativeRange.apply(this,ke(Gt).concat([ne]))}else this.setNativeRange(null);this.update(Ht)}},{key:"update",value:function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ct.default.sources.USER,ne=this.lastRange,Ht=this.getRange(),Gt=Zt(Ht,2),ie=Gt[0],Le=Gt[1];if(this.lastRange=ie,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,Mt.default)(ne,this.lastRange)){var pe;!this.composing&&Le!=null&&Le.native.collapsed&&Le.start.node!==this.cursor.textNode&&this.cursor.restore();var De=[ct.default.events.SELECTION_CHANGE,(0,ft.default)(this.lastRange),(0,ft.default)(ne),fe];if((pe=this.emitter).emit.apply(pe,[ct.default.events.EDITOR_CHANGE].concat(De)),fe!==ct.default.sources.SILENT){var Bn;(Bn=this.emitter).emit.apply(Bn,De)}}}}]),Me}();Wt.Range=Kt,Wt.default=se},function(Ve,Wt,wt){function qt(ft){return ft&&ft.__esModule?ft:{default:ft}}function ke(ft,It){if(!(ft instanceof It))throw new TypeError("Cannot call a class as a function")}function Jt(ft,It){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!It||typeof It!="object"&&typeof It!="function"?ft:It}function re(ft,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof It);ft.prototype=Object.create(It&&It.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,It):ft.__proto__=It)}Object.defineProperty(Wt,"__esModule",{value:!0});var Zt=wt(0),Bt=qt(Zt),yt=wt(3),pt=qt(yt),gt=function(ft){function It(){return ke(this,It),Jt(this,(It.__proto__||Object.getPrototypeOf(It)).apply(this,arguments))}return re(It,ft),It}(Bt.default.Container);gt.allowedChildren=[pt.default,yt.BlockEmbed,gt],Wt.default=gt},function(Ve,Wt,wt){function qt(It,Mt){if(!(It instanceof Mt))throw new TypeError("Cannot call a class as a function")}function ke(It,Mt){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Mt||typeof Mt!="object"&&typeof Mt!="function"?It:Mt}function Jt(It,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Mt);It.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),Mt&&(Object.setPrototypeOf?Object.setPrototypeOf(It,Mt):It.__proto__=Mt)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.ColorStyle=Wt.ColorClass=Wt.ColorAttributor=void 0;var re=function(){function It(Mt,Ct){for(var ct=0;ct<Ct.length;ct++){var te=Ct[ct];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(Mt,te.key,te)}}return function(Mt,Ct,ct){return Ct&&It(Mt.prototype,Ct),ct&&It(Mt,ct),Mt}}(),Zt=function It(Mt,Ct,ct){Mt===null&&(Mt=Function.prototype);var te=Object.getOwnPropertyDescriptor(Mt,Ct);if(te===void 0){var At=Object.getPrototypeOf(Mt);return At===null?void 0:It(At,Ct,ct)}if("value"in te)return te.value;var Ft=te.get;if(Ft!==void 0)return Ft.call(ct)},Bt=wt(0),yt=function(It){return It&&It.__esModule?It:{default:It}}(Bt),pt=function(It){function Mt(){return qt(this,Mt),ke(this,(Mt.__proto__||Object.getPrototypeOf(Mt)).apply(this,arguments))}return Jt(Mt,It),re(Mt,[{key:"value",value:function(Ct){var ct=Zt(Mt.prototype.__proto__||Object.getPrototypeOf(Mt.prototype),"value",this).call(this,Ct);return ct.startsWith("rgb(")?(ct=ct.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+ct.split(",").map(function(te){return("00"+parseInt(te).toString(16)).slice(-2)}).join("")):ct}}]),Mt}(yt.default.Attributor.Style),gt=new yt.default.Attributor.Class("color","ql-color",{scope:yt.default.Scope.INLINE}),ft=new pt("color","color",{scope:yt.default.Scope.INLINE});Wt.ColorAttributor=pt,Wt.ColorClass=gt,Wt.ColorStyle=ft},function(Ve,Wt,wt){function qt(We){return We&&We.__esModule?We:{default:We}}function ke(We,Re,Be){return Re in We?Object.defineProperty(We,Re,{value:Be,enumerable:!0,configurable:!0,writable:!0}):We[Re]=Be,We}function Jt(We,Re){if(!(We instanceof Re))throw new TypeError("Cannot call a class as a function")}function re(We,Re){if(!We)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Re||typeof Re!="object"&&typeof Re!="function"?We:Re}function Zt(We,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Re);We.prototype=Object.create(Re&&Re.prototype,{constructor:{value:We,enumerable:!1,writable:!0,configurable:!0}}),Re&&(Object.setPrototypeOf?Object.setPrototypeOf(We,Re):We.__proto__=Re)}function Bt(We,Re){var Be,un=We===$e.keys.LEFT?"prefix":"suffix";return Be={key:We,shiftKey:Re,altKey:null},ke(Be,un,/^$/),ke(Be,"handler",function(he){var In=he.index;We===$e.keys.RIGHT&&(In+=he.length+1);var kn=this.quill.getLeaf(In);return!(te(kn,1)[0]instanceof De.default.Embed)||(We===$e.keys.LEFT?Re?this.quill.setSelection(he.index-1,he.length+1,rn.default.sources.USER):this.quill.setSelection(he.index-1,rn.default.sources.USER):Re?this.quill.setSelection(he.index,he.length+1,rn.default.sources.USER):this.quill.setSelection(he.index+he.length+1,rn.default.sources.USER),!1)}),Be}function yt(We,Re){if(!(We.index===0||this.quill.getLength()<=1)){var Be=this.quill.getLine(We.index),un=te(Be,1),he=un[0],In={};if(Re.offset===0){var kn=this.quill.getLine(We.index-1),Gn=te(kn,1),fi=Gn[0];if(fi!=null&&fi.length()>1){var Zn=he.formats(),Cr=this.quill.getFormat(We.index-1,1);In=Le.default.attributes.diff(Zn,Cr)||{}}}var Yi=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Re.prefix)?2:1;this.quill.deleteText(We.index-Yi,Yi,rn.default.sources.USER),Object.keys(In).length>0&&this.quill.formatLine(We.index-Yi,Yi,In,rn.default.sources.USER),this.quill.focus()}}function pt(We,Re){var Be=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Re.suffix)?2:1;if(!(We.index>=this.quill.getLength()-Be)){var un={},he=0,In=this.quill.getLine(We.index),kn=te(In,1),Gn=kn[0];if(Re.offset>=Gn.length()-1){var fi=this.quill.getLine(We.index+1),Zn=te(fi,1),Cr=Zn[0];if(Cr){var Yi=Gn.formats(),wn=this.quill.getFormat(We.index,1);un=Le.default.attributes.diff(Yi,wn)||{},he=Cr.length()}}this.quill.deleteText(We.index,Be,rn.default.sources.USER),Object.keys(un).length>0&&this.quill.formatLine(We.index+he-1,Be,un,rn.default.sources.USER)}}function gt(We){var Re=this.quill.getLines(We),Be={};if(Re.length>1){var un=Re[0].formats(),he=Re[Re.length-1].formats();Be=Le.default.attributes.diff(he,un)||{}}this.quill.deleteText(We,rn.default.sources.USER),Object.keys(Be).length>0&&this.quill.formatLine(We.index,1,Be,rn.default.sources.USER),this.quill.setSelection(We.index,rn.default.sources.SILENT),this.quill.focus()}function ft(We,Re){var Be=this;We.length>0&&this.quill.scroll.deleteAt(We.index,We.length);var un=Object.keys(Re.format).reduce(function(he,In){return De.default.query(In,De.default.Scope.BLOCK)&&!Array.isArray(Re.format[In])&&(he[In]=Re.format[In]),he},{});this.quill.insertText(We.index,`
`,un,rn.default.sources.USER),this.quill.setSelection(We.index+1,rn.default.sources.SILENT),this.quill.focus(),Object.keys(Re.format).forEach(function(he){un[he]==null&&(Array.isArray(Re.format[he])||he!=="link"&&Be.quill.format(he,Re.format[he],rn.default.sources.USER))})}function It(We){return{key:$e.keys.TAB,shiftKey:!We,format:{"code-block":!0},handler:function(Re){var Be=De.default.query("code-block"),un=Re.index,he=Re.length,In=this.quill.scroll.descendant(Be,un),kn=te(In,2),Gn=kn[0],fi=kn[1];if(Gn!=null){var Zn=this.quill.getIndex(Gn),Cr=Gn.newlineIndex(fi,!0)+1,Yi=Gn.newlineIndex(Zn+fi+he),wn=Gn.domNode.textContent.slice(Cr,Yi).split(`
`);fi=0,wn.forEach(function(zn,Un){We?(Gn.insertAt(Cr+fi,Be.TAB),fi+=Be.TAB.length,Un===0?un+=Be.TAB.length:he+=Be.TAB.length):zn.startsWith(Be.TAB)&&(Gn.deleteAt(Cr+fi,Be.TAB.length),fi-=Be.TAB.length,Un===0?un-=Be.TAB.length:he-=Be.TAB.length),fi+=zn.length+1}),this.quill.update(rn.default.sources.USER),this.quill.setSelection(un,he,rn.default.sources.SILENT)}}}}function Mt(We){return{key:We[0].toUpperCase(),shortKey:!0,handler:function(Re,Be){this.quill.format(We,!Be.format[We],rn.default.sources.USER)}}}function Ct(We){if(typeof We=="string"||typeof We=="number")return Ct({key:We});if((We===void 0?"undefined":ct(We))==="object"&&(We=(0,Kt.default)(We,!1)),typeof We.key=="string")if($e.keys[We.key.toUpperCase()]!=null)We.key=$e.keys[We.key.toUpperCase()];else{if(We.key.length!==1)return null;We.key=We.key.toUpperCase().charCodeAt(0)}return We.shortKey&&(We[cn]=We.shortKey,delete We.shortKey),We}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.SHORTKEY=Wt.default=void 0;var ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(We){return typeof We}:function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},te=function(){function We(Re,Be){var un=[],he=!0,In=!1,kn=void 0;try{for(var Gn,fi=Re[Symbol.iterator]();!(he=(Gn=fi.next()).done)&&(un.push(Gn.value),!Be||un.length!==Be);he=!0);}catch(Zn){In=!0,kn=Zn}finally{try{!he&&fi.return&&fi.return()}finally{if(In)throw kn}}return un}return function(Re,Be){if(Array.isArray(Re))return Re;if(Symbol.iterator in Object(Re))return We(Re,Be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),At=function(){function We(Re,Be){for(var un=0;un<Be.length;un++){var he=Be[un];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Re,he.key,he)}}return function(Re,Be,un){return Be&&We(Re.prototype,Be),un&&We(Re,un),Re}}(),Ft=wt(21),Kt=qt(Ft),se=wt(12),Me=qt(se),fe=wt(2),ne=qt(fe),Ht=wt(4),Gt=qt(Ht),ie=wt(20),Le=qt(ie),pe=wt(0),De=qt(pe),Bn=wt(6),rn=qt(Bn),ln=wt(10),oe=qt(ln),Oe=wt(7),U=qt(Oe),ye=(0,oe.default)("quill:keyboard"),cn=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",$e=function(We){function Re(Be,un){Jt(this,Re);var he=re(this,(Re.__proto__||Object.getPrototypeOf(Re)).call(this,Be,un));return he.bindings={},Object.keys(he.options.bindings).forEach(function(In){(In!=="list autofill"||Be.scroll.whitelist==null||Be.scroll.whitelist.list)&&he.options.bindings[In]&&he.addBinding(he.options.bindings[In])}),he.addBinding({key:Re.keys.ENTER,shiftKey:null},ft),he.addBinding({key:Re.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(he.addBinding({key:Re.keys.BACKSPACE},{collapsed:!0},yt),he.addBinding({key:Re.keys.DELETE},{collapsed:!0},pt)):(he.addBinding({key:Re.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},yt),he.addBinding({key:Re.keys.DELETE},{collapsed:!0,suffix:/^.?$/},pt)),he.addBinding({key:Re.keys.BACKSPACE},{collapsed:!1},gt),he.addBinding({key:Re.keys.DELETE},{collapsed:!1},gt),he.addBinding({key:Re.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},yt),he.listen(),he}return Zt(Re,We),At(Re,null,[{key:"match",value:function(Be,un){return un=Ct(un),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(he){return!!un[he]!==Be[he]&&un[he]!==null})&&un.key===(Be.which||Be.keyCode)}}]),At(Re,[{key:"addBinding",value:function(Be){var un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},In=Ct(Be);if(In==null||In.key==null)return ye.warn("Attempted to add invalid keyboard binding",In);typeof un=="function"&&(un={handler:un}),typeof he=="function"&&(he={handler:he}),In=(0,ne.default)(In,un,he),this.bindings[In.key]=this.bindings[In.key]||[],this.bindings[In.key].push(In)}},{key:"listen",value:function(){var Be=this;this.quill.root.addEventListener("keydown",function(un){if(!un.defaultPrevented){var he=un.which||un.keyCode,In=(Be.bindings[he]||[]).filter(function(ve){return Re.match(un,ve)});if(In.length!==0){var kn=Be.quill.getSelection();if(kn!=null&&Be.quill.hasFocus()){var Gn=Be.quill.getLine(kn.index),fi=te(Gn,2),Zn=fi[0],Cr=fi[1],Yi=Be.quill.getLeaf(kn.index),wn=te(Yi,2),zn=wn[0],Un=wn[1],_i=kn.length===0?[zn,Un]:Be.quill.getLeaf(kn.index+kn.length),ui=te(_i,2),Ri=ui[0],Rt=ui[1],kt=zn instanceof De.default.Text?zn.value().slice(0,Un):"",Tt=Ri instanceof De.default.Text?Ri.value().slice(Rt):"",Ut={collapsed:kn.length===0,empty:kn.length===0&&Zn.length()<=1,format:Be.quill.getFormat(kn),offset:Cr,prefix:kt,suffix:Tt};In.some(function(ve){if(ve.collapsed!=null&&ve.collapsed!==Ut.collapsed||ve.empty!=null&&ve.empty!==Ut.empty||ve.offset!=null&&ve.offset!==Ut.offset)return!1;if(Array.isArray(ve.format)){if(ve.format.every(function(Pe){return Ut.format[Pe]==null}))return!1}else if(ct(ve.format)==="object"&&!Object.keys(ve.format).every(function(Pe){return ve.format[Pe]===!0?Ut.format[Pe]!=null:ve.format[Pe]===!1?Ut.format[Pe]==null:(0,Me.default)(ve.format[Pe],Ut.format[Pe])}))return!1;return!(ve.prefix!=null&&!ve.prefix.test(Ut.prefix))&&!(ve.suffix!=null&&!ve.suffix.test(Ut.suffix))&&ve.handler.call(Be,kn,Ut)!==!0})&&un.preventDefault()}}}})}}]),Re}(U.default);$e.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},$e.DEFAULTS={bindings:{bold:Mt("bold"),italic:Mt("italic"),underline:Mt("underline"),indent:{key:$e.keys.TAB,format:["blockquote","indent","list"],handler:function(We,Re){if(Re.collapsed&&Re.offset!==0)return!0;this.quill.format("indent","+1",rn.default.sources.USER)}},outdent:{key:$e.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(We,Re){if(Re.collapsed&&Re.offset!==0)return!0;this.quill.format("indent","-1",rn.default.sources.USER)}},"outdent backspace":{key:$e.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(We,Re){Re.format.indent!=null?this.quill.format("indent","-1",rn.default.sources.USER):Re.format.list!=null&&this.quill.format("list",!1,rn.default.sources.USER)}},"indent code-block":It(!0),"outdent code-block":It(!1),"remove tab":{key:$e.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(We){this.quill.deleteText(We.index-1,1,rn.default.sources.USER)}},tab:{key:$e.keys.TAB,handler:function(We){this.quill.history.cutoff();var Re=new Gt.default().retain(We.index).delete(We.length).insert("	");this.quill.updateContents(Re,rn.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(We.index+1,rn.default.sources.SILENT)}},"list empty enter":{key:$e.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(We,Re){this.quill.format("list",!1,rn.default.sources.USER),Re.format.indent&&this.quill.format("indent",!1,rn.default.sources.USER)}},"checklist enter":{key:$e.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(We){var Re=this.quill.getLine(We.index),Be=te(Re,2),un=Be[0],he=Be[1],In=(0,ne.default)({},un.formats(),{list:"checked"}),kn=new Gt.default().retain(We.index).insert(`
`,In).retain(un.length()-he-1).retain(1,{list:"unchecked"});this.quill.updateContents(kn,rn.default.sources.USER),this.quill.setSelection(We.index+1,rn.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:$e.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(We,Re){var Be=this.quill.getLine(We.index),un=te(Be,2),he=un[0],In=un[1],kn=new Gt.default().retain(We.index).insert(`
`,Re.format).retain(he.length()-In-1).retain(1,{header:null});this.quill.updateContents(kn,rn.default.sources.USER),this.quill.setSelection(We.index+1,rn.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(We,Re){var Be=Re.prefix.length,un=this.quill.getLine(We.index),he=te(un,2),In=he[0],kn=he[1];if(kn>Be)return!0;var Gn=void 0;switch(Re.prefix.trim()){case"[]":case"[ ]":Gn="unchecked";break;case"[x]":Gn="checked";break;case"-":case"*":Gn="bullet";break;default:Gn="ordered"}this.quill.insertText(We.index," ",rn.default.sources.USER),this.quill.history.cutoff();var fi=new Gt.default().retain(We.index-kn).delete(Be+1).retain(In.length()-2-kn).retain(1,{list:Gn});this.quill.updateContents(fi,rn.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(We.index-Be,rn.default.sources.SILENT)}},"code exit":{key:$e.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(We){var Re=this.quill.getLine(We.index),Be=te(Re,2),un=Be[0],he=Be[1],In=new Gt.default().retain(We.index+un.length()-he-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(In,rn.default.sources.USER)}},"embed left":Bt($e.keys.LEFT,!1),"embed left shift":Bt($e.keys.LEFT,!0),"embed right":Bt($e.keys.RIGHT,!1),"embed right shift":Bt($e.keys.RIGHT,!0)}},Wt.default=$e,Wt.SHORTKEY=cn},function(Ve,Wt,wt){Ve.exports={align:{"":wt(75),center:wt(76),right:wt(77),justify:wt(78)},background:wt(79),blockquote:wt(80),bold:wt(81),clean:wt(82),code:wt(40),"code-block":wt(40),color:wt(83),direction:{"":wt(84),rtl:wt(85)},float:{center:wt(86),full:wt(87),left:wt(88),right:wt(89)},formula:wt(90),header:{1:wt(91),2:wt(92)},italic:wt(93),image:wt(94),indent:{"+1":wt(95),"-1":wt(96)},link:wt(97),list:{ordered:wt(98),bullet:wt(99),check:wt(100)},script:{sub:wt(101),super:wt(102)},strike:wt(103),underline:wt(104),video:wt(105)}},function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0});var qt=wt(1),ke=function(){function Jt(re){this.domNode=re,this.domNode[qt.DATA_KEY]={blot:this}}return Object.defineProperty(Jt.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),Jt.create=function(re){if(this.tagName==null)throw new qt.ParchmentError("Blot definition missing tagName");var Zt;return Array.isArray(this.tagName)?(typeof re=="string"&&(re=re.toUpperCase(),parseInt(re).toString()===re&&(re=parseInt(re))),Zt=typeof re=="number"?document.createElement(this.tagName[re-1]):this.tagName.indexOf(re)>-1?document.createElement(re):document.createElement(this.tagName[0])):Zt=document.createElement(this.tagName),this.className&&Zt.classList.add(this.className),Zt},Jt.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},Jt.prototype.clone=function(){var re=this.domNode.cloneNode(!1);return qt.create(re)},Jt.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[qt.DATA_KEY]},Jt.prototype.deleteAt=function(re,Zt){this.isolate(re,Zt).remove()},Jt.prototype.formatAt=function(re,Zt,Bt,yt){var pt=this.isolate(re,Zt);if(qt.query(Bt,qt.Scope.BLOT)!=null&&yt)pt.wrap(Bt,yt);else if(qt.query(Bt,qt.Scope.ATTRIBUTE)!=null){var gt=qt.create(this.statics.scope);pt.wrap(gt),gt.format(Bt,yt)}},Jt.prototype.insertAt=function(re,Zt,Bt){var yt=Bt==null?qt.create("text",Zt):qt.create(Zt,Bt),pt=this.split(re);this.parent.insertBefore(yt,pt)},Jt.prototype.insertInto=function(re,Zt){Zt===void 0&&(Zt=null),this.parent!=null&&this.parent.children.remove(this);var Bt=null;re.children.insertBefore(this,Zt),Zt!=null&&(Bt=Zt.domNode),this.domNode.parentNode==re.domNode&&this.domNode.nextSibling==Bt||re.domNode.insertBefore(this.domNode,Bt),this.parent=re,this.attach()},Jt.prototype.isolate=function(re,Zt){var Bt=this.split(re);return Bt.split(Zt),Bt},Jt.prototype.length=function(){return 1},Jt.prototype.offset=function(re){return re===void 0&&(re=this.parent),this.parent==null||this==re?0:this.parent.children.offset(this)+this.parent.offset(re)},Jt.prototype.optimize=function(re){this.domNode[qt.DATA_KEY]!=null&&delete this.domNode[qt.DATA_KEY].mutations},Jt.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},Jt.prototype.replace=function(re){re.parent!=null&&(re.parent.insertBefore(this,re.next),re.remove())},Jt.prototype.replaceWith=function(re,Zt){var Bt=typeof re=="string"?qt.create(re,Zt):re;return Bt.replace(this),Bt},Jt.prototype.split=function(re,Zt){return re===0?this:this.next},Jt.prototype.update=function(re,Zt){},Jt.prototype.wrap=function(re,Zt){var Bt=typeof re=="string"?qt.create(re,Zt):re;return this.parent!=null&&this.parent.insertBefore(Bt,this.next),Bt.appendChild(this),Bt},Jt.blotName="abstract",Jt}();Wt.default=ke},function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0});var qt=wt(11),ke=wt(29),Jt=wt(30),re=wt(1),Zt=function(){function Bt(yt){this.attributes={},this.domNode=yt,this.build()}return Bt.prototype.attribute=function(yt,pt){pt?yt.add(this.domNode,pt)&&(yt.value(this.domNode)!=null?this.attributes[yt.attrName]=yt:delete this.attributes[yt.attrName]):(yt.remove(this.domNode),delete this.attributes[yt.attrName])},Bt.prototype.build=function(){var yt=this;this.attributes={};var pt=qt.default.keys(this.domNode),gt=ke.default.keys(this.domNode),ft=Jt.default.keys(this.domNode);pt.concat(gt).concat(ft).forEach(function(It){var Mt=re.query(It,re.Scope.ATTRIBUTE);Mt instanceof qt.default&&(yt.attributes[Mt.attrName]=Mt)})},Bt.prototype.copy=function(yt){var pt=this;Object.keys(this.attributes).forEach(function(gt){var ft=pt.attributes[gt].value(pt.domNode);yt.format(gt,ft)})},Bt.prototype.move=function(yt){var pt=this;this.copy(yt),Object.keys(this.attributes).forEach(function(gt){pt.attributes[gt].remove(pt.domNode)}),this.attributes={}},Bt.prototype.values=function(){var yt=this;return Object.keys(this.attributes).reduce(function(pt,gt){return pt[gt]=yt.attributes[gt].value(yt.domNode),pt},{})},Bt}();Wt.default=Zt},function(Ve,Wt,wt){function qt(Zt,Bt){return(Zt.getAttribute("class")||"").split(/\s+/).filter(function(yt){return yt.indexOf(Bt+"-")===0})}var ke=this&&this.__extends||function(){var Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,yt){Bt.__proto__=yt}||function(Bt,yt){for(var pt in yt)yt.hasOwnProperty(pt)&&(Bt[pt]=yt[pt])};return function(Bt,yt){function pt(){this.constructor=Bt}Zt(Bt,yt),Bt.prototype=yt===null?Object.create(yt):(pt.prototype=yt.prototype,new pt)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var Jt=wt(11),re=function(Zt){function Bt(){return Zt!==null&&Zt.apply(this,arguments)||this}return ke(Bt,Zt),Bt.keys=function(yt){return(yt.getAttribute("class")||"").split(/\s+/).map(function(pt){return pt.split("-").slice(0,-1).join("-")})},Bt.prototype.add=function(yt,pt){return!!this.canAdd(yt,pt)&&(this.remove(yt),yt.classList.add(this.keyName+"-"+pt),!0)},Bt.prototype.remove=function(yt){qt(yt,this.keyName).forEach(function(pt){yt.classList.remove(pt)}),yt.classList.length===0&&yt.removeAttribute("class")},Bt.prototype.value=function(yt){var pt=qt(yt,this.keyName)[0]||"",gt=pt.slice(this.keyName.length+1);return this.canAdd(yt,gt)?gt:""},Bt}(Jt.default);Wt.default=re},function(Ve,Wt,wt){function qt(Zt){var Bt=Zt.split("-"),yt=Bt.slice(1).map(function(pt){return pt[0].toUpperCase()+pt.slice(1)}).join("");return Bt[0]+yt}var ke=this&&this.__extends||function(){var Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,yt){Bt.__proto__=yt}||function(Bt,yt){for(var pt in yt)yt.hasOwnProperty(pt)&&(Bt[pt]=yt[pt])};return function(Bt,yt){function pt(){this.constructor=Bt}Zt(Bt,yt),Bt.prototype=yt===null?Object.create(yt):(pt.prototype=yt.prototype,new pt)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var Jt=wt(11),re=function(Zt){function Bt(){return Zt!==null&&Zt.apply(this,arguments)||this}return ke(Bt,Zt),Bt.keys=function(yt){return(yt.getAttribute("style")||"").split(";").map(function(pt){return pt.split(":")[0].trim()})},Bt.prototype.add=function(yt,pt){return!!this.canAdd(yt,pt)&&(yt.style[qt(this.keyName)]=pt,!0)},Bt.prototype.remove=function(yt){yt.style[qt(this.keyName)]="",yt.getAttribute("style")||yt.removeAttribute("style")},Bt.prototype.value=function(yt){var pt=yt.style[qt(this.keyName)];return this.canAdd(yt,pt)?pt:""},Bt}(Jt.default);Wt.default=re},function(Ve,Wt,wt){function qt(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}function ke(Ct,ct){if(!(Ct instanceof ct))throw new TypeError("Cannot call a class as a function")}function Jt(Ct,ct){if(!Ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ct||typeof ct!="object"&&typeof ct!="function"?Ct:ct}function re(Ct,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ct);Ct.prototype=Object.create(ct&&ct.prototype,{constructor:{value:Ct,enumerable:!1,writable:!0,configurable:!0}}),ct&&(Object.setPrototypeOf?Object.setPrototypeOf(Ct,ct):Ct.__proto__=ct)}Object.defineProperty(Wt,"__esModule",{value:!0});var Zt=function(){function Ct(ct,te){var At=[],Ft=!0,Kt=!1,se=void 0;try{for(var Me,fe=ct[Symbol.iterator]();!(Ft=(Me=fe.next()).done)&&(At.push(Me.value),!te||At.length!==te);Ft=!0);}catch(ne){Kt=!0,se=ne}finally{try{!Ft&&fe.return&&fe.return()}finally{if(Kt)throw se}}return At}return function(ct,te){if(Array.isArray(ct))return ct;if(Symbol.iterator in Object(ct))return Ct(ct,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Bt=function Ct(ct,te,At){ct===null&&(ct=Function.prototype);var Ft=Object.getOwnPropertyDescriptor(ct,te);if(Ft===void 0){var Kt=Object.getPrototypeOf(ct);return Kt===null?void 0:Ct(Kt,te,At)}if("value"in Ft)return Ft.value;var se=Ft.get;if(se!==void 0)return se.call(At)},yt=function(){function Ct(ct,te){for(var At=0;At<te.length;At++){var Ft=te[At];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(ct,Ft.key,Ft)}}return function(ct,te,At){return te&&Ct(ct.prototype,te),At&&Ct(ct,At),ct}}(),pt=wt(0),gt=qt(pt),ft=wt(8),It=qt(ft),Mt=function(Ct){function ct(te,At){ke(this,ct);var Ft=Jt(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this,te));return Ft.selection=At,Ft.textNode=document.createTextNode(ct.CONTENTS),Ft.domNode.appendChild(Ft.textNode),Ft._length=0,Ft}return re(ct,Ct),yt(ct,null,[{key:"value",value:function(){}}]),yt(ct,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(te,At){if(this._length!==0)return Bt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"format",this).call(this,te,At);for(var Ft=this,Kt=0;Ft!=null&&Ft.statics.scope!==gt.default.Scope.BLOCK_BLOT;)Kt+=Ft.offset(Ft.parent),Ft=Ft.parent;Ft!=null&&(this._length=ct.CONTENTS.length,Ft.optimize(),Ft.formatAt(Kt,ct.CONTENTS.length,te,At),this._length=0)}},{key:"index",value:function(te,At){return te===this.textNode?0:Bt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"index",this).call(this,te,At)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){Bt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var te=this.textNode,At=this.selection.getNativeRange(),Ft=void 0,Kt=void 0,se=void 0;if(At!=null&&At.start.node===te&&At.end.node===te){var Me=[te,At.start.offset,At.end.offset];Ft=Me[0],Kt=Me[1],se=Me[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==ct.CONTENTS){var fe=this.textNode.data.split(ct.CONTENTS).join("");this.next instanceof It.default?(Ft=this.next.domNode,this.next.insertAt(0,fe),this.textNode.data=ct.CONTENTS):(this.textNode.data=fe,this.parent.insertBefore(gt.default.create(this.textNode),this),this.textNode=document.createTextNode(ct.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),Kt!=null){var ne=[Kt,se].map(function(Gt){return Math.max(0,Math.min(Ft.data.length,Gt-1))}),Ht=Zt(ne,2);return Kt=Ht[0],se=Ht[1],{startNode:Ft,startOffset:Kt,endNode:Ft,endOffset:se}}}}},{key:"update",value:function(te,At){var Ft=this;if(te.some(function(se){return se.type==="characterData"&&se.target===Ft.textNode})){var Kt=this.restore();Kt&&(At.range=Kt)}}},{key:"value",value:function(){return""}}]),ct}(gt.default.Embed);Mt.blotName="cursor",Mt.className="ql-cursor",Mt.tagName="span",Mt.CONTENTS="\uFEFF",Wt.default=Mt},function(Ve,Wt,wt){function qt(re,Zt){if(!(re instanceof Zt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(Wt,"__esModule",{value:!0});var ke=function(){function re(Zt,Bt){for(var yt=0;yt<Bt.length;yt++){var pt=Bt[yt];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(Zt,pt.key,pt)}}return function(Zt,Bt,yt){return Bt&&re(Zt.prototype,Bt),yt&&re(Zt,yt),Zt}}(),Jt=function(){function re(Zt,Bt){qt(this,re),this.quill=Zt,this.options=Bt,this.modules={}}return ke(re,[{key:"init",value:function(){var Zt=this;Object.keys(this.options.modules).forEach(function(Bt){Zt.modules[Bt]==null&&Zt.addModule(Bt)})}},{key:"addModule",value:function(Zt){var Bt=this.quill.constructor.import("modules/"+Zt);return this.modules[Zt]=new Bt(this.quill,this.options.modules[Zt]||{}),this.modules[Zt]}}]),re}();Jt.DEFAULTS={modules:{}},Jt.themes={default:Jt},Wt.default=Jt},function(Ve,Wt,wt){function qt(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}function ke(Ct,ct){if(!(Ct instanceof ct))throw new TypeError("Cannot call a class as a function")}function Jt(Ct,ct){if(!Ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ct||typeof ct!="object"&&typeof ct!="function"?Ct:ct}function re(Ct,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ct);Ct.prototype=Object.create(ct&&ct.prototype,{constructor:{value:Ct,enumerable:!1,writable:!0,configurable:!0}}),ct&&(Object.setPrototypeOf?Object.setPrototypeOf(Ct,ct):Ct.__proto__=ct)}Object.defineProperty(Wt,"__esModule",{value:!0});var Zt=function(){function Ct(ct,te){for(var At=0;At<te.length;At++){var Ft=te[At];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(ct,Ft.key,Ft)}}return function(ct,te,At){return te&&Ct(ct.prototype,te),At&&Ct(ct,At),ct}}(),Bt=function Ct(ct,te,At){ct===null&&(ct=Function.prototype);var Ft=Object.getOwnPropertyDescriptor(ct,te);if(Ft===void 0){var Kt=Object.getPrototypeOf(ct);return Kt===null?void 0:Ct(Kt,te,At)}if("value"in Ft)return Ft.value;var se=Ft.get;if(se!==void 0)return se.call(At)},yt=wt(0),pt=qt(yt),gt=wt(8),ft=qt(gt),It="\uFEFF",Mt=function(Ct){function ct(te){ke(this,ct);var At=Jt(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this,te));return At.contentNode=document.createElement("span"),At.contentNode.setAttribute("contenteditable",!1),[].slice.call(At.domNode.childNodes).forEach(function(Ft){At.contentNode.appendChild(Ft)}),At.leftGuard=document.createTextNode(It),At.rightGuard=document.createTextNode(It),At.domNode.appendChild(At.leftGuard),At.domNode.appendChild(At.contentNode),At.domNode.appendChild(At.rightGuard),At}return re(ct,Ct),Zt(ct,[{key:"index",value:function(te,At){return te===this.leftGuard?0:te===this.rightGuard?1:Bt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"index",this).call(this,te,At)}},{key:"restore",value:function(te){var At=void 0,Ft=void 0,Kt=te.data.split(It).join("");if(te===this.leftGuard)if(this.prev instanceof ft.default){var se=this.prev.length();this.prev.insertAt(se,Kt),At={startNode:this.prev.domNode,startOffset:se+Kt.length}}else Ft=document.createTextNode(Kt),this.parent.insertBefore(pt.default.create(Ft),this),At={startNode:Ft,startOffset:Kt.length};else te===this.rightGuard&&(this.next instanceof ft.default?(this.next.insertAt(0,Kt),At={startNode:this.next.domNode,startOffset:Kt.length}):(Ft=document.createTextNode(Kt),this.parent.insertBefore(pt.default.create(Ft),this.next),At={startNode:Ft,startOffset:Kt.length}));return te.data=It,At}},{key:"update",value:function(te,At){var Ft=this;te.forEach(function(Kt){if(Kt.type==="characterData"&&(Kt.target===Ft.leftGuard||Kt.target===Ft.rightGuard)){var se=Ft.restore(Kt.target);se&&(At.range=se)}})}}]),ct}(pt.default.Embed);Wt.default=Mt},function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.AlignStyle=Wt.AlignClass=Wt.AlignAttribute=void 0;var qt=wt(0),ke=function(yt){return yt&&yt.__esModule?yt:{default:yt}}(qt),Jt={scope:ke.default.Scope.BLOCK,whitelist:["right","center","justify"]},re=new ke.default.Attributor.Attribute("align","align",Jt),Zt=new ke.default.Attributor.Class("align","ql-align",Jt),Bt=new ke.default.Attributor.Style("align","text-align",Jt);Wt.AlignAttribute=re,Wt.AlignClass=Zt,Wt.AlignStyle=Bt},function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.BackgroundStyle=Wt.BackgroundClass=void 0;var qt=wt(0),ke=function(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}(qt),Jt=wt(24),re=new ke.default.Attributor.Class("background","ql-bg",{scope:ke.default.Scope.INLINE}),Zt=new Jt.ColorAttributor("background","background-color",{scope:ke.default.Scope.INLINE});Wt.BackgroundClass=re,Wt.BackgroundStyle=Zt},function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.DirectionStyle=Wt.DirectionClass=Wt.DirectionAttribute=void 0;var qt=wt(0),ke=function(yt){return yt&&yt.__esModule?yt:{default:yt}}(qt),Jt={scope:ke.default.Scope.BLOCK,whitelist:["rtl"]},re=new ke.default.Attributor.Attribute("direction","dir",Jt),Zt=new ke.default.Attributor.Class("direction","ql-direction",Jt),Bt=new ke.default.Attributor.Style("direction","direction",Jt);Wt.DirectionAttribute=re,Wt.DirectionClass=Zt,Wt.DirectionStyle=Bt},function(Ve,Wt,wt){function qt(Mt,Ct){if(!(Mt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function ke(Mt,Ct){if(!Mt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ct||typeof Ct!="object"&&typeof Ct!="function"?Mt:Ct}function Jt(Mt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ct);Mt.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:Mt,enumerable:!1,writable:!0,configurable:!0}}),Ct&&(Object.setPrototypeOf?Object.setPrototypeOf(Mt,Ct):Mt.__proto__=Ct)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.FontClass=Wt.FontStyle=void 0;var re=function(){function Mt(Ct,ct){for(var te=0;te<ct.length;te++){var At=ct[te];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(Ct,At.key,At)}}return function(Ct,ct,te){return ct&&Mt(Ct.prototype,ct),te&&Mt(Ct,te),Ct}}(),Zt=function Mt(Ct,ct,te){Ct===null&&(Ct=Function.prototype);var At=Object.getOwnPropertyDescriptor(Ct,ct);if(At===void 0){var Ft=Object.getPrototypeOf(Ct);return Ft===null?void 0:Mt(Ft,ct,te)}if("value"in At)return At.value;var Kt=At.get;if(Kt!==void 0)return Kt.call(te)},Bt=wt(0),yt=function(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}}(Bt),pt={scope:yt.default.Scope.INLINE,whitelist:["serif","monospace"]},gt=new yt.default.Attributor.Class("font","ql-font",pt),ft=function(Mt){function Ct(){return qt(this,Ct),ke(this,(Ct.__proto__||Object.getPrototypeOf(Ct)).apply(this,arguments))}return Jt(Ct,Mt),re(Ct,[{key:"value",value:function(ct){return Zt(Ct.prototype.__proto__||Object.getPrototypeOf(Ct.prototype),"value",this).call(this,ct).replace(/["']/g,"")}}]),Ct}(yt.default.Attributor.Style),It=new ft("font","font-family",pt);Wt.FontStyle=It,Wt.FontClass=gt},function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.SizeStyle=Wt.SizeClass=void 0;var qt=wt(0),ke=function(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}(qt),Jt=new ke.default.Attributor.Class("size","ql-size",{scope:ke.default.Scope.INLINE,whitelist:["small","large","huge"]}),re=new ke.default.Attributor.Style("size","font-size",{scope:ke.default.Scope.INLINE,whitelist:["10px","18px","32px"]});Wt.SizeClass=Jt,Wt.SizeStyle=re},function(Ve,Wt,wt){function qt(gt,ft){if(!(gt instanceof ft))throw new TypeError("Cannot call a class as a function")}function ke(gt,ft){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?gt:ft}function Jt(gt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);gt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,ft):gt.__proto__=ft)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=function(){function gt(ft,It){for(var Mt=0;Mt<It.length;Mt++){var Ct=It[Mt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(ft,Ct.key,Ct)}}return function(ft,It,Mt){return It&&gt(ft.prototype,It),Mt&&gt(ft,Mt),ft}}(),Zt=function gt(ft,It,Mt){ft===null&&(ft=Function.prototype);var Ct=Object.getOwnPropertyDescriptor(ft,It);if(Ct===void 0){var ct=Object.getPrototypeOf(ft);return ct===null?void 0:gt(ct,It,Mt)}if("value"in Ct)return Ct.value;var te=Ct.get;if(te!==void 0)return te.call(Mt)},Bt=wt(5),yt=function(gt){return gt&&gt.__esModule?gt:{default:gt}}(Bt),pt=function(gt){function ft(){return qt(this,ft),ke(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return Jt(ft,gt),re(ft,[{key:"optimize",value:function(It){Zt(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"optimize",this).call(this,It),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return Zt(ft.__proto__||Object.getPrototypeOf(ft),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),ft}(yt.default);pt.blotName="bold",pt.tagName=["STRONG","B"],Wt.default=pt},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(Ve,Wt,wt){function qt(gt,ft){if(!(gt instanceof ft))throw new TypeError("Cannot call a class as a function")}function ke(gt,ft){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?gt:ft}function Jt(gt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);gt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,ft):gt.__proto__=ft)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=function(){function gt(ft,It){for(var Mt=0;Mt<It.length;Mt++){var Ct=It[Mt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(ft,Ct.key,Ct)}}return function(ft,It,Mt){return It&&gt(ft.prototype,It),Mt&&gt(ft,Mt),ft}}(),Zt=function gt(ft,It,Mt){ft===null&&(ft=Function.prototype);var Ct=Object.getOwnPropertyDescriptor(ft,It);if(Ct===void 0){var ct=Object.getPrototypeOf(ft);return ct===null?void 0:gt(ct,It,Mt)}if("value"in Ct)return Ct.value;var te=Ct.get;if(te!==void 0)return te.call(Mt)},Bt=wt(16),yt=function(gt){return gt&&gt.__esModule?gt:{default:gt}}(Bt),pt=function(gt){function ft(It,Mt){qt(this,ft);var Ct=ke(this,(ft.__proto__||Object.getPrototypeOf(ft)).call(this,It));return Ct.label.innerHTML=Mt,Ct.container.classList.add("ql-color-picker"),[].slice.call(Ct.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(ct){ct.classList.add("ql-primary")}),Ct}return Jt(ft,gt),re(ft,[{key:"buildItem",value:function(It){var Mt=Zt(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"buildItem",this).call(this,It);return Mt.style.backgroundColor=It.getAttribute("value")||"",Mt}},{key:"selectItem",value:function(It,Mt){Zt(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"selectItem",this).call(this,It,Mt);var Ct=this.label.querySelector(".ql-color-label"),ct=It&&It.getAttribute("data-value")||"";Ct&&(Ct.tagName==="line"?Ct.style.stroke=ct:Ct.style.fill=ct)}}]),ft}(yt.default);Wt.default=pt},function(Ve,Wt,wt){function qt(gt,ft){if(!(gt instanceof ft))throw new TypeError("Cannot call a class as a function")}function ke(gt,ft){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?gt:ft}function Jt(gt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);gt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,ft):gt.__proto__=ft)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=function(){function gt(ft,It){for(var Mt=0;Mt<It.length;Mt++){var Ct=It[Mt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(ft,Ct.key,Ct)}}return function(ft,It,Mt){return It&&gt(ft.prototype,It),Mt&&gt(ft,Mt),ft}}(),Zt=function gt(ft,It,Mt){ft===null&&(ft=Function.prototype);var Ct=Object.getOwnPropertyDescriptor(ft,It);if(Ct===void 0){var ct=Object.getPrototypeOf(ft);return ct===null?void 0:gt(ct,It,Mt)}if("value"in Ct)return Ct.value;var te=Ct.get;if(te!==void 0)return te.call(Mt)},Bt=wt(16),yt=function(gt){return gt&&gt.__esModule?gt:{default:gt}}(Bt),pt=function(gt){function ft(It,Mt){qt(this,ft);var Ct=ke(this,(ft.__proto__||Object.getPrototypeOf(ft)).call(this,It));return Ct.container.classList.add("ql-icon-picker"),[].forEach.call(Ct.container.querySelectorAll(".ql-picker-item"),function(ct){ct.innerHTML=Mt[ct.getAttribute("data-value")||""]}),Ct.defaultItem=Ct.container.querySelector(".ql-selected"),Ct.selectItem(Ct.defaultItem),Ct}return Jt(ft,gt),re(ft,[{key:"selectItem",value:function(It,Mt){Zt(ft.prototype.__proto__||Object.getPrototypeOf(ft.prototype),"selectItem",this).call(this,It,Mt),It=It||this.defaultItem,this.label.innerHTML=It.innerHTML}}]),ft}(yt.default);Wt.default=pt},function(Ve,Wt,wt){function qt(re,Zt){if(!(re instanceof Zt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(Wt,"__esModule",{value:!0});var ke=function(){function re(Zt,Bt){for(var yt=0;yt<Bt.length;yt++){var pt=Bt[yt];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(Zt,pt.key,pt)}}return function(Zt,Bt,yt){return Bt&&re(Zt.prototype,Bt),yt&&re(Zt,yt),Zt}}(),Jt=function(){function re(Zt,Bt){var yt=this;qt(this,re),this.quill=Zt,this.boundsContainer=Bt||document.body,this.root=Zt.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){yt.root.style.marginTop=-1*yt.quill.root.scrollTop+"px"}),this.hide()}return ke(re,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(Zt){var Bt=Zt.left+Zt.width/2-this.root.offsetWidth/2,yt=Zt.bottom+this.quill.root.scrollTop;this.root.style.left=Bt+"px",this.root.style.top=yt+"px",this.root.classList.remove("ql-flip");var pt=this.boundsContainer.getBoundingClientRect(),gt=this.root.getBoundingClientRect(),ft=0;if(gt.right>pt.right&&(ft=pt.right-gt.right,this.root.style.left=Bt+ft+"px"),gt.left<pt.left&&(ft=pt.left-gt.left,this.root.style.left=Bt+ft+"px"),gt.bottom>pt.bottom){var It=gt.bottom-gt.top,Mt=Zt.bottom-Zt.top+It;this.root.style.top=yt-Mt+"px",this.root.classList.add("ql-flip")}return ft}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),re}();Wt.default=Jt},function(Ve,Wt,wt){function qt(U){return U&&U.__esModule?U:{default:U}}function ke(U,ye){if(!(U instanceof ye))throw new TypeError("Cannot call a class as a function")}function Jt(U,ye){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ye||typeof ye!="object"&&typeof ye!="function"?U:ye}function re(U,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ye);U.prototype=Object.create(ye&&ye.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),ye&&(Object.setPrototypeOf?Object.setPrototypeOf(U,ye):U.__proto__=ye)}function Zt(U){var ye=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return ye?(ye[1]||"https")+"://www.youtube.com/embed/"+ye[2]+"?showinfo=0":(ye=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(ye[1]||"https")+"://player.vimeo.com/video/"+ye[2]+"/":U}function Bt(U,ye){var cn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];ye.forEach(function($e){var We=document.createElement("option");$e===cn?We.setAttribute("selected","selected"):We.setAttribute("value",$e),U.appendChild(We)})}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.BaseTooltip=void 0;var yt=function(){function U(ye,cn){for(var $e=0;$e<cn.length;$e++){var We=cn[$e];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(ye,We.key,We)}}return function(ye,cn,$e){return cn&&U(ye.prototype,cn),$e&&U(ye,$e),ye}}(),pt=function U(ye,cn,$e){ye===null&&(ye=Function.prototype);var We=Object.getOwnPropertyDescriptor(ye,cn);if(We===void 0){var Re=Object.getPrototypeOf(ye);return Re===null?void 0:U(Re,cn,$e)}if("value"in We)return We.value;var Be=We.get;if(Be!==void 0)return Be.call($e)},gt=wt(2),ft=qt(gt),It=wt(4),Mt=qt(It),Ct=wt(9),ct=qt(Ct),te=wt(25),At=qt(te),Ft=wt(32),Kt=qt(Ft),se=wt(41),Me=qt(se),fe=wt(42),ne=qt(fe),Ht=wt(16),Gt=qt(Ht),ie=wt(43),Le=qt(ie),pe=[!1,"center","right","justify"],De=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Bn=[!1,"serif","monospace"],rn=["1","2","3",!1],ln=["small",!1,"large","huge"],oe=function(U){function ye(cn,$e){ke(this,ye);var We=Jt(this,(ye.__proto__||Object.getPrototypeOf(ye)).call(this,cn,$e)),Re=function Be(un){if(!document.body.contains(cn.root))return document.body.removeEventListener("click",Be);We.tooltip==null||We.tooltip.root.contains(un.target)||document.activeElement===We.tooltip.textbox||We.quill.hasFocus()||We.tooltip.hide(),We.pickers!=null&&We.pickers.forEach(function(he){he.container.contains(un.target)||he.close()})};return cn.emitter.listenDOM("click",document.body,Re),We}return re(ye,U),yt(ye,[{key:"addModule",value:function(cn){var $e=pt(ye.prototype.__proto__||Object.getPrototypeOf(ye.prototype),"addModule",this).call(this,cn);return cn==="toolbar"&&this.extendToolbar($e),$e}},{key:"buildButtons",value:function(cn,$e){cn.forEach(function(We){(We.getAttribute("class")||"").split(/\s+/).forEach(function(Re){if(Re.startsWith("ql-")&&(Re=Re.slice(3),$e[Re]!=null))if(Re==="direction")We.innerHTML=$e[Re][""]+$e[Re].rtl;else if(typeof $e[Re]=="string")We.innerHTML=$e[Re];else{var Be=We.value||"";Be!=null&&$e[Re][Be]&&(We.innerHTML=$e[Re][Be])}})})}},{key:"buildPickers",value:function(cn,$e){var We=this;this.pickers=cn.map(function(Be){if(Be.classList.contains("ql-align"))return Be.querySelector("option")==null&&Bt(Be,pe),new ne.default(Be,$e.align);if(Be.classList.contains("ql-background")||Be.classList.contains("ql-color")){var un=Be.classList.contains("ql-background")?"background":"color";return Be.querySelector("option")==null&&Bt(Be,De,un==="background"?"#ffffff":"#000000"),new Me.default(Be,$e[un])}return Be.querySelector("option")==null&&(Be.classList.contains("ql-font")?Bt(Be,Bn):Be.classList.contains("ql-header")?Bt(Be,rn):Be.classList.contains("ql-size")&&Bt(Be,ln)),new Gt.default(Be)});var Re=function(){We.pickers.forEach(function(Be){Be.update()})};this.quill.on(ct.default.events.EDITOR_CHANGE,Re)}}]),ye}(Kt.default);oe.DEFAULTS=(0,ft.default)(!0,{},Kt.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,ye=this.container.querySelector("input.ql-image[type=file]");ye==null&&(ye=document.createElement("input"),ye.setAttribute("type","file"),ye.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ye.classList.add("ql-image"),ye.addEventListener("change",function(){if(ye.files!=null&&ye.files[0]!=null){var cn=new FileReader;cn.onload=function($e){var We=U.quill.getSelection(!0);U.quill.updateContents(new Mt.default().retain(We.index).delete(We.length).insert({image:$e.target.result}),ct.default.sources.USER),U.quill.setSelection(We.index+1,ct.default.sources.SILENT),ye.value=""},cn.readAsDataURL(ye.files[0])}}),this.container.appendChild(ye)),ye.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Oe=function(U){function ye(cn,$e){ke(this,ye);var We=Jt(this,(ye.__proto__||Object.getPrototypeOf(ye)).call(this,cn,$e));return We.textbox=We.root.querySelector('input[type="text"]'),We.listen(),We}return re(ye,U),yt(ye,[{key:"listen",value:function(){var cn=this;this.textbox.addEventListener("keydown",function($e){At.default.match($e,"enter")?(cn.save(),$e.preventDefault()):At.default.match($e,"escape")&&(cn.cancel(),$e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var cn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$e!=null?this.textbox.value=$e:cn!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+cn)||""),this.root.setAttribute("data-mode",cn)}},{key:"restoreFocus",value:function(){var cn=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=cn}},{key:"save",value:function(){var cn=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var $e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",cn,ct.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",cn,ct.default.sources.USER)),this.quill.root.scrollTop=$e;break;case"video":cn=Zt(cn);case"formula":if(!cn)break;var We=this.quill.getSelection(!0);if(We!=null){var Re=We.index+We.length;this.quill.insertEmbed(Re,this.root.getAttribute("data-mode"),cn,ct.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Re+1," ",ct.default.sources.USER),this.quill.setSelection(Re+2,ct.default.sources.USER)}}this.textbox.value="",this.hide()}}]),ye}(Le.default);Wt.BaseTooltip=Oe,Wt.default=oe},function(Ve,Wt,wt){function qt(Ri){return Ri&&Ri.__esModule?Ri:{default:Ri}}Object.defineProperty(Wt,"__esModule",{value:!0});var ke=wt(46),Jt=qt(ke),re=wt(34),Zt=wt(36),Bt=wt(62),yt=wt(63),pt=qt(yt),gt=wt(64),ft=qt(gt),It=wt(65),Mt=qt(It),Ct=wt(35),ct=wt(24),te=wt(37),At=wt(38),Ft=wt(39),Kt=qt(Ft),se=wt(66),Me=qt(se),fe=wt(15),ne=qt(fe),Ht=wt(67),Gt=qt(Ht),ie=wt(68),Le=qt(ie),pe=wt(69),De=qt(pe),Bn=wt(70),rn=qt(Bn),ln=wt(71),oe=qt(ln),Oe=wt(13),U=qt(Oe),ye=wt(72),cn=qt(ye),$e=wt(73),We=qt($e),Re=wt(74),Be=qt(Re),un=wt(26),he=qt(un),In=wt(16),kn=qt(In),Gn=wt(41),fi=qt(Gn),Zn=wt(42),Cr=qt(Zn),Yi=wt(43),wn=qt(Yi),zn=wt(107),Un=qt(zn),_i=wt(108),ui=qt(_i);Jt.default.register({"attributors/attribute/direction":Zt.DirectionAttribute,"attributors/class/align":re.AlignClass,"attributors/class/background":Ct.BackgroundClass,"attributors/class/color":ct.ColorClass,"attributors/class/direction":Zt.DirectionClass,"attributors/class/font":te.FontClass,"attributors/class/size":At.SizeClass,"attributors/style/align":re.AlignStyle,"attributors/style/background":Ct.BackgroundStyle,"attributors/style/color":ct.ColorStyle,"attributors/style/direction":Zt.DirectionStyle,"attributors/style/font":te.FontStyle,"attributors/style/size":At.SizeStyle},!0),Jt.default.register({"formats/align":re.AlignClass,"formats/direction":Zt.DirectionClass,"formats/indent":Bt.IndentClass,"formats/background":Ct.BackgroundStyle,"formats/color":ct.ColorStyle,"formats/font":te.FontClass,"formats/size":At.SizeClass,"formats/blockquote":pt.default,"formats/code-block":U.default,"formats/header":ft.default,"formats/list":Mt.default,"formats/bold":Kt.default,"formats/code":Oe.Code,"formats/italic":Me.default,"formats/link":ne.default,"formats/script":Gt.default,"formats/strike":Le.default,"formats/underline":De.default,"formats/image":rn.default,"formats/video":oe.default,"formats/list/item":It.ListItem,"modules/formula":cn.default,"modules/syntax":We.default,"modules/toolbar":Be.default,"themes/bubble":Un.default,"themes/snow":ui.default,"ui/icons":he.default,"ui/picker":kn.default,"ui/icon-picker":Cr.default,"ui/color-picker":fi.default,"ui/tooltip":wn.default},!0),Wt.default=Jt.default},function(Ve,Wt,wt){function qt(De){return De&&De.__esModule?De:{default:De}}Object.defineProperty(Wt,"__esModule",{value:!0});var ke=wt(0),Jt=qt(ke),re=wt(6),Zt=qt(re),Bt=wt(3),yt=qt(Bt),pt=wt(14),gt=qt(pt),ft=wt(23),It=qt(ft),Mt=wt(31),Ct=qt(Mt),ct=wt(33),te=qt(ct),At=wt(5),Ft=qt(At),Kt=wt(59),se=qt(Kt),Me=wt(8),fe=qt(Me),ne=wt(60),Ht=qt(ne),Gt=wt(61),ie=qt(Gt),Le=wt(25),pe=qt(Le);Zt.default.register({"blots/block":yt.default,"blots/block/embed":Bt.BlockEmbed,"blots/break":gt.default,"blots/container":It.default,"blots/cursor":Ct.default,"blots/embed":te.default,"blots/inline":Ft.default,"blots/scroll":se.default,"blots/text":fe.default,"modules/clipboard":Ht.default,"modules/history":ie.default,"modules/keyboard":pe.default}),Jt.default.register(yt.default,gt.default,Ct.default,Ft.default,se.default,fe.default),Wt.default=Zt.default},function(Ve,Wt,wt){Object.defineProperty(Wt,"__esModule",{value:!0});var qt=function(){function ke(){this.head=this.tail=null,this.length=0}return ke.prototype.append=function(){for(var Jt=[],re=0;re<arguments.length;re++)Jt[re]=arguments[re];this.insertBefore(Jt[0],null),Jt.length>1&&this.append.apply(this,Jt.slice(1))},ke.prototype.contains=function(Jt){for(var re,Zt=this.iterator();re=Zt();)if(re===Jt)return!0;return!1},ke.prototype.insertBefore=function(Jt,re){Jt&&(Jt.next=re,re!=null?(Jt.prev=re.prev,re.prev!=null&&(re.prev.next=Jt),re.prev=Jt,re===this.head&&(this.head=Jt)):this.tail!=null?(this.tail.next=Jt,Jt.prev=this.tail,this.tail=Jt):(Jt.prev=null,this.head=this.tail=Jt),this.length+=1)},ke.prototype.offset=function(Jt){for(var re=0,Zt=this.head;Zt!=null;){if(Zt===Jt)return re;re+=Zt.length(),Zt=Zt.next}return-1},ke.prototype.remove=function(Jt){this.contains(Jt)&&(Jt.prev!=null&&(Jt.prev.next=Jt.next),Jt.next!=null&&(Jt.next.prev=Jt.prev),Jt===this.head&&(this.head=Jt.next),Jt===this.tail&&(this.tail=Jt.prev),this.length-=1)},ke.prototype.iterator=function(Jt){return Jt===void 0&&(Jt=this.head),function(){var re=Jt;return Jt!=null&&(Jt=Jt.next),re}},ke.prototype.find=function(Jt,re){re===void 0&&(re=!1);for(var Zt,Bt=this.iterator();Zt=Bt();){var yt=Zt.length();if(Jt<yt||re&&Jt===yt&&(Zt.next==null||Zt.next.length()!==0))return[Zt,Jt];Jt-=yt}return[null,0]},ke.prototype.forEach=function(Jt){for(var re,Zt=this.iterator();re=Zt();)Jt(re)},ke.prototype.forEachAt=function(Jt,re,Zt){if(!(re<=0))for(var Bt,yt=this.find(Jt),pt=yt[0],gt=yt[1],ft=Jt-gt,It=this.iterator(pt);(Bt=It())&&ft<Jt+re;){var Mt=Bt.length();Jt>ft?Zt(Bt,Jt-ft,Math.min(re,ft+Mt-Jt)):Zt(Bt,0,Math.min(Mt,Jt+re-ft)),ft+=Mt}},ke.prototype.map=function(Jt){return this.reduce(function(re,Zt){return re.push(Jt(Zt)),re},[])},ke.prototype.reduce=function(Jt,re){for(var Zt,Bt=this.iterator();Zt=Bt();)re=Jt(re,Zt);return re},ke}();Wt.default=qt},function(Ve,Wt,wt){var qt=this&&this.__extends||function(){var Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yt,pt){yt.__proto__=pt}||function(yt,pt){for(var gt in pt)pt.hasOwnProperty(gt)&&(yt[gt]=pt[gt])};return function(yt,pt){function gt(){this.constructor=yt}Bt(yt,pt),yt.prototype=pt===null?Object.create(pt):(gt.prototype=pt.prototype,new gt)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var ke=wt(17),Jt=wt(1),re={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Zt=function(Bt){function yt(pt){var gt=Bt.call(this,pt)||this;return gt.scroll=gt,gt.observer=new MutationObserver(function(ft){gt.update(ft)}),gt.observer.observe(gt.domNode,re),gt.attach(),gt}return qt(yt,Bt),yt.prototype.detach=function(){Bt.prototype.detach.call(this),this.observer.disconnect()},yt.prototype.deleteAt=function(pt,gt){this.update(),pt===0&&gt===this.length()?this.children.forEach(function(ft){ft.remove()}):Bt.prototype.deleteAt.call(this,pt,gt)},yt.prototype.formatAt=function(pt,gt,ft,It){this.update(),Bt.prototype.formatAt.call(this,pt,gt,ft,It)},yt.prototype.insertAt=function(pt,gt,ft){this.update(),Bt.prototype.insertAt.call(this,pt,gt,ft)},yt.prototype.optimize=function(pt,gt){var ft=this;pt===void 0&&(pt=[]),gt===void 0&&(gt={}),Bt.prototype.optimize.call(this,gt);for(var It=[].slice.call(this.observer.takeRecords());It.length>0;)pt.push(It.pop());for(var Mt=function(At,Ft){Ft===void 0&&(Ft=!0),At!=null&&At!==ft&&At.domNode.parentNode!=null&&(At.domNode[Jt.DATA_KEY].mutations==null&&(At.domNode[Jt.DATA_KEY].mutations=[]),Ft&&Mt(At.parent))},Ct=function(At){At.domNode[Jt.DATA_KEY]!=null&&At.domNode[Jt.DATA_KEY].mutations!=null&&(At instanceof ke.default&&At.children.forEach(Ct),At.optimize(gt))},ct=pt,te=0;ct.length>0;te+=1){if(te>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(ct.forEach(function(At){var Ft=Jt.find(At.target,!0);Ft!=null&&(Ft.domNode===At.target&&(At.type==="childList"?(Mt(Jt.find(At.previousSibling,!1)),[].forEach.call(At.addedNodes,function(Kt){var se=Jt.find(Kt,!1);Mt(se,!1),se instanceof ke.default&&se.children.forEach(function(Me){Mt(Me,!1)})})):At.type==="attributes"&&Mt(Ft.prev)),Mt(Ft))}),this.children.forEach(Ct),ct=[].slice.call(this.observer.takeRecords()),It=ct.slice();It.length>0;)pt.push(It.pop())}},yt.prototype.update=function(pt,gt){var ft=this;gt===void 0&&(gt={}),pt=pt||this.observer.takeRecords(),pt.map(function(It){var Mt=Jt.find(It.target,!0);return Mt==null?null:Mt.domNode[Jt.DATA_KEY].mutations==null?(Mt.domNode[Jt.DATA_KEY].mutations=[It],Mt):(Mt.domNode[Jt.DATA_KEY].mutations.push(It),null)}).forEach(function(It){It!=null&&It!==ft&&It.domNode[Jt.DATA_KEY]!=null&&It.update(It.domNode[Jt.DATA_KEY].mutations||[],gt)}),this.domNode[Jt.DATA_KEY].mutations!=null&&Bt.prototype.update.call(this,this.domNode[Jt.DATA_KEY].mutations,gt),this.optimize(pt,gt)},yt.blotName="scroll",yt.defaultChild="block",yt.scope=Jt.Scope.BLOCK_BLOT,yt.tagName="DIV",yt}(ke.default);Wt.default=Zt},function(Ve,Wt,wt){function qt(Bt,yt){if(Object.keys(Bt).length!==Object.keys(yt).length)return!1;for(var pt in Bt)if(Bt[pt]!==yt[pt])return!1;return!0}var ke=this&&this.__extends||function(){var Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yt,pt){yt.__proto__=pt}||function(yt,pt){for(var gt in pt)pt.hasOwnProperty(gt)&&(yt[gt]=pt[gt])};return function(yt,pt){function gt(){this.constructor=yt}Bt(yt,pt),yt.prototype=pt===null?Object.create(pt):(gt.prototype=pt.prototype,new gt)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var Jt=wt(18),re=wt(1),Zt=function(Bt){function yt(){return Bt!==null&&Bt.apply(this,arguments)||this}return ke(yt,Bt),yt.formats=function(pt){if(pt.tagName!==yt.tagName)return Bt.formats.call(this,pt)},yt.prototype.format=function(pt,gt){var ft=this;pt!==this.statics.blotName||gt?Bt.prototype.format.call(this,pt,gt):(this.children.forEach(function(It){It instanceof Jt.default||(It=It.wrap(yt.blotName,!0)),ft.attributes.copy(It)}),this.unwrap())},yt.prototype.formatAt=function(pt,gt,ft,It){this.formats()[ft]!=null||re.query(ft,re.Scope.ATTRIBUTE)?this.isolate(pt,gt).format(ft,It):Bt.prototype.formatAt.call(this,pt,gt,ft,It)},yt.prototype.optimize=function(pt){Bt.prototype.optimize.call(this,pt);var gt=this.formats();if(Object.keys(gt).length===0)return this.unwrap();var ft=this.next;ft instanceof yt&&ft.prev===this&&qt(gt,ft.formats())&&(ft.moveChildren(this),ft.remove())},yt.blotName="inline",yt.scope=re.Scope.INLINE_BLOT,yt.tagName="SPAN",yt}(Jt.default);Wt.default=Zt},function(Ve,Wt,wt){var qt=this&&this.__extends||function(){var Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,yt){Bt.__proto__=yt}||function(Bt,yt){for(var pt in yt)yt.hasOwnProperty(pt)&&(Bt[pt]=yt[pt])};return function(Bt,yt){function pt(){this.constructor=Bt}Zt(Bt,yt),Bt.prototype=yt===null?Object.create(yt):(pt.prototype=yt.prototype,new pt)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var ke=wt(18),Jt=wt(1),re=function(Zt){function Bt(){return Zt!==null&&Zt.apply(this,arguments)||this}return qt(Bt,Zt),Bt.formats=function(yt){var pt=Jt.query(Bt.blotName).tagName;if(yt.tagName!==pt)return Zt.formats.call(this,yt)},Bt.prototype.format=function(yt,pt){Jt.query(yt,Jt.Scope.BLOCK)!=null&&(yt!==this.statics.blotName||pt?Zt.prototype.format.call(this,yt,pt):this.replaceWith(Bt.blotName))},Bt.prototype.formatAt=function(yt,pt,gt,ft){Jt.query(gt,Jt.Scope.BLOCK)!=null?this.format(gt,ft):Zt.prototype.formatAt.call(this,yt,pt,gt,ft)},Bt.prototype.insertAt=function(yt,pt,gt){if(gt==null||Jt.query(pt,Jt.Scope.INLINE)!=null)Zt.prototype.insertAt.call(this,yt,pt,gt);else{var ft=this.split(yt),It=Jt.create(pt,gt);ft.parent.insertBefore(It,ft)}},Bt.prototype.update=function(yt,pt){navigator.userAgent.match(/Trident/)?this.build():Zt.prototype.update.call(this,yt,pt)},Bt.blotName="block",Bt.scope=Jt.Scope.BLOCK_BLOT,Bt.tagName="P",Bt}(ke.default);Wt.default=re},function(Ve,Wt,wt){var qt=this&&this.__extends||function(){var re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Zt,Bt){Zt.__proto__=Bt}||function(Zt,Bt){for(var yt in Bt)Bt.hasOwnProperty(yt)&&(Zt[yt]=Bt[yt])};return function(Zt,Bt){function yt(){this.constructor=Zt}re(Zt,Bt),Zt.prototype=Bt===null?Object.create(Bt):(yt.prototype=Bt.prototype,new yt)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var ke=wt(19),Jt=function(re){function Zt(){return re!==null&&re.apply(this,arguments)||this}return qt(Zt,re),Zt.formats=function(Bt){},Zt.prototype.format=function(Bt,yt){re.prototype.formatAt.call(this,0,this.length(),Bt,yt)},Zt.prototype.formatAt=function(Bt,yt,pt,gt){Bt===0&&yt===this.length()?this.format(pt,gt):re.prototype.formatAt.call(this,Bt,yt,pt,gt)},Zt.prototype.formats=function(){return this.statics.formats(this.domNode)},Zt}(ke.default);Wt.default=Jt},function(Ve,Wt,wt){var qt=this&&this.__extends||function(){var Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,yt){Bt.__proto__=yt}||function(Bt,yt){for(var pt in yt)yt.hasOwnProperty(pt)&&(Bt[pt]=yt[pt])};return function(Bt,yt){function pt(){this.constructor=Bt}Zt(Bt,yt),Bt.prototype=yt===null?Object.create(yt):(pt.prototype=yt.prototype,new pt)}}();Object.defineProperty(Wt,"__esModule",{value:!0});var ke=wt(19),Jt=wt(1),re=function(Zt){function Bt(yt){var pt=Zt.call(this,yt)||this;return pt.text=pt.statics.value(pt.domNode),pt}return qt(Bt,Zt),Bt.create=function(yt){return document.createTextNode(yt)},Bt.value=function(yt){var pt=yt.data;return pt.normalize&&(pt=pt.normalize()),pt},Bt.prototype.deleteAt=function(yt,pt){this.domNode.data=this.text=this.text.slice(0,yt)+this.text.slice(yt+pt)},Bt.prototype.index=function(yt,pt){return this.domNode===yt?pt:-1},Bt.prototype.insertAt=function(yt,pt,gt){gt==null?(this.text=this.text.slice(0,yt)+pt+this.text.slice(yt),this.domNode.data=this.text):Zt.prototype.insertAt.call(this,yt,pt,gt)},Bt.prototype.length=function(){return this.text.length},Bt.prototype.optimize=function(yt){Zt.prototype.optimize.call(this,yt),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Bt&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},Bt.prototype.position=function(yt,pt){return[this.domNode,yt]},Bt.prototype.split=function(yt,pt){if(pt===void 0&&(pt=!1),!pt){if(yt===0)return this;if(yt===this.length())return this.next}var gt=Jt.create(this.domNode.splitText(yt));return this.parent.insertBefore(gt,this.next),this.text=this.statics.value(this.domNode),gt},Bt.prototype.update=function(yt,pt){var gt=this;yt.some(function(ft){return ft.type==="characterData"&&ft.target===gt.domNode})&&(this.text=this.statics.value(this.domNode))},Bt.prototype.value=function(){return this.text},Bt.blotName="text",Bt.scope=Jt.Scope.INLINE_BLOT,Bt}(ke.default);Wt.default=re},function(Ve,Wt,wt){var qt=document.createElement("div");if(qt.classList.toggle("test-class",!1),qt.classList.contains("test-class")){var ke=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(Jt,re){return arguments.length>1&&!this.contains(Jt)==!re?re:ke.call(this,Jt)}}String.prototype.startsWith||(String.prototype.startsWith=function(Jt,re){return re=re||0,this.substr(re,Jt.length)===Jt}),String.prototype.endsWith||(String.prototype.endsWith=function(Jt,re){var Zt=this.toString();(typeof re!="number"||!isFinite(re)||Math.floor(re)!==re||re>Zt.length)&&(re=Zt.length),re-=Jt.length;var Bt=Zt.indexOf(Jt,re);return Bt!==-1&&Bt===re}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(Jt){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof Jt!="function")throw new TypeError("predicate must be a function");for(var re,Zt=Object(this),Bt=Zt.length>>>0,yt=arguments[1],pt=0;pt<Bt;pt++)if(re=Zt[pt],Jt.call(yt,re,pt,Zt))return re}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(Ve,Wt){function wt(At,Ft,Kt){if(At==Ft)return At?[[ct,At]]:[];(Kt<0||At.length<Kt)&&(Kt=null);var se=re(At,Ft),Me=At.substring(0,se);At=At.substring(se),Ft=Ft.substring(se),se=Zt(At,Ft);var fe=At.substring(At.length-se);At=At.substring(0,At.length-se),Ft=Ft.substring(0,Ft.length-se);var ne=qt(At,Ft);return Me&&ne.unshift([ct,Me]),fe&&ne.push([ct,fe]),yt(ne),Kt!=null&&(ne=gt(ne,Kt)),ne=ft(ne)}function qt(At,Ft){var Kt;if(!At)return[[Ct,Ft]];if(!Ft)return[[Mt,At]];var se=At.length>Ft.length?At:Ft,Me=At.length>Ft.length?Ft:At,fe=se.indexOf(Me);if(fe!=-1)return Kt=[[Ct,se.substring(0,fe)],[ct,Me],[Ct,se.substring(fe+Me.length)]],At.length>Ft.length&&(Kt[0][0]=Kt[2][0]=Mt),Kt;if(Me.length==1)return[[Mt,At],[Ct,Ft]];var ne=Bt(At,Ft);if(ne){var Ht=ne[0],Gt=ne[1],ie=ne[2],Le=ne[3],pe=ne[4],De=wt(Ht,ie),Bn=wt(Gt,Le);return De.concat([[ct,pe]],Bn)}return ke(At,Ft)}function ke(At,Ft){for(var Kt=At.length,se=Ft.length,Me=Math.ceil((Kt+se)/2),fe=Me,ne=2*Me,Ht=new Array(ne),Gt=new Array(ne),ie=0;ie<ne;ie++)Ht[ie]=-1,Gt[ie]=-1;Ht[fe+1]=0,Gt[fe+1]=0;for(var Le=Kt-se,pe=Le%2!=0,De=0,Bn=0,rn=0,ln=0,oe=0;oe<Me;oe++){for(var Oe=-oe+De;Oe<=oe-Bn;Oe+=2){var U,ye=fe+Oe;U=Oe==-oe||Oe!=oe&&Ht[ye-1]<Ht[ye+1]?Ht[ye+1]:Ht[ye-1]+1;for(var cn=U-Oe;U<Kt&&cn<se&&At.charAt(U)==Ft.charAt(cn);)U++,cn++;if(Ht[ye]=U,U>Kt)Bn+=2;else if(cn>se)De+=2;else if(pe){var $e=fe+Le-Oe;if($e>=0&&$e<ne&&Gt[$e]!=-1){var We=Kt-Gt[$e];if(U>=We)return Jt(At,Ft,U,cn)}}}for(var Re=-oe+rn;Re<=oe-ln;Re+=2){var We,$e=fe+Re;We=Re==-oe||Re!=oe&&Gt[$e-1]<Gt[$e+1]?Gt[$e+1]:Gt[$e-1]+1;for(var Be=We-Re;We<Kt&&Be<se&&At.charAt(Kt-We-1)==Ft.charAt(se-Be-1);)We++,Be++;if(Gt[$e]=We,We>Kt)ln+=2;else if(Be>se)rn+=2;else if(!pe){var ye=fe+Le-Re;if(ye>=0&&ye<ne&&Ht[ye]!=-1){var U=Ht[ye],cn=fe+U-ye;if(We=Kt-We,U>=We)return Jt(At,Ft,U,cn)}}}}return[[Mt,At],[Ct,Ft]]}function Jt(At,Ft,Kt,se){var Me=At.substring(0,Kt),fe=Ft.substring(0,se),ne=At.substring(Kt),Ht=Ft.substring(se),Gt=wt(Me,fe),ie=wt(ne,Ht);return Gt.concat(ie)}function re(At,Ft){if(!At||!Ft||At.charAt(0)!=Ft.charAt(0))return 0;for(var Kt=0,se=Math.min(At.length,Ft.length),Me=se,fe=0;Kt<Me;)At.substring(fe,Me)==Ft.substring(fe,Me)?(Kt=Me,fe=Kt):se=Me,Me=Math.floor((se-Kt)/2+Kt);return Me}function Zt(At,Ft){if(!At||!Ft||At.charAt(At.length-1)!=Ft.charAt(Ft.length-1))return 0;for(var Kt=0,se=Math.min(At.length,Ft.length),Me=se,fe=0;Kt<Me;)At.substring(At.length-Me,At.length-fe)==Ft.substring(Ft.length-Me,Ft.length-fe)?(Kt=Me,fe=Kt):se=Me,Me=Math.floor((se-Kt)/2+Kt);return Me}function Bt(At,Ft){function Kt(De,Bn,rn){for(var ln,oe,Oe,U,ye=De.substring(rn,rn+Math.floor(De.length/4)),cn=-1,$e="";(cn=Bn.indexOf(ye,cn+1))!=-1;){var We=re(De.substring(rn),Bn.substring(cn)),Re=Zt(De.substring(0,rn),Bn.substring(0,cn));$e.length<Re+We&&($e=Bn.substring(cn-Re,cn)+Bn.substring(cn,cn+We),ln=De.substring(0,rn-Re),oe=De.substring(rn+We),Oe=Bn.substring(0,cn-Re),U=Bn.substring(cn+We))}return 2*$e.length>=De.length?[ln,oe,Oe,U,$e]:null}var se=At.length>Ft.length?At:Ft,Me=At.length>Ft.length?Ft:At;if(se.length<4||2*Me.length<se.length)return null;var fe,ne=Kt(se,Me,Math.ceil(se.length/4)),Ht=Kt(se,Me,Math.ceil(se.length/2));if(!ne&&!Ht)return null;fe=Ht?ne&&ne[4].length>Ht[4].length?ne:Ht:ne;var Gt,ie,Le,pe;return At.length>Ft.length?(Gt=fe[0],ie=fe[1],Le=fe[2],pe=fe[3]):(Le=fe[0],pe=fe[1],Gt=fe[2],ie=fe[3]),[Gt,ie,Le,pe,fe[4]]}function yt(At){At.push([ct,""]);for(var Ft,Kt=0,se=0,Me=0,fe="",ne="";Kt<At.length;)switch(At[Kt][0]){case Ct:Me++,ne+=At[Kt][1],Kt++;break;case Mt:se++,fe+=At[Kt][1],Kt++;break;case ct:se+Me>1?(se!==0&&Me!==0&&(Ft=re(ne,fe),Ft!==0&&(Kt-se-Me>0&&At[Kt-se-Me-1][0]==ct?At[Kt-se-Me-1][1]+=ne.substring(0,Ft):(At.splice(0,0,[ct,ne.substring(0,Ft)]),Kt++),ne=ne.substring(Ft),fe=fe.substring(Ft)),(Ft=Zt(ne,fe))!==0&&(At[Kt][1]=ne.substring(ne.length-Ft)+At[Kt][1],ne=ne.substring(0,ne.length-Ft),fe=fe.substring(0,fe.length-Ft))),se===0?At.splice(Kt-Me,se+Me,[Ct,ne]):Me===0?At.splice(Kt-se,se+Me,[Mt,fe]):At.splice(Kt-se-Me,se+Me,[Mt,fe],[Ct,ne]),Kt=Kt-se-Me+(se?1:0)+(Me?1:0)+1):Kt!==0&&At[Kt-1][0]==ct?(At[Kt-1][1]+=At[Kt][1],At.splice(Kt,1)):Kt++,Me=0,se=0,fe="",ne=""}At[At.length-1][1]===""&&At.pop();var Ht=!1;for(Kt=1;Kt<At.length-1;)At[Kt-1][0]==ct&&At[Kt+1][0]==ct&&(At[Kt][1].substring(At[Kt][1].length-At[Kt-1][1].length)==At[Kt-1][1]?(At[Kt][1]=At[Kt-1][1]+At[Kt][1].substring(0,At[Kt][1].length-At[Kt-1][1].length),At[Kt+1][1]=At[Kt-1][1]+At[Kt+1][1],At.splice(Kt-1,1),Ht=!0):At[Kt][1].substring(0,At[Kt+1][1].length)==At[Kt+1][1]&&(At[Kt-1][1]+=At[Kt+1][1],At[Kt][1]=At[Kt][1].substring(At[Kt+1][1].length)+At[Kt+1][1],At.splice(Kt+1,1),Ht=!0)),Kt++;Ht&&yt(At)}function pt(At,Ft){if(Ft===0)return[ct,At];for(var Kt=0,se=0;se<At.length;se++){var Me=At[se];if(Me[0]===Mt||Me[0]===ct){var fe=Kt+Me[1].length;if(Ft===fe)return[se+1,At];if(Ft<fe){At=At.slice();var ne=Ft-Kt,Ht=[Me[0],Me[1].slice(0,ne)],Gt=[Me[0],Me[1].slice(ne)];return At.splice(se,1,Ht,Gt),[se+1,At]}Kt=fe}}throw new Error("cursor_pos is out of bounds!")}function gt(At,Ft){var Kt=pt(At,Ft),se=Kt[1],Me=Kt[0],fe=se[Me],ne=se[Me+1];if(fe==null||fe[0]!==ct)return At;if(ne!=null&&fe[1]+ne[1]===ne[1]+fe[1])return se.splice(Me,2,ne,fe),It(se,Me,2);if(ne!=null&&ne[1].indexOf(fe[1])===0){se.splice(Me,2,[ne[0],fe[1]],[0,fe[1]]);var Ht=ne[1].slice(fe[1].length);return Ht.length>0&&se.splice(Me+2,0,[ne[0],Ht]),It(se,Me,3)}return At}function ft(At){for(var Ft=!1,Kt=function(fe){return fe.charCodeAt(0)>=56320&&fe.charCodeAt(0)<=57343},se=2;se<At.length;se+=1)At[se-2][0]===ct&&function(fe){return fe.charCodeAt(fe.length-1)>=55296&&fe.charCodeAt(fe.length-1)<=56319}(At[se-2][1])&&At[se-1][0]===Mt&&Kt(At[se-1][1])&&At[se][0]===Ct&&Kt(At[se][1])&&(Ft=!0,At[se-1][1]=At[se-2][1].slice(-1)+At[se-1][1],At[se][1]=At[se-2][1].slice(-1)+At[se][1],At[se-2][1]=At[se-2][1].slice(0,-1));if(!Ft)return At;for(var Me=[],se=0;se<At.length;se+=1)At[se][1].length>0&&Me.push(At[se]);return Me}function It(At,Ft,Kt){for(var se=Ft+Kt-1;se>=0&&se>=Ft-1;se--)if(se+1<At.length){var Me=At[se],fe=At[se+1];Me[0]===fe[1]&&At.splice(se,2,[Me[0],Me[1]+fe[1]])}return At}var Mt=-1,Ct=1,ct=0,te=wt;te.INSERT=Ct,te.DELETE=Mt,te.EQUAL=ct,Ve.exports=te},function(Ve,Wt){function wt(qt){var ke=[];for(var Jt in qt)ke.push(Jt);return ke}Wt=Ve.exports=typeof Object.keys=="function"?Object.keys:wt,Wt.shim=wt},function(Ve,Wt){function wt(Jt){return Object.prototype.toString.call(Jt)=="[object Arguments]"}function qt(Jt){return Jt&&typeof Jt=="object"&&typeof Jt.length=="number"&&Object.prototype.hasOwnProperty.call(Jt,"callee")&&!Object.prototype.propertyIsEnumerable.call(Jt,"callee")||!1}var ke=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";Wt=Ve.exports=ke?wt:qt,Wt.supported=wt,Wt.unsupported=qt},function(Ve,Wt,wt){function qt(ln){return ln&&ln.__esModule?ln:{default:ln}}function ke(ln,oe,Oe){return oe in ln?Object.defineProperty(ln,oe,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):ln[oe]=Oe,ln}function Jt(ln,oe){if(!(ln instanceof oe))throw new TypeError("Cannot call a class as a function")}function re(ln,oe){return Object.keys(oe).reduce(function(Oe,U){return ln[U]==null||(oe[U]===ln[U]?Oe[U]=oe[U]:Array.isArray(oe[U])?oe[U].indexOf(ln[U])<0&&(Oe[U]=oe[U].concat([ln[U]])):Oe[U]=[oe[U],ln[U]]),Oe},{})}function Zt(ln){return ln.reduce(function(oe,Oe){if(Oe.insert===1){var U=(0,Gt.default)(Oe.attributes);return delete U.image,oe.insert({image:Oe.attributes.image},U)}if(Oe.attributes==null||Oe.attributes.list!==!0&&Oe.attributes.bullet!==!0||(Oe=(0,Gt.default)(Oe),Oe.attributes.list?Oe.attributes.list="ordered":(Oe.attributes.list="bullet",delete Oe.attributes.bullet)),typeof Oe.insert=="string"){var ye=Oe.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return oe.insert(ye,Oe.attributes)}return oe.push(Oe)},new ft.default)}Object.defineProperty(Wt,"__esModule",{value:!0});var Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ln){return typeof ln}:function(ln){return ln&&typeof Symbol=="function"&&ln.constructor===Symbol&&ln!==Symbol.prototype?"symbol":typeof ln},yt=function(){function ln(oe,Oe){var U=[],ye=!0,cn=!1,$e=void 0;try{for(var We,Re=oe[Symbol.iterator]();!(ye=(We=Re.next()).done)&&(U.push(We.value),!Oe||U.length!==Oe);ye=!0);}catch(Be){cn=!0,$e=Be}finally{try{!ye&&Re.return&&Re.return()}finally{if(cn)throw $e}}return U}return function(oe,Oe){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return ln(oe,Oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(){function ln(oe,Oe){for(var U=0;U<Oe.length;U++){var ye=Oe[U];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(oe,ye.key,ye)}}return function(oe,Oe,U){return Oe&&ln(oe.prototype,Oe),U&&ln(oe,U),oe}}(),gt=wt(4),ft=qt(gt),It=wt(20),Mt=qt(It),Ct=wt(0),ct=qt(Ct),te=wt(13),At=qt(te),Ft=wt(31),Kt=qt(Ft),se=wt(3),Me=qt(se),fe=wt(14),ne=qt(fe),Ht=wt(21),Gt=qt(Ht),ie=wt(12),Le=qt(ie),pe=wt(2),De=qt(pe),Bn=/^[ -~]*$/,rn=function(){function ln(oe){Jt(this,ln),this.scroll=oe,this.delta=this.getDelta()}return pt(ln,[{key:"applyDelta",value:function(oe){var Oe=this,U=!1;this.scroll.update();var ye=this.scroll.length();return this.scroll.batchStart(),oe=Zt(oe),oe.reduce(function(cn,$e){var We=$e.retain||$e.delete||$e.insert.length||1,Re=$e.attributes||{};if($e.insert!=null){if(typeof $e.insert=="string"){var Be=$e.insert;Be.endsWith(`
`)&&U&&(U=!1,Be=Be.slice(0,-1)),cn>=ye&&!Be.endsWith(`
`)&&(U=!0),Oe.scroll.insertAt(cn,Be);var un=Oe.scroll.line(cn),he=yt(un,2),In=he[0],kn=he[1],Gn=(0,De.default)({},(0,se.bubbleFormats)(In));if(In instanceof Me.default){var fi=In.descendant(ct.default.Leaf,kn),Zn=yt(fi,1),Cr=Zn[0];Gn=(0,De.default)(Gn,(0,se.bubbleFormats)(Cr))}Re=Mt.default.attributes.diff(Gn,Re)||{}}else if(Bt($e.insert)==="object"){var Yi=Object.keys($e.insert)[0];if(Yi==null)return cn;Oe.scroll.insertAt(cn,Yi,$e.insert[Yi])}ye+=We}return Object.keys(Re).forEach(function(wn){Oe.scroll.formatAt(cn,We,wn,Re[wn])}),cn+We},0),oe.reduce(function(cn,$e){return typeof $e.delete=="number"?(Oe.scroll.deleteAt(cn,$e.delete),cn):cn+($e.retain||$e.insert.length||1)},0),this.scroll.batchEnd(),this.update(oe)}},{key:"deleteText",value:function(oe,Oe){return this.scroll.deleteAt(oe,Oe),this.update(new ft.default().retain(oe).delete(Oe))}},{key:"formatLine",value:function(oe,Oe){var U=this,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ye).forEach(function(cn){if(U.scroll.whitelist==null||U.scroll.whitelist[cn]){var $e=U.scroll.lines(oe,Math.max(Oe,1)),We=Oe;$e.forEach(function(Re){var Be=Re.length();if(Re instanceof At.default){var un=oe-Re.offset(U.scroll),he=Re.newlineIndex(un+We)-un+1;Re.formatAt(un,he,cn,ye[cn])}else Re.format(cn,ye[cn]);We-=Be})}}),this.scroll.optimize(),this.update(new ft.default().retain(oe).retain(Oe,(0,Gt.default)(ye)))}},{key:"formatText",value:function(oe,Oe){var U=this,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ye).forEach(function(cn){U.scroll.formatAt(oe,Oe,cn,ye[cn])}),this.update(new ft.default().retain(oe).retain(Oe,(0,Gt.default)(ye)))}},{key:"getContents",value:function(oe,Oe){return this.delta.slice(oe,oe+Oe)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(oe,Oe){return oe.concat(Oe.delta())},new ft.default)}},{key:"getFormat",value:function(oe){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],ye=[];Oe===0?this.scroll.path(oe).forEach(function($e){var We=yt($e,1),Re=We[0];Re instanceof Me.default?U.push(Re):Re instanceof ct.default.Leaf&&ye.push(Re)}):(U=this.scroll.lines(oe,Oe),ye=this.scroll.descendants(ct.default.Leaf,oe,Oe));var cn=[U,ye].map(function($e){if($e.length===0)return{};for(var We=(0,se.bubbleFormats)($e.shift());Object.keys(We).length>0;){var Re=$e.shift();if(Re==null)return We;We=re((0,se.bubbleFormats)(Re),We)}return We});return De.default.apply(De.default,cn)}},{key:"getText",value:function(oe,Oe){return this.getContents(oe,Oe).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(oe,Oe,U){return this.scroll.insertAt(oe,Oe,U),this.update(new ft.default().retain(oe).insert(ke({},Oe,U)))}},{key:"insertText",value:function(oe,Oe){var U=this,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Oe=Oe.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(oe,Oe),Object.keys(ye).forEach(function(cn){U.scroll.formatAt(oe,Oe.length,cn,ye[cn])}),this.update(new ft.default().retain(oe).insert(Oe,(0,Gt.default)(ye)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var oe=this.scroll.children.head;return oe.statics.blotName===Me.default.blotName&&!(oe.children.length>1)&&oe.children.head instanceof ne.default}},{key:"removeFormat",value:function(oe,Oe){var U=this.getText(oe,Oe),ye=this.scroll.line(oe+Oe),cn=yt(ye,2),$e=cn[0],We=cn[1],Re=0,Be=new ft.default;$e!=null&&(Re=$e instanceof At.default?$e.newlineIndex(We)-We+1:$e.length()-We,Be=$e.delta().slice(We,We+Re-1).insert(`
`));var un=this.getContents(oe,Oe+Re),he=un.diff(new ft.default().insert(U).concat(Be)),In=new ft.default().retain(oe).concat(he);return this.applyDelta(In)}},{key:"update",value:function(oe){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ye=this.delta;if(Oe.length===1&&Oe[0].type==="characterData"&&Oe[0].target.data.match(Bn)&&ct.default.find(Oe[0].target)){var cn=ct.default.find(Oe[0].target),$e=(0,se.bubbleFormats)(cn),We=cn.offset(this.scroll),Re=Oe[0].oldValue.replace(Kt.default.CONTENTS,""),Be=new ft.default().insert(Re),un=new ft.default().insert(cn.value());oe=new ft.default().retain(We).concat(Be.diff(un,U)).reduce(function(he,In){return In.insert?he.insert(In.insert,$e):he.push(In)},new ft.default),this.delta=ye.compose(oe)}else this.delta=this.getDelta(),oe&&(0,Le.default)(ye.compose(oe),this.delta)||(oe=ye.diff(this.delta,U));return oe}}]),ln}();Wt.default=rn},function(Ve,Wt){function wt(){}function qt(Zt,Bt,yt){this.fn=Zt,this.context=Bt,this.once=yt||!1}function ke(){this._events=new wt,this._eventsCount=0}var Jt=Object.prototype.hasOwnProperty,re="~";Object.create&&(wt.prototype=Object.create(null),new wt().__proto__||(re=!1)),ke.prototype.eventNames=function(){var Zt,Bt,yt=[];if(this._eventsCount===0)return yt;for(Bt in Zt=this._events)Jt.call(Zt,Bt)&&yt.push(re?Bt.slice(1):Bt);return Object.getOwnPropertySymbols?yt.concat(Object.getOwnPropertySymbols(Zt)):yt},ke.prototype.listeners=function(Zt,Bt){var yt=re?re+Zt:Zt,pt=this._events[yt];if(Bt)return!!pt;if(!pt)return[];if(pt.fn)return[pt.fn];for(var gt=0,ft=pt.length,It=new Array(ft);gt<ft;gt++)It[gt]=pt[gt].fn;return It},ke.prototype.emit=function(Zt,Bt,yt,pt,gt,ft){var It=re?re+Zt:Zt;if(!this._events[It])return!1;var Mt,Ct,ct=this._events[It],te=arguments.length;if(ct.fn){switch(ct.once&&this.removeListener(Zt,ct.fn,void 0,!0),te){case 1:return ct.fn.call(ct.context),!0;case 2:return ct.fn.call(ct.context,Bt),!0;case 3:return ct.fn.call(ct.context,Bt,yt),!0;case 4:return ct.fn.call(ct.context,Bt,yt,pt),!0;case 5:return ct.fn.call(ct.context,Bt,yt,pt,gt),!0;case 6:return ct.fn.call(ct.context,Bt,yt,pt,gt,ft),!0}for(Ct=1,Mt=new Array(te-1);Ct<te;Ct++)Mt[Ct-1]=arguments[Ct];ct.fn.apply(ct.context,Mt)}else{var At,Ft=ct.length;for(Ct=0;Ct<Ft;Ct++)switch(ct[Ct].once&&this.removeListener(Zt,ct[Ct].fn,void 0,!0),te){case 1:ct[Ct].fn.call(ct[Ct].context);break;case 2:ct[Ct].fn.call(ct[Ct].context,Bt);break;case 3:ct[Ct].fn.call(ct[Ct].context,Bt,yt);break;case 4:ct[Ct].fn.call(ct[Ct].context,Bt,yt,pt);break;default:if(!Mt)for(At=1,Mt=new Array(te-1);At<te;At++)Mt[At-1]=arguments[At];ct[Ct].fn.apply(ct[Ct].context,Mt)}}return!0},ke.prototype.on=function(Zt,Bt,yt){var pt=new qt(Bt,yt||this),gt=re?re+Zt:Zt;return this._events[gt]?this._events[gt].fn?this._events[gt]=[this._events[gt],pt]:this._events[gt].push(pt):(this._events[gt]=pt,this._eventsCount++),this},ke.prototype.once=function(Zt,Bt,yt){var pt=new qt(Bt,yt||this,!0),gt=re?re+Zt:Zt;return this._events[gt]?this._events[gt].fn?this._events[gt]=[this._events[gt],pt]:this._events[gt].push(pt):(this._events[gt]=pt,this._eventsCount++),this},ke.prototype.removeListener=function(Zt,Bt,yt,pt){var gt=re?re+Zt:Zt;if(!this._events[gt])return this;if(!Bt)return--this._eventsCount==0?this._events=new wt:delete this._events[gt],this;var ft=this._events[gt];if(ft.fn)ft.fn!==Bt||pt&&!ft.once||yt&&ft.context!==yt||(--this._eventsCount==0?this._events=new wt:delete this._events[gt]);else{for(var It=0,Mt=[],Ct=ft.length;It<Ct;It++)(ft[It].fn!==Bt||pt&&!ft[It].once||yt&&ft[It].context!==yt)&&Mt.push(ft[It]);Mt.length?this._events[gt]=Mt.length===1?Mt[0]:Mt:--this._eventsCount==0?this._events=new wt:delete this._events[gt]}return this},ke.prototype.removeAllListeners=function(Zt){var Bt;return Zt?(Bt=re?re+Zt:Zt,this._events[Bt]&&(--this._eventsCount==0?this._events=new wt:delete this._events[Bt])):(this._events=new wt,this._eventsCount=0),this},ke.prototype.off=ke.prototype.removeListener,ke.prototype.addListener=ke.prototype.on,ke.prototype.setMaxListeners=function(){return this},ke.prefixed=re,ke.EventEmitter=ke,Ve!==void 0&&(Ve.exports=ke)},function(Ve,Wt,wt){function qt(ne){return ne&&ne.__esModule?ne:{default:ne}}function ke(ne,Ht){if(!(ne instanceof Ht))throw new TypeError("Cannot call a class as a function")}function Jt(ne,Ht){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ht||typeof Ht!="object"&&typeof Ht!="function"?ne:Ht}function re(ne,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);ne.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,Ht):ne.__proto__=Ht)}function Zt(ne){return ne instanceof ct.default||ne instanceof Ct.BlockEmbed}Object.defineProperty(Wt,"__esModule",{value:!0});var Bt=function(){function ne(Ht,Gt){var ie=[],Le=!0,pe=!1,De=void 0;try{for(var Bn,rn=Ht[Symbol.iterator]();!(Le=(Bn=rn.next()).done)&&(ie.push(Bn.value),!Gt||ie.length!==Gt);Le=!0);}catch(ln){pe=!0,De=ln}finally{try{!Le&&rn.return&&rn.return()}finally{if(pe)throw De}}return ie}return function(Ht,Gt){if(Array.isArray(Ht))return Ht;if(Symbol.iterator in Object(Ht))return ne(Ht,Gt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),yt=function(){function ne(Ht,Gt){for(var ie=0;ie<Gt.length;ie++){var Le=Gt[ie];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Ht,Le.key,Le)}}return function(Ht,Gt,ie){return Gt&&ne(Ht.prototype,Gt),ie&&ne(Ht,ie),Ht}}(),pt=function ne(Ht,Gt,ie){Ht===null&&(Ht=Function.prototype);var Le=Object.getOwnPropertyDescriptor(Ht,Gt);if(Le===void 0){var pe=Object.getPrototypeOf(Ht);return pe===null?void 0:ne(pe,Gt,ie)}if("value"in Le)return Le.value;var De=Le.get;if(De!==void 0)return De.call(ie)},gt=wt(0),ft=qt(gt),It=wt(9),Mt=qt(It),Ct=wt(3),ct=qt(Ct),te=wt(14),At=qt(te),Ft=wt(13),Kt=qt(Ft),se=wt(23),Me=qt(se),fe=function(ne){function Ht(Gt,ie){ke(this,Ht);var Le=Jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Gt));return Le.emitter=ie.emitter,Array.isArray(ie.whitelist)&&(Le.whitelist=ie.whitelist.reduce(function(pe,De){return pe[De]=!0,pe},{})),Le.domNode.addEventListener("DOMNodeInserted",function(){}),Le.optimize(),Le.enable(),Le}return re(Ht,ne),yt(Ht,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(Gt,ie){var Le=this.line(Gt),pe=Bt(Le,2),De=pe[0],Bn=pe[1],rn=this.line(Gt+ie),ln=Bt(rn,1),oe=ln[0];if(pt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"deleteAt",this).call(this,Gt,ie),oe!=null&&De!==oe&&Bn>0){if(De instanceof Ct.BlockEmbed||oe instanceof Ct.BlockEmbed)return void this.optimize();if(De instanceof Kt.default){var Oe=De.newlineIndex(De.length(),!0);if(Oe>-1&&(De=De.split(Oe+1))===oe)return void this.optimize()}else if(oe instanceof Kt.default){var U=oe.newlineIndex(0);U>-1&&oe.split(U+1)}var ye=oe.children.head instanceof At.default?null:oe.children.head;De.moveChildren(oe,ye),De.remove()}this.optimize()}},{key:"enable",value:function(){var Gt=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",Gt)}},{key:"formatAt",value:function(Gt,ie,Le,pe){(this.whitelist==null||this.whitelist[Le])&&(pt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"formatAt",this).call(this,Gt,ie,Le,pe),this.optimize())}},{key:"insertAt",value:function(Gt,ie,Le){if(Le==null||this.whitelist==null||this.whitelist[ie]){if(Gt>=this.length())if(Le==null||ft.default.query(ie,ft.default.Scope.BLOCK)==null){var pe=ft.default.create(this.statics.defaultChild);this.appendChild(pe),Le==null&&ie.endsWith(`
`)&&(ie=ie.slice(0,-1)),pe.insertAt(0,ie,Le)}else{var De=ft.default.create(ie,Le);this.appendChild(De)}else pt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"insertAt",this).call(this,Gt,ie,Le);this.optimize()}}},{key:"insertBefore",value:function(Gt,ie){if(Gt.statics.scope===ft.default.Scope.INLINE_BLOT){var Le=ft.default.create(this.statics.defaultChild);Le.appendChild(Gt),Gt=Le}pt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"insertBefore",this).call(this,Gt,ie)}},{key:"leaf",value:function(Gt){return this.path(Gt).pop()||[null,-1]}},{key:"line",value:function(Gt){return Gt===this.length()?this.line(Gt-1):this.descendant(Zt,Gt)}},{key:"lines",value:function(){var Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return function Le(pe,De,Bn){var rn=[],ln=Bn;return pe.children.forEachAt(De,Bn,function(oe,Oe,U){Zt(oe)?rn.push(oe):oe instanceof ft.default.Container&&(rn=rn.concat(Le(oe,Oe,ln))),ln-=U}),rn}(this,Gt,ie)}},{key:"optimize",value:function(){var Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(pt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"optimize",this).call(this,Gt,ie),Gt.length>0&&this.emitter.emit(Mt.default.events.SCROLL_OPTIMIZE,Gt,ie))}},{key:"path",value:function(Gt){return pt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"path",this).call(this,Gt).slice(1)}},{key:"update",value:function(Gt){if(this.batch!==!0){var ie=Mt.default.sources.USER;typeof Gt=="string"&&(ie=Gt),Array.isArray(Gt)||(Gt=this.observer.takeRecords()),Gt.length>0&&this.emitter.emit(Mt.default.events.SCROLL_BEFORE_UPDATE,ie,Gt),pt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"update",this).call(this,Gt.concat([])),Gt.length>0&&this.emitter.emit(Mt.default.events.SCROLL_UPDATE,ie,Gt)}}}]),Ht}(ft.default.Scroll);fe.blotName="scroll",fe.className="ql-editor",fe.tagName="DIV",fe.defaultChild="block",fe.allowedChildren=[ct.default,Ct.BlockEmbed,Me.default],Wt.default=fe},function(Ve,Wt,wt){function qt(wn){return wn&&wn.__esModule?wn:{default:wn}}function ke(wn,zn,Un){return zn in wn?Object.defineProperty(wn,zn,{value:Un,enumerable:!0,configurable:!0,writable:!0}):wn[zn]=Un,wn}function Jt(wn,zn){if(!(wn instanceof zn))throw new TypeError("Cannot call a class as a function")}function re(wn,zn){if(!wn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!zn||typeof zn!="object"&&typeof zn!="function"?wn:zn}function Zt(wn,zn){if(typeof zn!="function"&&zn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof zn);wn.prototype=Object.create(zn&&zn.prototype,{constructor:{value:wn,enumerable:!1,writable:!0,configurable:!0}}),zn&&(Object.setPrototypeOf?Object.setPrototypeOf(wn,zn):wn.__proto__=zn)}function Bt(wn,zn,Un){return(zn===void 0?"undefined":fe(zn))==="object"?Object.keys(zn).reduce(function(_i,ui){return Bt(_i,ui,zn[ui])},wn):wn.reduce(function(_i,ui){return ui.attributes&&ui.attributes[zn]?_i.push(ui):_i.insert(ui.insert,(0,ie.default)({},ke({},zn,Un),ui.attributes))},new pe.default)}function yt(wn){return wn.nodeType!==Node.ELEMENT_NODE?{}:wn["__ql-computed-style"]||(wn["__ql-computed-style"]=window.getComputedStyle(wn))}function pt(wn,zn){for(var Un="",_i=wn.ops.length-1;_i>=0&&Un.length<zn.length;--_i){var ui=wn.ops[_i];if(typeof ui.insert!="string")break;Un=ui.insert+Un}return Un.slice(-1*zn.length)===zn}function gt(wn){return wn.childNodes.length!==0&&["block","list-item"].indexOf(yt(wn).display)>-1}function ft(wn,zn,Un){return wn.nodeType===wn.TEXT_NODE?Un.reduce(function(_i,ui){return ui(wn,_i)},new pe.default):wn.nodeType===wn.ELEMENT_NODE?[].reduce.call(wn.childNodes||[],function(_i,ui){var Ri=ft(ui,zn,Un);return ui.nodeType===wn.ELEMENT_NODE&&(Ri=zn.reduce(function(Rt,kt){return kt(ui,Rt)},Ri),Ri=(ui[Gn]||[]).reduce(function(Rt,kt){return kt(ui,Rt)},Ri)),_i.concat(Ri)},new pe.default):new pe.default}function It(wn,zn,Un){return Bt(Un,wn,!0)}function Mt(wn,zn){var Un=Bn.default.Attributor.Attribute.keys(wn),_i=Bn.default.Attributor.Class.keys(wn),ui=Bn.default.Attributor.Style.keys(wn),Ri={};return Un.concat(_i).concat(ui).forEach(function(Rt){var kt=Bn.default.query(Rt,Bn.default.Scope.ATTRIBUTE);kt!=null&&(Ri[kt.attrName]=kt.value(wn),Ri[kt.attrName])||(kt=Zn[Rt],kt==null||kt.attrName!==Rt&&kt.keyName!==Rt||(Ri[kt.attrName]=kt.value(wn)||void 0),(kt=Cr[Rt])==null||kt.attrName!==Rt&&kt.keyName!==Rt||(kt=Cr[Rt],Ri[kt.attrName]=kt.value(wn)||void 0))}),Object.keys(Ri).length>0&&(zn=Bt(zn,Ri)),zn}function Ct(wn,zn){var Un=Bn.default.query(wn);if(Un==null)return zn;if(Un.prototype instanceof Bn.default.Embed){var _i={},ui=Un.value(wn);ui!=null&&(_i[Un.blotName]=ui,zn=new pe.default().insert(_i,Un.formats(wn)))}else typeof Un.formats=="function"&&(zn=Bt(zn,Un.blotName,Un.formats(wn)));return zn}function ct(wn,zn){return pt(zn,`
`)||zn.insert(`
`),zn}function te(){return new pe.default}function At(wn,zn){var Un=Bn.default.query(wn);if(Un==null||Un.blotName!=="list-item"||!pt(zn,`
`))return zn;for(var _i=-1,ui=wn.parentNode;!ui.classList.contains("ql-clipboard");)(Bn.default.query(ui)||{}).blotName==="list"&&(_i+=1),ui=ui.parentNode;return _i<=0?zn:zn.compose(new pe.default().retain(zn.length()-1).retain(1,{indent:_i}))}function Ft(wn,zn){return pt(zn,`
`)||(gt(wn)||zn.length()>0&&wn.nextSibling&&gt(wn.nextSibling))&&zn.insert(`
`),zn}function Kt(wn,zn){if(gt(wn)&&wn.nextElementSibling!=null&&!pt(zn,`

`)){var Un=wn.offsetHeight+parseFloat(yt(wn).marginTop)+parseFloat(yt(wn).marginBottom);wn.nextElementSibling.offsetTop>wn.offsetTop+1.5*Un&&zn.insert(`
`)}return zn}function se(wn,zn){var Un={},_i=wn.style||{};return _i.fontStyle&&yt(wn).fontStyle==="italic"&&(Un.italic=!0),_i.fontWeight&&(yt(wn).fontWeight.startsWith("bold")||parseInt(yt(wn).fontWeight)>=700)&&(Un.bold=!0),Object.keys(Un).length>0&&(zn=Bt(zn,Un)),parseFloat(_i.textIndent||0)>0&&(zn=new pe.default().insert("	").concat(zn)),zn}function Me(wn,zn){var Un=wn.data;if(wn.parentNode.tagName==="O:P")return zn.insert(Un.trim());if(Un.trim().length===0&&wn.parentNode.classList.contains("ql-clipboard"))return zn;if(!yt(wn.parentNode).whiteSpace.startsWith("pre")){var _i=function(ui,Ri){return Ri=Ri.replace(/[^\u00a0]/g,""),Ri.length<1&&ui?" ":Ri};Un=Un.replace(/\r\n/g," ").replace(/\n/g," "),Un=Un.replace(/\s\s+/g,_i.bind(_i,!0)),(wn.previousSibling==null&&gt(wn.parentNode)||wn.previousSibling!=null&&gt(wn.previousSibling))&&(Un=Un.replace(/^\s+/,_i.bind(_i,!1))),(wn.nextSibling==null&&gt(wn.parentNode)||wn.nextSibling!=null&&gt(wn.nextSibling))&&(Un=Un.replace(/\s+$/,_i.bind(_i,!1)))}return zn.insert(Un)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.matchText=Wt.matchSpacing=Wt.matchNewline=Wt.matchBlot=Wt.matchAttributor=Wt.default=void 0;var fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wn){return typeof wn}:function(wn){return wn&&typeof Symbol=="function"&&wn.constructor===Symbol&&wn!==Symbol.prototype?"symbol":typeof wn},ne=function(){function wn(zn,Un){var _i=[],ui=!0,Ri=!1,Rt=void 0;try{for(var kt,Tt=zn[Symbol.iterator]();!(ui=(kt=Tt.next()).done)&&(_i.push(kt.value),!Un||_i.length!==Un);ui=!0);}catch(Ut){Ri=!0,Rt=Ut}finally{try{!ui&&Tt.return&&Tt.return()}finally{if(Ri)throw Rt}}return _i}return function(zn,Un){if(Array.isArray(zn))return zn;if(Symbol.iterator in Object(zn))return wn(zn,Un);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ht=function(){function wn(zn,Un){for(var _i=0;_i<Un.length;_i++){var ui=Un[_i];ui.enumerable=ui.enumerable||!1,ui.configurable=!0,"value"in ui&&(ui.writable=!0),Object.defineProperty(zn,ui.key,ui)}}return function(zn,Un,_i){return Un&&wn(zn.prototype,Un),_i&&wn(zn,_i),zn}}(),Gt=wt(2),ie=qt(Gt),Le=wt(4),pe=qt(Le),De=wt(0),Bn=qt(De),rn=wt(6),ln=qt(rn),oe=wt(10),Oe=qt(oe),U=wt(7),ye=qt(U),cn=wt(34),$e=wt(35),We=wt(13),Re=qt(We),Be=wt(24),un=wt(36),he=wt(37),In=wt(38),kn=(0,Oe.default)("quill:clipboard"),Gn="__ql-matcher",fi=[[Node.TEXT_NODE,Me],[Node.TEXT_NODE,Ft],["br",ct],[Node.ELEMENT_NODE,Ft],[Node.ELEMENT_NODE,Ct],[Node.ELEMENT_NODE,Kt],[Node.ELEMENT_NODE,Mt],[Node.ELEMENT_NODE,se],["li",At],["b",It.bind(It,"bold")],["i",It.bind(It,"italic")],["style",te]],Zn=[cn.AlignAttribute,un.DirectionAttribute].reduce(function(wn,zn){return wn[zn.keyName]=zn,wn},{}),Cr=[cn.AlignStyle,$e.BackgroundStyle,Be.ColorStyle,un.DirectionStyle,he.FontStyle,In.SizeStyle].reduce(function(wn,zn){return wn[zn.keyName]=zn,wn},{}),Yi=function(wn){function zn(Un,_i){Jt(this,zn);var ui=re(this,(zn.__proto__||Object.getPrototypeOf(zn)).call(this,Un,_i));return ui.quill.root.addEventListener("paste",ui.onPaste.bind(ui)),ui.container=ui.quill.addContainer("ql-clipboard"),ui.container.setAttribute("contenteditable",!0),ui.container.setAttribute("tabindex",-1),ui.matchers=[],fi.concat(ui.options.matchers).forEach(function(Ri){var Rt=ne(Ri,2),kt=Rt[0],Tt=Rt[1];(_i.matchVisual||Tt!==Kt)&&ui.addMatcher(kt,Tt)}),ui}return Zt(zn,wn),Ht(zn,[{key:"addMatcher",value:function(Un,_i){this.matchers.push([Un,_i])}},{key:"convert",value:function(Un){if(typeof Un=="string")return this.container.innerHTML=Un.replace(/\>\r?\n +\</g,"><"),this.convert();var _i=this.quill.getFormat(this.quill.selection.savedRange.index);if(_i[Re.default.blotName]){var ui=this.container.innerText;return this.container.innerHTML="",new pe.default().insert(ui,ke({},Re.default.blotName,_i[Re.default.blotName]))}var Ri=this.prepareMatching(),Rt=ne(Ri,2),kt=Rt[0],Tt=Rt[1],Ut=ft(this.container,kt,Tt);return pt(Ut,`
`)&&Ut.ops[Ut.ops.length-1].attributes==null&&(Ut=Ut.compose(new pe.default().retain(Ut.length()-1).delete(1))),kn.log("convert",this.container.innerHTML,Ut),this.container.innerHTML="",Ut}},{key:"dangerouslyPasteHTML",value:function(Un,_i){var ui=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ln.default.sources.API;if(typeof Un=="string")this.quill.setContents(this.convert(Un),_i),this.quill.setSelection(0,ln.default.sources.SILENT);else{var Ri=this.convert(_i);this.quill.updateContents(new pe.default().retain(Un).concat(Ri),ui),this.quill.setSelection(Un+Ri.length(),ln.default.sources.SILENT)}}},{key:"onPaste",value:function(Un){var _i=this;if(!Un.defaultPrevented&&this.quill.isEnabled()){var ui=this.quill.getSelection(),Ri=new pe.default().retain(ui.index),Rt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(ln.default.sources.SILENT),setTimeout(function(){Ri=Ri.concat(_i.convert()).delete(ui.length),_i.quill.updateContents(Ri,ln.default.sources.USER),_i.quill.setSelection(Ri.length()-ui.length,ln.default.sources.SILENT),_i.quill.scrollingContainer.scrollTop=Rt,_i.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Un=this,_i=[],ui=[];return this.matchers.forEach(function(Ri){var Rt=ne(Ri,2),kt=Rt[0],Tt=Rt[1];switch(kt){case Node.TEXT_NODE:ui.push(Tt);break;case Node.ELEMENT_NODE:_i.push(Tt);break;default:[].forEach.call(Un.container.querySelectorAll(kt),function(Ut){Ut[Gn]=Ut[Gn]||[],Ut[Gn].push(Tt)})}}),[_i,ui]}}]),zn}(ye.default);Yi.DEFAULTS={matchers:[],matchVisual:!0},Wt.default=Yi,Wt.matchAttributor=Mt,Wt.matchBlot=Ct,Wt.matchNewline=Ft,Wt.matchSpacing=Kt,Wt.matchText=Me},function(Ve,Wt,wt){function qt(te){return te&&te.__esModule?te:{default:te}}function ke(te,At){if(!(te instanceof At))throw new TypeError("Cannot call a class as a function")}function Jt(te,At){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!At||typeof At!="object"&&typeof At!="function"?te:At}function re(te,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof At);te.prototype=Object.create(At&&At.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),At&&(Object.setPrototypeOf?Object.setPrototypeOf(te,At):te.__proto__=At)}function Zt(te){var At=te.ops[te.ops.length-1];return At!=null&&(At.insert!=null?typeof At.insert=="string"&&At.insert.endsWith(`
`):At.attributes!=null&&Object.keys(At.attributes).some(function(Ft){return gt.default.query(Ft,gt.default.Scope.BLOCK)!=null}))}function Bt(te){var At=te.reduce(function(Kt,se){return Kt+=se.delete||0},0),Ft=te.length()-At;return Zt(te)&&(Ft-=1),Ft}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.getLastChangeIndex=Wt.default=void 0;var yt=function(){function te(At,Ft){for(var Kt=0;Kt<Ft.length;Kt++){var se=Ft[Kt];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(At,se.key,se)}}return function(At,Ft,Kt){return Ft&&te(At.prototype,Ft),Kt&&te(At,Kt),At}}(),pt=wt(0),gt=qt(pt),ft=wt(6),It=qt(ft),Mt=wt(7),Ct=qt(Mt),ct=function(te){function At(Ft,Kt){ke(this,At);var se=Jt(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,Ft,Kt));return se.lastRecorded=0,se.ignoreChange=!1,se.clear(),se.quill.on(It.default.events.EDITOR_CHANGE,function(Me,fe,ne,Ht){Me!==It.default.events.TEXT_CHANGE||se.ignoreChange||(se.options.userOnly&&Ht!==It.default.sources.USER?se.transform(fe):se.record(fe,ne))}),se.quill.keyboard.addBinding({key:"Z",shortKey:!0},se.undo.bind(se)),se.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},se.redo.bind(se)),/Win/i.test(navigator.platform)&&se.quill.keyboard.addBinding({key:"Y",shortKey:!0},se.redo.bind(se)),se}return re(At,te),yt(At,[{key:"change",value:function(Ft,Kt){if(this.stack[Ft].length!==0){var se=this.stack[Ft].pop();this.stack[Kt].push(se),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(se[Ft],It.default.sources.USER),this.ignoreChange=!1;var Me=Bt(se[Ft]);this.quill.setSelection(Me)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(Ft,Kt){if(Ft.ops.length!==0){this.stack.redo=[];var se=this.quill.getContents().diff(Kt),Me=Date.now();if(this.lastRecorded+this.options.delay>Me&&this.stack.undo.length>0){var fe=this.stack.undo.pop();se=se.compose(fe.undo),Ft=fe.redo.compose(Ft)}else this.lastRecorded=Me;this.stack.undo.push({redo:Ft,undo:se}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(Ft){this.stack.undo.forEach(function(Kt){Kt.undo=Ft.transform(Kt.undo,!0),Kt.redo=Ft.transform(Kt.redo,!0)}),this.stack.redo.forEach(function(Kt){Kt.undo=Ft.transform(Kt.undo,!0),Kt.redo=Ft.transform(Kt.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),At}(Ct.default);ct.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},Wt.default=ct,Wt.getLastChangeIndex=Bt},function(Ve,Wt,wt){function qt(ft,It){if(!(ft instanceof It))throw new TypeError("Cannot call a class as a function")}function ke(ft,It){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!It||typeof It!="object"&&typeof It!="function"?ft:It}function Jt(ft,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof It);ft.prototype=Object.create(It&&It.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,It):ft.__proto__=It)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.IndentClass=void 0;var re=function(){function ft(It,Mt){for(var Ct=0;Ct<Mt.length;Ct++){var ct=Mt[Ct];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(It,ct.key,ct)}}return function(It,Mt,Ct){return Mt&&ft(It.prototype,Mt),Ct&&ft(It,Ct),It}}(),Zt=function ft(It,Mt,Ct){It===null&&(It=Function.prototype);var ct=Object.getOwnPropertyDescriptor(It,Mt);if(ct===void 0){var te=Object.getPrototypeOf(It);return te===null?void 0:ft(te,Mt,Ct)}if("value"in ct)return ct.value;var At=ct.get;if(At!==void 0)return At.call(Ct)},Bt=wt(0),yt=function(ft){return ft&&ft.__esModule?ft:{default:ft}}(Bt),pt=function(ft){function It(){return qt(this,It),ke(this,(It.__proto__||Object.getPrototypeOf(It)).apply(this,arguments))}return Jt(It,ft),re(It,[{key:"add",value:function(Mt,Ct){if(Ct==="+1"||Ct==="-1"){var ct=this.value(Mt)||0;Ct=Ct==="+1"?ct+1:ct-1}return Ct===0?(this.remove(Mt),!0):Zt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"add",this).call(this,Mt,Ct)}},{key:"canAdd",value:function(Mt,Ct){return Zt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"canAdd",this).call(this,Mt,Ct)||Zt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"canAdd",this).call(this,Mt,parseInt(Ct))}},{key:"value",value:function(Mt){return parseInt(Zt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"value",this).call(this,Mt))||void 0}}]),It}(yt.default.Attributor.Class),gt=new pt("indent","ql-indent",{scope:yt.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});Wt.IndentClass=gt},function(Ve,Wt,wt){function qt(yt,pt){if(!(yt instanceof pt))throw new TypeError("Cannot call a class as a function")}function ke(yt,pt){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pt||typeof pt!="object"&&typeof pt!="function"?yt:pt}function Jt(yt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);yt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,pt):yt.__proto__=pt)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=wt(3),Zt=function(yt){return yt&&yt.__esModule?yt:{default:yt}}(re),Bt=function(yt){function pt(){return qt(this,pt),ke(this,(pt.__proto__||Object.getPrototypeOf(pt)).apply(this,arguments))}return Jt(pt,yt),pt}(Zt.default);Bt.blotName="blockquote",Bt.tagName="blockquote",Wt.default=Bt},function(Ve,Wt,wt){function qt(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")}function ke(pt,gt){if(!pt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!gt||typeof gt!="object"&&typeof gt!="function"?pt:gt}function Jt(pt,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof gt);pt.prototype=Object.create(gt&&gt.prototype,{constructor:{value:pt,enumerable:!1,writable:!0,configurable:!0}}),gt&&(Object.setPrototypeOf?Object.setPrototypeOf(pt,gt):pt.__proto__=gt)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=function(){function pt(gt,ft){for(var It=0;It<ft.length;It++){var Mt=ft[It];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(gt,Mt.key,Mt)}}return function(gt,ft,It){return ft&&pt(gt.prototype,ft),It&&pt(gt,It),gt}}(),Zt=wt(3),Bt=function(pt){return pt&&pt.__esModule?pt:{default:pt}}(Zt),yt=function(pt){function gt(){return qt(this,gt),ke(this,(gt.__proto__||Object.getPrototypeOf(gt)).apply(this,arguments))}return Jt(gt,pt),re(gt,null,[{key:"formats",value:function(ft){return this.tagName.indexOf(ft.tagName)+1}}]),gt}(Bt.default);yt.blotName="header",yt.tagName=["H1","H2","H3","H4","H5","H6"],Wt.default=yt},function(Ve,Wt,wt){function qt(At){return At&&At.__esModule?At:{default:At}}function ke(At,Ft,Kt){return Ft in At?Object.defineProperty(At,Ft,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):At[Ft]=Kt,At}function Jt(At,Ft){if(!(At instanceof Ft))throw new TypeError("Cannot call a class as a function")}function re(At,Ft){if(!At)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ft||typeof Ft!="object"&&typeof Ft!="function"?At:Ft}function Zt(At,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ft);At.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:At,enumerable:!1,writable:!0,configurable:!0}}),Ft&&(Object.setPrototypeOf?Object.setPrototypeOf(At,Ft):At.__proto__=Ft)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.ListItem=void 0;var Bt=function(){function At(Ft,Kt){for(var se=0;se<Kt.length;se++){var Me=Kt[se];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(Ft,Me.key,Me)}}return function(Ft,Kt,se){return Kt&&At(Ft.prototype,Kt),se&&At(Ft,se),Ft}}(),yt=function At(Ft,Kt,se){Ft===null&&(Ft=Function.prototype);var Me=Object.getOwnPropertyDescriptor(Ft,Kt);if(Me===void 0){var fe=Object.getPrototypeOf(Ft);return fe===null?void 0:At(fe,Kt,se)}if("value"in Me)return Me.value;var ne=Me.get;if(ne!==void 0)return ne.call(se)},pt=wt(0),gt=qt(pt),ft=wt(3),It=qt(ft),Mt=wt(23),Ct=qt(Mt),ct=function(At){function Ft(){return Jt(this,Ft),re(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).apply(this,arguments))}return Zt(Ft,At),Bt(Ft,[{key:"format",value:function(Kt,se){Kt!==te.blotName||se?yt(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"format",this).call(this,Kt,se):this.replaceWith(gt.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():yt(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(Kt,se){return this.parent.isolate(this.offset(this.parent),this.length()),Kt===this.parent.statics.blotName?(this.parent.replaceWith(Kt,se),this):(this.parent.unwrap(),yt(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"replaceWith",this).call(this,Kt,se))}}],[{key:"formats",value:function(Kt){return Kt.tagName===this.tagName?void 0:yt(Ft.__proto__||Object.getPrototypeOf(Ft),"formats",this).call(this,Kt)}}]),Ft}(It.default);ct.blotName="list-item",ct.tagName="LI";var te=function(At){function Ft(Kt){Jt(this,Ft);var se=re(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,Kt)),Me=function(fe){if(fe.target.parentNode===Kt){var ne=se.statics.formats(Kt),Ht=gt.default.find(fe.target);ne==="checked"?Ht.format("list","unchecked"):ne==="unchecked"&&Ht.format("list","checked")}};return Kt.addEventListener("touchstart",Me),Kt.addEventListener("mousedown",Me),se}return Zt(Ft,At),Bt(Ft,null,[{key:"create",value:function(Kt){var se=Kt==="ordered"?"OL":"UL",Me=yt(Ft.__proto__||Object.getPrototypeOf(Ft),"create",this).call(this,se);return Kt!=="checked"&&Kt!=="unchecked"||Me.setAttribute("data-checked",Kt==="checked"),Me}},{key:"formats",value:function(Kt){return Kt.tagName==="OL"?"ordered":Kt.tagName==="UL"?Kt.hasAttribute("data-checked")?Kt.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),Bt(Ft,[{key:"format",value:function(Kt,se){this.children.length>0&&this.children.tail.format(Kt,se)}},{key:"formats",value:function(){return ke({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(Kt,se){if(Kt instanceof ct)yt(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"insertBefore",this).call(this,Kt,se);else{var Me=se==null?this.length():se.offset(this),fe=this.split(Me);fe.parent.insertBefore(Kt,fe)}}},{key:"optimize",value:function(Kt){yt(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"optimize",this).call(this,Kt);var se=this.next;se!=null&&se.prev===this&&se.statics.blotName===this.statics.blotName&&se.domNode.tagName===this.domNode.tagName&&se.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(se.moveChildren(this),se.remove())}},{key:"replace",value:function(Kt){if(Kt.statics.blotName!==this.statics.blotName){var se=gt.default.create(this.statics.defaultChild);Kt.moveChildren(se),this.appendChild(se)}yt(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"replace",this).call(this,Kt)}}]),Ft}(Ct.default);te.blotName="list",te.scope=gt.default.Scope.BLOCK_BLOT,te.tagName=["OL","UL"],te.defaultChild="list-item",te.allowedChildren=[ct],Wt.ListItem=ct,Wt.default=te},function(Ve,Wt,wt){function qt(yt,pt){if(!(yt instanceof pt))throw new TypeError("Cannot call a class as a function")}function ke(yt,pt){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pt||typeof pt!="object"&&typeof pt!="function"?yt:pt}function Jt(yt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);yt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,pt):yt.__proto__=pt)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=wt(39),Zt=function(yt){return yt&&yt.__esModule?yt:{default:yt}}(re),Bt=function(yt){function pt(){return qt(this,pt),ke(this,(pt.__proto__||Object.getPrototypeOf(pt)).apply(this,arguments))}return Jt(pt,yt),pt}(Zt.default);Bt.blotName="italic",Bt.tagName=["EM","I"],Wt.default=Bt},function(Ve,Wt,wt){function qt(gt,ft){if(!(gt instanceof ft))throw new TypeError("Cannot call a class as a function")}function ke(gt,ft){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||typeof ft!="object"&&typeof ft!="function"?gt:ft}function Jt(gt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);gt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,ft):gt.__proto__=ft)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=function(){function gt(ft,It){for(var Mt=0;Mt<It.length;Mt++){var Ct=It[Mt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(ft,Ct.key,Ct)}}return function(ft,It,Mt){return It&&gt(ft.prototype,It),Mt&&gt(ft,Mt),ft}}(),Zt=function gt(ft,It,Mt){ft===null&&(ft=Function.prototype);var Ct=Object.getOwnPropertyDescriptor(ft,It);if(Ct===void 0){var ct=Object.getPrototypeOf(ft);return ct===null?void 0:gt(ct,It,Mt)}if("value"in Ct)return Ct.value;var te=Ct.get;if(te!==void 0)return te.call(Mt)},Bt=wt(5),yt=function(gt){return gt&&gt.__esModule?gt:{default:gt}}(Bt),pt=function(gt){function ft(){return qt(this,ft),ke(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return Jt(ft,gt),re(ft,null,[{key:"create",value:function(It){return It==="super"?document.createElement("sup"):It==="sub"?document.createElement("sub"):Zt(ft.__proto__||Object.getPrototypeOf(ft),"create",this).call(this,It)}},{key:"formats",value:function(It){return It.tagName==="SUB"?"sub":It.tagName==="SUP"?"super":void 0}}]),ft}(yt.default);pt.blotName="script",pt.tagName=["SUB","SUP"],Wt.default=pt},function(Ve,Wt,wt){function qt(yt,pt){if(!(yt instanceof pt))throw new TypeError("Cannot call a class as a function")}function ke(yt,pt){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pt||typeof pt!="object"&&typeof pt!="function"?yt:pt}function Jt(yt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);yt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,pt):yt.__proto__=pt)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=wt(5),Zt=function(yt){return yt&&yt.__esModule?yt:{default:yt}}(re),Bt=function(yt){function pt(){return qt(this,pt),ke(this,(pt.__proto__||Object.getPrototypeOf(pt)).apply(this,arguments))}return Jt(pt,yt),pt}(Zt.default);Bt.blotName="strike",Bt.tagName="S",Wt.default=Bt},function(Ve,Wt,wt){function qt(yt,pt){if(!(yt instanceof pt))throw new TypeError("Cannot call a class as a function")}function ke(yt,pt){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!pt||typeof pt!="object"&&typeof pt!="function"?yt:pt}function Jt(yt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);yt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,pt):yt.__proto__=pt)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=wt(5),Zt=function(yt){return yt&&yt.__esModule?yt:{default:yt}}(re),Bt=function(yt){function pt(){return qt(this,pt),ke(this,(pt.__proto__||Object.getPrototypeOf(pt)).apply(this,arguments))}return Jt(pt,yt),pt}(Zt.default);Bt.blotName="underline",Bt.tagName="U",Wt.default=Bt},function(Ve,Wt,wt){function qt(It,Mt){if(!(It instanceof Mt))throw new TypeError("Cannot call a class as a function")}function ke(It,Mt){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Mt||typeof Mt!="object"&&typeof Mt!="function"?It:Mt}function Jt(It,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Mt);It.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),Mt&&(Object.setPrototypeOf?Object.setPrototypeOf(It,Mt):It.__proto__=Mt)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=function(){function It(Mt,Ct){for(var ct=0;ct<Ct.length;ct++){var te=Ct[ct];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(Mt,te.key,te)}}return function(Mt,Ct,ct){return Ct&&It(Mt.prototype,Ct),ct&&It(Mt,ct),Mt}}(),Zt=function It(Mt,Ct,ct){Mt===null&&(Mt=Function.prototype);var te=Object.getOwnPropertyDescriptor(Mt,Ct);if(te===void 0){var At=Object.getPrototypeOf(Mt);return At===null?void 0:It(At,Ct,ct)}if("value"in te)return te.value;var Ft=te.get;if(Ft!==void 0)return Ft.call(ct)},Bt=wt(0),yt=function(It){return It&&It.__esModule?It:{default:It}}(Bt),pt=wt(15),gt=["alt","height","width"],ft=function(It){function Mt(){return qt(this,Mt),ke(this,(Mt.__proto__||Object.getPrototypeOf(Mt)).apply(this,arguments))}return Jt(Mt,It),re(Mt,[{key:"format",value:function(Ct,ct){gt.indexOf(Ct)>-1?ct?this.domNode.setAttribute(Ct,ct):this.domNode.removeAttribute(Ct):Zt(Mt.prototype.__proto__||Object.getPrototypeOf(Mt.prototype),"format",this).call(this,Ct,ct)}}],[{key:"create",value:function(Ct){var ct=Zt(Mt.__proto__||Object.getPrototypeOf(Mt),"create",this).call(this,Ct);return typeof Ct=="string"&&ct.setAttribute("src",this.sanitize(Ct)),ct}},{key:"formats",value:function(Ct){return gt.reduce(function(ct,te){return Ct.hasAttribute(te)&&(ct[te]=Ct.getAttribute(te)),ct},{})}},{key:"match",value:function(Ct){return/\.(jpe?g|gif|png)$/.test(Ct)||/^data:image\/.+;base64/.test(Ct)}},{key:"sanitize",value:function(Ct){return(0,pt.sanitize)(Ct,["http","https","data"])?Ct:"//:0"}},{key:"value",value:function(Ct){return Ct.getAttribute("src")}}]),Mt}(yt.default.Embed);ft.blotName="image",ft.tagName="IMG",Wt.default=ft},function(Ve,Wt,wt){function qt(It,Mt){if(!(It instanceof Mt))throw new TypeError("Cannot call a class as a function")}function ke(It,Mt){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Mt||typeof Mt!="object"&&typeof Mt!="function"?It:Mt}function Jt(It,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Mt);It.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),Mt&&(Object.setPrototypeOf?Object.setPrototypeOf(It,Mt):It.__proto__=Mt)}Object.defineProperty(Wt,"__esModule",{value:!0});var re=function(){function It(Mt,Ct){for(var ct=0;ct<Ct.length;ct++){var te=Ct[ct];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(Mt,te.key,te)}}return function(Mt,Ct,ct){return Ct&&It(Mt.prototype,Ct),ct&&It(Mt,ct),Mt}}(),Zt=function It(Mt,Ct,ct){Mt===null&&(Mt=Function.prototype);var te=Object.getOwnPropertyDescriptor(Mt,Ct);if(te===void 0){var At=Object.getPrototypeOf(Mt);return At===null?void 0:It(At,Ct,ct)}if("value"in te)return te.value;var Ft=te.get;if(Ft!==void 0)return Ft.call(ct)},Bt=wt(3),yt=wt(15),pt=function(It){return It&&It.__esModule?It:{default:It}}(yt),gt=["height","width"],ft=function(It){function Mt(){return qt(this,Mt),ke(this,(Mt.__proto__||Object.getPrototypeOf(Mt)).apply(this,arguments))}return Jt(Mt,It),re(Mt,[{key:"format",value:function(Ct,ct){gt.indexOf(Ct)>-1?ct?this.domNode.setAttribute(Ct,ct):this.domNode.removeAttribute(Ct):Zt(Mt.prototype.__proto__||Object.getPrototypeOf(Mt.prototype),"format",this).call(this,Ct,ct)}}],[{key:"create",value:function(Ct){var ct=Zt(Mt.__proto__||Object.getPrototypeOf(Mt),"create",this).call(this,Ct);return ct.setAttribute("frameborder","0"),ct.setAttribute("allowfullscreen",!0),ct.setAttribute("src",this.sanitize(Ct)),ct}},{key:"formats",value:function(Ct){return gt.reduce(function(ct,te){return Ct.hasAttribute(te)&&(ct[te]=Ct.getAttribute(te)),ct},{})}},{key:"sanitize",value:function(Ct){return pt.default.sanitize(Ct)}},{key:"value",value:function(Ct){return Ct.getAttribute("src")}}]),Mt}(Bt.BlockEmbed);ft.blotName="video",ft.className="ql-video",ft.tagName="IFRAME",Wt.default=ft},function(Ve,Wt,wt){function qt(te){return te&&te.__esModule?te:{default:te}}function ke(te,At){if(!(te instanceof At))throw new TypeError("Cannot call a class as a function")}function Jt(te,At){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!At||typeof At!="object"&&typeof At!="function"?te:At}function re(te,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof At);te.prototype=Object.create(At&&At.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),At&&(Object.setPrototypeOf?Object.setPrototypeOf(te,At):te.__proto__=At)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.FormulaBlot=void 0;var Zt=function(){function te(At,Ft){for(var Kt=0;Kt<Ft.length;Kt++){var se=Ft[Kt];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(At,se.key,se)}}return function(At,Ft,Kt){return Ft&&te(At.prototype,Ft),Kt&&te(At,Kt),At}}(),Bt=function te(At,Ft,Kt){At===null&&(At=Function.prototype);var se=Object.getOwnPropertyDescriptor(At,Ft);if(se===void 0){var Me=Object.getPrototypeOf(At);return Me===null?void 0:te(Me,Ft,Kt)}if("value"in se)return se.value;var fe=se.get;if(fe!==void 0)return fe.call(Kt)},yt=wt(33),pt=qt(yt),gt=wt(6),ft=qt(gt),It=wt(7),Mt=qt(It),Ct=function(te){function At(){return ke(this,At),Jt(this,(At.__proto__||Object.getPrototypeOf(At)).apply(this,arguments))}return re(At,te),Zt(At,null,[{key:"create",value:function(Ft){var Kt=Bt(At.__proto__||Object.getPrototypeOf(At),"create",this).call(this,Ft);return typeof Ft=="string"&&(window.katex.render(Ft,Kt,{throwOnError:!1,errorColor:"#f00"}),Kt.setAttribute("data-value",Ft)),Kt}},{key:"value",value:function(Ft){return Ft.getAttribute("data-value")}}]),At}(pt.default);Ct.blotName="formula",Ct.className="ql-formula",Ct.tagName="SPAN";var ct=function(te){function At(){ke(this,At);var Ft=Jt(this,(At.__proto__||Object.getPrototypeOf(At)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return Ft}return re(At,te),Zt(At,null,[{key:"register",value:function(){ft.default.register(Ct,!0)}}]),At}(Mt.default);Wt.FormulaBlot=Ct,Wt.default=ct},function(Ve,Wt,wt){function qt(Kt){return Kt&&Kt.__esModule?Kt:{default:Kt}}function ke(Kt,se){if(!(Kt instanceof se))throw new TypeError("Cannot call a class as a function")}function Jt(Kt,se){if(!Kt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!se||typeof se!="object"&&typeof se!="function"?Kt:se}function re(Kt,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof se);Kt.prototype=Object.create(se&&se.prototype,{constructor:{value:Kt,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(Kt,se):Kt.__proto__=se)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.CodeToken=Wt.CodeBlock=void 0;var Zt=function(){function Kt(se,Me){for(var fe=0;fe<Me.length;fe++){var ne=Me[fe];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(se,ne.key,ne)}}return function(se,Me,fe){return Me&&Kt(se.prototype,Me),fe&&Kt(se,fe),se}}(),Bt=function Kt(se,Me,fe){se===null&&(se=Function.prototype);var ne=Object.getOwnPropertyDescriptor(se,Me);if(ne===void 0){var Ht=Object.getPrototypeOf(se);return Ht===null?void 0:Kt(Ht,Me,fe)}if("value"in ne)return ne.value;var Gt=ne.get;if(Gt!==void 0)return Gt.call(fe)},yt=wt(0),pt=qt(yt),gt=wt(6),ft=qt(gt),It=wt(7),Mt=qt(It),Ct=wt(13),ct=qt(Ct),te=function(Kt){function se(){return ke(this,se),Jt(this,(se.__proto__||Object.getPrototypeOf(se)).apply(this,arguments))}return re(se,Kt),Zt(se,[{key:"replaceWith",value:function(Me){this.domNode.textContent=this.domNode.textContent,this.attach(),Bt(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"replaceWith",this).call(this,Me)}},{key:"highlight",value:function(Me){var fe=this.domNode.textContent;this.cachedText!==fe&&((fe.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=Me(fe),this.domNode.normalize(),this.attach()),this.cachedText=fe)}}]),se}(ct.default);te.className="ql-syntax";var At=new pt.default.Attributor.Class("token","hljs",{scope:pt.default.Scope.INLINE}),Ft=function(Kt){function se(Me,fe){ke(this,se);var ne=Jt(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,Me,fe));if(typeof ne.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var Ht=null;return ne.quill.on(ft.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(Ht),Ht=setTimeout(function(){ne.highlight(),Ht=null},ne.options.interval)}),ne.highlight(),ne}return re(se,Kt),Zt(se,null,[{key:"register",value:function(){ft.default.register(At,!0),ft.default.register(te,!0)}}]),Zt(se,[{key:"highlight",value:function(){var Me=this;if(!this.quill.selection.composing){this.quill.update(ft.default.sources.USER);var fe=this.quill.getSelection();this.quill.scroll.descendants(te).forEach(function(ne){ne.highlight(Me.options.highlight)}),this.quill.update(ft.default.sources.SILENT),fe!=null&&this.quill.setSelection(fe,ft.default.sources.SILENT)}}}]),se}(Mt.default);Ft.DEFAULTS={highlight:function(){return window.hljs==null?null:function(Kt){return window.hljs.highlightAuto(Kt).value}}(),interval:1e3},Wt.CodeBlock=te,Wt.CodeToken=At,Wt.default=Ft},function(Ve,Wt,wt){function qt(Ht){return Ht&&Ht.__esModule?Ht:{default:Ht}}function ke(Ht,Gt,ie){return Gt in Ht?Object.defineProperty(Ht,Gt,{value:ie,enumerable:!0,configurable:!0,writable:!0}):Ht[Gt]=ie,Ht}function Jt(Ht,Gt){if(!(Ht instanceof Gt))throw new TypeError("Cannot call a class as a function")}function re(Ht,Gt){if(!Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Gt||typeof Gt!="object"&&typeof Gt!="function"?Ht:Gt}function Zt(Ht,Gt){if(typeof Gt!="function"&&Gt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Gt);Ht.prototype=Object.create(Gt&&Gt.prototype,{constructor:{value:Ht,enumerable:!1,writable:!0,configurable:!0}}),Gt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ht,Gt):Ht.__proto__=Gt)}function Bt(Ht,Gt,ie){var Le=document.createElement("button");Le.setAttribute("type","button"),Le.classList.add("ql-"+Gt),ie!=null&&(Le.value=ie),Ht.appendChild(Le)}function yt(Ht,Gt){Array.isArray(Gt[0])||(Gt=[Gt]),Gt.forEach(function(ie){var Le=document.createElement("span");Le.classList.add("ql-formats"),ie.forEach(function(pe){if(typeof pe=="string")Bt(Le,pe);else{var De=Object.keys(pe)[0],Bn=pe[De];Array.isArray(Bn)?pt(Le,De,Bn):Bt(Le,De,Bn)}}),Ht.appendChild(Le)})}function pt(Ht,Gt,ie){var Le=document.createElement("select");Le.classList.add("ql-"+Gt),ie.forEach(function(pe){var De=document.createElement("option");pe!==!1?De.setAttribute("value",pe):De.setAttribute("selected","selected"),Le.appendChild(De)}),Ht.appendChild(Le)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.addControls=Wt.default=void 0;var gt=function(){function Ht(Gt,ie){var Le=[],pe=!0,De=!1,Bn=void 0;try{for(var rn,ln=Gt[Symbol.iterator]();!(pe=(rn=ln.next()).done)&&(Le.push(rn.value),!ie||Le.length!==ie);pe=!0);}catch(oe){De=!0,Bn=oe}finally{try{!pe&&ln.return&&ln.return()}finally{if(De)throw Bn}}return Le}return function(Gt,ie){if(Array.isArray(Gt))return Gt;if(Symbol.iterator in Object(Gt))return Ht(Gt,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ft=function(){function Ht(Gt,ie){for(var Le=0;Le<ie.length;Le++){var pe=ie[Le];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Gt,pe.key,pe)}}return function(Gt,ie,Le){return ie&&Ht(Gt.prototype,ie),Le&&Ht(Gt,Le),Gt}}(),It=wt(4),Mt=qt(It),Ct=wt(0),ct=qt(Ct),te=wt(6),At=qt(te),Ft=wt(10),Kt=qt(Ft),se=wt(7),Me=qt(se),fe=(0,Kt.default)("quill:toolbar"),ne=function(Ht){function Gt(ie,Le){Jt(this,Gt);var pe=re(this,(Gt.__proto__||Object.getPrototypeOf(Gt)).call(this,ie,Le));if(Array.isArray(pe.options.container)){var De=document.createElement("div");yt(De,pe.options.container),ie.container.parentNode.insertBefore(De,ie.container),pe.container=De}else typeof pe.options.container=="string"?pe.container=document.querySelector(pe.options.container):pe.container=pe.options.container;if(!(pe.container instanceof HTMLElement)){var Bn;return Bn=fe.error("Container required for toolbar",pe.options),re(pe,Bn)}return pe.container.classList.add("ql-toolbar"),pe.controls=[],pe.handlers={},Object.keys(pe.options.handlers).forEach(function(rn){pe.addHandler(rn,pe.options.handlers[rn])}),[].forEach.call(pe.container.querySelectorAll("button, select"),function(rn){pe.attach(rn)}),pe.quill.on(At.default.events.EDITOR_CHANGE,function(rn,ln){rn===At.default.events.SELECTION_CHANGE&&pe.update(ln)}),pe.quill.on(At.default.events.SCROLL_OPTIMIZE,function(){var rn=pe.quill.selection.getRange(),ln=gt(rn,1),oe=ln[0];pe.update(oe)}),pe}return Zt(Gt,Ht),ft(Gt,[{key:"addHandler",value:function(ie,Le){this.handlers[ie]=Le}},{key:"attach",value:function(ie){var Le=this,pe=[].find.call(ie.classList,function(Bn){return Bn.indexOf("ql-")===0});if(pe){if(pe=pe.slice(3),ie.tagName==="BUTTON"&&ie.setAttribute("type","button"),this.handlers[pe]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[pe]==null)return void fe.warn("ignoring attaching to disabled format",pe,ie);if(ct.default.query(pe)==null)return void fe.warn("ignoring attaching to nonexistent format",pe,ie)}var De=ie.tagName==="SELECT"?"change":"click";ie.addEventListener(De,function(Bn){var rn=void 0;if(ie.tagName==="SELECT"){if(ie.selectedIndex<0)return;var ln=ie.options[ie.selectedIndex];rn=!ln.hasAttribute("selected")&&(ln.value||!1)}else rn=!ie.classList.contains("ql-active")&&(ie.value||!ie.hasAttribute("value")),Bn.preventDefault();Le.quill.focus();var oe=Le.quill.selection.getRange(),Oe=gt(oe,1),U=Oe[0];if(Le.handlers[pe]!=null)Le.handlers[pe].call(Le,rn);else if(ct.default.query(pe).prototype instanceof ct.default.Embed){if(!(rn=prompt("Enter "+pe)))return;Le.quill.updateContents(new Mt.default().retain(U.index).delete(U.length).insert(ke({},pe,rn)),At.default.sources.USER)}else Le.quill.format(pe,rn,At.default.sources.USER);Le.update(U)}),this.controls.push([pe,ie])}}},{key:"update",value:function(ie){var Le=ie==null?{}:this.quill.getFormat(ie);this.controls.forEach(function(pe){var De=gt(pe,2),Bn=De[0],rn=De[1];if(rn.tagName==="SELECT"){var ln=void 0;if(ie==null)ln=null;else if(Le[Bn]==null)ln=rn.querySelector("option[selected]");else if(!Array.isArray(Le[Bn])){var oe=Le[Bn];typeof oe=="string"&&(oe=oe.replace(/\"/g,'\\"')),ln=rn.querySelector('option[value="'+oe+'"]')}ln==null?(rn.value="",rn.selectedIndex=-1):ln.selected=!0}else if(ie==null)rn.classList.remove("ql-active");else if(rn.hasAttribute("value")){var Oe=Le[Bn]===rn.getAttribute("value")||Le[Bn]!=null&&Le[Bn].toString()===rn.getAttribute("value")||Le[Bn]==null&&!rn.getAttribute("value");rn.classList.toggle("ql-active",Oe)}else rn.classList.toggle("ql-active",Le[Bn]!=null)})}}]),Gt}(Me.default);ne.DEFAULTS={},ne.DEFAULTS={container:null,handlers:{clean:function(){var Ht=this,Gt=this.quill.getSelection();if(Gt!=null)if(Gt.length==0){var ie=this.quill.getFormat();Object.keys(ie).forEach(function(Le){ct.default.query(Le,ct.default.Scope.INLINE)!=null&&Ht.quill.format(Le,!1)})}else this.quill.removeFormat(Gt,At.default.sources.USER)},direction:function(Ht){var Gt=this.quill.getFormat().align;Ht==="rtl"&&Gt==null?this.quill.format("align","right",At.default.sources.USER):Ht||Gt!=="right"||this.quill.format("align",!1,At.default.sources.USER),this.quill.format("direction",Ht,At.default.sources.USER)},indent:function(Ht){var Gt=this.quill.getSelection(),ie=this.quill.getFormat(Gt),Le=parseInt(ie.indent||0);if(Ht==="+1"||Ht==="-1"){var pe=Ht==="+1"?1:-1;ie.direction==="rtl"&&(pe*=-1),this.quill.format("indent",Le+pe,At.default.sources.USER)}},link:function(Ht){Ht===!0&&(Ht=prompt("Enter link URL:")),this.quill.format("link",Ht,At.default.sources.USER)},list:function(Ht){var Gt=this.quill.getSelection(),ie=this.quill.getFormat(Gt);Ht==="check"?ie.list==="checked"||ie.list==="unchecked"?this.quill.format("list",!1,At.default.sources.USER):this.quill.format("list","unchecked",At.default.sources.USER):this.quill.format("list",Ht,At.default.sources.USER)}}},Wt.default=ne,Wt.addControls=yt},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(Ve,Wt){Ve.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(Ve,Wt){Ve.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(Ve,Wt){Ve.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(Ve,Wt){Ve.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(Ve,Wt){Ve.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(Ve,Wt,wt){function qt(se){return se&&se.__esModule?se:{default:se}}function ke(se,Me){if(!(se instanceof Me))throw new TypeError("Cannot call a class as a function")}function Jt(se,Me){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Me||typeof Me!="object"&&typeof Me!="function"?se:Me}function re(se,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Me);se.prototype=Object.create(Me&&Me.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),Me&&(Object.setPrototypeOf?Object.setPrototypeOf(se,Me):se.__proto__=Me)}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=Wt.BubbleTooltip=void 0;var Zt=function se(Me,fe,ne){Me===null&&(Me=Function.prototype);var Ht=Object.getOwnPropertyDescriptor(Me,fe);if(Ht===void 0){var Gt=Object.getPrototypeOf(Me);return Gt===null?void 0:se(Gt,fe,ne)}if("value"in Ht)return Ht.value;var ie=Ht.get;if(ie!==void 0)return ie.call(ne)},Bt=function(){function se(Me,fe){for(var ne=0;ne<fe.length;ne++){var Ht=fe[ne];Ht.enumerable=Ht.enumerable||!1,Ht.configurable=!0,"value"in Ht&&(Ht.writable=!0),Object.defineProperty(Me,Ht.key,Ht)}}return function(Me,fe,ne){return fe&&se(Me.prototype,fe),ne&&se(Me,ne),Me}}(),yt=wt(2),pt=qt(yt),gt=wt(9),ft=qt(gt),It=wt(44),Mt=qt(It),Ct=wt(22),ct=wt(26),te=qt(ct),At=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],Ft=function(se){function Me(fe,ne){ke(this,Me),ne.modules.toolbar!=null&&ne.modules.toolbar.container==null&&(ne.modules.toolbar.container=At);var Ht=Jt(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,fe,ne));return Ht.quill.container.classList.add("ql-bubble"),Ht}return re(Me,se),Bt(Me,[{key:"extendToolbar",value:function(fe){this.tooltip=new Kt(this.quill,this.options.bounds),this.tooltip.root.appendChild(fe.container),this.buildButtons([].slice.call(fe.container.querySelectorAll("button")),te.default),this.buildPickers([].slice.call(fe.container.querySelectorAll("select")),te.default)}}]),Me}(Mt.default);Ft.DEFAULTS=(0,pt.default)(!0,{},Mt.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(se){se?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var Kt=function(se){function Me(fe,ne){ke(this,Me);var Ht=Jt(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,fe,ne));return Ht.quill.on(ft.default.events.EDITOR_CHANGE,function(Gt,ie,Le,pe){if(Gt===ft.default.events.SELECTION_CHANGE)if(ie!=null&&ie.length>0&&pe===ft.default.sources.USER){Ht.show(),Ht.root.style.left="0px",Ht.root.style.width="",Ht.root.style.width=Ht.root.offsetWidth+"px";var De=Ht.quill.getLines(ie.index,ie.length);if(De.length===1)Ht.position(Ht.quill.getBounds(ie));else{var Bn=De[De.length-1],rn=Ht.quill.getIndex(Bn),ln=Math.min(Bn.length()-1,ie.index+ie.length-rn),oe=Ht.quill.getBounds(new Ct.Range(rn,ln));Ht.position(oe)}}else document.activeElement!==Ht.textbox&&Ht.quill.hasFocus()&&Ht.hide()}),Ht}return re(Me,se),Bt(Me,[{key:"listen",value:function(){var fe=this;Zt(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){fe.root.classList.remove("ql-editing")}),this.quill.on(ft.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!fe.root.classList.contains("ql-hidden")){var ne=fe.quill.getSelection();ne!=null&&fe.position(fe.quill.getBounds(ne))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(fe){var ne=Zt(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"position",this).call(this,fe),Ht=this.root.querySelector(".ql-tooltip-arrow");if(Ht.style.marginLeft="",ne===0)return ne;Ht.style.marginLeft=-1*ne-Ht.offsetWidth/2+"px"}}]),Me}(It.BaseTooltip);Kt.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),Wt.BubbleTooltip=Kt,Wt.default=Ft},function(Ve,Wt,wt){function qt(ne){return ne&&ne.__esModule?ne:{default:ne}}function ke(ne,Ht){if(!(ne instanceof Ht))throw new TypeError("Cannot call a class as a function")}function Jt(ne,Ht){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ht||typeof Ht!="object"&&typeof Ht!="function"?ne:Ht}function re(ne,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);ne.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,Ht):ne.__proto__=Ht)}Object.defineProperty(Wt,"__esModule",{value:!0});var Zt=function(){function ne(Ht,Gt){var ie=[],Le=!0,pe=!1,De=void 0;try{for(var Bn,rn=Ht[Symbol.iterator]();!(Le=(Bn=rn.next()).done)&&(ie.push(Bn.value),!Gt||ie.length!==Gt);Le=!0);}catch(ln){pe=!0,De=ln}finally{try{!Le&&rn.return&&rn.return()}finally{if(pe)throw De}}return ie}return function(Ht,Gt){if(Array.isArray(Ht))return Ht;if(Symbol.iterator in Object(Ht))return ne(Ht,Gt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Bt=function ne(Ht,Gt,ie){Ht===null&&(Ht=Function.prototype);var Le=Object.getOwnPropertyDescriptor(Ht,Gt);if(Le===void 0){var pe=Object.getPrototypeOf(Ht);return pe===null?void 0:ne(pe,Gt,ie)}if("value"in Le)return Le.value;var De=Le.get;if(De!==void 0)return De.call(ie)},yt=function(){function ne(Ht,Gt){for(var ie=0;ie<Gt.length;ie++){var Le=Gt[ie];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Ht,Le.key,Le)}}return function(Ht,Gt,ie){return Gt&&ne(Ht.prototype,Gt),ie&&ne(Ht,ie),Ht}}(),pt=wt(2),gt=qt(pt),ft=wt(9),It=qt(ft),Mt=wt(44),Ct=qt(Mt),ct=wt(15),te=qt(ct),At=wt(22),Ft=wt(26),Kt=qt(Ft),se=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Me=function(ne){function Ht(Gt,ie){ke(this,Ht),ie.modules.toolbar!=null&&ie.modules.toolbar.container==null&&(ie.modules.toolbar.container=se);var Le=Jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Gt,ie));return Le.quill.container.classList.add("ql-snow"),Le}return re(Ht,ne),yt(Ht,[{key:"extendToolbar",value:function(Gt){Gt.container.classList.add("ql-snow"),this.buildButtons([].slice.call(Gt.container.querySelectorAll("button")),Kt.default),this.buildPickers([].slice.call(Gt.container.querySelectorAll("select")),Kt.default),this.tooltip=new fe(this.quill,this.options.bounds),Gt.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(ie,Le){Gt.handlers.link.call(Gt,!Le.format.link)})}}]),Ht}(Ct.default);Me.DEFAULTS=(0,gt.default)(!0,{},Ct.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(ne){if(ne){var Ht=this.quill.getSelection();if(Ht==null||Ht.length==0)return;var Gt=this.quill.getText(Ht);/^\S+@\S+\.\S+$/.test(Gt)&&Gt.indexOf("mailto:")!==0&&(Gt="mailto:"+Gt),this.quill.theme.tooltip.edit("link",Gt)}else this.quill.format("link",!1)}}}}});var fe=function(ne){function Ht(Gt,ie){ke(this,Ht);var Le=Jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Gt,ie));return Le.preview=Le.root.querySelector("a.ql-preview"),Le}return re(Ht,ne),yt(Ht,[{key:"listen",value:function(){var Gt=this;Bt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(ie){Gt.root.classList.contains("ql-editing")?Gt.save():Gt.edit("link",Gt.preview.textContent),ie.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(ie){if(Gt.linkRange!=null){var Le=Gt.linkRange;Gt.restoreFocus(),Gt.quill.formatText(Le,"link",!1,It.default.sources.USER),delete Gt.linkRange}ie.preventDefault(),Gt.hide()}),this.quill.on(It.default.events.SELECTION_CHANGE,function(ie,Le,pe){if(ie!=null){if(ie.length===0&&pe===It.default.sources.USER){var De=Gt.quill.scroll.descendant(te.default,ie.index),Bn=Zt(De,2),rn=Bn[0],ln=Bn[1];if(rn!=null){Gt.linkRange=new At.Range(ie.index-ln,rn.length());var oe=te.default.formats(rn.domNode);return Gt.preview.textContent=oe,Gt.preview.setAttribute("href",oe),Gt.show(),void Gt.position(Gt.quill.getBounds(Gt.linkRange))}}else delete Gt.linkRange;Gt.hide()}})}},{key:"show",value:function(){Bt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),Ht}(Mt.BaseTooltip);fe.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),Wt.default=Me}]).default});(function(Ve){if(typeof bh=="object"&&typeof Xl<"u")Xl.exports=Ve();else if(typeof define=="function"&&define.amd)define([],Ve);else{var Wt;typeof window<"u"?Wt=window:typeof global<"u"?Wt=global:typeof self<"u"?Wt=self:Wt=this,Wt.simpleDatatables=Ve()}})(function(){return function(){function Ve(Wt,wt,qt){function ke(Zt,Bt){if(!wt[Zt]){if(!Wt[Zt]){var yt=typeof require=="function"&&require;if(!Bt&&yt)return yt(Zt,!0);if(Jt)return Jt(Zt,!0);var pt=new Error("Cannot find module '"+Zt+"'");throw pt.code="MODULE_NOT_FOUND",pt}var gt=wt[Zt]={exports:{}};Wt[Zt][0].call(gt.exports,function(ft){var It=Wt[Zt][1][ft];return ke(It||ft)},gt,gt.exports,Ve,Wt,wt,qt)}return wt[Zt].exports}for(var Jt=typeof require=="function"&&require,re=0;re<qt.length;re++)ke(qt[re]);return ke}return Ve}()({1:[function(Ve,Wt,wt){(function(qt){(function(){const ke=Rt=>Object.prototype.toString.call(Rt)==="[object Object]",Jt=Rt=>{let kt=!1;try{kt=JSON.parse(Rt)}catch{return!1}return!(kt===null||!Array.isArray(kt)&&!ke(kt))&&kt},re=(Rt,kt)=>{const Tt=document.createElement(Rt);if(kt&&typeof kt=="object")for(const Ut in kt)Ut==="html"?Tt.innerHTML=kt[Ut]:Tt.setAttribute(Ut,kt[Ut]);return Tt},Zt=Rt=>["#text","#comment"].includes(Rt.nodeName)?Rt.data:Rt.childNodes?Rt.childNodes.map(kt=>Zt(kt)).join(""):"",Bt=function(Rt){return Rt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},yt=function(Rt,kt){let Tt=0,Ut=0;for(;Tt<Rt+1;)kt[Ut].hidden||(Tt+=1),Ut+=1;return Ut-1},pt=function(Rt,kt){let Tt=Rt,Ut=0;for(;Ut<Rt;)kt[Rt].hidden&&(Tt-=1),Ut++;return Tt};function gt(Rt,kt,Tt){var Ut;return Rt.nodeName==="#text"?Ut=Tt.document.createTextNode(Rt.data):Rt.nodeName==="#comment"?Ut=Tt.document.createComment(Rt.data):(kt?Ut=Tt.document.createElementNS("http://www.w3.org/2000/svg",Rt.nodeName):Rt.nodeName.toLowerCase()==="svg"?(Ut=Tt.document.createElementNS("http://www.w3.org/2000/svg","svg"),kt=!0):Ut=Tt.document.createElement(Rt.nodeName),Rt.attributes&&Object.entries(Rt.attributes).forEach(function(ve){var Pe=ve[0],Te=ve[1];return Ut.setAttribute(Pe,Te)}),Rt.childNodes&&Rt.childNodes.forEach(function(ve){return Ut.appendChild(gt(ve,kt,Tt))}),Tt.valueDiffing&&(Rt.value&&(Ut instanceof HTMLButtonElement||Ut instanceof HTMLDataElement||Ut instanceof HTMLInputElement||Ut instanceof HTMLLIElement||Ut instanceof HTMLMeterElement||Ut instanceof HTMLOptionElement||Ut instanceof HTMLProgressElement||Ut instanceof HTMLParamElement)&&(Ut.value=Rt.value),Rt.checked&&Ut instanceof HTMLInputElement&&(Ut.checked=Rt.checked),Rt.selected&&Ut instanceof HTMLOptionElement&&(Ut.selected=Rt.selected))),Ut}var ft=function(Rt,kt){for(kt=kt.slice();kt.length>0;){var Tt=kt.splice(0,1)[0];Rt=Rt.childNodes[Tt]}return Rt};function It(Rt,kt,Tt){var Ut,ve,Pe,Te=kt[Tt._const.action],Ee=kt[Tt._const.route];[Tt._const.addElement,Tt._const.addTextElement].includes(Te)||(Ut=ft(Rt,Ee));var Ne={diff:kt,node:Ut};if(Tt.preDiffApply(Ne))return!0;switch(Te){case Tt._const.addAttribute:if(!(Ut&&Ut instanceof Element))return!1;Ut.setAttribute(kt[Tt._const.name],kt[Tt._const.value]);break;case Tt._const.modifyAttribute:if(!(Ut&&Ut instanceof Element))return!1;Ut.setAttribute(kt[Tt._const.name],kt[Tt._const.newValue]),Ut instanceof HTMLInputElement&&kt[Tt._const.name]==="value"&&(Ut.value=kt[Tt._const.newValue]);break;case Tt._const.removeAttribute:if(!(Ut&&Ut instanceof Element))return!1;Ut.removeAttribute(kt[Tt._const.name]);break;case Tt._const.modifyTextElement:if(!(Ut&&Ut instanceof Text))return!1;Tt.textDiff(Ut,Ut.data,kt[Tt._const.oldValue],kt[Tt._const.newValue]);break;case Tt._const.modifyValue:if(!Ut||Ut.value===void 0)return!1;Ut.value=kt[Tt._const.newValue];break;case Tt._const.modifyComment:if(!(Ut&&Ut instanceof Comment))return!1;Tt.textDiff(Ut,Ut.data,kt[Tt._const.oldValue],kt[Tt._const.newValue]);break;case Tt._const.modifyChecked:if(!Ut||Ut.checked===void 0)return!1;Ut.checked=kt[Tt._const.newValue];break;case Tt._const.modifySelected:if(!Ut||Ut.selected===void 0)return!1;Ut.selected=kt[Tt._const.newValue];break;case Tt._const.replaceElement:Ut.parentNode.replaceChild(gt(kt[Tt._const.newValue],kt[Tt._const.newValue].nodeName.toLowerCase()==="svg",Tt),Ut);break;case Tt._const.relocateGroup:Array.apply(void 0,new Array(kt[Tt._const.groupLength])).map(function(){return Ut.removeChild(Ut.childNodes[kt[Tt._const.from]])}).forEach(function(Si,yn){yn===0&&(Pe=Ut.childNodes[kt[Tt._const.to]]),Ut.insertBefore(Si,Pe||null)});break;case Tt._const.removeElement:Ut.parentNode.removeChild(Ut);break;case Tt._const.addElement:var Fe=(Qn=Ee.slice()).splice(Qn.length-1,1)[0];if(!((Ut=ft(Rt,Qn))instanceof Element))return!1;Ut.insertBefore(gt(kt[Tt._const.element],Ut.namespaceURI==="http://www.w3.org/2000/svg",Tt),Ut.childNodes[Fe]||null);break;case Tt._const.removeTextElement:if(!Ut||Ut.nodeType!==3)return!1;Ut.parentNode.removeChild(Ut);break;case Tt._const.addTextElement:var Qn;if(Fe=(Qn=Ee.slice()).splice(Qn.length-1,1)[0],ve=Tt.document.createTextNode(kt[Tt._const.value]),!(Ut=ft(Rt,Qn)).childNodes)return!1;Ut.insertBefore(ve,Ut.childNodes[Fe]||null);break;default:console.log("unknown action")}return Tt.postDiffApply({diff:Ne.diff,node:Ne.node,newNode:ve}),!0}function Mt(Rt,kt,Tt){var Ut=Rt[kt];Rt[kt]=Rt[Tt],Rt[Tt]=Ut}var Ct=function(Rt){var kt=[];return kt.push(Rt.nodeName),Rt.nodeName!=="#text"&&Rt.nodeName!=="#comment"&&Rt.attributes&&(Rt.attributes.class&&kt.push("".concat(Rt.nodeName,".").concat(Rt.attributes.class.replace(/ /g,"."))),Rt.attributes.id&&kt.push("".concat(Rt.nodeName,"#").concat(Rt.attributes.id))),kt},ct=function(Rt){var kt={},Tt={};return Rt.forEach(function(Ut){Ct(Ut).forEach(function(ve){var Pe=ve in kt;Pe||ve in Tt?Pe&&(delete kt[ve],Tt[ve]=!0):kt[ve]=!0})}),kt},te=function(Rt,kt){var Tt=ct(Rt),Ut=ct(kt),ve={};return Object.keys(Tt).forEach(function(Pe){Ut[Pe]&&(ve[Pe]=!0)}),ve},At=function(Rt){return delete Rt.outerDone,delete Rt.innerDone,delete Rt.valueDone,!Rt.childNodes||Rt.childNodes.every(At)},Ft=function(Rt){if(Object.prototype.hasOwnProperty.call(Rt,"data"))return{nodeName:Rt.nodeName==="#text"?"#text":"#comment",data:Rt.data};var kt={nodeName:Rt.nodeName};return Object.prototype.hasOwnProperty.call(Rt,"attributes")&&(kt.attributes=Rt.attributes),Object.prototype.hasOwnProperty.call(Rt,"checked")&&(kt.checked=Rt.checked),Object.prototype.hasOwnProperty.call(Rt,"value")&&(kt.value=Rt.value),Object.prototype.hasOwnProperty.call(Rt,"selected")&&(kt.selected=Rt.selected),Object.prototype.hasOwnProperty.call(Rt,"childNodes")&&(kt.childNodes=Rt.childNodes.map(function(Tt){return Ft(Tt)})),kt},Kt=function(Rt,kt){if(!["nodeName","value","checked","selected","data"].every(function(ve){return Rt[ve]===kt[ve]}))return!1;if(Object.prototype.hasOwnProperty.call(Rt,"data"))return!0;if(!!Rt.attributes!=!!kt.attributes||!!Rt.childNodes!=!!kt.childNodes)return!1;if(Rt.attributes){var Tt=Object.keys(Rt.attributes),Ut=Object.keys(kt.attributes);if(Tt.length!==Ut.length||!Tt.every(function(ve){return Rt.attributes[ve]===kt.attributes[ve]}))return!1}return!(Rt.childNodes&&(Rt.childNodes.length!==kt.childNodes.length||!Rt.childNodes.every(function(ve,Pe){return Kt(ve,kt.childNodes[Pe])})))},se=function(Rt,kt,Tt,Ut,ve){if(ve===void 0&&(ve=!1),!Rt||!kt||Rt.nodeName!==kt.nodeName)return!1;if(["#text","#comment"].includes(Rt.nodeName))return!!ve||Rt.data===kt.data;if(Rt.nodeName in Tt)return!0;if(Rt.attributes&&kt.attributes){if(Rt.attributes.id){if(Rt.attributes.id!==kt.attributes.id)return!1;if("".concat(Rt.nodeName,"#").concat(Rt.attributes.id)in Tt)return!0}if(Rt.attributes.class&&Rt.attributes.class===kt.attributes.class&&"".concat(Rt.nodeName,".").concat(Rt.attributes.class.replace(/ /g,"."))in Tt)return!0}if(Ut)return!0;var Pe=Rt.childNodes?Rt.childNodes.slice().reverse():[],Te=kt.childNodes?kt.childNodes.slice().reverse():[];if(Pe.length!==Te.length)return!1;if(ve)return Pe.every(function(Ne,Fe){return Ne.nodeName===Te[Fe].nodeName});var Ee=te(Pe,Te);return Pe.every(function(Ne,Fe){return se(Ne,Te[Fe],Ee,!0,!0)})},Me=function(Rt,kt){return Array.apply(void 0,new Array(Rt)).map(function(){return kt})},fe=function(Rt,kt){for(var Tt=Rt.childNodes?Rt.childNodes:[],Ut=kt.childNodes?kt.childNodes:[],ve=Me(Tt.length,!1),Pe=Me(Ut.length,!1),Te=[],Ee=function(){return arguments[1]},Ne=!1,Fe=function(){var Qn=function(Si,yn,jn,Ln){var xi=0,vn=[],En=Si.length,gn=yn.length,Di=Array.apply(void 0,new Array(En+1)).map(function(){return[]}),ar=te(Si,yn),Ni=En===gn;Ni&&Si.some(function(mr,Oi){var ei=Ct(mr),Jn=Ct(yn[Oi]);return ei.length!==Jn.length?(Ni=!1,!0):(ei.some(function(rr,mi){if(rr!==Jn[mi])return Ni=!1,!0}),!Ni||void 0)});for(var Ji=0;Ji<En;Ji++)for(var ir=Si[Ji],Bi=0;Bi<gn;Bi++){var yr=yn[Bi];jn[Ji]||Ln[Bi]||!se(ir,yr,ar,Ni)?Di[Ji+1][Bi+1]=0:(Di[Ji+1][Bi+1]=Di[Ji][Bi]?Di[Ji][Bi]+1:1,Di[Ji+1][Bi+1]>=xi&&(xi=Di[Ji+1][Bi+1],vn=[Ji+1,Bi+1]))}return xi!==0&&{oldValue:vn[0]-xi,newValue:vn[1]-xi,length:xi}}(Tt,Ut,ve,Pe);Qn?(Te.push(Qn),Array.apply(void 0,new Array(Qn.length)).map(Ee).forEach(function(Si){return function(yn,jn,Ln,xi){yn[Ln.oldValue+xi]=!0,jn[Ln.newValue+xi]=!0}(ve,Pe,Qn,Si)})):Ne=!0};!Ne;)Fe();return Rt.subsets=Te,Rt.subsetsAge=100,Te},ne=function(){function Rt(){this.list=[]}return Rt.prototype.add=function(kt){var Tt;(Tt=this.list).push.apply(Tt,kt)},Rt.prototype.forEach=function(kt){this.list.forEach(function(Tt){return kt(Tt)})},Rt}(),Ht=function(){function Rt(kt){kt===void 0&&(kt={});var Tt=this;Object.entries(kt).forEach(function(Ut){var ve=Ut[0],Pe=Ut[1];return Tt[ve]=Pe})}return Rt.prototype.toString=function(){return JSON.stringify(this)},Rt.prototype.setValue=function(kt,Tt){return this[kt]=Tt,this},Rt}();function Gt(Rt,kt){var Tt,Ut,ve=Rt;for(kt=kt.slice();kt.length>0;)Ut=kt.splice(0,1)[0],Tt=ve,ve=ve.childNodes?ve.childNodes[Ut]:void 0;return{node:ve,parentNode:Tt,nodeIndex:Ut}}function ie(Rt,kt,Tt){return kt.forEach(function(Ut){(function(ve,Pe,Te){var Ee,Ne,Fe,Qn;if(![Te._const.addElement,Te._const.addTextElement].includes(Pe[Te._const.action])){var Si=Gt(ve,Pe[Te._const.route]);Ne=Si.node,Fe=Si.parentNode,Qn=Si.nodeIndex}var yn,jn,Ln=[],xi={diff:Pe,node:Ne};if(Te.preVirtualDiffApply(xi))return!0;switch(Pe[Te._const.action]){case Te._const.addAttribute:Ne.attributes||(Ne.attributes={}),Ne.attributes[Pe[Te._const.name]]=Pe[Te._const.value],Pe[Te._const.name]==="checked"?Ne.checked=!0:Pe[Te._const.name]==="selected"?Ne.selected=!0:Ne.nodeName==="INPUT"&&Pe[Te._const.name]==="value"&&(Ne.value=Pe[Te._const.value]);break;case Te._const.modifyAttribute:Ne.attributes[Pe[Te._const.name]]=Pe[Te._const.newValue];break;case Te._const.removeAttribute:delete Ne.attributes[Pe[Te._const.name]],Object.keys(Ne.attributes).length===0&&delete Ne.attributes,Pe[Te._const.name]==="checked"?Ne.checked=!1:Pe[Te._const.name]==="selected"?delete Ne.selected:Ne.nodeName==="INPUT"&&Pe[Te._const.name]==="value"&&delete Ne.value;break;case Te._const.modifyTextElement:Ne.data=Pe[Te._const.newValue];break;case Te._const.modifyValue:Ne.value=Pe[Te._const.newValue];break;case Te._const.modifyComment:Ne.data=Pe[Te._const.newValue];break;case Te._const.modifyChecked:Ne.checked=Pe[Te._const.newValue];break;case Te._const.modifySelected:Ne.selected=Pe[Te._const.newValue];break;case Te._const.replaceElement:yn=Pe[Te._const.newValue],Fe.childNodes[Qn]=yn;break;case Te._const.relocateGroup:Ne.childNodes.splice(Pe[Te._const.from],Pe[Te._const.groupLength]).reverse().forEach(function(gn){return Ne.childNodes.splice(Pe[Te._const.to],0,gn)}),Ne.subsets&&Ne.subsets.forEach(function(gn){if(Pe[Te._const.from]<Pe[Te._const.to]&&gn.oldValue<=Pe[Te._const.to]&&gn.oldValue>Pe[Te._const.from])gn.oldValue-=Pe[Te._const.groupLength],(Di=gn.oldValue+gn.length-Pe[Te._const.to])>0&&(Ln.push({oldValue:Pe[Te._const.to]+Pe[Te._const.groupLength],newValue:gn.newValue+gn.length-Di,length:Di}),gn.length-=Di);else if(Pe[Te._const.from]>Pe[Te._const.to]&&gn.oldValue>Pe[Te._const.to]&&gn.oldValue<Pe[Te._const.from]){var Di;gn.oldValue+=Pe[Te._const.groupLength],(Di=gn.oldValue+gn.length-Pe[Te._const.to])>0&&(Ln.push({oldValue:Pe[Te._const.to]+Pe[Te._const.groupLength],newValue:gn.newValue+gn.length-Di,length:Di}),gn.length-=Di)}else gn.oldValue===Pe[Te._const.from]&&(gn.oldValue=Pe[Te._const.to])});break;case Te._const.removeElement:Fe.childNodes.splice(Qn,1),Fe.subsets&&Fe.subsets.forEach(function(gn){gn.oldValue>Qn?gn.oldValue-=1:gn.oldValue===Qn?gn.delete=!0:gn.oldValue<Qn&&gn.oldValue+gn.length>Qn&&(gn.oldValue+gn.length-1===Qn?gn.length--:(Ln.push({newValue:gn.newValue+Qn-gn.oldValue,oldValue:Qn,length:gn.length-Qn+gn.oldValue-1}),gn.length=Qn-gn.oldValue))}),Ne=Fe;break;case Te._const.addElement:var vn=(jn=Pe[Te._const.route].slice()).splice(jn.length-1,1)[0];Ne=(Ee=Gt(ve,jn))===null||Ee===void 0?void 0:Ee.node,yn=Pe[Te._const.element],Ne.childNodes||(Ne.childNodes=[]),vn>=Ne.childNodes.length?Ne.childNodes.push(yn):Ne.childNodes.splice(vn,0,yn),Ne.subsets&&Ne.subsets.forEach(function(gn){if(gn.oldValue>=vn)gn.oldValue+=1;else if(gn.oldValue<vn&&gn.oldValue+gn.length>vn){var Di=gn.oldValue+gn.length-vn;Ln.push({newValue:gn.newValue+gn.length-Di,oldValue:vn+1,length:Di}),gn.length-=Di}});break;case Te._const.removeTextElement:Fe.childNodes.splice(Qn,1),Fe.nodeName==="TEXTAREA"&&delete Fe.value,Fe.subsets&&Fe.subsets.forEach(function(gn){gn.oldValue>Qn?gn.oldValue-=1:gn.oldValue===Qn?gn.delete=!0:gn.oldValue<Qn&&gn.oldValue+gn.length>Qn&&(gn.oldValue+gn.length-1===Qn?gn.length--:(Ln.push({newValue:gn.newValue+Qn-gn.oldValue,oldValue:Qn,length:gn.length-Qn+gn.oldValue-1}),gn.length=Qn-gn.oldValue))}),Ne=Fe;break;case Te._const.addTextElement:var En=(jn=Pe[Te._const.route].slice()).splice(jn.length-1,1)[0];(yn={}).nodeName="#text",yn.data=Pe[Te._const.value],(Ne=Gt(ve,jn).node).childNodes||(Ne.childNodes=[]),En>=Ne.childNodes.length?Ne.childNodes.push(yn):Ne.childNodes.splice(En,0,yn),Ne.nodeName==="TEXTAREA"&&(Ne.value=Pe[Te._const.newValue]),Ne.subsets&&Ne.subsets.forEach(function(gn){if(gn.oldValue>=En&&(gn.oldValue+=1),gn.oldValue<En&&gn.oldValue+gn.length>En){var Di=gn.oldValue+gn.length-En;Ln.push({newValue:gn.newValue+gn.length-Di,oldValue:En+1,length:Di}),gn.length-=Di}});break;default:console.log("unknown action")}Ne.subsets&&(Ne.subsets=Ne.subsets.filter(function(gn){return!gn.delete&&gn.oldValue!==gn.newValue}),Ln.length&&(Ne.subsets=Ne.subsets.concat(Ln))),Te.postVirtualDiffApply({node:xi.node,diff:xi.diff,newNode:yn})})(Rt,Ut,Tt)}),!0}function Le(Rt,kt){kt===void 0&&(kt={});var Tt={nodeName:Rt.nodeName};return Rt instanceof Text||Rt instanceof Comment?Tt.data=Rt.data:(Rt.attributes&&Rt.attributes.length>0&&(Tt.attributes={},Array.prototype.slice.call(Rt.attributes).forEach(function(Ut){return Tt.attributes[Ut.name]=Ut.value})),Rt instanceof HTMLTextAreaElement?Tt.value=Rt.value:Rt.childNodes&&Rt.childNodes.length>0&&(Tt.childNodes=[],Array.prototype.slice.call(Rt.childNodes).forEach(function(Ut){return Tt.childNodes.push(Le(Ut,kt))})),kt.valueDiffing&&(Rt instanceof HTMLInputElement&&["radio","checkbox"].includes(Rt.type.toLowerCase())&&Rt.checked!==void 0?Tt.checked=Rt.checked:(Rt instanceof HTMLButtonElement||Rt instanceof HTMLDataElement||Rt instanceof HTMLInputElement||Rt instanceof HTMLLIElement||Rt instanceof HTMLMeterElement||Rt instanceof HTMLOptionElement||Rt instanceof HTMLProgressElement||Rt instanceof HTMLParamElement)&&(Tt.value=Rt.value),Rt instanceof HTMLOptionElement&&(Tt.selected=Rt.selected))),Tt}var pe=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,De=Object.create?Object.create(null):{},Bn=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function rn(Rt){return Rt.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var ln={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},oe=function(Rt){var kt={nodeName:"",attributes:{}},Tt=!1,Ut=Rt.match(/<\/?([^\s]+?)[/\s>]/);if(Ut&&(kt.nodeName=Ut[1].toUpperCase(),(ln[Ut[1]]||Rt.charAt(Rt.length-2)==="/")&&(Tt=!0),kt.nodeName.startsWith("!--"))){var ve=Rt.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:ve!==-1?Rt.slice(4,ve):""},voidElement:Tt}}for(var Pe=new RegExp(Bn),Te=null,Ee=!1;!Ee;)if((Te=Pe.exec(Rt))===null)Ee=!0;else if(Te[0].trim())if(Te[1]){var Ne=Te[1].trim(),Fe=[Ne,""];Ne.indexOf("=")>-1&&(Fe=Ne.split("=")),kt.attributes[Fe[0]]=Fe[1],Pe.lastIndex--}else Te[2]&&(kt.attributes[Te[2]]=Te[3].trim().substring(1,Te[3].length-1));return{type:"tag",node:kt,voidElement:Tt}},Oe=function(Rt,kt){kt===void 0&&(kt={components:De});var Tt,Ut=[],ve=-1,Pe=[],Te=!1;if(Rt.indexOf("<")!==0){var Ee=Rt.indexOf("<");Ut.push({nodeName:"#text",data:Ee===-1?Rt:Rt.substring(0,Ee)})}return Rt.replace(pe,function(Ne,Fe){if(Te){if(Ne!=="</".concat(Tt.node.nodeName,">"))return"";Te=!1}var Qn=Ne.charAt(1)!=="/",Si=Ne.startsWith("<!--"),yn=Fe+Ne.length,jn=Rt.charAt(yn);if(Si){var Ln=oe(Ne).node;if(ve<0)return Ut.push(Ln),"";var xi=Pe[ve];return xi&&Ln.nodeName&&(xi.node.childNodes||(xi.node.childNodes=[]),xi.node.childNodes.push(Ln)),""}if(Qn){Tt=oe(Ne),ve++,Tt.type==="tag"&&kt.components[Tt.node.nodeName]&&(Tt.type="component",Te=!0),Tt.voidElement||Te||!jn||jn==="<"||(Tt.node.childNodes||(Tt.node.childNodes=[]),Tt.node.childNodes.push({nodeName:"#text",data:rn(Rt.slice(yn,Rt.indexOf("<",yn)))})),ve===0&&Tt.node.nodeName&&Ut.push(Tt.node);var vn=Pe[ve-1];vn&&Tt.node.nodeName&&(vn.node.childNodes||(vn.node.childNodes=[]),vn.node.childNodes.push(Tt.node)),Pe[ve]=Tt}if((!Qn||Tt.voidElement)&&(ve>-1&&(Tt.voidElement||Tt.node.nodeName===Ne.slice(2,-1).toUpperCase())&&--ve>-1&&(Tt=Pe[ve]),!Te&&jn!=="<"&&jn)){var En=ve===-1?Ut:Pe[ve].node.childNodes||[],gn=Rt.indexOf("<",yn),Di=rn(Rt.slice(yn,gn===-1?void 0:gn));En.push({nodeName:"#text",data:Di})}return""}),Ut[0]},U=function(){function Rt(kt,Tt,Ut){this.options=Ut,this.t1=typeof Element<"u"&&kt instanceof Element?Le(kt,this.options):typeof kt=="string"?Oe(kt,this.options):JSON.parse(JSON.stringify(kt)),this.t2=typeof Element<"u"&&Tt instanceof Element?Le(Tt,this.options):typeof Tt=="string"?Oe(Tt,this.options):JSON.parse(JSON.stringify(Tt)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&kt instanceof Element?Le(kt,this.options):typeof kt=="string"?Oe(kt,this.options):JSON.parse(JSON.stringify(kt)),this.t2Orig=typeof Element<"u"&&Tt instanceof Element?Le(Tt,this.options):typeof Tt=="string"?Oe(Tt,this.options):JSON.parse(JSON.stringify(Tt))),this.tracker=new ne}return Rt.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},Rt.prototype.findDiffs=function(kt,Tt){var Ut;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(Ut=this.findNextDiff(kt,Tt,[])).length===0&&(Kt(kt,Tt)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,At(kt),Ut=this.findNextDiff(kt,Tt,[])))),Ut.length>0&&(this.foundAll=!1,this.tracker.add(Ut),ie(kt,Ut,this.options))}while(Ut.length>0);return this.tracker.list},Rt.prototype.findNextDiff=function(kt,Tt,Ut){var ve,Pe;if(this.options.maxDepth&&Ut.length>this.options.maxDepth)return[];if(!kt.outerDone){if(ve=this.findOuterDiff(kt,Tt,Ut),this.options.filterOuterDiff&&(Pe=this.options.filterOuterDiff(kt,Tt,ve))&&(ve=Pe),ve.length>0)return kt.outerDone=!0,ve;kt.outerDone=!0}if(Object.prototype.hasOwnProperty.call(kt,"data"))return[];if(!kt.innerDone){if((ve=this.findInnerDiff(kt,Tt,Ut)).length>0)return ve;kt.innerDone=!0}if(this.options.valueDiffing&&!kt.valueDone){if((ve=this.findValueDiff(kt,Tt,Ut)).length>0)return kt.valueDone=!0,ve;kt.valueDone=!0}return[]},Rt.prototype.findOuterDiff=function(kt,Tt,Ut){var ve,Pe,Te,Ee,Ne,Fe,Qn=[];if(kt.nodeName!==Tt.nodeName){if(!Ut.length)throw new Error("Top level nodes have to be of the same kind.");return[new Ht().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Ft(kt)).setValue(this.options._const.newValue,Ft(Tt)).setValue(this.options._const.route,Ut)]}if(Ut.length&&this.options.diffcap<Math.abs((kt.childNodes||[]).length-(Tt.childNodes||[]).length))return[new Ht().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Ft(kt)).setValue(this.options._const.newValue,Ft(Tt)).setValue(this.options._const.route,Ut)];if(Object.prototype.hasOwnProperty.call(kt,"data")&&kt.data!==Tt.data)return kt.nodeName==="#text"?[new Ht().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,Ut).setValue(this.options._const.oldValue,kt.data).setValue(this.options._const.newValue,Tt.data)]:[new Ht().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,Ut).setValue(this.options._const.oldValue,kt.data).setValue(this.options._const.newValue,Tt.data)];for(Pe=kt.attributes?Object.keys(kt.attributes).sort():[],Te=Tt.attributes?Object.keys(Tt.attributes).sort():[],Ee=Pe.length,Fe=0;Fe<Ee;Fe++)ve=Pe[Fe],(Ne=Te.indexOf(ve))===-1?Qn.push(new Ht().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,Ut).setValue(this.options._const.name,ve).setValue(this.options._const.value,kt.attributes[ve])):(Te.splice(Ne,1),kt.attributes[ve]!==Tt.attributes[ve]&&Qn.push(new Ht().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,Ut).setValue(this.options._const.name,ve).setValue(this.options._const.oldValue,kt.attributes[ve]).setValue(this.options._const.newValue,Tt.attributes[ve])));for(Ee=Te.length,Fe=0;Fe<Ee;Fe++)ve=Te[Fe],Qn.push(new Ht().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,Ut).setValue(this.options._const.name,ve).setValue(this.options._const.value,Tt.attributes[ve]));return Qn},Rt.prototype.findInnerDiff=function(kt,Tt,Ut){var ve=kt.childNodes?kt.childNodes.slice():[],Pe=Tt.childNodes?Tt.childNodes.slice():[],Te=Math.max(ve.length,Pe.length),Ee=Math.abs(ve.length-Pe.length),Ne=[],Fe=0;if(!this.options.maxChildCount||Te<this.options.maxChildCount){var Qn=!!(kt.subsets&&kt.subsetsAge--),Si=Qn?kt.subsets:kt.childNodes&&Tt.childNodes?fe(kt,Tt):[];if(Si.length>0&&(Ne=this.attemptGroupRelocation(kt,Tt,Si,Ut,Qn)).length>0)return Ne}for(var yn=0;yn<Te;yn+=1){var jn=ve[yn],Ln=Pe[yn];if(Ee&&(jn&&!Ln?jn.nodeName==="#text"?(Ne.push(new Ht().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,Ut.concat(Fe)).setValue(this.options._const.value,jn.data)),Fe-=1):(Ne.push(new Ht().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,Ut.concat(Fe)).setValue(this.options._const.element,Ft(jn))),Fe-=1):Ln&&!jn&&(Ln.nodeName==="#text"?Ne.push(new Ht().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,Ut.concat(Fe)).setValue(this.options._const.value,Ln.data)):Ne.push(new Ht().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,Ut.concat(Fe)).setValue(this.options._const.element,Ft(Ln))))),jn&&Ln){if(!this.options.maxChildCount||Te<this.options.maxChildCount)Ne=Ne.concat(this.findNextDiff(jn,Ln,Ut.concat(Fe)));else if(!Kt(jn,Ln))if(ve.length>Pe.length)jn.nodeName==="#text"?Ne.push(new Ht().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,Ut.concat(Fe)).setValue(this.options._const.value,jn.data)):Ne.push(new Ht().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,Ft(jn)).setValue(this.options._const.route,Ut.concat(Fe))),ve.splice(yn,1),yn-=1,Fe-=1,Ee-=1;else if(ve.length<Pe.length){var xi=Ft(Ln);Ne=Ne.concat([new Ht().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,xi).setValue(this.options._const.route,Ut.concat(Fe))]),ve.splice(yn,0,xi),Ee-=1}else Ne=Ne.concat([new Ht().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Ft(jn)).setValue(this.options._const.newValue,Ft(Ln)).setValue(this.options._const.route,Ut.concat(Fe))])}Fe+=1}return kt.innerDone=!0,Ne},Rt.prototype.attemptGroupRelocation=function(kt,Tt,Ut,ve,Pe){for(var Te,Ee,Ne,Fe,Qn,Si,yn=function(ar,Ni,Ji){var ir=ar.childNodes?Me(ar.childNodes.length,!0):[],Bi=Ni.childNodes?Me(Ni.childNodes.length,!0):[],yr=0;return Ji.forEach(function(mr){for(var Oi=mr.oldValue+mr.length,ei=mr.newValue+mr.length,Jn=mr.oldValue;Jn<Oi;Jn+=1)ir[Jn]=yr;for(Jn=mr.newValue;Jn<ei;Jn+=1)Bi[Jn]=yr;yr+=1}),{gaps1:ir,gaps2:Bi}}(kt,Tt,Ut),jn=yn.gaps1,Ln=yn.gaps2,xi=Math.min(jn.length,Ln.length),vn=[],En=0,gn=0;En<xi;gn+=1,En+=1)if(!Pe||jn[En]!==!0&&Ln[En]!==!0){if(jn[En]===!0)if((Fe=kt.childNodes[gn]).nodeName==="#text")if(Tt.childNodes[En].nodeName==="#text"){if(Fe.data!==Tt.childNodes[En].data){for(Si=gn;kt.childNodes.length>Si+1&&kt.childNodes[Si+1].nodeName==="#text";)if(Si+=1,Tt.childNodes[En].data===kt.childNodes[Si].data){Qn=!0;break}if(!Qn)return vn.push(new Ht().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,ve.concat(En)).setValue(this.options._const.oldValue,Fe.data).setValue(this.options._const.newValue,Tt.childNodes[En].data)),vn}}else vn.push(new Ht().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,ve.concat(En)).setValue(this.options._const.value,Fe.data)),jn.splice(En,1),xi=Math.min(jn.length,Ln.length),En-=1;else vn.push(new Ht().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,ve.concat(En)).setValue(this.options._const.element,Ft(Fe))),jn.splice(En,1),xi=Math.min(jn.length,Ln.length),En-=1;else if(Ln[En]===!0)(Fe=Tt.childNodes[En]).nodeName==="#text"?(vn.push(new Ht().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,ve.concat(En)).setValue(this.options._const.value,Fe.data)),jn.splice(En,0,!0),xi=Math.min(jn.length,Ln.length),gn-=1):(vn.push(new Ht().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,ve.concat(En)).setValue(this.options._const.element,Ft(Fe))),jn.splice(En,0,!0),xi=Math.min(jn.length,Ln.length),gn-=1);else if(jn[En]!==Ln[En]){if(vn.length>0)return vn;if(Ne=Ut[jn[En]],(Ee=Math.min(Ne.newValue,kt.childNodes.length-Ne.length))!==Ne.oldValue){Te=!1;for(var Di=0;Di<Ne.length;Di+=1)se(kt.childNodes[Ee+Di],kt.childNodes[Ne.oldValue+Di],{},!1,!0)||(Te=!0);if(Te)return[new Ht().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,Ne.length).setValue(this.options._const.from,Ne.oldValue).setValue(this.options._const.to,Ee).setValue(this.options._const.route,ve)]}}}return vn},Rt.prototype.findValueDiff=function(kt,Tt,Ut){var ve=[];return kt.selected!==Tt.selected&&ve.push(new Ht().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,kt.selected).setValue(this.options._const.newValue,Tt.selected).setValue(this.options._const.route,Ut)),(kt.value||Tt.value)&&kt.value!==Tt.value&&kt.nodeName!=="OPTION"&&ve.push(new Ht().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,kt.value||"").setValue(this.options._const.newValue,Tt.value||"").setValue(this.options._const.route,Ut)),kt.checked!==Tt.checked&&ve.push(new Ht().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,kt.checked).setValue(this.options._const.newValue,Tt.checked).setValue(this.options._const.route,Ut)),ve},Rt}(),ye={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(Rt,kt,Tt,Ut){Rt.data=Ut},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},cn=function(){function Rt(kt){if(kt===void 0&&(kt={}),Object.entries(ye).forEach(function(ve){var Pe=ve[0],Te=ve[1];Object.prototype.hasOwnProperty.call(kt,Pe)||(kt[Pe]=Te)}),!kt._const){var Tt=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],Ut={};kt.compress?Tt.forEach(function(ve,Pe){return Ut[ve]=Pe}):Tt.forEach(function(ve){return Ut[ve]=ve}),kt._const=Ut}this.options=kt}return Rt.prototype.apply=function(kt,Tt){return function(Ut,ve,Pe){return ve.every(function(Te){return It(Ut,Te,Pe)})}(kt,Tt,this.options)},Rt.prototype.undo=function(kt,Tt){return function(Ut,ve,Pe){(ve=ve.slice()).reverse(),ve.forEach(function(Te){(function(Ee,Ne,Fe){switch(Ne[Fe._const.action]){case Fe._const.addAttribute:Ne[Fe._const.action]=Fe._const.removeAttribute,It(Ee,Ne,Fe);break;case Fe._const.modifyAttribute:Mt(Ne,Fe._const.oldValue,Fe._const.newValue),It(Ee,Ne,Fe);break;case Fe._const.removeAttribute:Ne[Fe._const.action]=Fe._const.addAttribute,It(Ee,Ne,Fe);break;case Fe._const.modifyTextElement:case Fe._const.modifyValue:case Fe._const.modifyComment:case Fe._const.modifyChecked:case Fe._const.modifySelected:case Fe._const.replaceElement:Mt(Ne,Fe._const.oldValue,Fe._const.newValue),It(Ee,Ne,Fe);break;case Fe._const.relocateGroup:Mt(Ne,Fe._const.from,Fe._const.to),It(Ee,Ne,Fe);break;case Fe._const.removeElement:Ne[Fe._const.action]=Fe._const.addElement,It(Ee,Ne,Fe);break;case Fe._const.addElement:Ne[Fe._const.action]=Fe._const.removeElement,It(Ee,Ne,Fe);break;case Fe._const.removeTextElement:Ne[Fe._const.action]=Fe._const.addTextElement,It(Ee,Ne,Fe);break;case Fe._const.addTextElement:Ne[Fe._const.action]=Fe._const.removeTextElement,It(Ee,Ne,Fe);break;default:console.log("unknown action")}})(Ut,Te,Pe)})}(kt,Tt,this.options)},Rt.prototype.diff=function(kt,Tt){return new U(kt,Tt,this.options).init()},Rt}();const $e=(Rt,kt,Tt,{classes:Ut,format:ve,hiddenHeader:Pe,sortable:Te,scrollY:Ee,type:Ne},{noColumnWidths:Fe,unhideHeader:Qn})=>({nodeName:"TR",childNodes:Rt.map((Si,yn)=>{const jn=kt[yn]||{type:Ne,format:ve,sortable:!0,searchable:!0};if(jn.hidden)return;const Ln={};if(jn.sortable&&Te&&(!Ee.length||Qn)&&(jn.filter?Ln["data-filterable"]="true":Ln["data-sortable"]="true"),jn.headerClass&&(Ln.class=jn.headerClass),Tt.sort&&Tt.sort.column===yn){const En=Tt.sort.dir==="asc"?Ut.ascending:Ut.descending;Ln.class=Ln.class?`${Ln.class} ${En}`:En,Ln["aria-sort"]=Tt.sort.dir==="asc"?"ascending":"descending"}else Tt.filters[yn]&&(Ln.class=Ln.class?`${Ln.class} ${Ut.filterActive}`:Ut.filterActive);let xi="";Tt.widths[yn]&&!Fe&&(xi+=`width: ${Tt.widths[yn]}%;`),Ee.length&&!Qn&&(xi+="padding-bottom: 0;padding-top: 0;border: 0;"),xi.length&&(Ln.style=xi),jn.headerClass&&(Ln.class=jn.headerClass);const vn=Si.type==="html"?Si.data:[{nodeName:"#text",data:Si.text??String(Si.data)}];return{nodeName:"TH",attributes:Ln,childNodes:!Pe&&!Ee.length||Qn?jn.sortable&&Te?[{nodeName:"a",attributes:{href:"#",class:jn.filter?Ut.filter:Ut.sorter},childNodes:vn}]:vn:[{nodeName:"#text",data:""}]}}).filter(Si=>Si)}),We=(Rt,kt,Tt,Ut,ve,Pe,{classes:Te,hiddenHeader:Ee,header:Ne,footer:Fe,format:Qn,sortable:Si,scrollY:yn,type:jn,rowRender:Ln,tabIndex:xi},{noColumnWidths:vn,unhideHeader:En,renderHeader:gn})=>{const Di={nodeName:"TABLE",attributes:{...Rt},childNodes:[{nodeName:"TBODY",childNodes:Tt.map(({row:ar,index:Ni})=>{const Ji={nodeName:"TR",attributes:{"data-index":String(Ni)},childNodes:ar.map((ir,Bi)=>{const yr=Ut[Bi]||{type:jn,format:Qn,sortable:!0,searchable:!0};if(yr.hidden)return;const mr=yr.type==="html"?{nodeName:"TD",childNodes:ir.data}:{nodeName:"TD",childNodes:[{nodeName:"#text",data:ir.text??String(ir.data)}]};if(Ne||Fe||!ve.widths[Bi]||vn||(mr.attributes={style:`width: ${ve.widths[Bi]}%;`}),yr.cellClass&&(mr.attributes||(mr.attributes={}),mr.attributes.class=yr.cellClass),yr.render){const Oi=yr.render(ir.data,mr,Ni,Bi);if(Oi){if(typeof Oi!="string")return Oi;{const ei=Oe(`<td>${Oi}</td>`);ei.childNodes.length===1&&["#text","#comment"].includes(ei.childNodes[0].nodeName)?mr.childNodes[0].data=Oi:mr.childNodes=ei.childNodes}}}return mr}).filter(ir=>ir)};if(Ni===Pe&&(Ji.attributes.class=Te.cursor),Ln){const ir=Ln(ar,Ji,Ni);if(ir){if(typeof ir!="string")return ir;{const Bi=Oe(`<tr>${ir}</tr>`);!Bi.childNodes||Bi.childNodes.length===1&&["#text","#comment"].includes(Bi.childNodes[0].nodeName)?Ji.childNodes[0].data=ir:Ji.childNodes=Bi.childNodes}}}return Ji})}]};if(Di.attributes.class=Di.attributes.class?`${Di.attributes.class} ${Te.table}`:Te.table,Ne||Fe||gn){const ar=$e(kt,Ut,ve,{classes:Te,hiddenHeader:Ee,sortable:Si,scrollY:yn},{noColumnWidths:vn,unhideHeader:En});if(Ne||gn){const Ni={nodeName:"THEAD",childNodes:[ar]};!yn.length&&!Ee||En||(Ni.attributes={style:"height: 0px;"}),Di.childNodes.unshift(Ni)}if(Fe){const Ni={nodeName:"TFOOT",childNodes:[Ne?structuredClone(ar):ar]};!yn.length&&!Ee||En||(Ni.attributes={style:"height: 0px;"}),Di.childNodes.push(Ni)}}return xi!==!1&&(Di.attributes.tabindex=String(xi)),Di};var Re={},Be={get exports(){return Re},set exports(Rt){Re=Rt}};Be.exports=function(){var Rt=1e3,kt=6e4,Tt=36e5,Ut="millisecond",ve="second",Pe="minute",Te="hour",Ee="day",Ne="week",Fe="month",Qn="quarter",Si="year",yn="date",jn="Invalid Date",Ln=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,xi=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,vn={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Oi){var ei=["th","st","nd","rd"],Jn=Oi%100;return"["+Oi+(ei[(Jn-20)%10]||ei[Jn]||ei[0])+"]"}},En=function(Oi,ei,Jn){var rr=String(Oi);return!rr||rr.length>=ei?Oi:""+Array(ei+1-rr.length).join(Jn)+Oi},gn={s:En,z:function(Oi){var ei=-Oi.utcOffset(),Jn=Math.abs(ei),rr=Math.floor(Jn/60),mi=Jn%60;return(ei<=0?"+":"-")+En(rr,2,"0")+":"+En(mi,2,"0")},m:function Oi(ei,Jn){if(ei.date()<Jn.date())return-Oi(Jn,ei);var rr=12*(Jn.year()-ei.year())+(Jn.month()-ei.month()),mi=ei.clone().add(rr,Fe),Hi=Jn-mi<0,Gi=ei.clone().add(rr+(Hi?-1:1),Fe);return+(-(rr+(Jn-mi)/(Hi?mi-Gi:Gi-mi))||0)},a:function(Oi){return Oi<0?Math.ceil(Oi)||0:Math.floor(Oi)},p:function(Oi){return{M:Fe,y:Si,w:Ne,d:Ee,D:yn,h:Te,m:Pe,s:ve,ms:Ut,Q:Qn}[Oi]||String(Oi||"").toLowerCase().replace(/s$/,"")},u:function(Oi){return Oi===void 0}},Di="en",ar={};ar[Di]=vn;var Ni=function(Oi){return Oi instanceof yr},Ji=function Oi(ei,Jn,rr){var mi;if(!ei)return Di;if(typeof ei=="string"){var Hi=ei.toLowerCase();ar[Hi]&&(mi=Hi),Jn&&(ar[Hi]=Jn,mi=Hi);var Gi=ei.split("-");if(!mi&&Gi.length>1)return Oi(Gi[0])}else{var sr=ei.name;ar[sr]=ei,mi=sr}return!rr&&mi&&(Di=mi),mi||!rr&&Di},ir=function(Oi,ei){if(Ni(Oi))return Oi.clone();var Jn=typeof ei=="object"?ei:{};return Jn.date=Oi,Jn.args=arguments,new yr(Jn)},Bi=gn;Bi.l=Ji,Bi.i=Ni,Bi.w=function(Oi,ei){return ir(Oi,{locale:ei.$L,utc:ei.$u,x:ei.$x,$offset:ei.$offset})};var yr=function(){function Oi(Jn){this.$L=Ji(Jn.locale,null,!0),this.parse(Jn)}var ei=Oi.prototype;return ei.parse=function(Jn){this.$d=function(rr){var mi=rr.date,Hi=rr.utc;if(mi===null)return new Date(NaN);if(Bi.u(mi))return new Date;if(mi instanceof Date)return new Date(mi);if(typeof mi=="string"&&!/Z$/i.test(mi)){var Gi=mi.match(Ln);if(Gi){var sr=Gi[2]-1||0,ur=(Gi[7]||"0").substring(0,3);return Hi?new Date(Date.UTC(Gi[1],sr,Gi[3]||1,Gi[4]||0,Gi[5]||0,Gi[6]||0,ur)):new Date(Gi[1],sr,Gi[3]||1,Gi[4]||0,Gi[5]||0,Gi[6]||0,ur)}}return new Date(mi)}(Jn),this.$x=Jn.x||{},this.init()},ei.init=function(){var Jn=this.$d;this.$y=Jn.getFullYear(),this.$M=Jn.getMonth(),this.$D=Jn.getDate(),this.$W=Jn.getDay(),this.$H=Jn.getHours(),this.$m=Jn.getMinutes(),this.$s=Jn.getSeconds(),this.$ms=Jn.getMilliseconds()},ei.$utils=function(){return Bi},ei.isValid=function(){return this.$d.toString()!==jn},ei.isSame=function(Jn,rr){var mi=ir(Jn);return this.startOf(rr)<=mi&&mi<=this.endOf(rr)},ei.isAfter=function(Jn,rr){return ir(Jn)<this.startOf(rr)},ei.isBefore=function(Jn,rr){return this.endOf(rr)<ir(Jn)},ei.$g=function(Jn,rr,mi){return Bi.u(Jn)?this[rr]:this.set(mi,Jn)},ei.unix=function(){return Math.floor(this.valueOf()/1e3)},ei.valueOf=function(){return this.$d.getTime()},ei.startOf=function(Jn,rr){var mi=this,Hi=!!Bi.u(rr)||rr,Gi=Bi.p(Jn),sr=function(y,C){var M=Bi.w(mi.$u?Date.UTC(mi.$y,C,y):new Date(mi.$y,C,y),mi);return Hi?M:M.endOf(Ee)},ur=function(y,C){return Bi.w(mi.toDate()[y].apply(mi.toDate("s"),(Hi?[0,0,0,0]:[23,59,59,999]).slice(C)),mi)},er=this.$W,Jr=this.$M,Or=this.$D,$t="set"+(this.$u?"UTC":"");switch(Gi){case Si:return Hi?sr(1,0):sr(31,11);case Fe:return Hi?sr(1,Jr):sr(0,Jr+1);case Ne:var h=this.$locale().weekStart||0,d=(er<h?er+7:er)-h;return sr(Hi?Or-d:Or+(6-d),Jr);case Ee:case yn:return ur($t+"Hours",0);case Te:return ur($t+"Minutes",1);case Pe:return ur($t+"Seconds",2);case ve:return ur($t+"Milliseconds",3);default:return this.clone()}},ei.endOf=function(Jn){return this.startOf(Jn,!1)},ei.$set=function(Jn,rr){var mi,Hi=Bi.p(Jn),Gi="set"+(this.$u?"UTC":""),sr=(mi={},mi[Ee]=Gi+"Date",mi[yn]=Gi+"Date",mi[Fe]=Gi+"Month",mi[Si]=Gi+"FullYear",mi[Te]=Gi+"Hours",mi[Pe]=Gi+"Minutes",mi[ve]=Gi+"Seconds",mi[Ut]=Gi+"Milliseconds",mi)[Hi],ur=Hi===Ee?this.$D+(rr-this.$W):rr;if(Hi===Fe||Hi===Si){var er=this.clone().set(yn,1);er.$d[sr](ur),er.init(),this.$d=er.set(yn,Math.min(this.$D,er.daysInMonth())).$d}else sr&&this.$d[sr](ur);return this.init(),this},ei.set=function(Jn,rr){return this.clone().$set(Jn,rr)},ei.get=function(Jn){return this[Bi.p(Jn)]()},ei.add=function(Jn,rr){var mi,Hi=this;Jn=Number(Jn);var Gi=Bi.p(rr),sr=function(Jr){var Or=ir(Hi);return Bi.w(Or.date(Or.date()+Math.round(Jr*Jn)),Hi)};if(Gi===Fe)return this.set(Fe,this.$M+Jn);if(Gi===Si)return this.set(Si,this.$y+Jn);if(Gi===Ee)return sr(1);if(Gi===Ne)return sr(7);var ur=(mi={},mi[Pe]=kt,mi[Te]=Tt,mi[ve]=Rt,mi)[Gi]||1,er=this.$d.getTime()+Jn*ur;return Bi.w(er,this)},ei.subtract=function(Jn,rr){return this.add(-1*Jn,rr)},ei.format=function(Jn){var rr=this,mi=this.$locale();if(!this.isValid())return mi.invalidDate||jn;var Hi=Jn||"YYYY-MM-DDTHH:mm:ssZ",Gi=Bi.z(this),sr=this.$H,ur=this.$m,er=this.$M,Jr=mi.weekdays,Or=mi.months,$t=function(C,M,N,P){return C&&(C[M]||C(rr,Hi))||N[M].slice(0,P)},h=function(C){return Bi.s(sr%12||12,C,"0")},d=mi.meridiem||function(C,M,N){var P=C<12?"AM":"PM";return N?P.toLowerCase():P},y={YY:String(this.$y).slice(-2),YYYY:this.$y,M:er+1,MM:Bi.s(er+1,2,"0"),MMM:$t(mi.monthsShort,er,Or,3),MMMM:$t(Or,er),D:this.$D,DD:Bi.s(this.$D,2,"0"),d:String(this.$W),dd:$t(mi.weekdaysMin,this.$W,Jr,2),ddd:$t(mi.weekdaysShort,this.$W,Jr,3),dddd:Jr[this.$W],H:String(sr),HH:Bi.s(sr,2,"0"),h:h(1),hh:h(2),a:d(sr,ur,!0),A:d(sr,ur,!1),m:String(ur),mm:Bi.s(ur,2,"0"),s:String(this.$s),ss:Bi.s(this.$s,2,"0"),SSS:Bi.s(this.$ms,3,"0"),Z:Gi};return Hi.replace(xi,function(C,M){return M||y[C]||Gi.replace(":","")})},ei.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ei.diff=function(Jn,rr,mi){var Hi,Gi=Bi.p(rr),sr=ir(Jn),ur=(sr.utcOffset()-this.utcOffset())*kt,er=this-sr,Jr=Bi.m(this,sr);return Jr=(Hi={},Hi[Si]=Jr/12,Hi[Fe]=Jr,Hi[Qn]=Jr/3,Hi[Ne]=(er-ur)/6048e5,Hi[Ee]=(er-ur)/864e5,Hi[Te]=er/Tt,Hi[Pe]=er/kt,Hi[ve]=er/Rt,Hi)[Gi]||er,mi?Jr:Bi.a(Jr)},ei.daysInMonth=function(){return this.endOf(Fe).$D},ei.$locale=function(){return ar[this.$L]},ei.locale=function(Jn,rr){if(!Jn)return this.$L;var mi=this.clone(),Hi=Ji(Jn,rr,!0);return Hi&&(mi.$L=Hi),mi},ei.clone=function(){return Bi.w(this.$d,this)},ei.toDate=function(){return new Date(this.valueOf())},ei.toJSON=function(){return this.isValid()?this.toISOString():null},ei.toISOString=function(){return this.$d.toISOString()},ei.toString=function(){return this.$d.toUTCString()},Oi}(),mr=yr.prototype;return ir.prototype=mr,[["$ms",Ut],["$s",ve],["$m",Pe],["$H",Te],["$W",Ee],["$M",Fe],["$y",Si],["$D",yn]].forEach(function(Oi){mr[Oi[1]]=function(ei){return this.$g(ei,Oi[0],Oi[1])}}),ir.extend=function(Oi,ei){return Oi.$i||(Oi(ei,yr,ir),Oi.$i=!0),ir},ir.locale=Ji,ir.isDayjs=Ni,ir.unix=function(Oi){return ir(1e3*Oi)},ir.en=ar[Di],ir.Ls=ar,ir.p={},ir}();var un=Re,he={},In={get exports(){return he},set exports(Rt){he=Rt}};In.exports=function(){var Rt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},kt=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Tt=/\d\d/,Ut=/\d\d?/,ve=/\d*[^-_:/,()\s\d]+/,Pe={},Te=function(jn){return(jn=+jn)+(jn>68?1900:2e3)},Ee=function(jn){return function(Ln){this[jn]=+Ln}},Ne=[/[+-]\d\d:?(\d\d)?|Z/,function(jn){(this.zone||(this.zone={})).offset=function(Ln){if(!Ln||Ln==="Z")return 0;var xi=Ln.match(/([+-]|\d\d)/g),vn=60*xi[1]+(+xi[2]||0);return vn===0?0:xi[0]==="+"?-vn:vn}(jn)}],Fe=function(jn){var Ln=Pe[jn];return Ln&&(Ln.indexOf?Ln:Ln.s.concat(Ln.f))},Qn=function(jn,Ln){var xi,vn=Pe.meridiem;if(vn){for(var En=1;En<=24;En+=1)if(jn.indexOf(vn(En,0,Ln))>-1){xi=En>12;break}}else xi=jn===(Ln?"pm":"PM");return xi},Si={A:[ve,function(jn){this.afternoon=Qn(jn,!1)}],a:[ve,function(jn){this.afternoon=Qn(jn,!0)}],S:[/\d/,function(jn){this.milliseconds=100*+jn}],SS:[Tt,function(jn){this.milliseconds=10*+jn}],SSS:[/\d{3}/,function(jn){this.milliseconds=+jn}],s:[Ut,Ee("seconds")],ss:[Ut,Ee("seconds")],m:[Ut,Ee("minutes")],mm:[Ut,Ee("minutes")],H:[Ut,Ee("hours")],h:[Ut,Ee("hours")],HH:[Ut,Ee("hours")],hh:[Ut,Ee("hours")],D:[Ut,Ee("day")],DD:[Tt,Ee("day")],Do:[ve,function(jn){var Ln=Pe.ordinal,xi=jn.match(/\d+/);if(this.day=xi[0],Ln)for(var vn=1;vn<=31;vn+=1)Ln(vn).replace(/\[|\]/g,"")===jn&&(this.day=vn)}],M:[Ut,Ee("month")],MM:[Tt,Ee("month")],MMM:[ve,function(jn){var Ln=Fe("months"),xi=(Fe("monthsShort")||Ln.map(function(vn){return vn.slice(0,3)})).indexOf(jn)+1;if(xi<1)throw new Error;this.month=xi%12||xi}],MMMM:[ve,function(jn){var Ln=Fe("months").indexOf(jn)+1;if(Ln<1)throw new Error;this.month=Ln%12||Ln}],Y:[/[+-]?\d+/,Ee("year")],YY:[Tt,function(jn){this.year=Te(jn)}],YYYY:[/\d{4}/,Ee("year")],Z:Ne,ZZ:Ne};function yn(jn){var Ln,xi;Ln=jn,xi=Pe&&Pe.formats;for(var vn=(jn=Ln.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ir,Bi,yr){var mr=yr&&yr.toUpperCase();return Bi||xi[yr]||Rt[yr]||xi[mr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Oi,ei,Jn){return ei||Jn.slice(1)})})).match(kt),En=vn.length,gn=0;gn<En;gn+=1){var Di=vn[gn],ar=Si[Di],Ni=ar&&ar[0],Ji=ar&&ar[1];vn[gn]=Ji?{regex:Ni,parser:Ji}:Di.replace(/^\[|\]$/g,"")}return function(ir){for(var Bi={},yr=0,mr=0;yr<En;yr+=1){var Oi=vn[yr];if(typeof Oi=="string")mr+=Oi.length;else{var ei=Oi.regex,Jn=Oi.parser,rr=ir.slice(mr),mi=ei.exec(rr)[0];Jn.call(Bi,mi),ir=ir.replace(mi,"")}}return function(Hi){var Gi=Hi.afternoon;if(Gi!==void 0){var sr=Hi.hours;Gi?sr<12&&(Hi.hours+=12):sr===12&&(Hi.hours=0),delete Hi.afternoon}}(Bi),Bi}}return function(jn,Ln,xi){xi.p.customParseFormat=!0,jn&&jn.parseTwoDigitYear&&(Te=jn.parseTwoDigitYear);var vn=Ln.prototype,En=vn.parse;vn.parse=function(gn){var Di=gn.date,ar=gn.utc,Ni=gn.args;this.$u=ar;var Ji=Ni[1];if(typeof Ji=="string"){var ir=Ni[2]===!0,Bi=Ni[3]===!0,yr=ir||Bi,mr=Ni[2];Bi&&(mr=Ni[2]),Pe=this.$locale(),!ir&&mr&&(Pe=xi.Ls[mr]),this.$d=function(rr,mi,Hi){try{if(["x","X"].indexOf(mi)>-1)return new Date((mi==="X"?1e3:1)*rr);var Gi=yn(mi)(rr),sr=Gi.year,ur=Gi.month,er=Gi.day,Jr=Gi.hours,Or=Gi.minutes,$t=Gi.seconds,h=Gi.milliseconds,d=Gi.zone,y=new Date,C=er||(sr||ur?1:y.getDate()),M=sr||y.getFullYear(),N=0;sr&&!ur||(N=ur>0?ur-1:y.getMonth());var P=Jr||0,V=Or||0,G=$t||0,K=h||0;return d?new Date(Date.UTC(M,N,C,P,V,G,K+60*d.offset*1e3)):Hi?new Date(Date.UTC(M,N,C,P,V,G,K)):new Date(M,N,C,P,V,G,K)}catch{return new Date("")}}(Di,Ji,ar),this.init(),mr&&mr!==!0&&(this.$L=this.locale(mr).$L),yr&&Di!=this.format(Ji)&&(this.$d=new Date("")),Pe={}}else if(Ji instanceof Array)for(var Oi=Ji.length,ei=1;ei<=Oi;ei+=1){Ni[1]=Ji[ei-1];var Jn=xi.apply(this,Ni);if(Jn.isValid()){this.$d=Jn.$d,this.$L=Jn.$L,this.init();break}ei===Oi&&(this.$d=new Date(""))}else En.call(this,gn)}}}();var kn=he;un.extend(kn);const Gn=(Rt,kt)=>{let Tt;if(kt)switch(kt){case"ISO_8601":Tt=Rt;break;case"RFC_2822":Tt=un(Rt.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":Tt=un(Rt,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":Tt=un(Rt).unix();break;default:Tt=un(Rt,kt,!0).valueOf()}return Tt},fi=(Rt,kt)=>{if((Rt==null?void 0:Rt.constructor)===Object&&Object.prototype.hasOwnProperty.call(Rt,"data")&&!Object.keys(Rt).find(Ut=>!["text","order","data"].includes(Ut)))return Rt;const Tt={data:Rt};switch(kt.type){case"string":typeof Rt!="string"&&(Tt.text=String(Tt.data),Tt.order=Tt.text);break;case"date":kt.format&&(Tt.order=Gn(String(Tt.data),kt.format));break;case"number":Tt.text=String(Tt.data),Tt.data=parseInt(Tt.data,10);break;case"html":{const Ut=Array.isArray(Tt.data)?{nodeName:"TD",childNodes:Tt.data}:Oe(`<td>${String(Tt.data)}</td>`);Tt.data=Ut.childNodes||[];const ve=Zt(Ut);Tt.text=ve,Tt.order=ve;break}case"boolean":typeof Tt.data=="string"&&(Tt.data=Tt.data.toLowerCase().trim()),Tt.data=!["false",!1,null,void 0,0].includes(Tt.data),Tt.order=Tt.data?1:0,Tt.text=String(Tt.data);break;case"other":Tt.text="",Tt.order=0;break;default:Tt.text=JSON.stringify(Tt.data)}return Tt},Zn=Rt=>{if(Rt instanceof Object&&Rt.constructor===Object&&Rt.hasOwnProperty("data")&&(typeof Rt.text=="string"||typeof Rt.data=="string"))return Rt;const kt={data:Rt};if(typeof Rt=="string"){if(Rt.length){const Tt=Oe(`<th>${Rt}</th>`);if(Tt.childNodes&&(Tt.childNodes.length!==1||Tt.childNodes[0].nodeName!=="#text")){kt.data=Tt.childNodes,kt.type="html";const Ut=Zt(Tt);kt.text=Ut}}}else[null,void 0].includes(Rt)?kt.text="":kt.text=JSON.stringify(Rt);return kt},Cr=(Rt,kt,Tt,Ut,ve)=>{var Te,Ee;const Pe={data:[],headings:[]};Rt.headings?Pe.headings=Rt.headings.map(Ne=>Zn(Ne)):kt!=null&&kt.tHead?Pe.headings=Array.from(kt.tHead.querySelectorAll("th")).map((Ne,Fe)=>{var yn,jn,Ln,xi,vn;const Qn=(En=>{const gn=Le(En,{valueDiffing:!1});let Di;return Di=!gn.childNodes||gn.childNodes.length===1&&gn.childNodes[0].nodeName==="#text"?{data:En.innerText,type:"string"}:{data:gn.childNodes,type:"html",text:Zt(gn)},Di})(Ne);Tt[Fe]||(Tt[Fe]={type:Ut,format:ve,searchable:!0,sortable:!0});const Si=Tt[Fe];return((yn=Ne.dataset.sortable)==null?void 0:yn.trim().toLowerCase())!=="false"&&((jn=Ne.dataset.sort)==null?void 0:jn.trim().toLowerCase())!=="false"||(Si.sortable=!1),((Ln=Ne.dataset.searchable)==null?void 0:Ln.trim().toLowerCase())==="false"&&(Si.searchable=!1),((xi=Ne.dataset.hidden)==null?void 0:xi.trim().toLowerCase())!=="true"&&((vn=Ne.getAttribute("hidden"))==null?void 0:vn.trim().toLowerCase())!=="true"||(Si.hidden=!0),["number","string","html","date","boolean","other"].includes(Ne.dataset.type)&&(Si.type=Ne.dataset.type,Si.type==="date"&&Ne.dataset.format&&(Si.format=Ne.dataset.format)),Qn}):(Te=Rt.data)!=null&&Te.length?Pe.headings=Rt.data[0].map(Ne=>Zn("")):kt!=null&&kt.tBodies.length&&(Pe.headings=Array.from(kt.tBodies[0].rows[0].cells).map(Ne=>Zn("")));for(let Ne=0;Ne<Pe.headings.length;Ne++)Tt[Ne]||(Tt[Ne]={type:Ut,format:ve,sortable:!0,searchable:!0});if(Rt.data?Pe.data=Rt.data.map(Ne=>Ne.map((Fe,Qn)=>fi(Fe,Tt[Qn]))):(Ee=kt==null?void 0:kt.tBodies)!=null&&Ee.length&&(Pe.data=Array.from(kt.tBodies[0].rows).map(Ne=>Array.from(Ne.cells).map((Fe,Qn)=>{const Si=Fe.dataset.content?fi(Fe.dataset.content,Tt[Qn]):((yn,jn)=>{let Ln;switch(jn.type){case"string":Ln={data:yn.innerText};break;case"date":{const xi=yn.innerText;Ln={data:xi,order:Gn(xi,jn.format)};break}case"number":Ln={data:parseInt(yn.innerText,10),text:yn.innerText};break;case"boolean":{const xi=!["false","0","null","undefined"].includes(yn.innerText.toLowerCase().trim());Ln={data:xi,order:xi?1:0,text:xi?"1":"0"};break}default:Ln={data:Le(yn,{valueDiffing:!1}).childNodes||[],text:yn.innerText,order:yn.innerText}}return Ln})(Fe,Tt[Qn]);return Fe.dataset.order&&(Si.order=isNaN(parseFloat(Fe.dataset.order))?Fe.dataset.order:parseFloat(Fe.dataset.order)),Si}))),Pe.data.length&&Pe.data[0].length!==Pe.headings.length)throw new Error("Data heading length mismatch.");return Pe};class Yi{constructor(kt){this.dt=kt,this.cursor=!1}setCursor(kt=!1){if(kt===this.cursor)return;const Tt=this.cursor;if(this.cursor=kt,this.dt._renderTable(),kt!==!1&&this.dt.options.scrollY){const Ut=this.dt.dom.querySelector(`tr.${this.dt.options.classes.cursor}`);Ut&&Ut.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,Tt)}add(kt){const Tt=kt.map((Ut,ve)=>{const Pe=this.dt.columns.settings[ve];return fi(Ut,Pe)});this.dt.data.data.push(Tt),this.dt.data.data.length&&(this.dt.hasRows=!0),this.dt.update(!0)}remove(kt){if(!Array.isArray(kt))return this.remove([kt]);this.dt.data.data=this.dt.data.data.filter((Tt,Ut)=>!kt.includes(Ut)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(kt,Tt){return this.dt.data.data.findIndex(Ut=>(Ut[kt].text??String(Ut[kt].data)).toLowerCase().includes(String(Tt).toLowerCase()))}findRow(kt,Tt){const Ut=this.findRowIndex(kt,Tt);if(Ut<0)return{index:-1,row:null,cols:[]};const ve=this.dt.data.data[Ut],Pe=ve.map(Te=>Te.data);return{index:Ut,row:ve,cols:Pe}}updateRow(kt,Tt){const Ut=Tt.map((ve,Pe)=>{const Te=this.dt.columns.settings[Pe];return fi(ve,Te)});this.dt.data.data.splice(kt,1,Ut),this.dt.update(!0)}}class wn{constructor(kt){this.dt=kt,this.init()}init(){[this.settings,this._state]=((kt=[],Tt,Ut)=>{let ve=[],Pe=!1;const Te=[];return kt.forEach(Ee=>{(Array.isArray(Ee.select)?Ee.select:[Ee.select]).forEach(Ne=>{ve[Ne]||(ve[Ne]={type:Ee.type||Tt,sortable:!0,searchable:!0});const Fe=ve[Ne];Ee.render&&(Fe.render=Ee.render),Ee.format?Fe.format=Ee.format:Ee.type==="date"&&(Fe.format=Ut),Ee.cellClass&&(Fe.cellClass=Ee.cellClass),Ee.headerClass&&(Fe.headerClass=Ee.headerClass),Ee.locale&&(Fe.locale=Ee.locale),Ee.sortable===!1?Fe.sortable=!1:(Ee.numeric&&(Fe.numeric=Ee.numeric),Ee.caseFirst&&(Fe.caseFirst=Ee.caseFirst)),Ee.searchable===!1?Fe.searchable=!1:Ee.sensitivity&&(Fe.sensitivity=Ee.sensitivity),(Fe.searchable||Fe.sortable)&&Ee.ignorePunctuation&&(Fe.ignorePunctuation=Ee.ignorePunctuation),Ee.hidden&&(Fe.hidden=!0),Ee.filter&&(Fe.filter=Ee.filter),Ee.sortSequence&&(Fe.sortSequence=Ee.sortSequence),Ee.sort&&(Ee.filter?Te[Ne]=Ee.sort:Pe={column:Ne,dir:Ee.sort})})}),ve=ve.map(Ee=>Ee||{type:Tt,format:Tt==="date"?Ut:void 0,sortable:!0,searchable:!0}),[ve,{filters:Te,sort:Pe,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}swap(kt){if(kt.length===2){const Tt=this.dt.data.headings.map((Te,Ee)=>Ee),Ut=kt[0],ve=kt[1],Pe=Tt[ve];return Tt[ve]=Tt[Ut],Tt[Ut]=Pe,this.order(Tt)}}order(kt){this.dt.data.headings=kt.map(Tt=>this.dt.data.headings[Tt]),this.dt.data.data=this.dt.data.data.map(Tt=>kt.map(Ut=>Tt[Ut])),this.settings=kt.map(Tt=>this.settings[Tt]),this.dt.update()}hide(kt){kt.length&&(kt.forEach(Tt=>{this.settings[Tt]||(this.settings[Tt]={type:"string"}),this.settings[Tt].hidden=!0}),this.dt.update())}show(kt){kt.length&&(kt.forEach(Tt=>{this.settings[Tt]||(this.settings[Tt]={type:"string",sortable:!0}),delete this.settings[Tt].hidden}),this.dt.update())}visible(kt){var Tt;return kt===void 0&&(kt=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(kt)?kt.map(Ut=>{var ve;return!((ve=this.settings[Ut])!=null&&ve.hidden)}):!((Tt=this.settings[kt])!=null&&Tt.hidden)}add(kt){const Tt=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([Zn(kt.heading)]),this.dt.data.data=this.dt.data.data.map((Ut,ve)=>Ut.concat([fi(kt.data[ve],kt)])),this.settings[Tt]={type:kt.type||"string",sortable:!0,searchable:!0},kt.type||kt.format||kt.sortable||kt.render||kt.filter){const Ut=this.settings[Tt];kt.render&&(Ut.render=kt.render),kt.format&&(Ut.format=kt.format),kt.cellClass&&(Ut.cellClass=kt.cellClass),kt.headerClass&&(Ut.headerClass=kt.headerClass),kt.locale&&(Ut.locale=kt.locale),kt.sortable===!1?Ut.sortable=!1:(kt.numeric&&(Ut.numeric=kt.numeric),kt.caseFirst&&(Ut.caseFirst=kt.caseFirst)),kt.searchable===!1?Ut.searchable=!1:kt.sensitivity&&(Ut.sensitivity=kt.sensitivity),(Ut.searchable||Ut.sortable)&&kt.ignorePunctuation&&(Ut.ignorePunctuation=kt.ignorePunctuation),kt.hidden&&(Ut.hidden=!0),kt.filter&&(Ut.filter=kt.filter),kt.sortSequence&&(Ut.sortSequence=kt.sortSequence)}this.dt.update(!0)}remove(kt){if(!Array.isArray(kt))return this.remove([kt]);this.dt.data.headings=this.dt.data.headings.filter((Tt,Ut)=>!kt.includes(Ut)),this.dt.data.data=this.dt.data.data.map(Tt=>Tt.filter((Ut,ve)=>!kt.includes(ve))),this.dt.update(!0)}filter(kt,Tt=!1){var Pe,Te;if(!((Te=(Pe=this.settings[kt])==null?void 0:Pe.filter)!=null&&Te.length))return;const Ut=this._state.filters[kt];let ve;if(Ut){let Ee=!1;ve=this.settings[kt].filter.find(Ne=>!!Ee||(Ne===Ut&&(Ee=!0),!1))}else{const Ee=this.settings[kt].filter;ve=Ee?Ee[0]:void 0}ve?this._state.filters[kt]=ve:Ut&&(this._state.filters[kt]=void 0),this.dt._currentPage=1,this.dt.update(),Tt||this.dt.emit("datatable.filter",kt,ve)}sort(kt,Tt,Ut=!1){var Te;const ve=this.settings[kt];if(Ut||this.dt.emit("datatable.sorting",kt,Tt),!Tt){const Ee=!!this._state.sort&&((Te=this._state.sort)==null?void 0:Te.dir),Ne=(ve==null?void 0:ve.sortSequence)||["asc","desc"];if(Ee){const Fe=Ne.indexOf(Ee);Tt=Fe===-1?"asc":Fe===Ne.length-1?Ne[0]:Ne[Fe+1]}else Tt=Ne.length?Ne[0]:"asc"}const Pe=!!["string","html"].includes(ve.type)&&new Intl.Collator(ve.locale||this.dt.options.locale,{usage:"sort",numeric:ve.numeric||this.dt.options.numeric,caseFirst:ve.caseFirst||this.dt.options.caseFirst,ignorePunctuation:ve.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((Ee,Ne)=>{let Fe=Ee[kt].order||Ee[kt].data,Qn=Ne[kt].order||Ne[kt].data;if(Tt==="desc"){const Si=Fe;Fe=Qn,Qn=Si}return Pe?Pe.compare(String(Fe),String(Qn)):Fe<Qn?-1:Fe>Qn?1:0}),this._state.sort={column:kt,dir:Tt},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",kt,Tt)):Ut||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",kt,Tt))}_measureWidths(){var Tt,Ut,ve,Pe;const kt=this.dt.data.headings.filter((Te,Ee)=>{var Ne;return!((Ne=this.settings[Ee])!=null&&Ne.hidden)});if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&(kt!=null&&kt.length)){this._state.widths=[];const Te={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(Te.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),Te.noColumnWidths=!0,this.dt._renderTable(Te);const Ee=Array.from(((Ut=(Tt=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:Tt.firstElementChild)==null?void 0:Ut.querySelectorAll("th"))||[]);let Ne=0;const Fe=this.dt.data.headings.map((Si,yn)=>{var Ln;if((Ln=this.settings[yn])!=null&&Ln.hidden)return 0;const jn=Ee[Ne].offsetWidth;return Ne+=1,jn}),Qn=Fe.reduce((Si,yn)=>Si+yn,0);this._state.widths=Fe.map(Si=>Si/Qn*100)}else{Te.renderHeader=!0,this.dt._renderTable(Te);const Ee=Array.from(((Pe=(ve=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:ve.firstElementChild)==null?void 0:Pe.querySelectorAll("th"))||[]);let Ne=0;const Fe=this.dt.data.headings.map((Si,yn)=>{var Ln;if((Ln=this.settings[yn])!=null&&Ln.hidden)return 0;const jn=Ee[Ne].offsetWidth;return Ne+=1,jn}),Qn=Fe.reduce((Si,yn)=>Si+yn,0);this._state.widths=Fe.map(Si=>Si/Qn*100)}this.dt._renderTable()}}}const zn={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"‹",nextText:"›",firstText:"«",lastText:"»",ellipsisText:"…",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(Rt,kt)=>`<div class='${Rt.classes.top}'>
    ${Rt.paging&&Rt.perPageSelect?`<div class='${Rt.classes.dropdown}'>
            <label>
                <select class='${Rt.classes.selector}'></select> ${Rt.labels.perPage}
            </label>
        </div>`:""}
    ${Rt.searchable?`<div class='${Rt.classes.search}'>
            <input class='${Rt.classes.input}' placeholder='${Rt.labels.placeholder}' type='search' title='${Rt.labels.searchTitle}'${kt.id?` aria-controls="${kt.id}"`:""}>
        </div>`:""}
</div>
<div class='${Rt.classes.container}'${Rt.scrollY.length?` style='height: ${Rt.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${Rt.classes.bottom}'>
    ${Rt.paging?`<div class='${Rt.classes.info}'></div>`:""}
    <nav class='${Rt.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},Un=(Rt,kt,Tt,Ut={})=>({nodeName:"LI",attributes:{class:Ut.active&&!Ut.hidden?`${Tt.classes.paginationListItem} ${Tt.classes.active}`:Ut.hidden?`${Tt.classes.paginationListItem} ${Tt.classes.hidden} ${Tt.classes.disabled}`:Tt.classes.paginationListItem},childNodes:[{nodeName:"A",attributes:{"data-page":String(Rt),class:Tt.classes.paginationListItemLink},childNodes:[{nodeName:"#text",data:kt}]}]}),_i=(Rt,kt,Tt,Ut,ve)=>{let Pe=[];if(ve.firstLast&&Pe.push(Un(1,ve.firstText,ve)),ve.nextPrev){const Ee=Rt?1:Tt-1;Pe.push(Un(Ee,ve.prevText,ve,{hidden:Rt}))}let Te=[...Array(Ut).keys()].map(Ee=>Un(Ee+1,String(Ee+1),ve,{active:Ee===Tt-1}));if(ve.truncatePager&&(Te=((Ee,Ne,Fe,Qn)=>{const Si=Qn.pagerDelta,yn=Qn.classes,jn=Qn.ellipsisText,Ln=2*Si;let xi=Ne-Si,vn=Ne+Si;Ne<4-Si+Ln?vn=3+Ln:Ne>Fe-(3-Si+Ln)&&(xi=Fe-(2+Ln));const En=[];for(let ar=1;ar<=Fe;ar++)if(ar==1||ar==Fe||ar>=xi&&ar<=vn){const Ni=Ee[ar-1];En.push(Ni)}let gn;const Di=[];return En.forEach(ar=>{const Ni=parseInt(ar.childNodes[0].attributes["data-page"],10);if(gn){const Ji=parseInt(gn.childNodes[0].attributes["data-page"],10);if(Ni-Ji==2)Di.push(Ee[Ji]);else if(Ni-Ji!=1){const ir={nodeName:"LI",attributes:{class:`${yn.paginationListItem} ${yn.ellipsis} ${yn.disabled}`},childNodes:[{nodeName:"A",attributes:{class:yn.paginationListItemLink},childNodes:[{nodeName:"#text",data:jn}]}]};Di.push(ir)}}Di.push(ar),gn=ar}),Di})(Te,Tt,Ut,ve)),Pe=Pe.concat(Te),ve.nextPrev){const Ee=kt?Ut:Tt+1;Pe.push(Un(Ee,ve.nextText,ve,{hidden:kt}))}return ve.firstLast&&Pe.push(Un(Ut,ve.lastText,ve)),{nodeName:"UL",attributes:{class:ve.classes.paginationList},childNodes:Te.length>1?Pe:[]}},ui={classes:{row:"datatable-editor-row",form:"datatable-editor-form",item:"datatable-editor-item",menu:"datatable-editor-menu",save:"datatable-editor-save",block:"datatable-editor-block",close:"datatable-editor-close",inner:"datatable-editor-inner",input:"datatable-editor-input",label:"datatable-editor-label",modal:"datatable-editor-modal",action:"datatable-editor-action",header:"datatable-editor-header",wrapper:"datatable-editor-wrapper",editable:"datatable-editor-editable",container:"datatable-editor-container",separator:"datatable-editor-separator"},labels:{editCell:"Edit Cell",editRow:"Edit Row",removeRow:"Remove Row",reallyRemove:"Are you sure?"},inline:!0,hiddenColumns:!1,contextMenu:!0,clickEvent:"dblclick",excludeColumns:[],menuItems:[{text:Rt=>Rt.options.labels.editCell,action:(Rt,kt)=>{if(!(Rt.event.target instanceof Element))return;const Tt=Rt.event.target.closest("td");return Rt.editCell(Tt)}},{text:Rt=>Rt.options.labels.editRow,action:(Rt,kt)=>{if(!(Rt.event.target instanceof Element))return;const Tt=Rt.event.target.closest("tr");return Rt.editRow(Tt)}},{separator:!0},{text:Rt=>Rt.options.labels.removeRow,action:(Rt,kt)=>{if(Rt.event.target instanceof Element&&confirm(Rt.options.labels.reallyRemove)){const Tt=Rt.event.target.closest("tr");Rt.removeRow(Tt)}}}]};class Ri{constructor(kt,Tt={}){this.dt=kt,this.options={...ui,...Tt}}init(){this.initialized||(this.dt.wrapperDOM.classList.add(this.options.classes.editable),this.options.inline&&(this.originalRowRender=this.dt.options.rowRender,this.dt.options.rowRender=(kt,Tt,Ut)=>{let ve=this.rowRender(kt,Tt,Ut);return this.originalRowRender&&(ve=this.originalRowRender(kt,ve,Ut)),ve}),this.options.contextMenu&&(this.containerDOM=re("div",{id:this.options.classes.container}),this.wrapperDOM=re("div",{class:this.options.classes.wrapper}),this.menuDOM=re("ul",{class:this.options.classes.menu}),this.options.menuItems&&this.options.menuItems.length&&this.options.menuItems.forEach(kt=>{const Tt=re("li",{class:kt.separator?this.options.classes.separator:this.options.classes.item});if(!kt.separator){const Ut=re("a",{class:this.options.classes.action,href:kt.url||"#",html:typeof kt.text=="function"?kt.text(this):kt.text});Tt.appendChild(Ut),kt.action&&typeof kt.action=="function"&&Ut.addEventListener("click",ve=>{ve.preventDefault(),kt.action(this,ve)})}this.menuDOM.appendChild(Tt)}),this.wrapperDOM.appendChild(this.menuDOM),this.containerDOM.appendChild(this.wrapperDOM),this.update()),this.data={},this.closed=!0,this.editing=!1,this.editingRow=!1,this.editingCell=!1,this.bindEvents(),setTimeout(()=>{this.initialized=!0,this.dt.emit("editable.init")},10))}bindEvents(){this.events={context:this.context.bind(this),update:this.update.bind(this),dismiss:this.dismiss.bind(this),keydown:this.keydown.bind(this),click:this.click.bind(this)},this.dt.dom.addEventListener(this.options.clickEvent,this.events.click),document.addEventListener("click",this.events.dismiss),document.addEventListener("keydown",this.events.keydown),this.options.contextMenu&&(this.dt.dom.addEventListener("contextmenu",this.events.context),this.events.reset=function(kt,Tt=300){let Ut;return(...ve)=>{clearTimeout(Ut),Ut=window.setTimeout(()=>kt(),Tt)}}(()=>this.events.update(),50),window.addEventListener("resize",this.events.reset),window.addEventListener("scroll",this.events.reset))}context(kt){const Tt=kt.target;if(!(Tt instanceof Element))return;this.event=kt;const Ut=Tt.closest("tbody td");if(this.options.contextMenu&&!this.disabled&&Ut){kt.preventDefault();let ve=kt.pageX,Pe=kt.pageY;ve>this.limits.x&&(ve-=this.rect.width),Pe>this.limits.y&&(Pe-=this.rect.height),this.wrapperDOM.style.top=`${Pe}px`,this.wrapperDOM.style.left=`${ve}px`,this.openMenu(),this.update()}}click(kt){const Tt=kt.target;if(Tt instanceof Element){if(this.editing&&this.data&&this.editingCell){const Ut=this.modalDOM?this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`):this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`);this.saveCell(Ut.value)}else if(!this.editing){const Ut=Tt.closest("tbody td");Ut&&(this.editCell(Ut),kt.preventDefault())}}}keydown(kt){if(this.modalDOM){if(kt.key==="Escape")this.closeModal();else if(kt.key==="Enter")if(this.editingCell){const Tt=this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`);this.saveCell(Tt.value)}else{const Tt=Array.from(this.modalDOM.querySelectorAll(`input.${this.options.classes.input}[type=text]`));this.saveRow(Tt.map(Ut=>Ut.value.trim()),this.data.row)}}else if(this.editing&&this.data)if(kt.key==="Enter"){if(this.editingCell){const Tt=this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`);this.saveCell(Tt.value)}else if(this.editingRow){const Tt=Array.from(this.dt.wrapperDOM.querySelectorAll(`input.${this.options.classes.input}[type=text]`));this.saveRow(Tt.map(Ut=>Ut.value.trim()),this.data.row)}}else kt.key==="Escape"&&this.saveCell(this.data.content)}editCell(kt){const Tt=yt(kt.cellIndex,this.dt.columns.settings);if(this.options.excludeColumns.includes(Tt))return void this.closeMenu();const Ut=parseInt(kt.parentElement.dataset.index,10),ve=this.dt.data.data[Ut][Tt];this.data={cell:ve,rowIndex:Ut,columnIndex:Tt,content:ve.text||String(ve.data)},this.editing=!0,this.editingCell=!0,this.options.inline?this.dt.update():this.editCellModal(),this.closeMenu()}editCellModal(){const kt=this.data.cell,Tt=this.data.columnIndex,Ut=this.dt.data.headings[Tt].text||String(this.dt.data.headings[Tt].data),ve=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,"<h4>Editing cell</h4>",`<button class='${this.options.classes.close}' type='button' data-editor-close>×</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${Bt(Ut)}</label>`,`<input class='${this.options.classes.input}' value='${Bt(kt.text||String(kt.data)||"")}' type='text'>`,"</div>",`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>Save</button>`,"</div>","</form>","</div>","</div>"].join(""),Pe=re("div",{class:this.options.classes.modal,html:ve});this.modalDOM=Pe,this.openModal();const Te=Pe.querySelector(`input.${this.options.classes.input}[type=text]`);Te.focus(),Te.selectionStart=Te.selectionEnd=Te.value.length,Pe.addEventListener("click",Ee=>{const Ne=Ee.target;Ne instanceof Element&&(Ne.hasAttribute("data-editor-close")?this.closeModal():Ne.hasAttribute("data-editor-save")&&this.saveCell(Te.value))})}saveCell(kt){const Tt=this.data.content,Ut=this.dt.columns.settings[this.data.columnIndex].type||this.dt.options.type,ve=kt.trim();let Pe;if(Ut==="number")Pe={data:parseFloat(ve)};else if(Ut==="boolean")Pe=["","false","0"].includes(ve)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if(Ut==="html")Pe={data:[{nodeName:"#text",data:kt}],text:kt,order:kt};else if(Ut==="string")Pe={data:kt};else if(Ut==="date"){const Ne=this.dt.columns.settings[this.data.columnIndex].format||this.dt.options.format;Pe={data:kt,order:Gn(String(kt),Ne)}}else Pe={data:kt};this.dt.data.data[this.data.rowIndex][this.data.columnIndex]=Pe,this.closeModal();const Te=this.data.rowIndex,Ee=this.data.columnIndex;this.data={},this.dt.update(!0),this.editing=!1,this.editingCell=!1,this.dt.emit("editable.save.cell",kt,Tt,Te,Ee)}editRow(kt){if(!kt||kt.nodeName!=="TR"||this.editing)return;const Tt=parseInt(kt.dataset.index,10),Ut=this.dt.data.data[Tt];this.data={row:Ut,rowIndex:Tt},this.editing=!0,this.editingRow=!0,this.options.inline?this.dt.update():this.editRowModal(),this.closeMenu()}editRowModal(){var Ee;const kt=this.data.row,Tt=[`<div class='${this.options.classes.inner}'>`,`<div class='${this.options.classes.header}'>`,"<h4>Editing row</h4>",`<button class='${this.options.classes.close}' type='button' data-editor-close>×</button>`," </div>",`<div class='${this.options.classes.block}'>`,`<form class='${this.options.classes.form}'>`,`<div class='${this.options.classes.row}'>`,`<button class='${this.options.classes.save}' type='button' data-editor-save>Save</button>`,"</div>","</form>","</div>","</div>"].join(""),Ut=re("div",{class:this.options.classes.modal,html:Tt}),ve=Ut.firstElementChild;if(!ve)return;const Pe=(Ee=ve.lastElementChild)==null?void 0:Ee.firstElementChild;if(!Pe)return;kt.forEach((Ne,Fe)=>{const Qn=this.dt.columns.settings[Fe];if((!Qn.hidden||Qn.hidden&&this.options.hiddenColumns)&&!this.options.excludeColumns.includes(Fe)){const Si=this.dt.data.headings[Fe].text||String(this.dt.data.headings[Fe].data);Pe.insertBefore(re("div",{class:this.options.classes.row,html:[`<div class='${this.options.classes.row}'>`,`<label class='${this.options.classes.label}'>${Bt(Si)}</label>`,`<input class='${this.options.classes.input}' value='${Bt(Ne.text||String(Ne.data)||"")}' type='text'>`,"</div>"].join("")}),Pe.lastElementChild)}}),this.modalDOM=Ut,this.openModal();const Te=Array.from(Pe.querySelectorAll(`input.${this.options.classes.input}[type=text]`));Te.pop(),Ut.addEventListener("click",Ne=>{const Fe=Ne.target;Fe instanceof Element&&(Fe.hasAttribute("data-editor-close")?this.closeModal():Fe.hasAttribute("data-editor-save")&&this.saveRow(Te.map(Qn=>Qn.value.trim()),this.data.row))})}saveRow(kt,Tt){const Ut=Tt.map(ve=>ve.text??String(ve.data));this.dt.data.data[this.data.rowIndex]=this.dt.data.data[this.data.rowIndex].map((ve,Pe)=>{if(this.dt.columns.settings[Pe].hidden||this.options.excludeColumns.includes(Pe))return ve;const Te=this.dt.columns.settings[Pe].type||this.dt.options.type,Ee=kt[pt(Pe,this.dt.columns.settings)],Ne=Ee.trim();let Fe;if(Te==="number")Fe={data:parseFloat(Ne)};else if(Te==="boolean")Fe=["","false","0"].includes(Ne)?{data:!1,text:"false",order:0}:{data:!0,text:"true",order:1};else if(Te==="html")Fe={data:[{nodeName:"#text",data:Ee}],text:Ee,order:Ee};else if(Te==="string")Fe={data:Ee};else if(Te==="date"){const Qn=this.dt.columns.settings[Pe].format||this.dt.options.format;Fe={data:Ee,order:Gn(String(Ee),Qn)}}else Fe={data:Ee};return Fe}),this.data={},this.dt.update(!0),this.closeModal(),this.dt.emit("editable.save.row",kt,Ut,Tt)}openModal(){this.modalDOM&&document.body.appendChild(this.modalDOM)}closeModal(){this.editing&&this.modalDOM&&(document.body.removeChild(this.modalDOM),this.modalDOM=this.editing=this.editingRow=this.editingCell=!1)}removeRow(kt){if(!kt||kt.nodeName!=="TR"||this.editing)return;const Tt=parseInt(kt.dataset.index,10);this.dt.rows.remove(Tt),this.closeMenu()}update(){const kt=window.scrollX||window.pageXOffset,Tt=window.scrollY||window.pageYOffset;this.rect=this.wrapperDOM.getBoundingClientRect(),this.limits={x:window.innerWidth+kt-this.rect.width,y:window.innerHeight+Tt-this.rect.height}}dismiss(kt){const Tt=kt.target;if(!(Tt instanceof Element))return;let Ut=!0;this.options.contextMenu&&(Ut=!this.wrapperDOM.contains(Tt),this.editing&&(Ut=!this.wrapperDOM.contains(Tt)&&!Tt.matches(`input.${this.options.classes.input}[type=text]`))),Ut&&(this.editingCell&&this.saveCell(this.data.content),this.closeMenu())}openMenu(){if(this.editing&&this.data&&this.editingCell){const kt=this.modalDOM?this.modalDOM.querySelector(`input.${this.options.classes.input}[type=text]`):this.dt.wrapperDOM.querySelector(`input.${this.options.classes.input}[type=text]`);this.saveCell(kt.value)}this.options.contextMenu&&(document.body.appendChild(this.containerDOM),this.closed=!1,this.dt.emit("editable.context.open"))}closeMenu(){this.options.contextMenu&&!this.closed&&(this.closed=!0,document.body.removeChild(this.containerDOM),this.dt.emit("editable.context.close"))}destroy(){this.dt.dom.removeEventListener(this.options.clickEvent,this.events.click),this.dt.dom.removeEventListener("contextmenu",this.events.context),document.removeEventListener("click",this.events.dismiss),document.removeEventListener("keydown",this.events.keydown),window.removeEventListener("resize",this.events.reset),window.removeEventListener("scroll",this.events.reset),document.body.contains(this.containerDOM)&&document.body.removeChild(this.containerDOM),this.options.inline&&(this.dt.options.rowRender=this.originalRowRender),this.initialized=!1}rowRender(kt,Tt,Ut){return!this.data||this.data.rowIndex!==Ut||(this.editingCell?Tt.childNodes[pt(this.data.columnIndex,this.dt.columns.settings)].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:this.data.content,class:this.options.classes.input}}]:Tt.childNodes.forEach((ve,Pe)=>{const Te=yt(Pe,this.dt.columns.settings),Ee=kt[Te];this.options.excludeColumns.includes(Te)||(Tt.childNodes[Pe].childNodes=[{nodeName:"INPUT",attributes:{type:"text",value:Bt(Ee.text||String(Ee.data)||""),class:this.options.classes.input}}])})),Tt}}wt.DataTable=class{constructor(Rt,kt={}){const Tt=typeof Rt=="string"?document.querySelector(Rt):Rt;Tt instanceof HTMLTableElement?this.dom=Tt:(this.dom=document.createElement("table"),Tt.appendChild(this.dom));const Ut={...zn.labels,...kt.labels},ve={...zn.classes,...kt.classes};this.options={...zn,...kt,labels:Ut,classes:ve},this._initialInnerHTML=this.options.destroyable?this.dom.innerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new cn({valueDiffing:!1}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||this.dom.classList.contains(this.options.classes.table))return!1;this._virtualDOM=Le(this.dom,{valueDiffing:!1}),this._tableAttributes={...this._virtualDOM.attributes},this.rows=new Yi(this),this.columns=new wn(this),this.data=Cr(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=re("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const Rt=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);Rt&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(kt=>{const[Tt,Ut]=Array.isArray(kt)?[kt[0],kt[1]]:[String(kt),kt],ve=Ut===this.options.perPage,Pe=new Option(Tt,String(Ut),ve,ve);Rt.appendChild(Pe)}):Rt&&Rt.parentElement.removeChild(Rt),this.containerDOM=this.wrapperDOM.querySelector(`.${this.options.classes.container}`),this._pagerDOMs=[],Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.pagination}`)).forEach(kt=>{kt instanceof HTMLElement&&(kt.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(kt.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}},this._label=this.wrapperDOM.querySelector(`.${this.options.classes.info}`),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(Rt={}){let kt=We(this._tableAttributes,this.data.headings,(this.options.paging||this._searchQueries.length)&&this._currentPage&&this.pages.length&&!Rt.noPaging?this.pages[this._currentPage-1]:this.data.data.map((Ut,ve)=>({row:Ut,index:ve})),this.columns.settings,this.columns._state,this.rows.cursor,this.options,Rt);if(this.options.tableRender){const Ut=this.options.tableRender(this.data,kt,"main");Ut&&(kt=Ut)}const Tt=this._dd.diff(this._virtualDOM,kt);this._dd.apply(this.dom,Tt),this._virtualDOM=kt}_renderPage(Rt=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let kt,Tt=0,Ut=0,ve=0;if(this.totalPages&&(Tt=this._currentPage-1,Ut=Tt*this.options.perPage,ve=Ut+this.pages[Tt].length,Ut+=1,kt=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const Pe=this.options.labels.info.replace("{start}",String(Ut)).replace("{end}",String(ve)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(kt));this._label.innerHTML=kt?Pe:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(Pe=>Pe.index===this.rows.cursor))){const Pe=this.pages[this._currentPage-1];Pe.length&&(Rt?this.rows.setCursor(Pe[Pe.length-1].index):this.rows.setCursor(Pe[0].index))}}_renderPagers(){if(!this.options.paging)return;let Rt=_i(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const Tt=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],Rt);Tt&&(Rt=Tt)}const kt=this._dd.diff(this._virtualPagerDOM,Rt);this._pagerDOMs.forEach(Tt=>{this._dd.apply(Tt,kt)}),this._virtualPagerDOM=Rt}_renderSeparateHeader(){const Rt=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),Rt.parentElement.insertBefore(this.headerDOM,Rt);let kt={nodeName:"TABLE",attributes:{class:this.options.classes.table},childNodes:[{nodeName:"THEAD",childNodes:[$e(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(this.options.tableRender){const Pe=this.options.tableRender(this.data,kt,"header");Pe&&(kt=Pe)}const Tt={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[kt]},Ut=this._dd.diff(this._virtualHeaderDOM,Tt);this._dd.apply(this.headerDOM,Ut),this._virtualHeaderDOM=Tt;const ve=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(ve){const Pe=structuredClone(this._virtualHeaderDOM);Pe.attributes.style=`padding-right: ${ve}px;`;const Te=this._dd.diff(this._virtualHeaderDOM,Pe);this._dd.apply(this.headerDOM,Te),this._virtualHeaderDOM=Pe}Rt.scrollHeight>Rt.clientHeight&&(Rt.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const Rt=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);Rt&&Rt instanceof HTMLSelectElement&&Rt.addEventListener("change",()=>{this.options.perPage=parseInt(Rt.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("keyup",Rt=>{const kt=Rt.target;if(!(kt instanceof HTMLInputElement&&kt.matches(`.${this.options.classes.input}`)))return;Rt.preventDefault();const Tt=Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).filter(Ut=>Ut.value.length).map(Ut=>Ut.dataset.columns?{term:Ut.value,columns:JSON.parse(Ut.dataset.columns)}:{term:Ut.value,columns:void 0});if(Tt.length===1){const Ut=Tt[0];this.search(Ut.term,Ut.columns)}else this.multiSearch(Tt)}),this.wrapperDOM.addEventListener("click",Rt=>{const kt=Rt.target.closest("a");if(kt){if(kt.hasAttribute("data-page"))this.page(parseInt(kt.getAttribute("data-page"),10)),Rt.preventDefault();else if(kt.classList.contains(this.options.classes.sorter)){const Tt=Array.from(kt.parentElement.parentElement.children).indexOf(kt.parentElement),Ut=yt(Tt,this.columns.settings);this.columns.sort(Ut),Rt.preventDefault()}else if(kt.classList.contains(this.options.classes.filter)){const Tt=Array.from(kt.parentElement.parentElement.children).indexOf(kt.parentElement),Ut=yt(Tt,this.columns.settings);this.columns.filter(Ut),Rt.preventDefault()}}},!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",Rt=>{if(Rt.key==="ArrowUp"){let kt;Rt.preventDefault(),Rt.stopPropagation(),this.pages[this._currentPage-1].find(Tt=>Tt.index===this.rows.cursor||(kt=Tt,!1)),kt?this.rows.setCursor(kt.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(Rt.key==="ArrowDown"){let kt;Rt.preventDefault(),Rt.stopPropagation();const Tt=this.pages[this._currentPage-1].find(Ut=>!!kt||(Ut.index===this.rows.cursor&&(kt=!0),!1));Tt?this.rows.setCursor(Tt.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(Rt.key)&&this.emit("datatable.selectrow",this.rows.cursor,Rt)}),this.dom.addEventListener("mousedown",Rt=>{const kt=Rt.target;if(kt instanceof Element&&this.dom.matches(":focus")){const Tt=Array.from(this.dom.querySelectorAll("body tr")).find(Ut=>Ut.contains(kt));Tt&&Tt instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(Tt.dataset.index,10),Rt)}})):this.dom.addEventListener("mousedown",Rt=>{const kt=Rt.target;if(!(kt instanceof Element))return;const Tt=Array.from(this.dom.querySelectorAll("body tr")).find(Ut=>Ut.contains(kt));Tt&&Tt instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(Tt.dataset.index,10),Rt)}),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){this.options.destroyable&&(this.dom.innerHTML=this._initialInnerHTML,this.dom.classList.remove(this.options.classes.table),this.wrapperDOM.parentElement&&this.wrapperDOM.parentElement.replaceChild(this.dom,this.wrapperDOM),this.initialized=!1,window.removeEventListener("resize",this._listeners.onResize))}update(Rt=!1){Rt&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),this.wrapperDOM.classList.remove(this.options.classes.empty),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let Rt=this.data.data.map((kt,Tt)=>({row:kt,index:Tt}));return this._searchQueries.length&&(Rt=[],this._searchData.forEach(kt=>Rt.push({index:kt,row:this.data.data[kt]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((kt,Tt)=>{kt&&(Rt=Rt.filter(Ut=>typeof kt=="function"?kt(Ut.row[Tt].data):(Ut.row[Tt].text??Ut.row[Tt].data)===kt))}),this.options.paging&&this.options.perPage>0?this.pages=Rt.map((kt,Tt)=>Tt%this.options.perPage==0?Rt.slice(Tt,Tt+this.options.perPage):null).filter(kt=>kt):this.pages=[Rt],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(Rt,kt){if(!Rt.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{term:Rt,columns:kt||void 0}]),this.emit("datatable.search",Rt,this._searchData)}multiSearch(Rt){if(!this.hasRows)return!1;if(this._currentPage=1,this._searchQueries=Rt,this._searchData=[],!(Rt=Rt.filter(Tt=>Tt.term.length)).length)return this.update(),this.emit("datatable.multisearch",Rt,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const kt=Rt.map(Tt=>this.columns.settings.map((Ut,ve)=>{if(Ut.hidden||!Ut.searchable||Tt.columns&&!Tt.columns.includes(ve))return!1;let Pe=Tt.term;const Te=Ut.sensitivity||this.options.sensitivity;return["base","accent"].includes(Te)&&(Pe=Pe.toLowerCase()),["base","case"].includes(Te)&&(Pe=Pe.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(Ut.ignorePunctuation||this.options.ignorePunctuation)&&(Pe=Pe.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,"")),Pe}));this.data.data.forEach((Tt,Ut)=>{const ve=Tt.map((Pe,Te)=>{let Ee=(Pe.text||String(Pe.data)).trim();if(Ee.length){const Ne=this.columns.settings[Te],Fe=Ne.sensitivity||this.options.sensitivity;["base","accent"].includes(Fe)&&(Ee=Ee.toLowerCase()),["base","case"].includes(Fe)&&(Ee=Ee.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(Ne.ignorePunctuation||this.options.ignorePunctuation)&&(Ee=Ee.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}return Ee});kt.every(Pe=>Pe.find((Te,Ee)=>!!Te&&Te.split(" ").find(Ne=>ve[Ee].includes(Ne))))&&this._searchData.push(Ut)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",Rt,this._searchData)}page(Rt,kt=!1){return Rt!==this._currentPage&&(isNaN(Rt)||(this._currentPage=Rt),!(Rt>this.pages.length||Rt<0)&&(this._renderPage(kt),this._renderPagers(),void this.emit("datatable.page",Rt)))}insert(Rt){let kt=[];if(Array.isArray(Rt)){const Tt=this.data.headings.map(Ut=>Ut.text??String(Ut.data));Rt.forEach((Ut,ve)=>{const Pe=[];Object.entries(Ut).forEach(([Te,Ee])=>{const Ne=Tt.indexOf(Te);Ne>-1?Pe[Ne]=fi(Ee,this.columns.settings[Ne]):this.hasHeadings||this.hasRows||ve!==0||(Pe[Tt.length]=fi(Ee,this.columns.settings[Tt.length]),Tt.push(Te),this.data.headings.push(Zn(Te)))}),kt.push(Pe)})}else ke(Rt)&&(!Rt.headings||this.hasHeadings||this.hasRows?Rt.data&&Array.isArray(Rt.data)&&(kt=Rt.data.map(Tt=>Tt.map((Ut,ve)=>fi(Ut,this.columns.settings[ve])))):this.data=Cr(Rt,void 0,this.columns.settings,this.options.type,this.options.format));kt.length&&kt.forEach(Tt=>this.data.data.push(Tt)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){this.options.searchable&&(Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).forEach(Rt=>{Rt.value=""}),this._searchQueries=[]),this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const Rt=re("table");let kt=We(this._tableAttributes,this.data.headings,this.data.data.map((ve,Pe)=>({row:ve,index:Pe})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0});if(this.options.tableRender){const ve=this.options.tableRender(this.data,kt,"print");ve&&(kt=ve)}const Tt=this._dd.diff({nodeName:"TABLE"},kt);this._dd.apply(Rt,Tt);const Ut=window.open();Ut.document.body.appendChild(Rt),Ut.print()}setMessage(Rt){const kt=this.data.headings.filter((ve,Pe)=>{var Te;return!((Te=this.columns.settings[Pe])!=null&&Te.hidden)}).length||1;this.wrapperDOM.classList.add(this.options.classes.empty),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let Tt={nodeName:"TABLE",attributes:{class:this.options.classes.table},childNodes:[{nodeName:"THEAD",childNodes:[$e(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(kt)},childNodes:[{nodeName:"#text",data:Rt}]}]}]}]};if(this.options.tableRender){const ve=this.options.tableRender(this.data,Tt,"message");ve&&(Tt=ve)}const Ut=this._dd.diff(this._virtualDOM,Tt);this._dd.apply(this.dom,Ut),this._virtualDOM=Tt}on(Rt,kt){this._events[Rt]=this._events[Rt]||[],this._events[Rt].push(kt)}off(Rt,kt){Rt in this._events&&this._events[Rt].splice(this._events[Rt].indexOf(kt),1)}emit(Rt,...kt){if(Rt in this._events)for(let Tt=0;Tt<this._events[Rt].length;Tt++)this._events[Rt][Tt](...kt)}},wt.convertCSV=function(Rt){let kt;if(!ke(Rt))return!1;const Tt={lineDelimiter:`
`,columnDelimiter:",",removeDoubleQuotes:!1,...Rt};if(Tt.data.length){kt={data:[]};const Ut=Tt.data.split(Tt.lineDelimiter);if(Ut.length&&(Tt.headings&&(kt.headings=Ut[0].split(Tt.columnDelimiter),Tt.removeDoubleQuotes&&(kt.headings=kt.headings.map(ve=>ve.trim().replace(/(^"|"$)/g,""))),Ut.shift()),Ut.forEach((ve,Pe)=>{kt.data[Pe]=[];const Te=ve.split(Tt.columnDelimiter);Te.length&&Te.forEach(Ee=>{Tt.removeDoubleQuotes&&(Ee=Ee.trim().replace(/(^"|"$)/g,"")),kt.data[Pe].push(Ee)})})),kt)return kt}return!1},wt.convertJSON=function(Rt){let kt;if(!ke(Rt))return!1;const Tt={data:"",...Rt};if(Tt.data.length||ke(Tt.data)){const Ut=!!Jt(Tt.data)&&JSON.parse(Tt.data);if(Ut?(kt={headings:[],data:[]},Ut.forEach((ve,Pe)=>{kt.data[Pe]=[],Object.entries(ve).forEach(([Te,Ee])=>{kt.headings.includes(Te)||kt.headings.push(Te),kt.data[Pe].push(Ee)})})):console.warn("That's not valid JSON!"),kt)return kt}return!1},wt.createElement=re,wt.exportCSV=function(Rt,kt={}){if(!Rt.hasHeadings&&!Rt.hasRows||!ke(kt))return!1;const Tt={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...kt},Ut=Te=>{var Ee;return!Tt.skipColumn.includes(Te)&&!((Ee=Rt.columns.settings[Te])!=null&&Ee.hidden)};let ve=[];const Pe=Rt.data.headings.filter((Te,Ee)=>Ut(Ee)).map(Te=>Te.text??Te.data);if(ve[0]=Pe,Tt.selection)if(Array.isArray(Tt.selection))for(let Te=0;Te<Tt.selection.length;Te++)ve=ve.concat(Rt.pages[Tt.selection[Te]-1].map(Ee=>Ee.row.filter((Ne,Fe)=>Ut(Fe)).map(Ne=>Ne.text??Ne.data)));else ve=ve.concat(Rt.pages[Tt.selection-1].map(Te=>Te.row.filter((Ee,Ne)=>Ut(Ne)).map(Ee=>Ee.text??Ee.data)));else ve=ve.concat(Rt.data.data.map(Te=>Te.filter((Ee,Ne)=>Ut(Ne)).map(Ee=>Ee.text??Ee.data)));if(ve.length){let Te="";if(ve.forEach(Ee=>{Ee.forEach(Ne=>{typeof Ne=="string"&&(Ne=(Ne=(Ne=(Ne=(Ne=Ne.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(Ne=`"${Ne}"`),Te+=Ne+Tt.columnDelimiter}),Te=Te.trim().substring(0,Te.length-1),Te+=Tt.lineDelimiter}),Te=Te.trim().substring(0,Te.length-1),Tt.download){const Ee=document.createElement("a");Ee.href=encodeURI(`data:text/csv;charset=utf-8,${Te}`),Ee.download=`${Tt.filename||"datatable_export"}.csv`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)}return Te}return!1},wt.exportJSON=function(Rt,kt={}){if(!Rt.hasHeadings&&!Rt.hasRows||!ke(kt))return!1;const Tt={download:!0,skipColumn:[],replacer:null,space:4,...kt},Ut=Te=>{var Ee;return!Tt.skipColumn.includes(Te)&&!((Ee=Rt.columns.settings[Te])!=null&&Ee.hidden)};let ve=[];if(Tt.selection)if(Array.isArray(Tt.selection))for(let Te=0;Te<Tt.selection.length;Te++)ve=ve.concat(Rt.pages[Tt.selection[Te]-1].map(Ee=>Ee.row.filter((Ne,Fe)=>Ut(Fe)).map(Ne=>Ne.data)));else ve=ve.concat(Rt.pages[Tt.selection-1].map(Te=>Te.row.filter((Ee,Ne)=>Ut(Ne)).map(Ee=>Ee.data)));else ve=ve.concat(Rt.data.data.map(Te=>Te.filter((Ee,Ne)=>Ut(Ne)).map(Ee=>Ee.data)));const Pe=Rt.data.headings.filter((Te,Ee)=>Ut(Ee)).map(Te=>Te.text??String(Te.data));if(ve.length){const Te=[];ve.forEach((Ne,Fe)=>{Te[Fe]=Te[Fe]||{},Ne.forEach((Qn,Si)=>{Te[Fe][Pe[Si]]=Qn})});const Ee=JSON.stringify(Te,Tt.replacer,Tt.space);if(Tt.download){const Ne=new Blob([Ee],{type:"data:application/json;charset=utf-8"}),Fe=URL.createObjectURL(Ne),Qn=document.createElement("a");Qn.href=Fe,Qn.download=`${Tt.filename||"datatable_export"}.json`,document.body.appendChild(Qn),Qn.click(),document.body.removeChild(Qn),URL.revokeObjectURL(Fe)}return Ee}return!1},wt.exportSQL=function(Rt,kt={}){if(!Rt.hasHeadings&&!Rt.hasRows||!ke(kt))return!1;const Tt={download:!0,skipColumn:[],tableName:"myTable",...kt},Ut=Te=>{var Ee;return!Tt.skipColumn.includes(Te)&&!((Ee=Rt.columns.settings[Te])!=null&&Ee.hidden)};let ve=[];if(Tt.selection)if(Array.isArray(Tt.selection))for(let Te=0;Te<Tt.selection.length;Te++)ve=ve.concat(Rt.pages[Tt.selection[Te]-1].map(Ee=>Ee.row.filter((Ne,Fe)=>Ut(Fe)).map(Ne=>Ne.text??Ne.data)));else ve=ve.concat(Rt.pages[Tt.selection-1].map(Te=>Te.row.filter((Ee,Ne)=>Ut(Ne)).map(Ee=>Ee.text??Ee.data)));else ve=ve.concat(Rt.data.data.map(Te=>Te.filter((Ee,Ne)=>Ut(Ne)).map(Ee=>Ee.data)));const Pe=Rt.data.headings.filter((Te,Ee)=>Ut(Ee)).map(Te=>Te.text??String(Te.data));if(ve.length){let Te=`INSERT INTO \`${Tt.tableName}\` (`;if(Pe.forEach(Ee=>{Te+=`\`${Ee}\`,`}),Te=Te.trim().substring(0,Te.length-1),Te+=") VALUES ",ve.forEach(Ee=>{Te+="(",Ee.forEach(Ne=>{Te+=typeof Ne=="string"?`"${Ne}",`:`${Ne},`}),Te=Te.trim().substring(0,Te.length-1),Te+="),"}),Te=Te.trim().substring(0,Te.length-1),Te+=";",Tt.download&&(Te=`data:application/sql;charset=utf-8,${Te}`),Tt.download){const Ee=document.createElement("a");Ee.href=encodeURI(Te),Ee.download=`${Tt.filename||"datatable_export"}.sql`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)}return Te}return!1},wt.exportTXT=function(Rt,kt={}){if(!Rt.hasHeadings&&!Rt.hasRows||!ke(kt))return!1;const Tt={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...kt},Ut=Te=>{var Ee;return!Tt.skipColumn.includes(Te)&&!((Ee=Rt.columns.settings[Te])!=null&&Ee.hidden)};let ve=[];const Pe=Rt.data.headings.filter((Te,Ee)=>Ut(Ee)).map(Te=>Te.text??Te.data);if(ve[0]=Pe,Tt.selection)if(Array.isArray(Tt.selection))for(let Te=0;Te<Tt.selection.length;Te++)ve=ve.concat(Rt.pages[Tt.selection[Te]-1].map(Ee=>Ee.row.filter((Ne,Fe)=>Ut(Fe)).map(Ne=>Ne.data)));else ve=ve.concat(Rt.pages[Tt.selection-1].map(Te=>Te.row.filter((Ee,Ne)=>Ut(Ne)).map(Ee=>Ee.data)));else ve=ve.concat(Rt.data.data.map(Te=>Te.filter((Ee,Ne)=>Ut(Ne)).map(Ee=>Ee.data)));if(ve.length){let Te="";if(ve.forEach(Ee=>{Ee.forEach(Ne=>{typeof Ne=="string"&&(Ne=(Ne=(Ne=(Ne=(Ne=Ne.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(Ne=`"${Ne}"`),Te+=Ne+Tt.columnDelimiter}),Te=Te.trim().substring(0,Te.length-1),Te+=Tt.lineDelimiter}),Te=Te.trim().substring(0,Te.length-1),Tt.download&&(Te=`data:text/csv;charset=utf-8,${Te}`),Tt.download){const Ee=document.createElement("a");Ee.href=encodeURI(Te),Ee.download=`${Tt.filename||"datatable_export"}.txt`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)}return Te}return!1},wt.isJson=Jt,wt.isObject=ke,wt.makeEditable=function(Rt,kt={}){const Tt=new Ri(Rt,kt);return Rt.initialized?Tt.init():Rt.on("datatable.init",()=>Tt.init()),Tt}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[1])(1)});(function(){var Ve=function(s){if(s===null)return"null";if(s===void 0)return"undefined";var c=typeof s;return c==="object"&&(Array.prototype.isPrototypeOf(s)||s.constructor&&s.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(s)||s.constructor&&s.constructor.name==="String")?"string":c},Wt=function(s){return{eq:s}},wt=Wt(function(s,c){return s===c}),qt=function(s){return Wt(function(c,p){if(c.length!==p.length)return!1;for(var m=c.length,b=0;b<m;b++)if(!s.eq(c[b],p[b]))return!1;return!0})},ke=function(s){return Wt(function(c,p){var m=Object.keys(c),b=Object.keys(p);if(!function(F,W){return function($,tt){return Wt(function(ut,ht){return $.eq(tt(ut),tt(ht))})}(qt(F),function($){return function(tt,ut){return Array.prototype.slice.call(tt).sort(ut)}($,W)})}(wt).eq(m,b))return!1;for(var S=m.length,I=0;I<S;I++){var E=m[I];if(!s.eq(c[E],p[E]))return!1}return!0})},Jt=Wt(function(s,c){if(s===c)return!0;var p=Ve(s);return p===Ve(c)&&(function(m){return["undefined","boolean","number","string","function","xml","null"].indexOf(m)!==-1}(p)?s===c:p==="array"?qt(Jt).eq(s,c):p==="object"&&ke(Jt).eq(s,c))});const re=Object.getPrototypeOf,Zt=(s,c,p)=>{var m;return!!p(s,c.prototype)||((m=s.constructor)===null||m===void 0?void 0:m.name)===c.name},Bt=s=>c=>(p=>{const m=typeof p;return p===null?"null":m==="object"&&Array.isArray(p)?"array":m==="object"&&Zt(p,String,(b,S)=>S.isPrototypeOf(b))?"string":m})(c)===s,yt=s=>c=>typeof c===s,pt=s=>c=>s===c,gt=(s,c)=>It(s)&&Zt(s,c,(p,m)=>re(p)===m),ft=Bt("string"),It=Bt("object"),Mt=s=>gt(s,Object),Ct=Bt("array"),ct=pt(null),te=yt("boolean"),At=pt(void 0),Ft=s=>s==null,Kt=s=>!Ft(s),se=yt("function"),Me=yt("number"),fe=(s,c)=>{if(Ct(s)){for(let p=0,m=s.length;p<m;++p)if(!c(s[p]))return!1;return!0}return!1},ne=()=>{},Ht=(s,c)=>(...p)=>s(c.apply(null,p)),Gt=(s,c)=>p=>s(c(p)),ie=s=>()=>s,Le=s=>s,pe=(s,c)=>s===c;function De(s,...c){return(...p)=>{const m=c.concat(p);return s.apply(null,m)}}const Bn=s=>c=>!s(c),rn=s=>s(),ln=s=>{s()},oe=ie(!1),Oe=ie(!0);class U{constructor(c,p){this.tag=c,this.value=p}static some(c){return new U(!0,c)}static none(){return U.singletonNone}fold(c,p){return this.tag?p(this.value):c()}isSome(){return this.tag}isNone(){return!this.tag}map(c){return this.tag?U.some(c(this.value)):U.none()}bind(c){return this.tag?c(this.value):U.none()}exists(c){return this.tag&&c(this.value)}forall(c){return!this.tag||c(this.value)}filter(c){return!this.tag||c(this.value)?this:U.none()}getOr(c){return this.tag?this.value:c}or(c){return this.tag?this:c}getOrThunk(c){return this.tag?this.value:c()}orThunk(c){return this.tag?this:c()}getOrDie(c){if(this.tag)return this.value;throw new Error(c??"Called getOrDie on None")}static from(c){return Kt(c)?U.some(c):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(c){this.tag&&c(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const ye=Array.prototype.slice,cn=Array.prototype.indexOf,$e=Array.prototype.push,We=(s,c)=>cn.call(s,c),Re=(s,c)=>We(s,c)>-1,Be=(s,c)=>{for(let p=0,m=s.length;p<m;p++)if(c(s[p],p))return!0;return!1},un=(s,c)=>{const p=s.length,m=new Array(p);for(let b=0;b<p;b++){const S=s[b];m[b]=c(S,b)}return m},he=(s,c)=>{for(let p=0,m=s.length;p<m;p++)c(s[p],p)},In=(s,c)=>{for(let p=s.length-1;p>=0;p--)c(s[p],p)},kn=(s,c)=>{const p=[],m=[];for(let b=0,S=s.length;b<S;b++){const I=s[b];(c(I,b)?p:m).push(I)}return{pass:p,fail:m}},Gn=(s,c)=>{const p=[];for(let m=0,b=s.length;m<b;m++){const S=s[m];c(S,m)&&p.push(S)}return p},fi=(s,c,p)=>(In(s,(m,b)=>{p=c(p,m,b)}),p),Zn=(s,c,p)=>(he(s,(m,b)=>{p=c(p,m,b)}),p),Cr=(s,c,p)=>{for(let m=0,b=s.length;m<b;m++){const S=s[m];if(c(S,m))return U.some(S);if(p(S,m))break}return U.none()},Yi=(s,c)=>Cr(s,c,oe),wn=(s,c)=>{for(let p=0,m=s.length;p<m;p++)if(c(s[p],p))return U.some(p);return U.none()},zn=s=>{const c=[];for(let p=0,m=s.length;p<m;++p){if(!Ct(s[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+s);$e.apply(c,s[p])}return c},Un=(s,c)=>zn(un(s,c)),_i=(s,c)=>{for(let p=0,m=s.length;p<m;++p)if(c(s[p],p)!==!0)return!1;return!0},ui=s=>{const c=ye.call(s,0);return c.reverse(),c},Ri=(s,c)=>Gn(s,p=>!Re(c,p)),Rt=(s,c)=>{const p={};for(let m=0,b=s.length;m<b;m++){const S=s[m];p[String(S)]=c(S,m)}return p},kt=(s,c)=>{const p=ye.call(s,0);return p.sort(c),p},Tt=(s,c)=>c>=0&&c<s.length?U.some(s[c]):U.none(),Ut=s=>Tt(s,0),ve=s=>Tt(s,s.length-1),Pe=se(Array.from)?Array.from:s=>ye.call(s),Te=(s,c)=>{for(let p=0;p<s.length;p++){const m=c(s[p],p);if(m.isSome())return m}return U.none()},Ee=Object.keys,Ne=Object.hasOwnProperty,Fe=(s,c)=>{const p=Ee(s);for(let m=0,b=p.length;m<b;m++){const S=p[m];c(s[S],S)}},Qn=(s,c)=>Si(s,(p,m)=>({k:m,v:c(p,m)})),Si=(s,c)=>{const p={};return Fe(s,(m,b)=>{const S=c(m,b);p[S.k]=S.v}),p},yn=s=>(c,p)=>{s[p]=c},jn=(s,c,p,m)=>{Fe(s,(b,S)=>{(c(b,S)?p:m)(b,S)})},Ln=(s,c)=>{const p={};return jn(s,c,yn(p),ne),p},xi=(s,c)=>{const p=[];return Fe(s,(m,b)=>{p.push(c(m,b))}),p},vn=s=>xi(s,Le),En=(s,c)=>gn(s,c)?U.from(s[c]):U.none(),gn=(s,c)=>Ne.call(s,c),Di=(s,c)=>gn(s,c)&&s[c]!==void 0&&s[c]!==null,ar=s=>{const c={};return he(s,p=>{c[p]={}}),Ee(c)},Ni=s=>s.length!==void 0,Ji=Array.isArray,ir=(s,c,p)=>{if(!s)return!1;if(p=p||s,Ni(s)){for(let m=0,b=s.length;m<b;m++)if(c.call(p,s[m],m,s)===!1)return!1}else for(const m in s)if(gn(s,m)&&c.call(p,s[m],m,s)===!1)return!1;return!0},Bi=(s,c)=>{const p=[];return ir(s,(m,b)=>{p.push(c(m,b,s))}),p},yr=(s,c)=>{const p=[];return ir(s,(m,b)=>{c&&!c(m,b,s)||p.push(m)}),p},mr=(s,c,p,m)=>{let b=At(p)?s[0]:p;for(let S=0;S<s.length;S++)b=c.call(m,b,s[S],S);return b},Oi=(s,c,p)=>{for(let m=0,b=s.length;m<b;m++)if(c.call(p,s[m],m,s))return m;return-1},ei=s=>s[s.length-1],Jn=s=>{let c,p=!1;return(...m)=>(p||(p=!0,c=s.apply(null,m)),c)},rr=()=>mi(0,0),mi=(s,c)=>({major:s,minor:c}),Hi={nu:mi,detect:(s,c)=>{const p=String(c).toLowerCase();return s.length===0?rr():((m,b)=>{const S=((E,F)=>{for(let W=0;W<E.length;W++){const $=E[W];if($.test(F))return $}})(m,b);if(!S)return{major:0,minor:0};const I=E=>Number(b.replace(S,"$"+E));return mi(I(1),I(2))})(s,p)},unknown:rr},Gi=(s,c)=>{const p=String(c).toLowerCase();return Yi(s,m=>m.search(p))},sr=(s,c,p)=>c===""||s.length>=c.length&&s.substr(p,p+c.length)===c,ur=(s,c,p=0,m)=>{const b=s.indexOf(c,p);return b!==-1&&(!!At(m)||b+c.length<=m)},er=(s,c)=>sr(s,c,0),Jr=(s,c)=>sr(s,c,s.length-c.length),Or=s=>c=>c.replace(s,""),$t=Or(/^\s+|\s+$/g),h=Or(/^\s+/g),d=Or(/\s+$/g),y=s=>s.length>0,C=s=>!y(s),M=(s,c=10)=>{const p=parseInt(s,c);return isNaN(p)?U.none():U.some(p)},N=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,P=s=>c=>ur(c,s),V=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>ur(s,"edge/")&&ur(s,"chrome")&&ur(s,"safari")&&ur(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,N],search:s=>ur(s,"chrome")&&!ur(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>ur(s,"msie")||ur(s,"trident")},{name:"Opera",versionRegexes:[N,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:P("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:P("firefox")},{name:"Safari",versionRegexes:[N,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(ur(s,"safari")||ur(s,"mobile/"))&&ur(s,"applewebkit")}],G=[{name:"Windows",search:P("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>ur(s,"iphone")||ur(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:P("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:P("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:P("linux"),versionRegexes:[]},{name:"Solaris",search:P("sunos"),versionRegexes:[]},{name:"FreeBSD",search:P("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:P("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],K={browsers:ie(V),oses:ie(G)},J="Edge",rt="Chromium",vt="Opera",Lt="Firefox",Et="Safari",Qt=s=>{const c=s.current,p=s.version,m=b=>()=>c===b;return{current:c,version:p,isEdge:m(J),isChromium:m(rt),isIE:m("IE"),isOpera:m(vt),isFirefox:m(Lt),isSafari:m(Et)}},ue=()=>Qt({current:void 0,version:Hi.unknown()}),Ce=Qt,de="Windows",Y="Android",ot="Linux",zt="macOS",jt="Solaris",xe="FreeBSD",an="ChromeOS",Qe=s=>{const c=s.current,p=s.version,m=b=>()=>c===b;return{current:c,version:p,isWindows:m(de),isiOS:m("iOS"),isAndroid:m(Y),isMacOS:m(zt),isLinux:m(ot),isSolaris:m(jt),isFreeBSD:m(xe),isChromeOS:m(an)}},On=()=>Qe({current:void 0,version:Hi.unknown()}),Pn=Qe,ii=s=>window.matchMedia(s).matches;let ri=Jn(()=>((s,c,p)=>{const m=K.browsers(),b=K.oses(),S=c.bind(F=>((W,$)=>Te($.brands,tt=>{const ut=tt.brand.toLowerCase();return Yi(W,ht=>{var st;return ut===((st=ht.brand)===null||st===void 0?void 0:st.toLowerCase())}).map(ht=>({current:ht.name,version:Hi.nu(parseInt(tt.version,10),0)}))}))(m,F)).orThunk(()=>((F,W)=>Gi(F,W).map($=>{const tt=Hi.detect($.versionRegexes,W);return{current:$.name,version:tt}}))(m,s)).fold(ue,Ce),I=((F,W)=>Gi(F,W).map($=>{const tt=Hi.detect($.versionRegexes,W);return{current:$.name,version:tt}}))(b,s).fold(On,Pn),E=((F,W,$,tt)=>{const ut=F.isiOS()&&/ipad/i.test($)===!0,ht=F.isiOS()&&!ut,st=F.isiOS()||F.isAndroid(),xt=st||tt("(pointer:coarse)"),lt=ut||!ht&&st&&tt("(min-device-width:768px)"),_t=ht||st&&!lt,Pt=W.isSafari()&&F.isiOS()&&/safari/i.test($)===!1,Xt=!_t&&!lt&&!Pt;return{isiPad:ie(ut),isiPhone:ie(ht),isTablet:ie(lt),isPhone:ie(_t),isTouch:ie(xt),isAndroid:F.isAndroid,isiOS:F.isiOS,isWebView:ie(Pt),isDesktop:ie(Xt)}})(I,S,s,p);return{browser:S,os:I,deviceType:E}})(navigator.userAgent,U.from(navigator.userAgentData),ii));const Wi=()=>ri(),lr=navigator.userAgent,xr=Wi(),Ar=xr.browser,Er=xr.os,Qr=xr.deviceType,ha=lr.indexOf("Windows Phone")!==-1,ti={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ar.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ar.isIE(),windowsPhone:ha,browser:{current:Ar.current,version:Ar.version,isChromium:Ar.isChromium,isEdge:Ar.isEdge,isFirefox:Ar.isFirefox,isIE:Ar.isIE,isOpera:Ar.isOpera,isSafari:Ar.isSafari},os:{current:Er.current,version:Er.version,isAndroid:Er.isAndroid,isChromeOS:Er.isChromeOS,isFreeBSD:Er.isFreeBSD,isiOS:Er.isiOS,isLinux:Er.isLinux,isMacOS:Er.isMacOS,isSolaris:Er.isSolaris,isWindows:Er.isWindows},deviceType:{isDesktop:Qr.isDesktop,isiPad:Qr.isiPad,isiPhone:Qr.isiPhone,isPhone:Qr.isPhone,isTablet:Qr.isTablet,isTouch:Qr.isTouch,isWebView:Qr.isWebView}},Js=/^\s*|\s*$/g,xa=s=>Ft(s)?"":(""+s).replace(Js,""),Wa=function(s,c,p,m){m=m||this,s&&(p&&(s=s[p]),ir(s,(b,S)=>c.call(m,b,S,p)!==!1&&(Wa(b,c,p,m),!0)))},Mn={trim:xa,isArray:Ji,is:(s,c)=>c?!(c!=="array"||!Ji(s))||typeof s===c:s!==void 0,toArray:s=>{if(Ji(s))return s;{const c=[];for(let p=0,m=s.length;p<m;p++)c[p]=s[p];return c}},makeMap:(s,c,p={})=>{const m=ft(s)?s.split(c||","):s||[];let b=m.length;for(;b--;)p[m[b]]={};return p},each:ir,map:Bi,grep:yr,inArray:(s,c)=>{if(s){for(let p=0,m=s.length;p<m;p++)if(s[p]===c)return p}return-1},hasOwn:gn,extend:(s,...c)=>{for(let p=0;p<c.length;p++){const m=c[p];for(const b in m)if(gn(m,b)){const S=m[b];S!==void 0&&(s[b]=S)}}return s},walk:Wa,resolve:(s,c=window)=>{const p=s.split(".");for(let m=0,b=p.length;m<b&&(c=c[p[m]]);m++);return c},explode:(s,c)=>Ct(s)?s:s===""?[]:Bi(s.split(c||","),xa),_addCacheSuffix:s=>{const c=ti.cacheSuffix;return c&&(s+=(s.indexOf("?")===-1?"?":"&")+c),s}},$r=(s,c,p=pe)=>s.exists(m=>p(m,c)),to=(s,c,p)=>s.isSome()&&c.isSome()?U.some(p(s.getOrDie(),c.getOrDie())):U.none(),fs=(s,c)=>s?U.some(c):U.none();typeof window<"u"||Function("return this;")();const Tr=s=>s.dom.nodeName.toLowerCase(),Qi=s=>s.dom.nodeType,wh=s=>c=>Qi(c)===s,Po=wh(1),gs=wh(3),Gd=wh(9),_h=wh(11),Rc=s=>c=>Po(c)&&Tr(c)===s,ql=(s,c,p)=>{if(!(ft(p)||te(p)||Me(p)))throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",p,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(c,p+"")},Mo=(s,c,p)=>{ql(s.dom,c,p)},Ul=(s,c)=>{const p=s.dom;Fe(c,(m,b)=>{ql(p,b,m)})},Ma=(s,c)=>{const p=s.dom.getAttribute(c);return p===null?void 0:p},Qs=(s,c)=>U.from(Ma(s,c)),Sh=(s,c)=>{const p=s.dom;return!(!p||!p.hasAttribute)&&p.hasAttribute(c)},No=(s,c)=>{s.dom.removeAttribute(c)},Ff=s=>Zn(s.dom.attributes,(c,p)=>(c[p.name]=p.value,c),{}),Xd=(s,c)=>{const p=Ma(s,c);return p===void 0||p===""?[]:p.split(" ")},$l=s=>s.dom.classList!==void 0,Vf=s=>Xd(s,"class"),qd=(s,c)=>((p,m,b)=>{const S=Xd(p,m).concat([b]);return Mo(p,m,S.join(" ")),!0})(s,"class",c),Ud=(s,c)=>((p,m,b)=>{const S=Gn(Xd(p,m),I=>I!==b);return S.length>0?Mo(p,m,S.join(" ")):No(p,m),!1})(s,"class",c),$d=(s,c)=>{$l(s)?s.dom.classList.add(c):qd(s,c)},Zl=s=>{($l(s)?s.dom.classList:Vf(s)).length===0&&No(s,"class")},Kl=(s,c)=>{$l(s)?s.dom.classList.remove(c):Ud(s,c),Zl(s)},Au=(s,c)=>$l(s)&&s.dom.classList.contains(c),ms=s=>s.style!==void 0&&se(s.style.getPropertyValue),Jl=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},Ch=(s,c)=>{const p=(c||document).createElement("div");if(p.innerHTML=s,!p.hasChildNodes()||p.childNodes.length>1){const m="HTML does not have a single root node";throw console.error(m,s),new Error(m)}return Jl(p.childNodes[0])},bo=(s,c)=>{const p=(c||document).createElement(s);return Jl(p)},xl=(s,c)=>{const p=(c||document).createTextNode(s);return Jl(p)},Xe=Jl,da=(s,c,p)=>U.from(s.dom.elementFromPoint(c,p)).map(Jl),ja=(s,c)=>{const p=[],m=S=>(p.push(S),c(S));let b=c(s);do b=b.bind(m);while(b.isSome());return p},Go=(s,c)=>{const p=s.dom;if(p.nodeType!==1)return!1;{const m=p;if(m.matches!==void 0)return m.matches(c);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(c);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(c);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")}},Hf=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,tr=(s,c)=>s.dom===c.dom,bl=(s,c)=>{const p=s.dom,m=c.dom;return p!==m&&p.contains(m)},kh=s=>Xe(s.dom.ownerDocument),vs=s=>Gd(s)?s:kh(s),Ya=s=>Xe(vs(s).dom.defaultView),Xo=s=>U.from(s.dom.parentNode).map(Xe),Qo=s=>U.from(s.dom.parentElement).map(Xe),Ir=(s,c)=>{const p=se(c)?c:oe;let m=s.dom;const b=[];for(;m.parentNode!==null&&m.parentNode!==void 0;){const S=m.parentNode,I=Xe(S);if(b.push(I),p(I)===!0)break;m=S}return b},Ga=s=>U.from(s.dom.previousSibling).map(Xe),Mu=s=>U.from(s.dom.nextSibling).map(Xe),Xa=s=>ui(ja(s,Ga)),Ql=s=>ja(s,Mu),Ro=s=>un(s.dom.childNodes,Xe),Ah=(s,c)=>{const p=s.dom.childNodes;return U.from(p[c]).map(Xe)},Zd=s=>Ah(s,0),Wf=s=>Ah(s,s.dom.childNodes.length-1),Kd=s=>s.dom.childNodes.length,Jd=s=>_h(s)&&Kt(s.dom.host),Tu=se(Element.prototype.attachShadow)&&se(Node.prototype.getRootNode),Fm=ie(Tu),qo=Tu?s=>Xe(s.dom.getRootNode()):vs,Iu=s=>Jd(s)?s:(c=>{const p=c.dom.head;if(p==null)throw new Error("Head is not available yet");return Xe(p)})(vs(s)),Vm=s=>Xe(s.dom.host),Bc=s=>{if(Fm()&&Kt(s.target)){const c=Xe(s.target);if(Po(c)&&Du(c)&&s.composed&&s.composedPath){const p=s.composedPath();if(p)return Ut(p)}}return U.from(s.target)},Du=s=>Kt(s.dom.shadowRoot),Ta=s=>{const c=gs(s)?s.dom.parentNode:s.dom;if(c==null||c.ownerDocument===null)return!1;const p=c.ownerDocument;return(m=>{const b=qo(m);return Jd(b)?U.some(b):U.none()})(Xe(c)).fold(()=>p.body.contains(c),Gt(Ta,Vm))},ys=(s,c,p)=>{if(!ft(p))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",p,":: Element ",s),new Error("CSS value must be a string: "+p);ms(s)&&s.style.setProperty(c,p)},Mh=(s,c,p)=>{const m=s.dom;ys(m,c,p)},Th=(s,c)=>{const p=s.dom;Fe(c,(m,b)=>{ys(p,b,m)})},qa=(s,c)=>{const p=s.dom,m=window.getComputedStyle(p).getPropertyValue(c);return m!==""||Ta(s)?m:zc(p,c)},zc=(s,c)=>ms(s)?s.style.getPropertyValue(c):"",To=(s,c)=>{const p=s.dom,m=zc(p,c);return U.from(m).filter(b=>b.length>0)},Qd=s=>{const c={},p=s.dom;if(ms(p))for(let m=0;m<p.style.length;m++){const b=p.style.item(m);c[b]=p.style[b]}return c},tc=(s,c)=>{((p,m)=>{ms(p)&&p.style.removeProperty(m)})(s.dom,c),$r(Qs(s,"style").map($t),"")&&No(s,"style")},pa=(s,c)=>{Xo(s).each(p=>{p.dom.insertBefore(c.dom,s.dom)})},ec=(s,c)=>{Mu(s).fold(()=>{Xo(s).each(p=>{Bo(p,c)})},p=>{pa(p,c)})},tp=(s,c)=>{Zd(s).fold(()=>{Bo(s,c)},p=>{s.dom.insertBefore(c.dom,p.dom)})},Bo=(s,c)=>{s.dom.appendChild(c.dom)},Rs=(s,c)=>{he(c,p=>{Bo(s,p)})},xs=s=>{s.dom.textContent="",he(Ro(s),c=>{_r(c)})},_r=s=>{const c=s.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},bs=s=>{const c=Ro(s);var p,m;c.length>0&&(p=s,he(m=c,(b,S)=>{const I=S===0?p:m[S-1];ec(I,b)})),_r(s)},ta=s=>un(s,Xe),Lu=s=>s.dom.innerHTML,nc=(s,c)=>{const p=kh(s).dom,m=Xe(p.createDocumentFragment()),b=((S,I)=>{const E=(I||document).createElement("div");return E.innerHTML=S,Ro(Xe(E))})(c,p);Rs(m,b),xs(s),Bo(s,m)},E1=(s,c,p,m)=>((b,S,I,E,F)=>{const W=(($,tt)=>ut=>{$(ut)&&tt((ht=>{const st=Xe(Bc(ht).getOr(ht.target)),xt=()=>ht.stopPropagation(),lt=()=>ht.preventDefault(),_t=Ht(lt,xt);return((Pt,Xt,ce,Ae,_e,Ye,ze)=>({target:Pt,x:Xt,y:ce,stop:Ae,prevent:_e,kill:Ye,raw:ze}))(st,ht.clientX,ht.clientY,xt,lt,_t,ht)})(ut))})(I,E);return b.dom.addEventListener(S,W,!1),{unbind:De(ic,b,S,W,!1)}})(s,c,p,m),ic=(s,c,p,m)=>{s.dom.removeEventListener(c,p,m)},Ih=(s,c)=>({left:s,top:c,translate:(p,m)=>Ih(s+p,c+m)}),Fc=Ih,Ou=(s,c)=>s!==void 0?s:c!==void 0?c:0,jf=s=>{const c=s.dom,p=c.ownerDocument.body;return p===c?Fc(p.offsetLeft,p.offsetTop):Ta(s)?(m=>{const b=m.getBoundingClientRect();return Fc(b.left,b.top)})(c):Fc(0,0)},ep=s=>{const c=s!==void 0?s.dom:document,p=c.body.scrollLeft||c.documentElement.scrollLeft,m=c.body.scrollTop||c.documentElement.scrollTop;return Fc(p,m)},Eu=(s,c,p)=>{const m=(p!==void 0?p.dom:document).defaultView;m&&m.scrollTo(s,c)},Yf=(s,c)=>{Wi().browser.isSafari()&&se(s.dom.scrollIntoViewIfNeeded)?s.dom.scrollIntoViewIfNeeded(!1):s.dom.scrollIntoView(c)},Gf=(s,c,p,m)=>({x:s,y:c,width:p,height:m,right:s+p,bottom:c+m}),np=s=>{const c=s===void 0?window:s,p=c.document,m=ep(Xe(p));return(b=>{const S=b===void 0?window:b;return Wi().browser.isFirefox()?U.none():U.from(S.visualViewport)})(c).fold(()=>{const b=c.document.documentElement,S=b.clientWidth,I=b.clientHeight;return Gf(m.left,m.top,S,I)},b=>Gf(Math.max(b.pageLeft,m.left),Math.max(b.pageTop,m.top),b.width,b.height))},ip=(s,c)=>{let p=[];return he(Ro(s),m=>{c(m)&&(p=p.concat([m])),p=p.concat(ip(m,c))}),p};var Hm=(s,c,p,m,b)=>s(p,m)?U.some(p):se(b)&&b(p)?U.none():c(p,m,b);const rc=(s,c,p)=>{let m=s.dom;const b=se(p)?p:oe;for(;m.parentNode;){m=m.parentNode;const S=Xe(m);if(c(S))return U.some(S);if(b(S))break}return U.none()},wl=(s,c,p)=>Hm((m,b)=>b(m),rc,s,c,p),Ua=(s,c,p)=>rc(s,m=>Go(m,c),p),Vc=(s,c)=>((p,m)=>{const b=m===void 0?document:m.dom;return Hf(b)?U.none():U.from(b.querySelector(p)).map(Xe)})(c,s),_l=(s,c,p)=>Hm((m,b)=>Go(m,b),Ua,s,c,p),Xf=(s,c,p)=>Ua(s,c,p).isSome();class wo{constructor(c,p){this.node=c,this.rootNode=p,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(c){return this.node=this.findSibling(this.node,"firstChild","nextSibling",c),this.node}prev(c){return this.node=this.findSibling(this.node,"lastChild","previousSibling",c),this.node}prev2(c){return this.node=this.findPreviousNode(this.node,c),this.node}findSibling(c,p,m,b){if(c){if(!b&&c[p])return c[p];if(c!==this.rootNode){let S=c[m];if(S)return S;for(let I=c.parentNode;I&&I!==this.rootNode;I=I.parentNode)if(S=I[m],S)return S}}}findPreviousNode(c,p){if(c){const m=c.previousSibling;if(this.rootNode&&m===this.rootNode)return;if(m){if(!p){for(let S=m.lastChild;S;S=S.lastChild)if(!S.lastChild)return S}return m}const b=c.parentNode;if(b&&b!==this.rootNode)return b}}}const Hc=s=>c=>!!c&&c.nodeType===s,oc=s=>!!s&&!Object.getPrototypeOf(s),li=Hc(1),rp=s=>{const c=s.toLowerCase();return p=>Kt(p)&&p.nodeName.toLowerCase()===c},$a=s=>{const c=s.map(p=>p.toLowerCase());return p=>{if(p&&p.nodeName){const m=p.nodeName.toLowerCase();return Re(c,m)}return!1}},ac=(s,c)=>{const p=c.toLowerCase().split(" ");return m=>{if(li(m)){const b=m.ownerDocument.defaultView;if(b)for(let S=0;S<p.length;S++){const I=b.getComputedStyle(m,null);if((I?I.getPropertyValue(s):null)===p[S])return!0}}return!1}},Wm=s=>c=>li(c)&&c.hasAttribute(s),tl=s=>li(s)&&s.hasAttribute("data-mce-bogus"),ea=s=>li(s)&&s.tagName==="TABLE",op=s=>c=>!!(li(c)&&(c.contentEditable===s||c.getAttribute("data-mce-contenteditable")===s)),ap=$a(["textarea","input"]),Dn=Hc(3),Za=Hc(4),jm=Hc(7),el=Hc(8),Dh=Hc(9),sp=Hc(11),oo=rp("br"),qf=rp("img"),ba=op("true"),Yr=op("false"),Ka=$a(["td","th"]),nl=$a(["td","th","caption"]),ws=$a(["video","audio","object","embed"]),P1=rp("li"),na="\uFEFF",zo=" ",Ym=s=>s===na,fa=(s,c)=>((p,m)=>{const b=m===void 0?document:m.dom;return Hf(b)?[]:un(b.querySelectorAll(p),Xe)})(c,s),lp=((s,c)=>{const p=m=>s(m)?U.from(m.dom.nodeValue):U.none();return{get:m=>{if(!s(m))throw new Error("Can only get text value of a text node");return p(m).getOr("")},getOption:p,set:(m,b)=>{if(!s(m))throw new Error("Can only set raw text value of a text node");m.dom.nodeValue=b}}})(gs),sc=s=>lp.get(s),cp=s=>lp.getOption(s),Uf=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),Sl=s=>{let c;return p=>(c=c||Rt(s,Oe),gn(c,Tr(p)))},Bs=Sl(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),zs=s=>Po(s)&&!Bs(s),ga=s=>Po(s)&&Tr(s)==="br",Pu=Sl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Lh=Sl(["ul","ol","dl"]),Nu=Sl(["li","dd","dt"]),lc=Sl(["thead","tbody","tfoot"]),Ia=Sl(["td","th"]),Oh=Sl(["pre","script","textarea","style"]),Gm=Sl(Uf),_s=s=>Gm(s)||zs(s),up=()=>{const s=bo("br");return Mo(s,"data-mce-bogus","1"),s},Ja=s=>{xs(s),Bo(s,up())},Eh=s=>{Wf(s).each(c=>{Ga(c).each(p=>{Bs(s)&&ga(c)&&Bs(p)&&_r(c)})})},Co=na,Wr=Ym,Ho=s=>s.replace(/\uFEFF/g,""),Cl=li,kl=Dn,cc=s=>(kl(s)&&(s=s.parentNode),Cl(s)&&s.hasAttribute("data-mce-caret")),Wc=s=>kl(s)&&Wr(s.data),Uo=s=>cc(s)||Wc(s),Xm=s=>s.firstChild!==s.lastChild||!oo(s.firstChild),jc=s=>{const c=s.container();return!!Dn(c)&&(c.data.charAt(s.offset())===Co||s.isAtStart()&&Wc(c.previousSibling))},hp=s=>{const c=s.container();return!!Dn(c)&&(c.data.charAt(s.offset()-1)===Co||s.isAtEnd()&&Wc(c.nextSibling))},Ru=s=>kl(s)&&s.data[0]===Co,dp=s=>kl(s)&&s.data[s.data.length-1]===Co,$f=s=>s&&s.hasAttribute("data-mce-caret")?((c=>{var p;const m=c.getElementsByTagName("br"),b=m[m.length-1];tl(b)&&((p=b.parentNode)===null||p===void 0||p.removeChild(b))})(s),s.removeAttribute("data-mce-caret"),s.removeAttribute("data-mce-bogus"),s.removeAttribute("style"),s.removeAttribute("data-mce-style"),s.removeAttribute("_moz_abspos"),s):null,Ei=s=>cc(s.startContainer),uc=ba,Yc=Yr,N1=oo,Gc=Dn,pp=$a(["script","style","textarea"]),v0=$a(["img","input","textarea","hr","iframe","video","audio","object","embed"]),y0=$a(["table"]),Br=Uo,Yn=s=>!Br(s)&&(Gc(s)?!pp(s.parentNode):v0(s)||N1(s)||y0(s)||uo(s)),uo=s=>!(c=>li(c)&&c.getAttribute("unselectable")==="true")(s)&&Yc(s),Qa=(s,c)=>Yn(s)&&((p,m)=>{for(let b=p.parentNode;b&&b!==m;b=b.parentNode){if(uo(b))return!1;if(uc(b))return!0}return!0})(s,c),Ss=/^[ \t\r\n]*$/,Xc=s=>Ss.test(s),Zf=s=>s===`
`||s==="\r",Al=(s,c=4,p=!0,m=!0)=>{const b=((E,F)=>F<=0?"":new Array(F+1).join(" "))(0,c),S=s.replace(/\t/g,b);return Zn(S,(E,F)=>(W=>" \f	\v".indexOf(W)!==-1)(F)||F===zo?E.pcIsSpace||E.str===""&&p||E.str.length===S.length-1&&m||((W,$)=>$<W.length&&$>=0&&Zf(W[$]))(S,E.str.length+1)?{pcIsSpace:!1,str:E.str+zo}:{pcIsSpace:!0,str:E.str+" "}:{pcIsSpace:Zf(F),str:E.str+F},{pcIsSpace:!1,str:""}).str},fp=(s,c)=>Yn(s)&&!((p,m)=>Dn(p)&&Xc(p.data)&&!((b,S)=>{const I=Xe(S),E=Xe(b);return Xf(E,"pre,code",De(tr,I))})(p,m))(s,c)||(p=>li(p)&&p.nodeName==="A"&&!p.hasAttribute("href")&&(p.hasAttribute("name")||p.hasAttribute("id")))(s)||Kf(s),Kf=Wm("data-mce-bookmark"),Ml=Wm("data-mce-bogus"),gp=s=>li(s)&&s.getAttribute("data-mce-bogus")==="all",ho=(s,c=!0)=>((p,m)=>{let b=0;if(fp(p,p))return!1;{let S=p.firstChild;if(!S)return!0;const I=new wo(S,p);do{if(m){if(gp(S)){S=I.next(!0);continue}if(Ml(S)){S=I.next();continue}}if(oo(S))b++,S=I.next();else{if(fp(S,p))return!1;S=I.next()}}while(S);return b<=1}})(s.dom,c),ma="data-mce-block",Ph=s=>(c=>Gn(Ee(c),p=>!/[A-Z]/.test(p)))(s).join(","),Bu=(s,c)=>Kt(c.querySelector(s))?(c.setAttribute(ma,"true"),c.getAttribute("data-mce-selected")==="inline-boundary"&&c.removeAttribute("data-mce-selected"),!0):(c.removeAttribute(ma),!1),Jf=(s,c)=>{const p=Ph(s.getTransparentElements()),m=Ph(s.getBlockElements());return Gn(c.querySelectorAll(p),b=>Bu(m,b))},Nh=(s,c)=>{var p;const m=c?"lastChild":"firstChild";for(let b=s[m];b;b=b[m])if(ho(Xe(b)))return void((p=b.parentNode)===null||p===void 0||p.removeChild(b))},Qf=(s,c,p)=>{const m=s.getBlockElements(),b=Xe(c),S=E=>Tr(E)in m,I=E=>tr(E,b);he(ta(p),E=>{rc(E,S,I).each(F=>{const W=(($,tt)=>Gn(Ro($),ut=>S(ut)&&!s.isValidChild(Tr(F),Tr(ut))))(E);if(W.length>0){const $=Qo(F);he(W,tt=>{rc(tt,S,I).each(ut=>{((ht,st)=>{const xt=document.createRange(),lt=ht.parentNode;if(lt){xt.setStartBefore(ht),xt.setEndBefore(st);const _t=xt.extractContents();Nh(_t,!0),xt.setStartAfter(st),xt.setEndAfter(ht);const Pt=xt.extractContents();Nh(Pt,!1),ho(Xe(_t))||lt.insertBefore(_t,ht),ho(Xe(st))||lt.insertBefore(st,ht),ho(Xe(Pt))||lt.insertBefore(Pt,ht),lt.removeChild(ht)}})(ut.dom,tt.dom)})}),$.each(tt=>Jf(s,tt.dom))}})})},Da=(s,c)=>{const p=Jf(s,c);Qf(s,c,p)},mp=(s,c)=>{if(tg(s,c)){const p=Ph(s.getBlockElements());Bu(p,c)}},zu=s=>s.hasAttribute(ma),il=(s,c)=>gn(s.getTransparentElements(),c),tg=(s,c)=>li(c)&&il(s,c.nodeName),Sr=(s,c)=>tg(s,c)&&zu(c),qm=(s,c)=>c.type===1&&il(s,c.name)&&At(c.attr(ma)),eg=Wi().browser,vp=s=>Yi(s,Po),Fr=(s,c)=>s.children&&Re(s.children,c),qc=(s,c={})=>{let p=0;const m={},b=Xe(s),S=vs(b),I=F=>new Promise((W,$)=>{let tt;const ut=Mn._addCacheSuffix(F),ht=(Xt=>En(m,Xt).getOrThunk(()=>({id:"mce-u"+p++,passed:[],failed:[],count:0})))(ut);m[ut]=ht,ht.count++;const st=(Xt,ce)=>{he(Xt,ln),ht.status=ce,ht.passed=[],ht.failed=[],tt&&(tt.onload=null,tt.onerror=null,tt=null)},xt=()=>st(ht.passed,2),lt=()=>st(ht.failed,3);if(W&&ht.passed.push(W),$&&ht.failed.push($),ht.status===1)return;if(ht.status===2)return void xt();if(ht.status===3)return void lt();ht.status=1;const _t=bo("link",S.dom);var Pt;Ul(_t,{rel:"stylesheet",type:"text/css",id:ht.id}),c.contentCssCors&&Mo(_t,"crossOrigin","anonymous"),c.referrerPolicy&&Mo(_t,"referrerpolicy",c.referrerPolicy),tt=_t.dom,tt.onload=xt,tt.onerror=lt,Pt=_t,Bo(Iu(b),Pt),Mo(_t,"href",ut)}),E=F=>{const W=Mn._addCacheSuffix(F);En(m,W).each($=>{--$.count==0&&(delete m[W],(tt=>{const ut=Iu(b);Vc(ut,"#"+tt).each(_r)})($.id))})};return{load:I,loadAll:F=>Promise.allSettled(un(F,W=>I(W).then(ie(W)))).then(W=>{const $=kn(W,tt=>tt.status==="fulfilled");return $.fail.length>0?Promise.reject(un($.fail,tt=>tt.reason)):un($.pass,tt=>tt.value)}),unload:E,unloadAll:F=>{he(F,W=>{E(W)})},_setReferrerPolicy:F=>{c.referrerPolicy=F},_setContentCssCors:F=>{c.contentCssCors=F}}},Um=(()=>{const s=new WeakMap;return{forElement:(c,p)=>{const m=qo(c).dom;return U.from(s.get(m)).getOrThunk(()=>{const b=qc(m,p);return s.set(m,b),b})}}})(),Fu=(s,c)=>Kt(s)&&(fp(s,c)||zs(Xe(s))),x0=s=>(c=>c.nodeName.toLowerCase()==="span")(s)&&s.getAttribute("data-mce-type")==="bookmark",ng=(s,c,p)=>{var m;const b=p||c;if(li(c)&&x0(c))return c;const S=c.childNodes;for(let I=S.length-1;I>=0;I--)ng(s,S[I],b);if(li(c)){const I=c.childNodes;I.length===1&&x0(I[0])&&((m=c.parentNode)===null||m===void 0||m.insertBefore(I[0],c))}return(I=>sp(I)||Dh(I))(c)||fp(c,b)||(I=>!!li(I)&&I.childNodes.length>0)(c)||((I,E)=>Dn(I)&&I.data.length>0&&((F,W)=>{const $=new wo(F,W).prev(!1),tt=new wo(F,W).next(!1),ut=At($)||Fu($,W),ht=At(tt)||Fu(tt,W);return ut&&ht})(I,E))(c,b)||s.remove(c),c},$m=Mn.makeMap,Fs=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,po=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wa=/[<>&\"\']/g,yp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Uc={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},hr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},b0={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Vu=(s,c)=>{const p={};if(s){const m=s.split(",");c=c||10;for(let b=0;b<m.length;b+=2){const S=String.fromCharCode(parseInt(m[b],c));if(!hr[S]){const I="&"+m[b+1]+";";p[S]=I,p[I]=S}}return p}},hc=Vu("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),go=(s,c)=>s.replace(c?Fs:po,p=>hr[p]||p),Zm=(s,c)=>s.replace(c?Fs:po,p=>p.length>1?"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";":hr[p]||"&#"+p.charCodeAt(0)+";"),dc=(s,c,p)=>{const m=p||hc;return s.replace(c?Fs:po,b=>hr[b]||m[b]||b)},Tl={encodeRaw:go,encodeAllRaw:s=>(""+s).replace(wa,c=>hr[c]||c),encodeNumeric:Zm,encodeNamed:dc,getEncodeFunc:(s,c)=>{const p=Vu(c)||hc,m=$m(s.replace(/\+/g,","));return m.named&&m.numeric?(b,S)=>b.replace(S?Fs:po,I=>hr[I]!==void 0?hr[I]:p[I]!==void 0?p[I]:I.length>1?"&#"+(1024*(I.charCodeAt(0)-55296)+(I.charCodeAt(1)-56320)+65536)+";":"&#"+I.charCodeAt(0)+";"):m.named?c?(b,S)=>dc(b,S,p):dc:m.numeric?Zm:go},decode:s=>s.replace(yp,(c,p)=>p?(p=p.charAt(0).toLowerCase()==="x"?parseInt(p.substr(1),16):parseInt(p,10))>65535?(p-=65536,String.fromCharCode(55296+(p>>10),56320+(1023&p))):Uc[p]||String.fromCharCode(p):b0[c]||hc[c]||(m=>{const b=bo("div").dom;return b.innerHTML=m,b.textContent||b.innerText||m})(c))},Hu={},Rh={},Wu={},$c=Mn.makeMap,ao=Mn.each,Bh=Mn.extend,ig=Mn.explode,R1=Mn.inArray,Fo=(s,c)=>(s=Mn.trim(s))?s.split(c||" "):[],rg=(s,c={})=>{const p=$c(s," ",$c(s.toUpperCase()," "));return Bh(p,c)},zh=s=>rg("td th li dt dd figcaption caption details summary",s.getTextBlockElements()),Il=(s,c)=>{if(s){const p={};return ft(s)&&(s={"*":s}),ao(s,(m,b)=>{p[b]=p[b.toUpperCase()]=c==="map"?$c(m,/[, ]/):ig(m,/[, ]/)}),p}},pc=(s={})=>{var c;const p={},m={};let b=[];const S={},I={},E=(Cn,Wn,si)=>{const pi=s[Cn];if(pi)return $c(pi,/[, ]/,$c(pi.toUpperCase(),/[, ]/));{let Pi=Rh[Cn];return Pi||(Pi=rg(Wn,si),Rh[Cn]=Pi),Pi}},F=(c=s.schema)!==null&&c!==void 0?c:"html5",W=(Cn=>{const Wn={};let si,pi,Pi,ji;const ai=(Oo,co="",ka="")=>{const Aa=Fo(ka),gl=Fo(Oo);let ml=gl.length;for(;ml--;){const Ko=Fo([si,co].join(" "));Wn[gl[ml]]={attributes:Rt(Ko,()=>({})),attributesOrder:Ko,children:Rt(Aa,ie(Wu))}}},$i=(Oo,co)=>{const ka=Fo(Oo),Aa=Fo(co);let gl=ka.length;for(;gl--;){const ml=Wn[ka[gl]];for(let Ko=0,Ps=Aa.length;Ko<Ps;Ko++)ml.attributes[Aa[Ko]]={},ml.attributesOrder.push(Aa[Ko])}};if(Hu[Cn])return Hu[Cn];if(si="id accesskey class dir lang style tabindex title role",pi="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",Pi="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",Cn!=="html4"&&(si+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",pi+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",Pi+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),Cn!=="html5-strict"){si+=" xml:lang";const Oo="acronym applet basefont big font strike tt";Pi=[Pi,Oo].join(" "),ao(Fo(Oo),ka=>{ai(ka,"",Pi)});const co="center dir isindex noframes";pi=[pi,co].join(" "),ji=[pi,Pi].join(" "),ao(Fo(co),ka=>{ai(ka,"",ji)})}return ji=ji||[pi,Pi].join(" "),ai("html","manifest","head body"),ai("head","","base command link meta noscript script style title"),ai("title hr noscript br"),ai("base","href target"),ai("link","href rel media hreflang type sizes hreflang"),ai("meta","name http-equiv content charset"),ai("style","media type scoped"),ai("script","src async defer type charset"),ai("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",ji),ai("address dt dd div caption","",ji),ai("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",Pi),ai("blockquote","cite",ji),ai("ol","reversed start type","li"),ai("ul","","li"),ai("li","value",ji),ai("dl","","dt dd"),ai("a","href target rel media hreflang type",ji),ai("q","cite",Pi),ai("ins del","cite datetime",ji),ai("img","src sizes srcset alt usemap ismap width height"),ai("iframe","src name width height",ji),ai("embed","src type width height"),ai("object","data type typemustmatch name usemap form width height",[ji,"param"].join(" ")),ai("param","name value"),ai("map","name",[ji,"area"].join(" ")),ai("area","alt coords shape href target rel media hreflang type"),ai("table","border","caption colgroup thead tfoot tbody tr"+(Cn==="html4"?" col":"")),ai("colgroup","span","col"),ai("col","span"),ai("tbody thead tfoot","","tr"),ai("tr","","td th"),ai("td","colspan rowspan headers",ji),ai("th","colspan rowspan headers scope abbr",ji),ai("form","accept-charset action autocomplete enctype method name novalidate target",ji),ai("fieldset","disabled form name",[ji,"legend"].join(" ")),ai("label","form for",Pi),ai("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),ai("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",Cn==="html4"?ji:Pi),ai("select","disabled form multiple name required size","option optgroup"),ai("optgroup","disabled label","option"),ai("option","disabled label selected value"),ai("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),ai("menu","type label",[ji,"li"].join(" ")),ai("noscript","",ji),Cn!=="html4"&&(ai("wbr"),ai("ruby","",[Pi,"rt rp"].join(" ")),ai("figcaption","",ji),ai("mark rt rp summary bdi","",Pi),ai("canvas","width height",ji),ai("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[ji,"track source"].join(" ")),ai("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[ji,"track source"].join(" ")),ai("picture","","img source"),ai("source","src srcset type media sizes"),ai("track","kind src srclang label default"),ai("datalist","",[Pi,"option"].join(" ")),ai("article section nav aside main header footer","",ji),ai("hgroup","","h1 h2 h3 h4 h5 h6"),ai("figure","",[ji,"figcaption"].join(" ")),ai("time","datetime",Pi),ai("dialog","open",ji),ai("command","type label icon disabled checked radiogroup command"),ai("output","for form name",Pi),ai("progress","value max",Pi),ai("meter","value min max low high optimum",Pi),ai("details","open",[ji,"summary"].join(" ")),ai("keygen","autofocus challenge disabled form keytype name")),Cn!=="html5-strict"&&($i("script","language xml:space"),$i("style","xml:space"),$i("object","declare classid code codebase codetype archive standby align border hspace vspace"),$i("embed","align name hspace vspace"),$i("param","valuetype type"),$i("a","charset name rev shape coords"),$i("br","clear"),$i("applet","codebase archive code object alt name width height align hspace vspace"),$i("img","name longdesc align border hspace vspace"),$i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),$i("font basefont","size color face"),$i("input","usemap align"),$i("select"),$i("textarea"),$i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),$i("ul","type compact"),$i("li","type"),$i("ol dl menu dir","compact"),$i("pre","width xml:space"),$i("hr","align noshade size width"),$i("isindex","prompt"),$i("table","summary width frame rules cellspacing cellpadding align bgcolor"),$i("col","width align char charoff valign"),$i("colgroup","width align char charoff valign"),$i("thead","align char charoff valign"),$i("tr","align char charoff valign bgcolor"),$i("th","axis align char charoff valign nowrap bgcolor width height"),$i("form","accept"),$i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),$i("tfoot","align char charoff valign"),$i("tbody","align char charoff valign"),$i("area","nohref"),$i("body","background bgcolor text link vlink alink")),Cn!=="html4"&&($i("input button select textarea","autofocus"),$i("input textarea","placeholder"),$i("a","download"),$i("link script img","crossorigin"),$i("img","loading"),$i("iframe","sandbox seamless allow allowfullscreen loading")),Cn!=="html4"&&he([Wn.video,Wn.audio],Oo=>{delete Oo.children.audio,delete Oo.children.video}),ao(Fo("a form meter progress dfn"),Oo=>{Wn[Oo]&&delete Wn[Oo].children[Oo]}),delete Wn.caption.children.table,delete Wn.script,Hu[Cn]=Wn,Wn})(F);s.verify_html===!1&&(s.valid_elements="*[*]");const $=Il(s.valid_styles),tt=Il(s.invalid_styles,"map"),ut=Il(s.valid_classes,"map"),ht=E("whitespace_elements","pre script noscript style textarea video audio iframe object code"),st=E("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),xt=E("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),lt=E("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),_t="td th iframe video audio object script code",Pt=E("non_empty_elements",_t+" pre",xt),Xt=E("move_caret_before_on_enter_elements",_t+" table",xt),ce=E("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Ae=E("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",ce),_e=E("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ye=E("transparent_elements","a ins del canvas map");ao("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Cn=>{I[Cn]=new RegExp("</"+Cn+"[^>]*>","gi")});const ze=Cn=>new RegExp("^"+Cn.replace(/([?+*])/g,".$1")+"$"),Ge=Cn=>{const Wn=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,si=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,pi=/[*?+]/;if(Cn){const Pi=Fo(Cn,",");let ji,ai;p["@"]&&(ji=p["@"].attributes,ai=p["@"].attributesOrder);for(let $i=0,Oo=Pi.length;$i<Oo;$i++){let co=Wn.exec(Pi[$i]);if(co){const ka=co[1],Aa=co[2],gl=co[3],ml=co[5],Ko={},Ps=[],yo={attributes:Ko,attributesOrder:Ps};if(ka==="#"&&(yo.paddEmpty=!0),ka==="-"&&(yo.removeEmpty=!0),co[4]==="!"&&(yo.removeEmptyAttrs=!0),ji&&(Fe(ji,(vl,mh)=>{Ko[mh]=vl}),ai&&Ps.push(...ai)),ml){const vl=Fo(ml,"|");for(let mh=0,c0=vl.length;mh<c0;mh++)if(co=si.exec(vl[mh]),co){const Pc={},Om=co[1],ps=co[2].replace(/[\\:]:/g,":"),Vd=co[3],Ks=co[4];if(Om==="!"&&(yo.attributesRequired=yo.attributesRequired||[],yo.attributesRequired.push(ps),Pc.required=!0),Om==="-"){delete Ko[ps],Ps.splice(R1(Ps,ps),1);continue}if(Vd&&(Vd==="="&&(yo.attributesDefault=yo.attributesDefault||[],yo.attributesDefault.push({name:ps,value:Ks}),Pc.defaultValue=Ks),Vd==="~"&&(yo.attributesForced=yo.attributesForced||[],yo.attributesForced.push({name:ps,value:Ks}),Pc.forcedValue=Ks),Vd==="<"&&(Pc.validValues=$c(Ks,"?"))),pi.test(ps)){const Ef=Pc;yo.attributePatterns=yo.attributePatterns||[],Ef.pattern=ze(ps),yo.attributePatterns.push(Ef)}else Ko[ps]||Ps.push(ps),Ko[ps]=Pc}}if(ji||Aa!=="@"||(ji=Ko,ai=Ps),gl&&(yo.outputName=Aa,p[gl]=yo),pi.test(Aa)){const vl=yo;vl.pattern=ze(Aa),b.push(vl)}else p[Aa]=yo}}}},en=Cn=>{b=[],he(Ee(p),Wn=>{delete p[Wn]}),Ge(Cn),ao(W,(Wn,si)=>{m[si]=Wn.children})},nn=Cn=>{const Wn=/^(~)?(.+)$/;Cn&&(delete Rh.text_block_elements,delete Rh.block_elements,ao(Fo(Cn,","),si=>{const pi=Wn.exec(si);if(pi){const Pi=pi[1]==="~",ji=Pi?"span":"div",ai=pi[2];if(m[ai]=m[ji],S[ai]=ji,Pt[ai.toUpperCase()]={},Pt[ai]={},Pi||(Ae[ai.toUpperCase()]={},Ae[ai]={}),!p[ai]){let $i=p[ji];$i=Bh({},$i),delete $i.removeEmptyAttrs,delete $i.removeEmpty,p[ai]=$i}ao(m,($i,Oo)=>{$i[ji]&&(m[Oo]=$i=Bh({},m[Oo]),$i[ai]=$i[ji])})}}))},hn=Cn=>{const Wn=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Hu[F],Cn&&ao(Fo(Cn,","),si=>{const pi=Wn.exec(si);if(pi){const Pi=pi[1];let ji;ji=Pi?m[pi[2]]:m[pi[2]]={"#comment":{}},ji=m[pi[2]],ao(Fo(pi[3],"|"),ai=>{Pi==="-"?delete ji[ai]:ji[ai]={}})}})},sn=Cn=>{const Wn=p[Cn];if(Wn)return Wn;let si=b.length;for(;si--;){const pi=b[si];if(pi.pattern.test(Cn))return pi}};s.valid_elements?en(s.valid_elements):(ao(W,(Cn,Wn)=>{p[Wn]={attributes:Cn.attributes,attributesOrder:Cn.attributesOrder},m[Wn]=Cn.children}),ao(Fo("strong/b em/i"),Cn=>{const Wn=Fo(Cn,"/");p[Wn[1]].outputName=Wn[0]}),ao(_e,(Cn,Wn)=>{p[Wn]&&(s.padd_empty_block_inline_children&&(p[Wn].paddInEmptyBlock=!0),p[Wn].removeEmpty=!0)}),ao(Fo("ol ul blockquote a table tbody"),Cn=>{p[Cn]&&(p[Cn].removeEmpty=!0)}),ao(Fo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),Cn=>{p[Cn].paddEmpty=!0}),ao(Fo("span"),Cn=>{p[Cn].removeEmptyAttrs=!0})),nn(s.custom_elements),hn(s.valid_children),Ge(s.extended_valid_elements),hn("+ol[ul|ol],+ul[ul|ol]"),ao({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Cn,Wn)=>{p[Wn]&&(p[Wn].parentsRequired=Fo(Cn))}),s.invalid_elements&&ao(ig(s.invalid_elements),Cn=>{p[Cn]&&delete p[Cn]}),sn("span")||Ge("span[!data-mce-type|*]");const xn=ie($),$n=ie(tt),Kn=ie(ut),ki=ie(lt),Ii=ie(Ae),fr=ie(ce),Hr=ie(_e),yi=ie(Object.seal(xt)),Xi=ie(st),Vi=ie(Pt),Ue=ie(Xt),Ze=ie(ht),mn=ie(Ye),_n=ie(Object.seal(I)),Sn=ie(S);return{type:F,children:m,elements:p,getValidStyles:xn,getValidClasses:Kn,getBlockElements:Ii,getInvalidStyles:$n,getVoidElements:yi,getTextBlockElements:fr,getTextInlineElements:Hr,getBoolAttrs:ki,getElementRule:sn,getSelfClosingElements:Xi,getNonEmptyElements:Vi,getMoveCaretBeforeOnEnterElements:Ue,getWhitespaceElements:Ze,getTransparentElements:mn,getSpecialElements:_n,isValidChild:(Cn,Wn)=>{const si=m[Cn.toLowerCase()];return!(!si||!si[Wn.toLowerCase()])},isValid:(Cn,Wn)=>{const si=sn(Cn);if(si){if(!Wn)return!0;{if(si.attributes[Wn])return!0;const pi=si.attributePatterns;if(pi){let Pi=pi.length;for(;Pi--;)if(pi[Pi].pattern.test(Wn))return!0}}}return!1},getCustomElements:Sn,addValidElements:Ge,setValidElements:en,addCustomElements:nn,addValidChildren:hn}},Km=(s={},c)=>{const p=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,m=/\s*([^:]+):\s*([^;]+);?/g,b=/\s+$/,S={};let I,E;c&&(I=c.getValidStyles(),E=c.getInvalidStyles());const F=`\\" \\' \\; \\: ; : \uFEFF`.split(" ");for(let $=0;$<F.length;$++)S[F[$]]="\uFEFF"+$,S["\uFEFF"+$]=F[$];const W={parse:$=>{const tt={};let ut=!1;const ht=s.url_converter,st=s.url_converter_scope||W,xt=(Ge,en,nn)=>{const hn=tt[Ge+"-top"+en];if(!hn)return;const sn=tt[Ge+"-right"+en];if(!sn)return;const xn=tt[Ge+"-bottom"+en];if(!xn)return;const $n=tt[Ge+"-left"+en];if(!$n)return;const Kn=[hn,sn,xn,$n];let ki=Kn.length-1;for(;ki--&&Kn[ki]===Kn[ki+1];);ki>-1&&nn||(tt[Ge+en]=ki===-1?Kn[0]:Kn.join(" "),delete tt[Ge+"-top"+en],delete tt[Ge+"-right"+en],delete tt[Ge+"-bottom"+en],delete tt[Ge+"-left"+en])},lt=Ge=>{const en=tt[Ge];if(!en)return;const nn=en.split(" ");let hn=nn.length;for(;hn--;)if(nn[hn]!==nn[0])return!1;return tt[Ge]=nn[0],!0},_t=Ge=>(ut=!0,S[Ge]),Pt=(Ge,en)=>(ut&&(Ge=Ge.replace(/\uFEFF[0-9]/g,nn=>S[nn])),en||(Ge=Ge.replace(/\\([\'\";:])/g,"$1")),Ge),Xt=Ge=>String.fromCharCode(parseInt(Ge.slice(1),16)),ce=Ge=>Ge.replace(/\\[0-9a-f]+/gi,Xt),Ae=(Ge,en,nn,hn,sn,xn)=>{if(sn=sn||xn)return"'"+(sn=Pt(sn)).replace(/\'/g,"\\'")+"'";if(en=Pt(en||nn||hn||""),!s.allow_script_urls){const $n=en.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test($n)||!s.allow_svg_data_urls&&/^data:image\/svg/i.test($n))return""}return ht&&(en=ht.call(st,en,"style")),"url('"+en.replace(/\'/g,"\\'")+"')"};if($){let Ge;for($=($=$.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,_t).replace(/\"[^\"]+\"|\'[^\']+\'/g,en=>en.replace(/[;:]/g,_t));Ge=m.exec($);){m.lastIndex=Ge.index+Ge[0].length;let en=Ge[1].replace(b,"").toLowerCase(),nn=Ge[2].replace(b,"");if(en&&nn){if(en=ce(en),nn=ce(nn),en.indexOf("\uFEFF")!==-1||en.indexOf('"')!==-1||!s.allow_script_urls&&(en==="behavior"||/expression\s*\(|\/\*|\*\//.test(nn)))continue;en==="font-weight"&&nn==="700"?nn="bold":en!=="color"&&en!=="background-color"||(nn=nn.toLowerCase()),nn=nn.replace(p,Ae),tt[en]=ut?Pt(nn,!0):nn}}xt("border","",!0),xt("border","-width"),xt("border","-color"),xt("border","-style"),xt("padding",""),xt("margin",""),Ye="border-style",ze="border-color",lt(_e="border-width")&&lt(Ye)&&lt(ze)&&(tt.border=tt[_e]+" "+tt[Ye]+" "+tt[ze],delete tt[_e],delete tt[Ye],delete tt[ze]),tt.border==="medium none"&&delete tt.border,tt["border-image"]==="none"&&delete tt["border-image"]}var _e,Ye,ze;return tt},serialize:($,tt)=>{let ut="";const ht=(st,xt)=>{const lt=xt[st];if(lt)for(let _t=0,Pt=lt.length;_t<Pt;_t++){const Xt=lt[_t],ce=$[Xt];ce&&(ut+=(ut.length>0?" ":"")+Xt+": "+ce+";")}};return tt&&I?(ht("*",I),ht(tt,I)):Fe($,(st,xt)=>{st&&((lt,_t)=>{if(!E||!_t)return!0;let Pt=E["*"];return!(Pt&&Pt[lt]||(Pt=E[_t],Pt&&Pt[lt]))})(xt,tt)&&(ut+=(ut.length>0?" ":"")+xt+": "+st+";")}),ut}};return W},Jm={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},w0=(s,c)=>{const p=c??{};for(const m in s)gn(Jm,m)||(p[m]=s[m]);return Kt(s.composedPath)&&(p.composedPath=()=>s.composedPath()),p},xp=(s,c,p,m)=>{var b;const S=w0(c,m);return S.type=s,Ft(S.target)&&(S.target=(b=S.srcElement)!==null&&b!==void 0?b:p),(I=>Ft(I.preventDefault)||(E=>E instanceof Event||se(E.initEvent))(I))(c)&&(S.preventDefault=()=>{S.defaultPrevented=!0,S.isDefaultPrevented=Oe,se(c.preventDefault)&&c.preventDefault()},S.stopPropagation=()=>{S.cancelBubble=!0,S.isPropagationStopped=Oe,se(c.stopPropagation)&&c.stopPropagation()},S.stopImmediatePropagation=()=>{S.isImmediatePropagationStopped=Oe,S.stopPropagation()},(I=>I.isDefaultPrevented===Oe||I.isDefaultPrevented===oe)(S)||(S.isDefaultPrevented=S.defaultPrevented===!0?Oe:oe,S.isPropagationStopped=S.cancelBubble===!0?Oe:oe,S.isImmediatePropagationStopped=oe)),S},Qm=/^(?:mouse|contextmenu)|click/,Fh=(s,c,p,m)=>{s.addEventListener(c,p,m||!1)},Zc=(s,c,p,m)=>{s.removeEventListener(c,p,m||!1)},ju=(s,c)=>{const p=xp(s.type,s,document,c);if((m=>Kt(m)&&Qm.test(m.type))(s)&&At(s.pageX)&&!At(s.clientX)){const m=p.target.ownerDocument||document,b=m.documentElement,S=m.body,I=p;I.pageX=s.clientX+(b&&b.scrollLeft||S&&S.scrollLeft||0)-(b&&b.clientLeft||S&&S.clientLeft||0),I.pageY=s.clientY+(b&&b.scrollTop||S&&S.scrollTop||0)-(b&&b.clientTop||S&&S.clientTop||0)}return p},tv=(s,c,p)=>{const m=s.document,b={type:"ready"};if(p.domLoaded)return void c(b);const S=()=>{Zc(s,"DOMContentLoaded",S),Zc(s,"load",S),p.domLoaded||(p.domLoaded=!0,c(b)),s=null};m.readyState==="complete"||m.readyState==="interactive"&&m.body?S():Fh(s,"DOMContentLoaded",S),p.domLoaded||Fh(s,"load",S)};class Kc{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(c,p,m,b){const S=this;let I;const E=window,F=ut=>{S.executeHandlers(ju(ut||E.event),W)};if(!c||Dn(c)||el(c))return m;let W;c[S.expando]?W=c[S.expando]:(W=S.count++,c[S.expando]=W,S.events[W]={}),b=b||c;const $=p.split(" ");let tt=$.length;for(;tt--;){let ut=$[tt],ht=F,st=!1,xt=!1;ut==="DOMContentLoaded"&&(ut="ready"),S.domLoaded&&ut==="ready"&&c.readyState==="complete"?m.call(b,ju({type:ut})):(S.hasFocusIn||ut!=="focusin"&&ut!=="focusout"||(st=!0,xt=ut==="focusin"?"focus":"blur",ht=lt=>{const _t=ju(lt||E.event);_t.type=_t.type==="focus"?"focusin":"focusout",S.executeHandlers(_t,W)}),I=S.events[W][ut],I?ut==="ready"&&S.domLoaded?m(ju({type:ut})):I.push({func:m,scope:b}):(S.events[W][ut]=I=[{func:m,scope:b}],I.fakeName=xt,I.capture=st,I.nativeHandler=ht,ut==="ready"?tv(c,ht,S):Fh(c,xt||ut,ht,st)))}return c=I=null,m}unbind(c,p,m){if(!c||Dn(c)||el(c))return this;const b=c[this.expando];if(b){let S=this.events[b];if(p){const I=p.split(" ");let E=I.length;for(;E--;){const F=I[E],W=S[F];if(W){if(m){let $=W.length;for(;$--;)if(W[$].func===m){const tt=W.nativeHandler,ut=W.fakeName,ht=W.capture,st=W.slice(0,$).concat(W.slice($+1));st.nativeHandler=tt,st.fakeName=ut,st.capture=ht,S[F]=st}}m&&W.length!==0||(delete S[F],Zc(c,W.fakeName||F,W.nativeHandler,W.capture))}}}else Fe(S,(I,E)=>{Zc(c,I.fakeName||E,I.nativeHandler,I.capture)}),S={};for(const I in S)if(gn(S,I))return this;delete this.events[b];try{delete c[this.expando]}catch{c[this.expando]=null}}return this}fire(c,p,m){return this.dispatch(c,p,m)}dispatch(c,p,m){if(!c||Dn(c)||el(c))return this;const b=ju({type:p,target:c},m);do{const S=c[this.expando];S&&this.executeHandlers(b,S),c=c.parentNode||c.ownerDocument||c.defaultView||c.parentWindow}while(c&&!b.isPropagationStopped());return this}clean(c){if(!c||Dn(c)||el(c))return this;if(c[this.expando]&&this.unbind(c),c.getElementsByTagName||(c=c.document),c&&c.getElementsByTagName){this.unbind(c);const p=c.getElementsByTagName("*");let m=p.length;for(;m--;)(c=p[m])[this.expando]&&this.unbind(c)}return this}destroy(){this.events={}}cancel(c){return c&&(c.preventDefault(),c.stopImmediatePropagation()),!1}executeHandlers(c,p){const m=this.events[p],b=m&&m[c.type];if(b)for(let S=0,I=b.length;S<I;S++){const E=b[S];if(E&&E.func.call(E.scope,c)===!1&&c.preventDefault(),c.isImmediatePropagationStopped())return}}}Kc.Event=new Kc;const og=Mn.each,B1=Mn.grep,bp="data-mce-style",_0=Mn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Jc=(s,c,p)=>{Ft(p)||p===""?No(s,c):Mo(s,c,p)},S0=s=>s.replace(/[A-Z]/g,c=>"-"+c.toLowerCase()),Qc=(s,c)=>{let p=0;if(s)for(let m=s.nodeType,b=s.previousSibling;b;b=b.previousSibling){const S=b.nodeType;(!c||!Dn(b)||S!==m&&b.data.length)&&(p++,m=S)}return p},ev=(s,c)=>{const p=Ma(c,"style"),m=s.serialize(s.parse(p),Tr(c));Jc(c,bp,m)},Yu=(s,c,p)=>{const m=S0(c);Ft(p)||p===""?tc(s,m):Mh(s,m,((b,S)=>Me(b)?gn(_0,S)?b+"":b+"px":b)(p,m))},kr=(s,c={})=>{const p={},m=window,b={};let S=0;const I=Um.forElement(Xe(s),{contentCssCors:c.contentCssCors,referrerPolicy:c.referrerPolicy}),E=[],F=c.schema?c.schema:pc({}),W=Km({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),$=c.ownEvents?new Kc:Kc.Event,tt=F.getBlockElements(),ut=Ue=>Ue&&s&&ft(Ue)?s.getElementById(Ue):Ue,ht=Ue=>{const Ze=ut(Ue);return Kt(Ze)?Xe(Ze):null},st=(Ue,Ze,mn="")=>{let _n;const Sn=ht(Ue);if(Kt(Sn)&&Po(Sn)){const Cn=Vi[Ze];_n=Cn&&Cn.get?Cn.get(Sn.dom,Ze):Ma(Sn,Ze)}return Kt(_n)?_n:mn},xt=Ue=>{const Ze=ut(Ue);return Ft(Ze)?[]:Ze.attributes},lt=(Ue,Ze,mn)=>{ze(Ue,_n=>{if(li(_n)){const Sn=Xe(_n),Cn=mn===""?null:mn,Wn=Ma(Sn,Ze),si=Vi[Ze];si&&si.set?si.set(Sn.dom,Cn,Ze):Jc(Sn,Ze,Cn),Wn!==Cn&&c.onSetAttrib&&c.onSetAttrib({attrElm:Sn.dom,attrName:Ze,attrValue:Cn})}})},_t=()=>c.root_element||s.body,Pt=(Ue,Ze)=>((mn,_n,Sn)=>{let Cn=0,Wn=0;const si=mn.ownerDocument;if(Sn=Sn||mn,_n){if(Sn===mn&&_n.getBoundingClientRect&&qa(Xe(mn),"position")==="static"){const Pi=_n.getBoundingClientRect();return Cn=Pi.left+(si.documentElement.scrollLeft||mn.scrollLeft)-si.documentElement.clientLeft,Wn=Pi.top+(si.documentElement.scrollTop||mn.scrollTop)-si.documentElement.clientTop,{x:Cn,y:Wn}}let pi=_n;for(;pi&&pi!==Sn&&pi.nodeType&&!Fr(pi,Sn);){const Pi=pi;Cn+=Pi.offsetLeft||0,Wn+=Pi.offsetTop||0,pi=Pi.offsetParent}for(pi=_n.parentNode;pi&&pi!==Sn&&pi.nodeType&&!Fr(pi,Sn);)Cn-=pi.scrollLeft||0,Wn-=pi.scrollTop||0,pi=pi.parentNode;Wn+=(Pi=>eg.isFirefox()&&Tr(Pi)==="table"?vp(Ro(Pi)).filter(ji=>Tr(ji)==="caption").bind(ji=>vp(Ql(ji)).map(ai=>{const $i=ai.dom.offsetTop,Oo=ji.dom.offsetTop,co=ji.dom.offsetHeight;return $i<=Oo?-co:0})).getOr(0):0)(Xe(_n))}return{x:Cn,y:Wn}})(s.body,ut(Ue),Ze),Xt=(Ue,Ze,mn)=>{const _n=ut(Ue);if(!Ft(_n)&&li(_n))return mn?qa(Xe(_n),S0(Ze)):((Ze=Ze.replace(/-(\D)/g,(Sn,Cn)=>Cn.toUpperCase()))==="float"&&(Ze="cssFloat"),_n.style?_n.style[Ze]:void 0)},ce=Ue=>{const Ze=ut(Ue);if(!Ze)return{w:0,h:0};let mn=Xt(Ze,"width"),_n=Xt(Ze,"height");return mn&&mn.indexOf("px")!==-1||(mn="0"),_n&&_n.indexOf("px")!==-1||(_n="0"),{w:parseInt(mn,10)||Ze.offsetWidth||Ze.clientWidth,h:parseInt(_n,10)||Ze.offsetHeight||Ze.clientHeight}},Ae=(Ue,Ze)=>{if(!Ue)return!1;const mn=Ct(Ue)?Ue:[Ue];return Be(mn,_n=>Go(Xe(_n),Ze))},_e=(Ue,Ze,mn,_n)=>{const Sn=[];let Cn=ut(Ue);_n=_n===void 0;const Wn=mn||(_t().nodeName!=="BODY"?_t().parentNode:null);if(ft(Ze))if(Ze==="*")Ze=li;else{const si=Ze;Ze=pi=>Ae(pi,si)}for(;Cn&&!(Cn===Wn||Ft(Cn.nodeType)||Dh(Cn)||sp(Cn));){if(!Ze||Ze(Cn)){if(!_n)return[Cn];Sn.push(Cn)}Cn=Cn.parentNode}return _n?Sn:null},Ye=(Ue,Ze,mn)=>{let _n=Ze;if(Ue){ft(Ze)&&(_n=Sn=>Ae(Sn,Ze));for(let Sn=Ue[mn];Sn;Sn=Sn[mn])if(se(_n)&&_n(Sn))return Sn}return null},ze=function(Ue,Ze,mn){const _n=mn??this;if(Ct(Ue)){const Sn=[];return og(Ue,(Cn,Wn)=>{const si=ut(Cn);si&&Sn.push(Ze.call(_n,si,Wn))}),Sn}{const Sn=ut(Ue);return!!Sn&&Ze.call(_n,Sn)}},Ge=(Ue,Ze)=>{ze(Ue,mn=>{Fe(Ze,(_n,Sn)=>{lt(mn,Sn,_n)})})},en=(Ue,Ze)=>{ze(Ue,mn=>{const _n=Xe(mn);nc(_n,Ze)})},nn=(Ue,Ze,mn,_n,Sn)=>ze(Ue,Cn=>{const Wn=ft(Ze)?s.createElement(Ze):Ze;return Kt(mn)&&Ge(Wn,mn),_n&&(!ft(_n)&&_n.nodeType?Wn.appendChild(_n):ft(_n)&&en(Wn,_n)),Sn?Wn:Cn.appendChild(Wn)}),hn=(Ue,Ze,mn)=>nn(s.createElement(Ue),Ue,Ze,mn,!0),sn=Tl.encodeAllRaw,xn=(Ue,Ze)=>ze(Ue,mn=>{const _n=Xe(mn);return Ze&&he(Ro(_n),Sn=>{gs(Sn)&&Sn.dom.length===0?_r(Sn):pa(_n,Sn)}),_r(_n),_n.dom}),$n=(Ue,Ze,mn)=>{ze(Ue,_n=>{if(li(_n)){const Sn=Xe(_n),Cn=Ze.split(" ");he(Cn,Wn=>{Kt(mn)?(mn?$d:Kl)(Sn,Wn):((si,pi)=>{$l(si)?si.dom.classList.toggle(pi):((Pi,ji)=>Re(Vf(Pi),ji)?Ud(Pi,ji):qd(Pi,ji))(si,pi),Zl(si)})(Sn,Wn)})}})},Kn=(Ue,Ze,mn)=>ze(Ze,_n=>{var Sn;const Cn=Ct(Ze)?Ue.cloneNode(!0):Ue;return mn&&og(B1(_n.childNodes),Wn=>{Cn.appendChild(Wn)}),(Sn=_n.parentNode)===null||Sn===void 0||Sn.replaceChild(Cn,_n),_n}),ki=Ue=>{if(li(Ue)){const Ze=Ue.nodeName.toLowerCase()==="a"&&!st(Ue,"href")&&st(Ue,"id");if(st(Ue,"name")||st(Ue,"data-mce-bookmark")||Ze)return!0}return!1},Ii=()=>s.createRange(),fr=(Ue,Ze,mn,_n)=>{if(Ct(Ue)){let Sn=Ue.length;const Cn=[];for(;Sn--;)Cn[Sn]=fr(Ue[Sn],Ze,mn,_n);return Cn}return!c.collect||Ue!==s&&Ue!==m||E.push([Ue,Ze,mn,_n]),$.bind(Ue,Ze,mn,_n||Xi)},Hr=(Ue,Ze,mn)=>{if(Ct(Ue)){let _n=Ue.length;const Sn=[];for(;_n--;)Sn[_n]=Hr(Ue[_n],Ze,mn);return Sn}if(E.length>0&&(Ue===s||Ue===m)){let _n=E.length;for(;_n--;){const[Sn,Cn,Wn]=E[_n];Ue!==Sn||Ze&&Ze!==Cn||mn&&mn!==Wn||$.unbind(Sn,Cn,Wn)}}return $.unbind(Ue,Ze,mn)},yi=Ue=>{if(Ue&&li(Ue)){const Ze=Ue.getAttribute("data-mce-contenteditable");return Ze&&Ze!=="inherit"?Ze:Ue.contentEditable!=="inherit"?Ue.contentEditable:null}return null},Xi={doc:s,settings:c,win:m,files:b,stdMode:!0,boxModel:!0,styleSheetLoader:I,boundEvents:E,styles:W,schema:F,events:$,isBlock:Ue=>ft(Ue)?gn(tt,Ue):li(Ue)&&(gn(tt,Ue.nodeName)||Sr(F,Ue)),root:null,clone:(Ue,Ze)=>Ue.cloneNode(Ze),getRoot:_t,getViewPort:Ue=>{const Ze=np(Ue);return{x:Ze.x,y:Ze.y,w:Ze.width,h:Ze.height}},getRect:Ue=>{const Ze=ut(Ue),mn=Pt(Ze),_n=ce(Ze);return{x:mn.x,y:mn.y,w:_n.w,h:_n.h}},getSize:ce,getParent:(Ue,Ze,mn)=>{const _n=_e(Ue,Ze,mn,!1);return _n&&_n.length>0?_n[0]:null},getParents:_e,get:ut,getNext:(Ue,Ze)=>Ye(Ue,Ze,"nextSibling"),getPrev:(Ue,Ze)=>Ye(Ue,Ze,"previousSibling"),select:(Ue,Ze)=>{var mn,_n;const Sn=(_n=(mn=ut(Ze))!==null&&mn!==void 0?mn:c.root_element)!==null&&_n!==void 0?_n:s;return se(Sn.querySelectorAll)?Pe(Sn.querySelectorAll(Ue)):[]},is:Ae,add:nn,create:hn,createHTML:(Ue,Ze,mn="")=>{let _n="<"+Ue;for(const Sn in Ze)Di(Ze,Sn)&&(_n+=" "+Sn+'="'+sn(Ze[Sn])+'"');return C(mn)&&gn(F.getVoidElements(),Ue)?_n+" />":_n+">"+mn+"</"+Ue+">"},createFragment:Ue=>{const Ze=s.createElement("div"),mn=s.createDocumentFragment();let _n;for(mn.appendChild(Ze),Ue&&(Ze.innerHTML=Ue);_n=Ze.firstChild;)mn.appendChild(_n);return mn.removeChild(Ze),mn},remove:xn,setStyle:(Ue,Ze,mn)=>{ze(Ue,_n=>{const Sn=Xe(_n);Yu(Sn,Ze,mn),c.update_styles&&ev(W,Sn)})},getStyle:Xt,setStyles:(Ue,Ze)=>{ze(Ue,mn=>{const _n=Xe(mn);Fe(Ze,(Sn,Cn)=>{Yu(_n,Cn,Sn)}),c.update_styles&&ev(W,_n)})},removeAllAttribs:Ue=>ze(Ue,Ze=>{const mn=Ze.attributes;for(let _n=mn.length-1;_n>=0;_n--)Ze.removeAttributeNode(mn.item(_n))}),setAttrib:lt,setAttribs:Ge,getAttrib:st,getPos:Pt,parseStyle:Ue=>W.parse(Ue),serializeStyle:(Ue,Ze)=>W.serialize(Ue,Ze),addStyle:Ue=>{if(Xi!==kr.DOM&&s===document){if(p[Ue])return;p[Ue]=!0}let Ze=s.getElementById("mceDefaultStyles");if(!Ze){Ze=s.createElement("style"),Ze.id="mceDefaultStyles",Ze.type="text/css";const mn=s.head;mn.firstChild?mn.insertBefore(Ze,mn.firstChild):mn.appendChild(Ze)}Ze.styleSheet?Ze.styleSheet.cssText+=Ue:Ze.appendChild(s.createTextNode(Ue))},loadCSS:Ue=>{Ue||(Ue=""),he(Ue.split(","),Ze=>{b[Ze]=!0,I.load(Ze).catch(ne)})},addClass:(Ue,Ze)=>{$n(Ue,Ze,!0)},removeClass:(Ue,Ze)=>{$n(Ue,Ze,!1)},hasClass:(Ue,Ze)=>{const mn=ht(Ue),_n=Ze.split(" ");return Kt(mn)&&_i(_n,Sn=>Au(mn,Sn))},toggleClass:$n,show:Ue=>{ze(Ue,Ze=>tc(Xe(Ze),"display"))},hide:Ue=>{ze(Ue,Ze=>Mh(Xe(Ze),"display","none"))},isHidden:Ue=>{const Ze=ht(Ue);return Kt(Ze)&&$r(To(Ze,"display"),"none")},uniqueId:Ue=>(Ue||"mce_")+S++,setHTML:en,getOuterHTML:Ue=>{const Ze=ht(Ue);return Kt(Ze)?li(Ze.dom)?Ze.dom.outerHTML:(mn=>{const _n=bo("div"),Sn=Xe(mn.dom.cloneNode(!0));return Bo(_n,Sn),Lu(_n)})(Ze):""},setOuterHTML:(Ue,Ze)=>{ze(Ue,mn=>{li(mn)&&(mn.outerHTML=Ze)})},decode:Tl.decode,encode:sn,insertAfter:(Ue,Ze)=>{const mn=ut(Ze);return ze(Ue,_n=>{const Sn=mn==null?void 0:mn.parentNode,Cn=mn==null?void 0:mn.nextSibling;return Sn&&(Cn?Sn.insertBefore(_n,Cn):Sn.appendChild(_n)),_n})},replace:Kn,rename:(Ue,Ze)=>{if(Ue.nodeName!==Ze.toUpperCase()){const mn=hn(Ze);return og(xt(Ue),_n=>{lt(mn,_n.nodeName,st(Ue,_n.nodeName))}),Kn(mn,Ue,!0),mn}return Ue},findCommonAncestor:(Ue,Ze)=>{let mn=Ue;for(;mn;){let _n=Ze;for(;_n&&mn!==_n;)_n=_n.parentNode;if(mn===_n)break;mn=mn.parentNode}return!mn&&Ue.ownerDocument?Ue.ownerDocument.documentElement:mn},run:ze,getAttribs:xt,isEmpty:(Ue,Ze)=>{let mn=0;if(ki(Ue))return!1;const _n=Ue.firstChild;if(_n){const Sn=new wo(_n,Ue),Cn=F?F.getWhitespaceElements():{},Wn=Ze||(F?F.getNonEmptyElements():null);let si=_n;do{if(li(si)){const pi=si.getAttribute("data-mce-bogus");if(pi){si=Sn.next(pi==="all");continue}const Pi=si.nodeName.toLowerCase();if(Wn&&Wn[Pi]){if(Pi==="br"){mn++,si=Sn.next();continue}return!1}if(ki(si))return!1}if(el(si)||Dn(si)&&!Xc(si.data)||Dn(si)&&si.parentNode&&Cn[si.parentNode.nodeName]&&Xc(si.data))return!1;si=Sn.next()}while(si)}return mn<=1},createRng:Ii,nodeIndex:Qc,split:(Ue,Ze,mn)=>{let _n,Sn,Cn=Ii();if(Ue&&Ze&&Ue.parentNode&&Ze.parentNode){const Wn=Ue.parentNode;return Cn.setStart(Wn,Qc(Ue)),Cn.setEnd(Ze.parentNode,Qc(Ze)),_n=Cn.extractContents(),Cn=Ii(),Cn.setStart(Ze.parentNode,Qc(Ze)+1),Cn.setEnd(Wn,Qc(Ue)+1),Sn=Cn.extractContents(),Wn.insertBefore(ng(Xi,_n),Ue),mn?Wn.insertBefore(mn,Ue):Wn.insertBefore(Ze,Ue),Wn.insertBefore(ng(Xi,Sn),Ue),xn(Ue),mn||Ze}},bind:fr,unbind:Hr,fire:(Ue,Ze,mn)=>$.dispatch(Ue,Ze,mn),dispatch:(Ue,Ze,mn)=>$.dispatch(Ue,Ze,mn),getContentEditable:yi,getContentEditableParent:Ue=>{const Ze=_t();let mn=null;for(let _n=Ue;_n&&_n!==Ze&&(mn=yi(_n),mn===null);_n=_n.parentNode);return mn},destroy:()=>{if(E.length>0){let Ue=E.length;for(;Ue--;){const[Ze,mn,_n]=E[Ue];$.unbind(Ze,mn,_n)}}Fe(b,(Ue,Ze)=>{I.unload(Ze),delete b[Ze]})},isChildOf:(Ue,Ze)=>Ue===Ze||Ze.contains(Ue),dumpRng:Ue=>"startContainer: "+Ue.startContainer.nodeName+", startOffset: "+Ue.startOffset+", endContainer: "+Ue.endContainer.nodeName+", endOffset: "+Ue.endOffset},Vi=((Ue,Ze,mn)=>{const _n=Ze.keep_values,Sn={set:(Wn,si,pi)=>{const Pi=Xe(Wn);se(Ze.url_converter)&&Kt(si)&&(si=Ze.url_converter.call(Ze.url_converter_scope||mn(),String(si),pi,Wn)),Jc(Pi,"data-mce-"+pi,si),Jc(Pi,pi,si)},get:(Wn,si)=>{const pi=Xe(Wn);return Ma(pi,"data-mce-"+si)||Ma(pi,si)}},Cn={style:{set:(Wn,si)=>{const pi=Xe(Wn);_n&&Jc(pi,bp,si),No(pi,"style"),ft(si)&&Th(pi,Ue.parse(si))},get:Wn=>{const si=Xe(Wn),pi=Ma(si,bp)||Ma(si,"style");return Ue.serialize(Ue.parse(pi),Tr(si))}}};return _n&&(Cn.href=Cn.src=Sn),Cn})(W,c,ie(Xi));return Xi};kr.DOM=kr(document),kr.nodeIndex=Qc;const tu=kr.DOM;class $o{constructor(c={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=c}_setReferrerPolicy(c){this.settings.referrerPolicy=c}loadScript(c){return new Promise((p,m)=>{const b=tu;let S;const I=()=>{b.remove(E),S&&(S.onerror=S.onload=S=null)},E=b.uniqueId();S=document.createElement("script"),S.id=E,S.type="text/javascript",S.src=Mn._addCacheSuffix(c),this.settings.referrerPolicy&&b.setAttrib(S,"referrerpolicy",this.settings.referrerPolicy),S.onload=()=>{I(),p()},S.onerror=()=>{I(),m("Failed to load script: "+c)},(document.getElementsByTagName("head")[0]||document.body).appendChild(S)})}isDone(c){return this.states[c]===2}markDone(c){this.states[c]=2}add(c){const p=this;return p.queue.push(c),p.states[c]===void 0&&(p.states[c]=0),new Promise((m,b)=>{p.scriptLoadedCallbacks[c]||(p.scriptLoadedCallbacks[c]=[]),p.scriptLoadedCallbacks[c].push({resolve:m,reject:b})})}load(c){return this.add(c)}remove(c){delete this.states[c],delete this.scriptLoadedCallbacks[c]}loadQueue(){const c=this.queue;return this.queue=[],this.loadScripts(c)}loadScripts(c){const p=this,m=(F,W)=>{En(p.scriptLoadedCallbacks,W).each($=>{he($,tt=>tt[F](W))}),delete p.scriptLoadedCallbacks[W]},b=F=>{const W=Gn(F,$=>$.status==="rejected");return W.length>0?Promise.reject(Un(W,({reason:$})=>Ct($)?$:[$])):Promise.resolve()},S=F=>Promise.allSettled(un(F,W=>p.states[W]===2?(m("resolve",W),Promise.resolve()):p.states[W]===3?(m("reject",W),Promise.reject(W)):(p.states[W]=1,p.loadScript(W).then(()=>{p.states[W]=2,m("resolve",W);const $=p.queue;return $.length>0?(p.queue=[],S($).then(b)):Promise.resolve()},()=>(p.states[W]=3,m("reject",W),Promise.reject(W)))))),I=F=>(p.loading=!0,S(F).then(W=>{p.loading=!1;const $=p.queueLoadedCallbacks.shift();return U.from($).each(ln),b(W)})),E=ar(c);return p.loading?new Promise((F,W)=>{p.queueLoadedCallbacks.push(()=>I(E).then(F,W))}):I(E)}}$o.ScriptLoader=new $o;const no=s=>{let c=s;return{get:()=>c,set:p=>{c=p}}},_a={},Vh=no("en"),ag=()=>En(_a,Vh.get()),mo={getData:()=>Qn(_a,s=>({...s})),setCode:s=>{s&&Vh.set(s)},getCode:()=>Vh.get(),add:(s,c)=>{let p=_a[s];p||(_a[s]=p={}),Fe(c,(m,b)=>{p[b.toLowerCase()]=m})},translate:s=>{const c=ag().getOr({}),p=E=>se(E)?Object.prototype.toString.call(E):m(E)?"":""+E,m=E=>E===""||E==null,b=E=>{const F=p(E);return En(c,F.toLowerCase()).map(p).getOr(F)},S=E=>E.replace(/{context:\w+}$/,"");if(m(s))return"";if(It(I=s)&&gn(I,"raw"))return p(s.raw);var I;if((E=>Ct(E)&&E.length>1)(s)){const E=s.slice(1);return S(b(s[0]).replace(/\{([0-9]+)\}/g,(F,W)=>gn(E,W)?p(E[W]):F))}return S(b(s))},isRtl:()=>ag().bind(s=>En(s,"_dir")).exists(s=>s==="rtl"),hasCode:s=>gn(_a,s)},Zr=()=>{const s=[],c={},p={},m=[],b=(F,W)=>{const $=Gn(m,tt=>tt.name===F&&tt.state===W);he($,tt=>tt.resolve())},S=F=>gn(c,F),I=(F,W)=>{const $=mo.getCode();!$||W&&(","+(W||"")+",").indexOf(","+$+",")===-1||$o.ScriptLoader.add(c[F]+"/langs/"+$+".js")},E=(F,W="added")=>W==="added"&&($=>gn(p,$))(F)||W==="loaded"&&S(F)?Promise.resolve():new Promise($=>{m.push({name:F,state:W,resolve:$})});return{items:s,urls:c,lookup:p,get:F=>{if(p[F])return p[F].instance},requireLangPack:(F,W)=>{Zr.languageLoad!==!1&&(S(F)?I(F,W):E(F,"loaded").then(()=>I(F,W)))},add:(F,W)=>(s.push(W),p[F]={instance:W},b(F,"added"),W),remove:F=>{delete c[F],delete p[F]},createUrl:(F,W)=>ft(W)?ft(F)?{prefix:"",resource:W,suffix:""}:{prefix:F.prefix,resource:W,suffix:F.suffix}:W,load:(F,W)=>{if(c[F])return Promise.resolve();let $=ft(W)?W:W.prefix+W.resource+W.suffix;$.indexOf("/")!==0&&$.indexOf("://")===-1&&($=Zr.baseURL+"/"+$),c[F]=$.substring(0,$.lastIndexOf("/"));const tt=()=>(b(F,"loaded"),Promise.resolve());return p[F]?tt():$o.ScriptLoader.add($).then(tt)},waitFor:E}};Zr.languageLoad=!0,Zr.baseURL="",Zr.PluginManager=Zr(),Zr.ThemeManager=Zr(),Zr.ModelManager=Zr();const Hh=s=>{const c=no(U.none()),p=()=>c.get().each(m=>clearInterval(m));return{clear:()=>{p(),c.set(U.none())},isSet:()=>c.get().isSome(),get:()=>c.get(),set:m=>{p(),c.set(U.some(setInterval(m,s)))}}},rl=()=>{const s=(c=>{const p=no(U.none()),m=()=>p.get().each(c);return{clear:()=>{m(),p.set(U.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:b=>{m(),p.set(U.some(b))}}})(ne);return{...s,on:c=>s.get().each(c)}},ol=(s,c)=>{let p=null;return{cancel:()=>{ct(p)||(clearTimeout(p),p=null)},throttle:(...m)=>{ct(p)&&(p=setTimeout(()=>{p=null,s.apply(null,m)},c))}}},Gu=(s,c)=>{let p=null;const m=()=>{ct(p)||(clearTimeout(p),p=null)};return{cancel:m,throttle:(...b)=>{m(),p=setTimeout(()=>{p=null,s.apply(null,b)},c)}}},Vo=ie("mce-annotation"),Vs=ie("data-mce-annotation"),fc=ie("data-mce-annotation-uid"),Dl=ie("data-mce-annotation-active"),Ll=ie("data-mce-annotation-classes"),Ol=ie("data-mce-annotation-attrs"),wp=s=>c=>tr(c,s),Wh=(s,c)=>{const p=s.selection.getRng(),m=Xe(p.startContainer),b=Xe(s.getBody()),S=c.fold(()=>"."+Vo(),E=>`[${Vs()}="${E}"]`),I=Ah(m,p.startOffset).getOr(m);return _l(I,S,wp(b)).bind(E=>Qs(E,`${fc()}`).bind(F=>Qs(E,`${Vs()}`).map(W=>{const $=zr(s,F);return{uid:F,name:W,elements:$}})))},jh=(s,c)=>Sh(s,"data-mce-bogus")||Xf(s,'[data-mce-bogus="all"]',wp(c)),zr=(s,c)=>{const p=Xe(s.getBody()),m=fa(p,`[${fc()}="${c}"]`);return Gn(m,b=>!jh(b,p))},Hs=(s,c)=>{const p=Xe(s.getBody()),m=fa(p,`[${Vs()}="${c}"]`),b={};return he(m,S=>{if(!jh(S,p)){const I=Ma(S,fc()),E=En(b,I).getOr([]);b[I]=E.concat([S])}}),b};let Ws=0;const ts=s=>{const c=new Date().getTime(),p=Math.floor(1e9*Math.random());return Ws++,s+"_"+p+Ws+String(c)},js=(s,c)=>Xe(s.dom.cloneNode(c)),D=s=>js(s,!1),x=s=>js(s,!0),k=(s,c,p=oe)=>{const m=new wo(s,c),b=S=>{let I;do I=m[S]();while(I&&!Dn(I)&&!p(I));return U.from(I).filter(Dn)};return{current:()=>U.from(m.current()).filter(Dn),next:()=>b("next"),prev:()=>b("prev"),prev2:()=>b("prev2")}},O=(s,c)=>{const p=c||(b=>s.isBlock(b)||oo(b)||Yr(b)),m=(b,S,I,E)=>{if(Dn(b)){const F=E(b,S,b.data);if(F!==-1)return U.some({container:b,offset:F})}return I().bind(F=>m(F.container,F.offset,I,E))};return{backwards:(b,S,I,E)=>{const F=k(b,E??s.getRoot(),p);return m(b,S,()=>F.prev().map(W=>({container:W,offset:W.length})),I).getOrNull()},forwards:(b,S,I,E)=>{const F=k(b,E??s.getRoot(),p);return m(b,S,()=>F.next().map(W=>({container:W,offset:0})),I).getOrNull()}}},B=Math.round,H=s=>s?{left:B(s.left),top:B(s.top),bottom:B(s.bottom),right:B(s.right),width:B(s.width),height:B(s.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},q=(s,c)=>(s=H(s),c||(s.left=s.left+s.width),s.right=s.left,s.width=0,s),et=(s,c,p)=>s>=0&&s<=Math.min(c.height,p.height)/2,at=(s,c)=>{const p=Math.min(c.height/2,s.height/2);return s.bottom-p<c.top||!(s.top>c.bottom)&&et(c.top-s.bottom,s,c)},dt=(s,c)=>s.top>c.bottom||!(s.bottom<c.top)&&et(c.bottom-s.top,s,c),Nt=(s,c,p)=>{const m=Math.max(Math.min(c,s.left+s.width),s.left),b=Math.max(Math.min(p,s.top+s.height),s.top);return Math.sqrt((c-m)*(c-m)+(p-b)*(p-b))},Dt=s=>{const c=s.startContainer,p=s.startOffset;return c===s.endContainer&&c.hasChildNodes()&&s.endOffset===p+1?c.childNodes[p]:null},Vt=(s,c)=>{if(li(s)&&s.hasChildNodes()){const p=s.childNodes,m=((b,S,I)=>Math.min(Math.max(b,0),I))(c,0,p.length-1);return p[m]}return s},ae=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Se=s=>ft(s)&&s.charCodeAt(0)>=768&&ae.test(s),me=li,we=Yn,je=ac("display","block table"),pn=ac("float","left right"),dn=((...s)=>c=>{for(let p=0;p<s.length;p++)if(!s[p](c))return!1;return!0})(me,we,Bn(pn)),fn=Bn(ac("white-space","pre pre-line pre-wrap")),An=Dn,Nn=oo,oi=kr.nodeIndex,ci=(s,c)=>c<0&&li(s)&&s.hasChildNodes()?void 0:Vt(s,c),hi=s=>s?s.createRange():kr.DOM.createRng(),gi=s=>ft(s)&&/[\r\n\t ]/.test(s),zi=s=>!!s.setStart&&!!s.setEnd,Li=s=>{const c=s.startContainer,p=s.startOffset;if(gi(s.toString())&&fn(c.parentNode)&&Dn(c)){const m=c.data;if(gi(m[p-1])||gi(m[p+1]))return!0}return!1},Mi=s=>s.left===0&&s.right===0&&s.top===0&&s.bottom===0,vi=s=>{var c;let p;const m=s.getClientRects();return p=m.length>0?H(m[0]):H(s.getBoundingClientRect()),!zi(s)&&Nn(s)&&Mi(p)?(b=>{const S=b.ownerDocument,I=hi(S),E=S.createTextNode(zo),F=b.parentNode;F.insertBefore(E,b),I.setStart(E,0),I.setEnd(E,1);const W=H(I.getBoundingClientRect());return F.removeChild(E),W})(s):Mi(p)&&zi(s)&&(c=(b=>{const S=b.startContainer,I=b.endContainer,E=b.startOffset,F=b.endOffset;if(S===I&&Dn(I)&&E===0&&F===1){const W=b.cloneRange();return W.setEndAfter(I),vi(W)}return null})(s))!==null&&c!==void 0?c:p},Ci=(s,c)=>{const p=q(s,c);return p.width=1,p.right=p.left+1,p},tn=(s,c,p)=>{const m=()=>(p||(p=(b=>{const S=[],I=$=>{var tt,ut;$.height!==0&&(S.length>0&&(tt=$,ut=S[S.length-1],tt.left===ut.left&&tt.top===ut.top&&tt.bottom===ut.bottom&&tt.right===ut.right)||S.push($))},E=($,tt)=>{const ut=hi($.ownerDocument);if(tt<$.data.length){if(Se($.data[tt]))return;if(Se($.data[tt-1])&&(ut.setStart($,tt),ut.setEnd($,tt+1),!Li(ut)))return void I(Ci(vi(ut),!1))}tt>0&&(ut.setStart($,tt-1),ut.setEnd($,tt),Li(ut)||I(Ci(vi(ut),!1))),tt<$.data.length&&(ut.setStart($,tt),ut.setEnd($,tt+1),Li(ut)||I(Ci(vi(ut),!0)))},F=b.container(),W=b.offset();if(An(F))return E(F,W),S;if(me(F))if(b.isAtEnd()){const $=ci(F,W);An($)&&E($,$.data.length),dn($)&&!Nn($)&&I(Ci(vi($),!1))}else{const $=ci(F,W);if(An($)&&E($,0),dn($)&&b.isAtEnd())return I(Ci(vi($),!1)),S;const tt=ci(b.container(),b.offset()-1);dn(tt)&&!Nn(tt)&&(je(tt)||je($)||!dn($))&&I(Ci(vi(tt),!1)),dn($)&&I(Ci(vi($),!0))}return S})(tn(s,c))),p);return{container:ie(s),offset:ie(c),toRange:()=>{const b=hi(s.ownerDocument);return b.setStart(s,c),b.setEnd(s,c),b},getClientRects:m,isVisible:()=>m().length>0,isAtStart:()=>(An(s),c===0),isAtEnd:()=>An(s)?c>=s.data.length:c>=s.childNodes.length,isEqual:b=>b&&s===b.container()&&c===b.offset(),getNode:b=>ci(s,b?c-1:c)}};tn.fromRangeStart=s=>tn(s.startContainer,s.startOffset),tn.fromRangeEnd=s=>tn(s.endContainer,s.endOffset),tn.after=s=>tn(s.parentNode,oi(s)+1),tn.before=s=>tn(s.parentNode,oi(s)),tn.isAbove=(s,c)=>to(Ut(c.getClientRects()),ve(s.getClientRects()),at).getOr(!1),tn.isBelow=(s,c)=>to(ve(c.getClientRects()),Ut(s.getClientRects()),dt).getOr(!1),tn.isAtStart=s=>!!s&&s.isAtStart(),tn.isAtEnd=s=>!!s&&s.isAtEnd(),tn.isTextPosition=s=>!!s&&Dn(s.container()),tn.isElementPosition=s=>!tn.isTextPosition(s);const Ti=(s,c)=>{Dn(c)&&c.data.length===0&&s.remove(c)},Pr=(s,c,p)=>{sp(p)?((m,b,S)=>{const I=U.from(S.firstChild),E=U.from(S.lastChild);b.insertNode(S),I.each(F=>Ti(m,F.previousSibling)),E.each(F=>Ti(m,F.nextSibling))})(s,c,p):((m,b,S)=>{b.insertNode(S),Ti(m,S.previousSibling),Ti(m,S.nextSibling)})(s,c,p)},Gr=Dn,es=tl,ns=kr.nodeIndex,Kr=s=>{const c=s.parentNode;return es(c)?Kr(c):c},ia=s=>s?mr(s.childNodes,(c,p)=>(es(p)&&p.nodeName!=="BR"?c=c.concat(ia(p)):c.push(p),c),[]):[],al=s=>c=>s===c,Cs=s=>(Gr(s)?"text()":s.nodeName.toLowerCase())+"["+(c=>{let p,m;p=ia(Kr(c)),m=Oi(p,al(c),c),p=p.slice(0,m+1);const b=mr(p,(S,I,E)=>(Gr(I)&&Gr(p[E-1])&&S++,S),0);return p=yr(p,$a([c.nodeName])),m=Oi(p,al(c),c),m-b})(s)+"]",Sa=(s,c)=>{let p,m=[],b=c.container(),S=c.offset();if(Gr(b))p=((E,F)=>{let W=E;for(;(W=W.previousSibling)&&Gr(W);)F+=W.data.length;return F})(b,S);else{const E=b.childNodes;S>=E.length?(p="after",S=E.length-1):p="before",b=E[S]}m.push(Cs(b));let I=((E,F,W)=>{const $=[];for(let tt=F.parentNode;tt&&tt!==E;tt=tt.parentNode)$.push(tt);return $})(s,b);return I=yr(I,Bn(tl)),m=m.concat(Bi(I,E=>Cs(E))),m.reverse().join("/")+","+p},Wk=(s,c)=>{if(!c)return null;const p=c.split(","),m=p[0].split("/"),b=p.length>1?p[1]:"before",S=mr(m,(I,E)=>{const F=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(E);return F?(F[1]==="text()"&&(F[1]="#text"),((W,$,tt)=>{let ut=ia(W);return ut=yr(ut,(ht,st)=>!Gr(ht)||!Gr(ut[st-1])),ut=yr(ut,$a([$])),ut[tt]})(I,F[1],parseInt(F[2],10))):null},s);if(!S)return null;if(!Gr(S)&&S.parentNode){let I;return I=b==="after"?ns(S)+1:ns(S),tn(S.parentNode,I)}return((I,E)=>{let F=I,W=0;for(;Gr(F);){const $=F.data.length;if(E>=W&&E<=W+$){I=F,E-=W;break}if(!Gr(F.nextSibling)){I=F,E=$;break}W+=$,F=F.nextSibling}return Gr(I)&&E>I.data.length&&(E=I.data.length),tn(I,E)})(S,parseInt(b,10))},C0=Yr,br=(s,c,p,m,b)=>{const S=b?m.startContainer:m.endContainer;let I=b?m.startOffset:m.endOffset;const E=[],F=s.getRoot();if(Dn(S))E.push(p?((W,$,tt)=>{let ut=W($.data.slice(0,tt)).length;for(let ht=$.previousSibling;ht&&Dn(ht);ht=ht.previousSibling)ut+=W(ht.data).length;return ut})(c,S,I):I);else{let W=0;const $=S.childNodes;I>=$.length&&$.length&&(W=1,I=Math.max(0,$.length-1)),E.push(s.nodeIndex($[I],p)+W)}for(let W=S;W&&W!==F;W=W.parentNode)E.push(s.nodeIndex(W,p));return E},k0=(s,c,p)=>{let m=0;return Mn.each(s.select(c),b=>b.getAttribute("data-mce-bogus")==="all"?void 0:b!==p&&void m++),m},jk=(s,c)=>{let p=c?s.startContainer:s.endContainer,m=c?s.startOffset:s.endOffset;if(li(p)&&p.nodeName==="TR"){const b=p.childNodes;p=b[Math.min(c?m:m-1,b.length-1)],p&&(m=c?0:p.childNodes.length,c?s.setStart(p,m):s.setEnd(p,m))}},wr=s=>(jk(s,!0),jk(s,!1),s),Yk=(s,c)=>{if(li(s)&&(s=Vt(s,c),C0(s)))return s;if(Uo(s)){Dn(s)&&cc(s)&&(s=s.parentNode);let p=s.previousSibling;if(C0(p)||(p=s.nextSibling,C0(p)))return p}},Gk=(s,c,p)=>{const m=p.getNode(),b=p.getRng();if(m.nodeName==="IMG"||C0(m)){const I=m.nodeName;return{name:I,index:k0(p.dom,I,m)}}const S=(I=>Yk(I.startContainer,I.startOffset)||Yk(I.endContainer,I.endOffset))(b);if(S){const I=S.tagName;return{name:I,index:k0(p.dom,I,S)}}return((I,E,F,W)=>{const $=E.dom,tt=br($,I,F,W,!0),ut=E.isForward(),ht=Ei(W)?{isFakeCaret:!0}:{};return E.isCollapsed()?{start:tt,forward:ut,...ht}:{start:tt,end:br($,I,F,W,!1),forward:ut,...ht}})(s,p,c,b)},z1=(s,c,p)=>{const m={"data-mce-type":"bookmark",id:c,style:"overflow:hidden;line-height:0px"};return p?s.create("span",m,"&#xFEFF;"):s.create("span",m)},F1=(s,c)=>{const p=s.dom;let m=s.getRng();const b=p.uniqueId(),S=s.isCollapsed(),I=s.getNode(),E=I.nodeName,F=s.isForward();if(E==="IMG")return{name:E,index:k0(p,E,I)};const W=wr(m.cloneRange());if(!S){W.collapse(!1);const tt=z1(p,b+"_end",c);Pr(p,W,tt)}m=wr(m),m.collapse(!0);const $=z1(p,b+"_start",c);return Pr(p,m,$),s.moveToBookmark({id:b,keep:!0,forward:F}),{id:b,forward:F}},A0=De(Gk,Le,!0),V1=s=>{const c=S=>S(s),p=ie(s),m=()=>b,b={tag:!0,inner:s,fold:(S,I)=>I(s),isValue:Oe,isError:oe,map:S=>La.value(S(s)),mapError:m,bind:c,exists:c,forall:c,getOr:p,or:m,getOrThunk:p,orThunk:m,getOrDie:p,each:S=>{S(s)},toOptional:()=>U.some(s)};return b},H1=s=>{const c=()=>p,p={tag:!1,inner:s,fold:(b,S)=>b(s),isValue:oe,isError:Oe,map:c,mapError:b=>La.error(b(s)),bind:c,exists:oe,forall:Oe,getOr:Le,or:Le,getOrThunk:rn,orThunk:rn,getOrDie:(m=String(s),()=>{throw new Error(m)}),each:ne,toOptional:U.none};var m;return p},La={value:V1,error:H1,fromOption:(s,c)=>s.fold(()=>H1(c),V1)},gc=s=>{if(!Ct(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const c=[],p={};return he(s,(m,b)=>{const S=Ee(m);if(S.length!==1)throw new Error("one and only one name per case");const I=S[0],E=m[I];if(p[I]!==void 0)throw new Error("duplicate key detected:"+I);if(I==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ct(E))throw new Error("case arguments must be an array");c.push(I),p[I]=(...F)=>{const W=F.length;if(W!==E.length)throw new Error("Wrong number of arguments to case "+I+". Expected "+E.length+" ("+E+"), got "+W);return{fold:(...$)=>{if($.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+$.length);return $[b].apply(null,F)},match:$=>{const tt=Ee($);if(c.length!==tt.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+tt.join(","));if(!_i(c,ut=>Re(tt,ut)))throw new Error("Not all branches were specified when using match. Specified: "+tt.join(", ")+`
Required: `+c.join(", "));return $[I].apply(null,F)},log:$=>{console.log($,{constructors:c,constructor:I,params:F})}}}}),p};gc([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Xk=s=>s.type==="inline-command"||s.type==="inline-format",qk=s=>s.type==="block-command"||s.type==="block-format",W1=s=>{const c=m=>La.error({message:m,pattern:s}),p=(m,b,S)=>{if(s.format!==void 0){let I;if(Ct(s.format)){if(!_i(s.format,ft))return c(m+" pattern has non-string items in the `format` array");I=s.format}else{if(!ft(s.format))return c(m+" pattern has non-string `format` parameter");I=[s.format]}return La.value(b(I))}return s.cmd!==void 0?ft(s.cmd)?La.value(S(s.cmd,s.value)):c(m+" pattern has non-string `cmd` parameter"):c(m+" pattern is missing both `format` and `cmd` parameters")};if(!It(s))return c("Raw pattern is not an object");if(!ft(s.start))return c("Raw pattern is missing `start` parameter");if(s.end!==void 0){if(!ft(s.end))return c("Inline pattern has non-string `end` parameter");if(s.start.length===0&&s.end.length===0)return c("Inline pattern has empty `start` and `end` parameters");let m=s.start,b=s.end;return b.length===0&&(b=m,m=""),p("Inline",S=>({type:"inline-format",start:m,end:b,format:S}),(S,I)=>({type:"inline-command",start:m,end:b,cmd:S,value:I}))}return s.replacement!==void 0?ft(s.replacement)?s.start.length===0?c("Replacement pattern has empty `start` parameter"):La.value({type:"inline-command",start:"",end:s.start,cmd:"mceInsertContent",value:s.replacement}):c("Replacement pattern has non-string `replacement` parameter"):s.start.length===0?c("Block pattern has empty `start` parameter"):p("Block",m=>({type:"block-format",start:s.start,format:m[0]}),(m,b)=>({type:"block-command",start:s.start,cmd:m,value:b}))},Ui=s=>Gn(s,qk),M0=s=>Gn(s,Xk),j1=s=>{const c=(p=>{const m=[],b=[];return he(p,S=>{S.fold(I=>{m.push(I)},I=>{b.push(I)})}),{errors:m,values:b}})(un(s,W1));return he(c.errors,p=>console.error(p.message,p.pattern)),c.values},T0=Wi().deviceType,Uk=T0.isTouch(),Y1=kr.DOM,is=s=>gt(s,RegExp),di=s=>c=>c.options.get(s),G1=s=>ft(s)||It(s),Yh=(s,c="")=>p=>{const m=ft(p);if(m){if(p.indexOf("=")!==-1){const b=(S=>{const I=S.indexOf("=")>0?S.split(/[;,](?![^=;,]*(?:[;,]|$))/):S.split(",");return Zn(I,(E,F)=>{const W=F.split("="),$=W[0],tt=W.length>1?W[1]:$;return E[$t($)]=$t(tt),E},{})})(p);return{value:En(b,s.id).getOr(c),valid:m}}return{value:p,valid:m}}return{valid:!1,message:"Must be a string."}},I0=di("iframe_attrs"),nv=di("doctype"),iv=di("document_base_url"),rv=di("body_id"),sg=di("body_class"),X1=di("content_security_policy"),$k=di("br_in_pre"),Oa=di("forced_root_block"),lg=di("forced_root_block_attrs"),Zk=di("newline_behavior"),q1=di("br_newline_selector"),Kk=di("no_newline_selector"),QI=di("keep_styles"),tD=di("end_container_on_empty_block"),U1=di("automatic_uploads"),eu=di("images_reuse_filename"),D0=di("images_replace_blob_uris"),L0=di("icons"),_p=di("icons_url"),Jk=di("images_upload_url"),Qk=di("images_upload_base_path"),Xu=di("images_upload_credentials"),qu=di("images_upload_handler"),tA=di("content_css_cors"),ov=di("referrer_policy"),$1=di("language"),eA=di("language_url"),Z1=di("indent_use_margin"),nA=di("indentation"),K1=di("content_css"),J1=di("content_style"),O0=di("font_css"),iA=di("directionality"),eD=di("inline_boundaries_selector"),Uu=di("object_resizing"),Io=di("resize_img_proportional"),Q1=di("placeholder"),tw=di("event_root"),nD=di("service_message"),Wo=di("theme"),Sp=di("theme_url"),Cp=di("model"),ew=di("model_url"),cg=di("inline_boundaries"),ug=di("formats"),iD=di("preview_styles"),rA=di("format_empty_lines"),rD=di("format_noneditable_selector"),oA=di("custom_ui_selector"),av=di("inline"),E0=di("hidden_input"),P0=di("submit_patch"),sv=di("add_form_submit_trigger"),aA=di("add_unload_trigger"),nw=di("custom_undo_redo_levels"),sA=di("disable_nodechange"),iw=di("readonly"),lA=di("content_css_cors"),N0=di("plugins"),cA=di("external_plugins"),uA=di("block_unsupported_drop"),hA=di("visual"),dA=di("visual_table_class"),R0=di("visual_anchor_class"),oD=di("iframe_aria_text"),El=di("setup"),aD=di("init_instance_callback"),lv=di("urlconverter_callback"),pA=di("auto_focus"),rw=di("browser_spellcheck"),kp=di("protect"),hg=di("paste_block_drop"),B0=di("paste_data_images"),rs=di("paste_preprocess"),fA=di("paste_postprocess"),cv=di("paste_webkit_styles"),uv=di("paste_remove_styles_if_webkit"),nu=di("paste_merge_formats"),mc=di("smart_paste"),z0=di("paste_as_text"),sD=di("paste_tab_spaces"),lD=di("allow_html_data_urls"),os=di("text_patterns"),cD=di("text_patterns_lookup"),Ap=di("noneditable_class"),gA=di("editable_class"),uD=di("noneditable_regexp"),as=di("preserve_cdata"),mA=s=>Mn.explode(s.options.get("images_file_types")),ss=di("table_tab_navigation"),hD=li,vA=Dn,Zo=s=>{const c=s.parentNode;c&&c.removeChild(s)},ks=s=>{const c=Ho(s);return{count:s.length-c.length,text:c}},yA=s=>{let c;for(;(c=s.data.lastIndexOf(Co))!==-1;)s.deleteData(c,1)},ow=(s,c)=>(Mp(s),c),dg=(s,c)=>tn.isTextPosition(c)?((p,m)=>vA(p)&&m.container()===p?((b,S)=>{const I=ks(b.data.substr(0,S.offset())),E=ks(b.data.substr(S.offset()));return(I.text+E.text).length>0?(yA(b),tn(b,S.offset()-I.count)):S})(p,m):ow(p,m))(s,c):((p,m)=>m.container()===p.parentNode?((b,S)=>{const I=S.container(),E=((F,W)=>{const $=We(F,W);return $===-1?U.none():U.some($)})(Pe(I.childNodes),b).map(F=>F<S.offset()?tn(I,S.offset()-1):S).getOr(S);return Mp(b),E})(p,m):ow(p,m))(s,c),Mp=s=>{hD(s)&&Uo(s)&&(Xm(s)?s.removeAttribute("data-mce-caret"):Zo(s)),vA(s)&&(yA(s),s.data.length===0&&Zo(s))},hv=Yr,F0=ws,xA=Ka,Tp=(s,c,p)=>{const m=q(c.getBoundingClientRect(),p);let b,S;if(s.tagName==="BODY"){const E=s.ownerDocument.documentElement;b=s.scrollLeft||E.scrollLeft,S=s.scrollTop||E.scrollTop}else{const E=s.getBoundingClientRect();b=s.scrollLeft-E.left,S=s.scrollTop-E.top}m.left+=b,m.right+=b,m.top+=S,m.bottom+=S,m.width=1;let I=c.offsetWidth-c.clientWidth;return I>0&&(p&&(I*=-1),m.left+=I,m.right+=I),m},aw=(s,c,p,m)=>{const b=rl();let S,I;const E=Oa(s),F=s.dom,W=()=>{($=>{var tt,ut;const ht=fa(Xe($),"*[contentEditable=false],video,audio,embed,object");for(let st=0;st<ht.length;st++){const xt=ht[st].dom;let lt=xt.previousSibling;if(dp(lt)){const _t=lt.data;_t.length===1?(tt=lt.parentNode)===null||tt===void 0||tt.removeChild(lt):lt.deleteData(_t.length-1,1)}lt=xt.nextSibling,Ru(lt)&&(lt.data.length===1?(ut=lt.parentNode)===null||ut===void 0||ut.removeChild(lt):lt.deleteData(0,1))}})(c),I&&(Mp(I),I=null),b.on($=>{F.remove($.caret),b.clear()}),S&&(clearInterval(S),S=void 0)};return{show:($,tt)=>{let ut;if(W(),xA(tt))return null;if(!p(tt))return I=((ht,st)=>{var xt;const lt=((xt=ht.ownerDocument)!==null&&xt!==void 0?xt:document).createTextNode(Co),_t=ht.parentNode;if(st){const Pt=ht.previousSibling;if(kl(Pt)){if(Uo(Pt))return Pt;if(dp(Pt))return Pt.splitText(Pt.data.length-1)}_t==null||_t.insertBefore(lt,ht)}else{const Pt=ht.nextSibling;if(kl(Pt)){if(Uo(Pt))return Pt;if(Ru(Pt))return Pt.splitText(1),Pt}ht.nextSibling?_t==null||_t.insertBefore(lt,ht.nextSibling):_t==null||_t.appendChild(lt)}return lt})(tt,$),ut=tt.ownerDocument.createRange(),vc(I.nextSibling)?(ut.setStart(I,0),ut.setEnd(I,0)):(ut.setStart(I,1),ut.setEnd(I,1)),ut;{const ht=((lt,_t,Pt)=>{var Xt;const ce=((Xt=_t.ownerDocument)!==null&&Xt!==void 0?Xt:document).createElement(lt);ce.setAttribute("data-mce-caret",Pt?"before":"after"),ce.setAttribute("data-mce-bogus","all"),ce.appendChild(up().dom);const Ae=_t.parentNode;return Pt?Ae==null||Ae.insertBefore(ce,_t):_t.nextSibling?Ae==null||Ae.insertBefore(ce,_t.nextSibling):Ae==null||Ae.appendChild(ce),ce})(E,tt,$),st=Tp(c,tt,$);F.setStyle(ht,"top",st.top),I=ht;const xt=F.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});F.setStyles(xt,{...st}),F.add(c,xt),b.set({caret:xt,element:tt,before:$}),$&&F.addClass(xt,"mce-visual-caret-before"),S=setInterval(()=>{b.on(lt=>{m()?F.toggleClass(lt.caret,"mce-visual-caret-hidden"):F.addClass(lt.caret,"mce-visual-caret-hidden")})},500),ut=tt.ownerDocument.createRange(),ut.setStart(ht,0),ut.setEnd(ht,0)}return ut},hide:W,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{b.on($=>{const tt=Tp(c,$.element,$.before);F.setStyles($.caret,{...tt})})},destroy:()=>clearInterval(S)}},Gh=()=>ti.browser.isFirefox(),vc=s=>hv(s)||F0(s),Xh=s=>vc(s)||ea(s)&&Gh(),V0=ba,pg=Yr,dD=ws,sw=ac("display","block table table-cell table-caption list-item"),lw=Uo,Ip=cc,cw=li,Mr=Dn,vo=Yn,yc=s=>s>0,Ys=s=>s<0,dv=(s,c)=>{let p;for(;p=s(c);)if(!Ip(p))return p;return null},$u=(s,c,p,m,b)=>{const S=new wo(s,m),I=pg(s)||Ip(s);let E;if(Ys(c)){if(I&&(E=dv(S.prev.bind(S),!0),p(E)))return E;for(;E=dv(S.prev.bind(S),b);)if(p(E))return E}if(yc(c)){if(I&&(E=dv(S.next.bind(S),!0),p(E)))return E;for(;E=dv(S.next.bind(S),b);)if(p(E))return E}return null},Ca=(s,c)=>{for(;s&&s!==c;){if(sw(s))return s;s=s.parentNode}return null},sl=(s,c,p)=>Ca(s.container(),p)===Ca(c.container(),p),fg=(s,c)=>{if(!c)return U.none();const p=c.container(),m=c.offset();return cw(p)?U.from(p.childNodes[m+s]):U.none()},H0=(s,c)=>{var p;const m=((p=c.ownerDocument)!==null&&p!==void 0?p:document).createRange();return s?(m.setStartBefore(c),m.setEndBefore(c)):(m.setStartAfter(c),m.setEndAfter(c)),m},bA=(s,c,p)=>Ca(c,s)===Ca(p,s),wA=(s,c,p)=>{const m=s?"previousSibling":"nextSibling";let b=p;for(;b&&b!==c;){let S=b[m];if(S&&lw(S)&&(S=S[m]),pg(S)||dD(S)){if(bA(c,S,b))return S;break}if(vo(S))break;b=b.parentNode}return null},gg=De(H0,!0),ls=De(H0,!1),mg=(s,c,p)=>{let m;const b=De(wA,!0,c),S=De(wA,!1,c),I=p.startContainer,E=p.startOffset;if(cc(I)){const F=Mr(I)?I.parentNode:I,W=F.getAttribute("data-mce-caret");if(W==="before"&&(m=F.nextSibling,Xh(m)))return gg(m);if(W==="after"&&(m=F.previousSibling,Xh(m)))return ls(m)}if(!p.collapsed)return p;if(Dn(I)){if(lw(I)){if(s===1){if(m=S(I),m)return gg(m);if(m=b(I),m)return ls(m)}if(s===-1){if(m=b(I),m)return ls(m);if(m=S(I),m)return gg(m)}return p}if(dp(I)&&E>=I.data.length-1)return s===1&&(m=S(I),m)?gg(m):p;if(Ru(I)&&E<=1)return s===-1&&(m=b(I),m)?ls(m):p;if(E===I.data.length)return m=S(I),m?gg(m):p;if(E===0)return m=b(I),m?ls(m):p}return p},vg=(s,c)=>fg(s?0:-1,c).filter(pg),Dp=(s,c,p)=>{const m=mg(s,c,p);return s===-1?tn.fromRangeStart(m):tn.fromRangeEnd(m)},pv=s=>U.from(s.getNode()).map(Xe),As=(s,c)=>{let p=c;for(;p=s(p);)if(p.isVisible())return p;return p},yg=(s,c)=>{const p=sl(s,c);return!(p||!oo(s.getNode()))||p};var _o;(function(s){s[s.Backwards=-1]="Backwards",s[s.Forwards=1]="Forwards"})(_o||(_o={}));const W0=Yr,Ea=Dn,Pl=li,xg=oo,Lp=Yn,bg=s=>v0(s)||(c=>!!uo(c)&&!Zn(Pe(c.getElementsByTagName("*")),(p,m)=>p||uc(m),!1))(s),wg=Qa,uw=(s,c)=>s.hasChildNodes()&&c<s.childNodes.length?s.childNodes[c]:null,Op=(s,c)=>{if(yc(s)){if(Lp(c.previousSibling)&&!Ea(c.previousSibling))return tn.before(c);if(Ea(c))return tn(c,0)}if(Ys(s)){if(Lp(c.nextSibling)&&!Ea(c.nextSibling))return tn.after(c);if(Ea(c))return tn(c,c.data.length)}return Ys(s)?xg(c)?tn.before(c):tn.after(c):tn.before(c)},Ep=(s,c,p)=>{let m,b,S,I;if(!Pl(p)||!c)return null;if(c.isEqual(tn.after(p))&&p.lastChild){if(I=tn.after(p.lastChild),Ys(s)&&Lp(p.lastChild)&&Pl(p.lastChild))return xg(p.lastChild)?tn.before(p.lastChild):I}else I=c;const E=I.container();let F=I.offset();if(Ea(E)){if(Ys(s)&&F>0)return tn(E,--F);if(yc(s)&&F<E.length)return tn(E,++F);m=E}else{if(Ys(s)&&F>0&&(b=uw(E,F-1),Lp(b)))return!bg(b)&&(S=$u(b,s,wg,b),S)?Ea(S)?tn(S,S.data.length):tn.after(S):Ea(b)?tn(b,b.data.length):tn.before(b);if(yc(s)&&F<E.childNodes.length&&(b=uw(E,F),Lp(b)))return xg(b)?(($,tt)=>{const ut=tt.nextSibling;return ut&&Lp(ut)?Ea(ut)?tn(ut,0):tn.before(ut):Ep(_o.Forwards,tn.after(tt),$)})(p,b):!bg(b)&&(S=$u(b,s,wg,b),S)?Ea(S)?tn(S,0):tn.before(S):Ea(b)?tn(b,0):tn.after(b);m=b||I.getNode()}if(m&&(yc(s)&&I.isAtEnd()||Ys(s)&&I.isAtStart())&&(m=$u(m,s,Oe,p,!0),wg(m,p)))return Op(s,m);b=m&&$u(m,s,wg,p);const W=ei(Gn((($,tt)=>{const ut=[];let ht=$;for(;ht&&ht!==tt;)ut.push(ht),ht=ht.parentNode;return ut})(E,p),W0));return!W||b&&W.contains(b)?b?Op(s,b):null:(I=yc(s)?tn.after(W):tn.before(W),I)},xc=s=>({next:c=>Ep(_o.Forwards,c,s),prev:c=>Ep(_o.Backwards,c,s)}),j0=s=>tn.isTextPosition(s)?s.offset()===0:Yn(s.getNode()),Pp=s=>{if(tn.isTextPosition(s)){const c=s.container();return s.offset()===c.data.length}return Yn(s.getNode(!0))},hw=(s,c)=>!tn.isTextPosition(s)&&!tn.isTextPosition(c)&&s.getNode()===c.getNode(!0),ra=(s,c,p)=>{const m=xc(c);return U.from(s?m.next(p):m.prev(p))},qh=(s,c,p)=>ra(s,c,p).bind(m=>sl(p,m,c)&&((b,S,I)=>{return b?!hw(S,I)&&(E=S,!(!tn.isTextPosition(E)&&oo(E.getNode())))&&Pp(S)&&j0(I):!hw(I,S)&&j0(S)&&Pp(I);var E})(s,p,m)?ra(s,c,m):U.some(m)),fv=(s,c,p,m)=>qh(s,c,p).bind(b=>m(b)?fv(s,c,b,m):U.some(b)),Np=(s,c)=>{const p=s?c.firstChild:c.lastChild;return Dn(p)?U.some(tn(p,s?0:p.data.length)):p?Yn(p)?U.some(s?tn.before(p):oo(m=p)?tn.before(m):tn.after(m)):((b,S,I)=>{const E=b?tn.before(I):tn.after(I);return ra(b,S,E)})(s,c,p):U.none();var m},Pa=De(ra,!0),so=De(ra,!1),Xr=De(Np,!0),Dr=De(Np,!1),_g="_mce_caret",Nl=s=>li(s)&&s.id===_g,Uh=(s,c)=>{let p=c;for(;p&&p!==s;){if(Nl(p))return p;p=p.parentNode}return null},dw=s=>gn(s,"name"),pw=s=>Mn.isArray(s.start),gv=s=>!(!dw(s)&&te(s.forward))||s.forward,Rp=(s,c)=>(li(c)&&s.isBlock(c)&&!c.innerHTML&&(c.innerHTML='<br data-mce-bogus="1" />'),c),_A=(s,c)=>Dr(s).fold(oe,p=>(c.setStart(p.container(),p.offset()),c.setEnd(p.container(),p.offset()),!0)),fw=(s,c,p)=>!(!(m=>!m.hasChildNodes())(c)||!Uh(s,c)||(((m,b)=>{var S;const I=((S=m.ownerDocument)!==null&&S!==void 0?S:document).createTextNode(Co);m.appendChild(I),b.setStart(I,0),b.setEnd(I,0)})(c,p),0)),Y0=(s,c,p,m)=>{const b=p[c?"start":"end"],S=s.getRoot();if(b){let I=S,E=b[0];for(let F=b.length-1;I&&F>=1;F--){const W=I.childNodes;if(fw(S,I,m))return!0;if(b[F]>W.length-1)return!!fw(S,I,m)||_A(I,m);I=W[b[F]]}Dn(I)&&(E=Math.min(b[0],I.data.length)),li(I)&&(E=Math.min(b[0],I.childNodes.length)),c?m.setStart(I,E):m.setEnd(I,E)}return!0},mv=s=>Dn(s)&&s.data.length>0,SA=(s,c,p)=>{const m=s.get(p.id+"_"+c),b=m==null?void 0:m.parentNode,S=p.keep;if(m&&b){let I,E;if(c==="start"?S?m.hasChildNodes()?(I=m.firstChild,E=1):mv(m.nextSibling)?(I=m.nextSibling,E=0):mv(m.previousSibling)?(I=m.previousSibling,E=m.previousSibling.data.length):(I=b,E=s.nodeIndex(m)+1):(I=b,E=s.nodeIndex(m)):S?m.hasChildNodes()?(I=m.firstChild,E=1):mv(m.previousSibling)?(I=m.previousSibling,E=m.previousSibling.data.length):(I=b,E=s.nodeIndex(m)):(I=b,E=s.nodeIndex(m)),!S){const F=m.previousSibling,W=m.nextSibling;let $;for(Mn.each(Mn.grep(m.childNodes),tt=>{Dn(tt)&&(tt.data=tt.data.replace(/\uFEFF/g,""))});$=s.get(p.id+"_"+c);)s.remove($,!0);if(Dn(W)&&Dn(F)&&!ti.browser.isOpera()){const tt=F.data.length;F.appendData(W.data),s.remove(W),I=F,E=tt}}return U.some(tn(I,E))}return U.none()},gw=(s,c,p)=>((m,b,S=!1)=>b===2?Gk(Ho,S,m):b===3?(I=>{const E=I.getRng();return{start:Sa(I.dom.getRoot(),tn.fromRangeStart(E)),end:Sa(I.dom.getRoot(),tn.fromRangeEnd(E)),forward:I.isForward()}})(m):b?(I=>({rng:I.getRng(),forward:I.isForward()}))(m):F1(m,!1))(s,c,p),mw=(s,c)=>{((p,m)=>{const b=p.dom;if(m){if(pw(m))return((S,I)=>{const E=S.createRng();return Y0(S,!0,I,E)&&Y0(S,!1,I,E)?U.some({range:E,forward:gv(I)}):U.none()})(b,m);if((S=>ft(S.start))(m))return((S,I)=>{const E=U.from(Wk(S.getRoot(),I.start)),F=U.from(Wk(S.getRoot(),I.end));return to(E,F,(W,$)=>{const tt=S.createRng();return tt.setStart(W.container(),W.offset()),tt.setEnd($.container(),$.offset()),{range:tt,forward:gv(I)}})})(b,m);if((S=>gn(S,"id"))(m))return((S,I)=>{const E=SA(S,"start",I),F=SA(S,"end",I);return to(E,F.or(E),(W,$)=>{const tt=S.createRng();return tt.setStart(Rp(S,W.container()),W.offset()),tt.setEnd(Rp(S,$.container()),$.offset()),{range:tt,forward:gv(I)}})})(b,m);if(dw(m))return((S,I)=>U.from(S.select(I.name)[I.index]).map(E=>{const F=S.createRng();return F.selectNode(E),{range:F,forward:!0}}))(b,m);if((S=>gn(S,"rng"))(m))return U.some({range:m.rng,forward:gv(m)})}return U.none()})(s,c).each(({range:p,forward:m})=>{s.setRng(p,m)})},ll=s=>li(s)&&s.tagName==="SPAN"&&s.getAttribute("data-mce-type")==="bookmark",vv=s=>s===" ",Sg=s=>s!==""&&` \f
\r	\v`.indexOf(s)!==-1,vw=s=>!Sg(s)&&!vv(s)&&!Ym(s),G0=s=>{const c=s.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},pD=s=>(c=>({value:c}))(G0(s.red)+G0(s.green)+G0(s.blue)),fD=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Nr=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,CA=(s,c,p,m)=>({red:s,green:c,blue:p,alpha:m}),Bp=(s,c,p,m)=>{const b=parseInt(s,10),S=parseInt(c,10),I=parseInt(p,10),E=parseFloat(m);return CA(b,S,I,E)},bc=s=>(c=>{if(c==="transparent")return U.some(CA(0,0,0,0));const p=fD.exec(c);if(p!==null)return U.some(Bp(p[1],p[2],p[3],"1"));const m=Nr.exec(c);return m!==null?U.some(Bp(m[1],m[2],m[3],m[4])):U.none()})(s).map(pD).map(c=>"#"+c.value).getOr(s),Cg=s=>{const c=[];if(s)for(let p=0;p<s.rangeCount;p++)c.push(s.getRangeAt(p));return c},X0=(s,c)=>{const p=fa(c,"td[data-mce-selected],th[data-mce-selected]");return p.length>0?p:(m=>Gn((b=>Un(b,S=>{const I=Dt(S);return I?[Xe(I)]:[]}))(m),Ia))(s)},kg=s=>X0(Cg(s.selection.getSel()),Xe(s.getBody())),$h=(s,c)=>Ua(s,"table",c),q0=s=>Zd(s).fold(ie([s]),c=>[s].concat(q0(c))),U0=s=>Wf(s).fold(ie([s]),c=>Tr(c)==="br"?Ga(c).map(p=>[s].concat(U0(p))).getOr([]):[s].concat(U0(c))),yv=(s,c)=>to((p=>{const m=p.startContainer,b=p.startOffset;return Dn(m)?b===0?U.some(Xe(m)):U.none():U.from(m.childNodes[b]).map(Xe)})(c),(p=>{const m=p.endContainer,b=p.endOffset;return Dn(m)?b===m.data.length?U.some(Xe(m)):U.none():U.from(m.childNodes[b-1]).map(Xe)})(c),(p,m)=>{const b=Yi(q0(s),De(tr,p)),S=Yi(U0(s),De(tr,m));return b.isSome()&&S.isSome()}).getOr(!1),xv=(s,c,p,m)=>{const b=p,S=new wo(p,b),I=Ln(s.schema.getMoveCaretBeforeOnEnterElements(),(F,W)=>!Re(["td","th","table"],W.toLowerCase()));let E=p;do{if(Dn(E)&&Mn.trim(E.data).length!==0)return void(m?c.setStart(E,0):c.setEnd(E,E.data.length));if(I[E.nodeName])return void(m?c.setStartBefore(E):E.nodeName==="BR"?c.setEndBefore(E):c.setEndAfter(E))}while(E=m?S.next():S.prev());b.nodeName==="BODY"&&(m?c.setStart(b,0):c.setEnd(b,b.childNodes.length))},bv=s=>{const c=s.selection.getSel();return Kt(c)&&c.rangeCount>0},$0=(s,c)=>{const p=kg(s);p.length>0?he(p,m=>{const b=m.dom,S=s.dom.createRng();S.setStartBefore(b),S.setEndAfter(b),c(S,!0)}):c(s.selection.getRng(),!1)},yw=(s,c,p)=>{const m=F1(s,c);p(m),s.moveToBookmark(m)},Zh=s=>Me(s==null?void 0:s.nodeType),Z0=s=>li(s)&&!ll(s)&&!Nl(s)&&!tl(s),wc=s=>s.isContentEditable===!0,kA=(s,c,p)=>{const{selection:m,dom:b}=s,S=m.getNode(),I=Yr(S);yw(m,!0,()=>{c()}),I&&Yr(S)&&b.isChildOf(S,s.getBody())?s.selection.select(S):p(m.getStart())&&AA(b,m)},AA=(s,c)=>{var p,m;const b=c.getRng(),{startContainer:S,startOffset:I}=b;if(!((E,F)=>{if(Z0(F)&&!/^(TD|TH)$/.test(F.nodeName)){const W=E.getAttrib(F,"data-mce-selected"),$=parseInt(W,10);return!isNaN($)&&$>0}return!1})(s,c.getNode())&&li(S)){const E=S.childNodes,F=s.getRoot();let W;if(I<E.length){const $=E[I];W=new wo($,(p=s.getParent($,s.isBlock))!==null&&p!==void 0?p:F)}else{const $=E[E.length-1];W=new wo($,(m=s.getParent($,s.isBlock))!==null&&m!==void 0?m:F),W.next(!0)}for(let $=W.current();$;$=W.next()){if(s.getContentEditable($)==="false")return;if(Dn($)&&!Kh($))return b.setStart($,0),void c.setRng(b)}}},K0=(s,c,p)=>{if(s){const m=c?"nextSibling":"previousSibling";for(s=p?s:s[m];s;s=s[m])if(li(s)||!Kh(s))return s}},J0=(s,c)=>!!s.getTextBlockElements()[c.nodeName.toLowerCase()]||Sr(s,c),va=(s,c,p)=>s.schema.isValidChild(c,p),Kh=(s,c=!1)=>{if(Kt(s)&&Dn(s)){const p=c?s.data.replace(/ /g," "):s.data;return Xc(p)}return!1},MA=(s,c)=>{const p=s.dom;return Z0(c)&&p.getContentEditable(c)==="false"&&((m,b)=>{const S="[data-mce-cef-wrappable]",I=rD(m),E=C(I)?S:`${S},${I}`;return Go(Xe(b),E)})(s,c)&&p.select('[contenteditable="true"]',c).length===0},Rl=(s,c)=>se(s)?s(c):(Kt(c)&&(s=s.replace(/%(\w+)/g,(p,m)=>c[m]||p)),s),Q0=(s,c)=>(c=c||"",s=""+((s=s||"").nodeName||s),c=""+(c.nodeName||c),s.toLowerCase()===c.toLowerCase()),tx=(s,c)=>{if(Ft(s))return null;{let p=String(s);return c!=="color"&&c!=="backgroundColor"||(p=bc(p)),c==="fontWeight"&&s===700&&(p="bold"),c==="fontFamily"&&(p=p.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),p}},Ag=(s,c,p)=>{const m=s.getStyle(c,p);return tx(m,p)},zp=(s,c)=>{let p;return s.getParent(c,m=>!!li(m)&&(p=s.getStyle(m,"text-decoration"),!!p&&p!=="none")),p},Fp=(s,c,p)=>s.getParents(c,p,s.getRoot()),Vp=(s,c,p)=>{const m=s.formatter.get(c);return Kt(m)&&Be(m,p)},cl=s=>Di(s,"block"),cs=s=>Di(s,"selector"),ko=s=>Di(s,"inline"),xw=s=>cs(s)&&s.expand!==!1&&!ko(s),Hp=ll,bw=Fp,ww=Kh,TA=J0,_w=(s,c)=>{let p=c;for(;p;){if(li(p)&&s.getContentEditable(p))return s.getContentEditable(p)==="false"?p:c;p=p.parentNode}return c},Sw=(s,c,p,m)=>{const b=c.data;if(s){for(let S=p;S>0;S--)if(m(b.charAt(S-1)))return S}else for(let S=p;S<b.length;S++)if(m(b.charAt(S)))return S;return-1},Cw=(s,c,p)=>Sw(s,c,p,m=>vv(m)||Sg(m)),kw=(s,c,p)=>Sw(s,c,p,vw),Jh=(s,c,p,m,b,S)=>{let I;const E=s.getParent(p,s.isBlock)||c,F=(W,$,tt)=>{const ut=O(s),ht=b?ut.backwards:ut.forwards;return U.from(ht(W,$,(st,xt)=>Hp(st.parentNode)?-1:(I=st,tt(b,st,xt)),E))};return F(p,m,Cw).bind(W=>S?F(W.container,W.offset+(b?-1:0),kw):U.some(W)).orThunk(()=>I?U.some({container:I,offset:b?0:I.length}):U.none())},ex=(s,c,p,m,b)=>{const S=m[b];Dn(m)&&C(m.data)&&S&&(m=S);const I=bw(s,m);for(let E=0;E<I.length;E++)for(let F=0;F<c.length;F++){const W=c[F];if((!Kt(W.collapsed)||W.collapsed===p.collapsed)&&cs(W)&&s.is(I[E],W.selector))return I[E]}return m},Aw=(s,c,p,m)=>{var b;let S=p;const I=s.getRoot(),E=c[0];if(cl(E)&&(S=E.wrapper?null:s.getParent(p,E.block,I)),!S){const F=(b=s.getParent(p,"LI,TD,TH"))!==null&&b!==void 0?b:I;S=s.getParent(Dn(p)?p.parentNode:p,W=>W!==I&&TA(s.schema,W),F)}if(S&&cl(E)&&E.wrapper&&(S=bw(s,S,"ul,ol").reverse()[0]||S),!S)for(S=p;S&&S[m]&&!s.isBlock(S[m])&&(S=S[m],!Q0(S,"br")););return S||p},nx=(s,c,p,m)=>{const b=p.parentNode;return!Kt(p[m])&&(!(b!==c&&!Ft(b)&&!s.isBlock(b))||nx(s,c,b,m))},Mg=(s,c,p,m,b)=>{let S=p;const I=b?"previousSibling":"nextSibling",E=s.getRoot();if(Dn(p)&&!ww(p)&&(b?m>0:m<p.data.length))return p;for(;S;){if(!c[0].block_expand&&s.isBlock(S))return S;for(let W=S[I];W;W=W[I]){const $=Dn(W)&&!nx(s,E,W,I);if(!Hp(W)&&(!oo(F=W)||!F.getAttribute("data-mce-bogus")||F.nextSibling)&&!ww(W,$))return S}if(S===E||S.parentNode===E){p=S;break}S=S.parentNode}var F;return p},Mw=s=>Hp(s.parentNode)||Hp(s),ul=(s,c,p,m=!1)=>{let{startContainer:b,startOffset:S,endContainer:I,endOffset:E}=c;const F=p[0];return li(b)&&b.hasChildNodes()&&(b=Vt(b,S),Dn(b)&&(S=0)),li(I)&&I.hasChildNodes()&&(I=Vt(I,c.collapsed?E:E-1),Dn(I)&&(E=I.data.length)),b=_w(s,b),I=_w(s,I),Mw(b)&&(b=Hp(b)?b:b.parentNode,b=c.collapsed?b.previousSibling||b:b.nextSibling||b,Dn(b)&&(S=c.collapsed?b.length:0)),Mw(I)&&(I=Hp(I)?I:I.parentNode,I=c.collapsed?I.nextSibling||I:I.previousSibling||I,Dn(I)&&(E=c.collapsed?0:I.length)),c.collapsed&&(Jh(s,s.getRoot(),b,S,!0,m).each(({container:W,offset:$})=>{b=W,S=$}),Jh(s,s.getRoot(),I,E,!1,m).each(({container:W,offset:$})=>{I=W,E=$})),(ko(F)||F.block_expand)&&(ko(F)&&Dn(b)&&S!==0||(b=Mg(s,p,b,S,!0)),ko(F)&&Dn(I)&&E!==I.data.length||(I=Mg(s,p,I,E,!1))),xw(F)&&(b=ex(s,p,c,b,"previousSibling"),I=ex(s,p,c,I,"nextSibling")),(cl(F)||cs(F))&&(b=Aw(s,p,b,"previousSibling"),I=Aw(s,p,I,"nextSibling"),cl(F)&&(s.isBlock(b)||(b=Mg(s,p,b,S,!0)),s.isBlock(I)||(I=Mg(s,p,I,E,!1)))),li(b)&&b.parentNode&&(S=s.nodeIndex(b),b=b.parentNode),li(I)&&I.parentNode&&(E=s.nodeIndex(I)+1,I=I.parentNode),{startContainer:b,startOffset:S,endContainer:I,endOffset:E}},Qh=(s,c,p)=>{var m;const b=c.startOffset,S=Vt(c.startContainer,b),I=c.endOffset,E=Vt(c.endContainer,I-1),F=lt=>{const _t=lt[0];Dn(_t)&&_t===S&&b>=_t.data.length&&lt.splice(0,1);const Pt=lt[lt.length-1];return I===0&&lt.length>0&&Pt===E&&Dn(Pt)&&lt.splice(lt.length-1,1),lt},W=(lt,_t,Pt)=>{const Xt=[];for(;lt&&lt!==Pt;lt=lt[_t])Xt.push(lt);return Xt},$=(lt,_t)=>s.getParent(lt,Pt=>Pt.parentNode===_t,_t),tt=(lt,_t,Pt)=>{const Xt=Pt?"nextSibling":"previousSibling";for(let ce=lt,Ae=ce.parentNode;ce&&ce!==_t;ce=Ae){Ae=ce.parentNode;const _e=W(ce===lt?ce:ce[Xt],Xt);_e.length&&(Pt||_e.reverse(),p(F(_e)))}};if(S===E)return p(F([S]));const ut=(m=s.findCommonAncestor(S,E))!==null&&m!==void 0?m:s.getRoot();if(s.isChildOf(S,E))return tt(S,ut,!0);if(s.isChildOf(E,S))return tt(E,ut);const ht=$(S,ut)||S,st=$(E,ut)||E;tt(S,ht,!0);const xt=W(ht===S?ht:ht.nextSibling,"nextSibling",st===E?st.nextSibling:st);xt.length&&p(F(xt)),tt(E,st)},ix=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Tw=(s,c,p,m,b,S)=>{const{uid:I=c,...E}=p;$d(s,Vo()),Mo(s,`${fc()}`,I),Mo(s,`${Vs()}`,m);const{attributes:F={},classes:W=[]}=b(I,E);if(Ul(s,F),(($,tt)=>{he(tt,ut=>{$d($,ut)})})(s,W),S){W.length>0&&Mo(s,`${Ll()}`,W.join(","));const $=Ee(F);$.length>0&&Mo(s,`${Ol()}`,$.join(","))}},td=(s,c,p,m,b)=>{const S=bo("span",s);return Tw(S,c,p,m,b,!1),S},Iw=(s,c,p,m,b,S)=>{const I=[],E=td(s.getDoc(),p,S,m,b),F=rl(),W=()=>{F.clear()},$=ut=>{he(ut,tt)},tt=ut=>{switch(((ht,st,xt,lt)=>Xo(st).fold(()=>"skipping",_t=>lt==="br"||(Pt=>gs(Pt)&&sc(Pt)===Co)(st)?"valid":(Pt=>Po(Pt)&&Au(Pt,Vo()))(st)?"existing":Nl(st.dom)?"caret":Be(ix,Pt=>Go(st,Pt))?"valid-block":va(ht,xt,lt)&&va(ht,Tr(_t),xt)?"valid":"invalid-child"))(s,ut,"span",Tr(ut))){case"invalid-child":{W();const ht=Ro(ut);$(ht),W();break}case"valid-block":W(),Tw(ut,p,S,m,b,!0);break;case"valid":{const ht=F.get().getOrThunk(()=>{const st=D(E);return I.push(st),F.set(st),st});((st,xt)=>{pa(st,xt),Bo(xt,st)})(ut,ht);break}}};return Qh(s.dom,c,ut=>{W(),(ht=>{const st=un(ht,Xe);$(st)})(ut)}),I},ed=s=>{const c=(()=>{const S={};return{register:(I,E)=>{S[I]={name:I,settings:E}},lookup:I=>En(S,I).map(E=>E.settings),getNames:()=>Ee(S)}})();((S,I)=>{const E=Vs(),F=$=>U.from($.attr(E)).bind(I.lookup),W=$=>{var tt,ut;$.attr(fc(),null),$.attr(Vs(),null),$.attr(Dl(),null);const ht=U.from($.attr(Ol())).map(_t=>_t.split(",")).getOr([]),st=U.from($.attr(Ll())).map(_t=>_t.split(",")).getOr([]);he(ht,_t=>$.attr(_t,null));const xt=(ut=(tt=$.attr("class"))===null||tt===void 0?void 0:tt.split(" "))!==null&&ut!==void 0?ut:[],lt=Ri(xt,[Vo()].concat(st));$.attr("class",lt.length>0?lt.join(" "):null),$.attr(Ll(),null),$.attr(Ol(),null)};S.serializer.addTempAttr(Dl()),S.serializer.addAttributeFilter(E,$=>{for(const tt of $)F(tt).each(ut=>{ut.persistent===!1&&(tt.name==="span"?tt.unwrap():W(tt))})})})(s,c);const p=((S,I)=>{const E=no({}),F=()=>({listeners:[],previous:rl()}),W=(ht,st)=>{$(ht,xt=>(st(xt),xt))},$=(ht,st)=>{const xt=E.get(),lt=st(En(xt,ht).getOrThunk(F));xt[ht]=lt,E.set(xt)},tt=(ht,st)=>{he(zr(S,ht),xt=>{st?Mo(xt,Dl(),"true"):No(xt,Dl())})},ut=Gu(()=>{const ht=kt(I.getNames());he(ht,st=>{$(st,xt=>{const lt=xt.previous.get();return Wh(S,U.some(st)).fold(()=>{lt.each(_t=>{(Pt=>{W(Pt,Xt=>{he(Xt.listeners,ce=>ce(!1,Pt))})})(st),xt.previous.clear(),tt(_t,!1)})},({uid:_t,name:Pt,elements:Xt})=>{$r(lt,_t)||(lt.each(ce=>tt(ce,!1)),((ce,Ae,_e)=>{W(ce,Ye=>{he(Ye.listeners,ze=>ze(!0,ce,{uid:Ae,nodes:un(_e,Ge=>Ge.dom)}))})})(Pt,_t,Xt),xt.previous.set(_t),tt(_t,!0))}),{previous:xt.previous,listeners:xt.listeners}})})},30);return S.on("remove",()=>{ut.cancel()}),S.on("NodeChange",()=>{ut.throttle()}),{addListener:(ht,st)=>{$(ht,xt=>({previous:xt.previous,listeners:xt.listeners.concat([st])}))}}})(s,c),m=Rc("span"),b=S=>{he(S,I=>{m(I)?bs(I):(E=>{Kl(E,Vo()),No(E,`${fc()}`),No(E,`${Vs()}`),No(E,`${Dl()}`);const F=Qs(E,`${Ol()}`).map(tt=>tt.split(",")).getOr([]),W=Qs(E,`${Ll()}`).map(tt=>tt.split(",")).getOr([]);var $;he(F,tt=>No(E,tt)),$=E,he(W,tt=>{Kl($,tt)}),No(E,`${Ll()}`),No(E,`${Ol()}`)})(I)})};return{register:(S,I)=>{c.register(S,I)},annotate:(S,I)=>{c.lookup(S).each(E=>{((F,W,$,tt)=>{F.undoManager.transact(()=>{const ut=F.selection,ht=ut.getRng(),st=kg(F).length>0,xt=ts("mce-annotation");if(ht.collapsed&&!st&&((lt,_t)=>{const Pt=ul(lt.dom,_t,[{inline:"span"}]);_t.setStart(Pt.startContainer,Pt.startOffset),_t.setEnd(Pt.endContainer,Pt.endOffset),lt.selection.setRng(_t)})(F,ht),ut.getRng().collapsed&&!st){const lt=td(F.getDoc(),xt,tt,W,$.decorate);nc(lt,zo),ut.getRng().insertNode(lt.dom),ut.select(lt.dom)}else yw(ut,!1,()=>{$0(F,lt=>{Iw(F,lt,xt,W,$.decorate,tt)})})})})(s,S,E,I)})},annotationChanged:(S,I)=>{p.addListener(S,I)},remove:S=>{const I=s.selection.getBookmark();Wh(s,U.some(S)).each(({elements:E})=>{b(E)}),s.selection.moveToBookmark(I)},removeAll:S=>{const I=s.selection.getBookmark();Fe(Hs(s,S),(E,F)=>{b(E)}),s.selection.moveToBookmark(I)},getAll:S=>{const I=Hs(s,S);return Qn(I,E=>un(E,F=>F.dom))}}},Ao=s=>({getBookmark:De(gw,s),moveToBookmark:De(mw,s)});Ao.isBookmarkNode=ll;const wv=(s,c,p)=>!p.collapsed&&Be(p.getClientRects(),m=>((b,S,I)=>S>=b.left&&S<=b.right&&I>=b.top&&I<=b.bottom)(m,s,c)),Tg=(s,c,p)=>{s.dispatch(c,p)},Zu=(s,c,p,m)=>{s.dispatch("FormatApply",{format:c,node:p,vars:m})},Wp=(s,c,p,m)=>{s.dispatch("FormatRemove",{format:c,node:p,vars:m})},Dw=(s,c)=>s.dispatch("SetContent",c),IA=(s,c)=>s.dispatch("GetContent",c),pr=(s,c)=>s.dispatch("PastePlainTextToggle",{state:c}),Ai={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:s=>s.shiftKey||s.ctrlKey||s.altKey||Ai.metaKeyPressed(s),metaKeyPressed:s=>ti.os.isMacOS()||ti.os.isiOS()?s.metaKey:s.ctrlKey&&!s.altKey},iu="data-mce-selected",DA=Math.abs,_v=Math.round,ru={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ou=(s,c)=>{const p=c.dom,m=c.getDoc(),b=document,S=c.getBody();let I,E,F,W,$,tt,ut,ht,st,xt,lt,_t,Pt,Xt,ce;const Ae=yi=>Kt(yi)&&(qf(yi)||p.is(yi,"figure.image")),_e=yi=>ws(yi)||p.hasClass(yi,"mce-preview-object"),Ye=yi=>{const Xi=yi.target;((Vi,Ue)=>{if((Ze=>Ze.type==="longpress"||Ze.type.indexOf("touch")===0)(Vi)){const Ze=Vi.touches[0];return Ae(Vi.target)&&!wv(Ze.clientX,Ze.clientY,Ue)}return Ae(Vi.target)&&!wv(Vi.clientX,Vi.clientY,Ue)})(yi,c.selection.getRng())&&!yi.isDefaultPrevented()&&c.selection.select(Xi)},ze=yi=>p.hasClass(yi,"mce-preview-object")&&Kt(yi.firstElementChild)?[yi,yi.firstElementChild]:p.is(yi,"figure.image")?[yi.querySelector("img")]:[yi],Ge=yi=>{const Xi=Uu(c);return!!Xi&&yi.getAttribute("data-mce-resize")!=="false"&&yi!==c.getBody()&&(p.hasClass(yi,"mce-preview-object")&&Kt(yi.firstElementChild)?Go(Xe(yi.firstElementChild),Xi):Go(Xe(yi),Xi))},en=(yi,Xi,Vi)=>{if(Kt(Vi)){const Ue=ze(yi);he(Ue,Ze=>{Ze.style[Xi]||!c.schema.isValid(Ze.nodeName.toLowerCase(),Xi)?p.setStyle(Ze,Xi,Vi):p.setAttrib(Ze,Xi,""+Vi)})}},nn=(yi,Xi,Vi)=>{en(yi,"width",Xi),en(yi,"height",Vi)},hn=yi=>{let Xi,Vi,Ue,Ze,mn;Xi=yi.screenX-tt,Vi=yi.screenY-ut,_t=Xi*W[2]+ht,Pt=Vi*W[3]+st,_t=_t<5?5:_t,Pt=Pt<5?5:Pt,Ue=(Ae(I)||_e(I))&&Io(c)!==!1?!Ai.modifierPressed(yi):Ai.modifierPressed(yi),Ue&&(DA(Xi)>DA(Vi)?(Pt=_v(_t*xt),_t=_v(Pt/xt)):(_t=_v(Pt/xt),Pt=_v(_t*xt))),nn(E,_t,Pt),Ze=W.startPos.x+Xi,mn=W.startPos.y+Vi,Ze=Ze>0?Ze:0,mn=mn>0?mn:0,p.setStyles(F,{left:Ze,top:mn,display:"block"}),F.innerHTML=_t+" &times; "+Pt,W[2]<0&&E.clientWidth<=_t&&p.setStyle(E,"left",void 0+(ht-_t)),W[3]<0&&E.clientHeight<=Pt&&p.setStyle(E,"top",void 0+(st-Pt)),Xi=S.scrollWidth-Xt,Vi=S.scrollHeight-ce,Xi+Vi!==0&&p.setStyles(F,{left:Ze-Xi,top:mn-Vi}),lt||(((_n,Sn,Cn,Wn,si)=>{_n.dispatch("ObjectResizeStart",{target:Sn,width:Cn,height:Wn,origin:si})})(c,I,ht,st,"corner-"+W.name),lt=!0)},sn=()=>{const yi=lt;lt=!1,yi&&(en(I,"width",_t),en(I,"height",Pt)),p.unbind(m,"mousemove",hn),p.unbind(m,"mouseup",sn),b!==m&&(p.unbind(b,"mousemove",hn),p.unbind(b,"mouseup",sn)),p.remove(E),p.remove(F),p.remove($),xn(I),yi&&(((Xi,Vi,Ue,Ze,mn)=>{Xi.dispatch("ObjectResized",{target:Vi,width:Ue,height:Ze,origin:mn})})(c,I,_t,Pt,"corner-"+W.name),p.setAttrib(I,"style",p.getAttrib(I,"style"))),c.nodeChanged()},xn=yi=>{fr();const Xi=p.getPos(yi,S),Vi=Xi.x,Ue=Xi.y,Ze=yi.getBoundingClientRect(),mn=Ze.width||Ze.right-Ze.left,_n=Ze.height||Ze.bottom-Ze.top;I!==yi&&(Kn(),I=yi,_t=Pt=0);const Sn=c.dispatch("ObjectSelected",{target:yi});Ge(yi)&&!Sn.isDefaultPrevented()?Fe(ru,(Cn,Wn)=>{let si=p.get("mceResizeHandle"+Wn);si&&p.remove(si),si=p.add(S,"div",{id:"mceResizeHandle"+Wn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Wn+"-resize; margin:0; padding:0"}),p.bind(si,"mousedown",pi=>{pi.stopImmediatePropagation(),pi.preventDefault(),(Pi=>{const ji=ze(I)[0];var ai;tt=Pi.screenX,ut=Pi.screenY,ht=ji.clientWidth,st=ji.clientHeight,xt=st/ht,W=Cn,W.name=Wn,W.startPos={x:mn*Cn[0]+Vi,y:_n*Cn[1]+Ue},Xt=S.scrollWidth,ce=S.scrollHeight,$=p.add(S,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),p.setStyles($,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),E=_e(ai=I)?p.create("img",{src:ti.transparentSrc}):ai.cloneNode(!0),p.addClass(E,"mce-clonedresizable"),p.setAttrib(E,"data-mce-bogus","all"),E.contentEditable="false",p.setStyles(E,{left:Vi,top:Ue,margin:0}),nn(E,mn,_n),E.removeAttribute(iu),S.appendChild(E),p.bind(m,"mousemove",hn),p.bind(m,"mouseup",sn),b!==m&&(p.bind(b,"mousemove",hn),p.bind(b,"mouseup",sn)),F=p.add(S,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ht+" &times; "+st)})(pi)}),Cn.elm=si,p.setStyles(si,{left:mn*Cn[0]+Vi-si.offsetWidth/2,top:_n*Cn[1]+Ue-si.offsetHeight/2})}):Kn(!1)},$n=ol(xn,0),Kn=(yi=!0)=>{$n.cancel(),fr(),I&&yi&&I.removeAttribute(iu),Fe(ru,(Xi,Vi)=>{const Ue=p.get("mceResizeHandle"+Vi);Ue&&(p.unbind(Ue),p.remove(Ue))})},ki=(yi,Xi)=>p.isChildOf(yi,Xi),Ii=yi=>{if(lt||c.removed||c.composing)return;const Xi=yi.type==="mousedown"?yi.target:s.getNode(),Vi=_l(Xe(Xi),"table,img,figure.image,hr,video,span.mce-preview-object").map(Ze=>Ze.dom).getOrUndefined(),Ue=Kt(Vi)?p.getAttrib(Vi,iu,"1"):"1";if(he(p.select("img[data-mce-selected],hr[data-mce-selected]"),Ze=>{Ze.removeAttribute(iu)}),Kt(Vi)&&ki(Vi,S)){Hr();const Ze=s.getStart(!0);if(ki(Ze,Vi)&&ki(s.getEnd(!0),Vi))return p.setAttrib(Vi,iu,Ue),void $n.throttle(Vi)}Kn()},fr=()=>{Fe(ru,yi=>{yi.elm&&(p.unbind(yi.elm),delete yi.elm)})},Hr=()=>{try{c.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return c.on("init",()=>{Hr(),c.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ii),c.on("keyup compositionend",yi=>{I&&I.nodeName==="TABLE"&&Ii(yi)}),c.on("hide blur",Kn),c.on("contextmenu longpress",Ye,!0)}),c.on("remove",fr),{isResizable:Ge,showResizeRect:xn,hideResizeRect:Kn,updateResizeRect:Ii,destroy:()=>{$n.cancel(),I=E=$=null}}},Ku=(s,c,p)=>{const m=s.document.createRange();var b;return b=m,c.fold(S=>{b.setStartBefore(S.dom)},(S,I)=>{b.setStart(S.dom,I)},S=>{b.setStartAfter(S.dom)}),((S,I)=>{I.fold(E=>{S.setEndBefore(E.dom)},(E,F)=>{S.setEnd(E.dom,F)},E=>{S.setEndAfter(E.dom)})})(m,p),m},nd=(s,c,p,m,b)=>{const S=s.document.createRange();return S.setStart(c.dom,p),S.setEnd(m.dom,b),S},au=gc([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Lw=(s,c,p)=>c(Xe(p.startContainer),p.startOffset,Xe(p.endContainer),p.endOffset);au.ltr,au.rtl;const id=(s,c,p,m)=>({start:s,soffset:c,finish:p,foffset:m}),Ow=document.caretPositionFromPoint?(s,c,p)=>{var m,b;return U.from((b=(m=s.dom).caretPositionFromPoint)===null||b===void 0?void 0:b.call(m,c,p)).bind(S=>{if(S.offsetNode===null)return U.none();const I=s.dom.createRange();return I.setStart(S.offsetNode,S.offset),I.collapse(),U.some(I)})}:document.caretRangeFromPoint?(s,c,p)=>{var m,b;return U.from((b=(m=s.dom).caretRangeFromPoint)===null||b===void 0?void 0:b.call(m,c,p))}:U.none,Ig=gc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),su={before:Ig.before,on:Ig.on,after:Ig.after,cata:(s,c,p,m)=>s.fold(c,p,m),getStart:s=>s.fold(Le,Le,Le)},Gs=gc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),jp={domRange:Gs.domRange,relative:Gs.relative,exact:Gs.exact,exactFromRange:s=>Gs.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const c=(p=>p.match({domRange:m=>Xe(m.startContainer),relative:(m,b)=>su.getStart(m),exact:(m,b,S,I)=>m}))(s);return Ya(c)},range:id},Sv=(s,c)=>{const p=Tr(s);return p==="input"?su.after(s):Re(["br","img"],p)?c===0?su.before(s):su.after(s):su.on(s,c)},Ew=(s,c)=>{const p=s.fold(su.before,Sv,su.after),m=c.fold(su.before,Sv,su.after);return jp.relative(p,m)},rx=(s,c,p,m)=>{const b=Sv(s,c),S=Sv(p,m);return jp.relative(b,S)},ox=(s,c)=>{const p=(c||document).createDocumentFragment();return he(s,m=>{p.appendChild(m.dom)}),Xe(p)},LA=s=>{const c=jp.getWin(s).dom,p=(b,S,I,E)=>nd(c,b,S,I,E),m=(b=>b.match({domRange:S=>{const I=Xe(S.startContainer),E=Xe(S.endContainer);return rx(I,S.startOffset,E,S.endOffset)},relative:Ew,exact:rx}))(s);return((b,S)=>{const I=((E,F)=>F.match({domRange:W=>({ltr:ie(W),rtl:U.none}),relative:(W,$)=>({ltr:Jn(()=>Ku(E,W,$)),rtl:Jn(()=>U.some(Ku(E,$,W)))}),exact:(W,$,tt,ut)=>({ltr:Jn(()=>nd(E,W,$,tt,ut)),rtl:Jn(()=>U.some(nd(E,tt,ut,W,$)))})}))(b,S);return((E,F)=>{const W=F.ltr();return W.collapsed?F.rtl().filter($=>$.collapsed===!1).map($=>au.rtl(Xe($.endContainer),$.endOffset,Xe($.startContainer),$.startOffset)).getOrThunk(()=>Lw(0,au.ltr,W)):Lw(0,au.ltr,W)})(0,I)})(c,m).match({ltr:p,rtl:p})},ax=(s,c,p)=>((m,b,S)=>((I,E,F)=>{const W=Xe(I.document);return Ow(W,E,F).map($=>id(Xe($.startContainer),$.startOffset,Xe($.endContainer),$.endOffset))})(m,b,S))(Ya(Xe(p)).dom,s,c).map(m=>{const b=p.createRange();return b.setStart(m.start.dom,m.soffset),b.setEnd(m.finish.dom,m.foffset),b}).getOrUndefined(),Dg=(s,c)=>Kt(s)&&Kt(c)&&s.startContainer===c.startContainer&&s.startOffset===c.startOffset&&s.endContainer===c.endContainer&&s.endOffset===c.endOffset,Lg=(s,c,p)=>((m,b,S)=>{let I=m;for(;I&&I!==b;){if(S(I))return I;I=I.parentNode}return null})(s,c,p)!==null,OA=(s,c,p)=>Lg(s,c,m=>m.nodeName===p),EA=(s,c)=>Uo(s)&&!Lg(s,c,Nl),PA=(s,c,p)=>{const m=c.parentNode;if(m){const b=new wo(c,s.getParent(m,s.isBlock)||s.getRoot());let S;for(;S=b[p?"prev":"next"]();)if(oo(S))return!0}return!1},Cv=(s,c,p,m,b)=>{const S=s.getRoot(),I=s.schema.getNonEmptyElements(),E=b.parentNode;let F,W;if(!E)return U.none();const $=s.getParent(E,s.isBlock)||S;if(m&&oo(b)&&c&&s.isEmpty($))return U.some(tn(E,s.nodeIndex(b)));const tt=new wo(b,$);for(;W=tt[m?"prev":"next"]();){if(s.getContentEditableParent(W)==="false"||EA(W,S))return U.none();if(Dn(W)&&W.data.length>0)return OA(W,S,"A")?U.none():U.some(tn(W,m?W.data.length:0));if(s.isBlock(W)||I[W.nodeName.toLowerCase()])return U.none();F=W}return el(F)?U.none():p&&F?U.some(tn(F,0)):U.none()},sx=(s,c,p,m)=>{const b=s.getRoot();let S,I=!1,E=p?m.startContainer:m.endContainer,F=p?m.startOffset:m.endOffset;const W=li(E)&&F===E.childNodes.length,$=s.schema.getNonEmptyElements();let tt=p;if(Uo(E))return U.none();if(li(E)&&F>E.childNodes.length-1&&(tt=!1),Dh(E)&&(E=b,F=0),E===b){if(tt&&(S=E.childNodes[F>0?F-1:0],S)&&(Uo(S)||$[S.nodeName]||ea(S)))return U.none();if(E.hasChildNodes()){if(F=Math.min(!tt&&F>0?F-1:F,E.childNodes.length-1),E=E.childNodes[F],F=Dn(E)&&W?E.data.length:0,!c&&E===b.lastChild&&ea(E)||((ut,ht)=>{let st=ht;for(;st&&st!==ut;){if(Yr(st))return!0;st=st.parentNode}return!1})(b,E)||Uo(E))return U.none();if(E.hasChildNodes()&&!ea(E)){S=E;const ut=new wo(E,b);do{if(Yr(S)||Uo(S)){I=!1;break}if(Dn(S)&&S.data.length>0){F=tt?0:S.data.length,E=S,I=!0;break}if($[S.nodeName.toLowerCase()]&&!nl(S)){F=s.nodeIndex(S),E=S.parentNode,tt||F++,I=!0;break}}while(S=tt?ut.next():ut.prev())}}}return c&&(Dn(E)&&F===0&&Cv(s,W,c,!0,E).each(ut=>{E=ut.container(),F=ut.offset(),I=!0}),li(E)&&(S=E.childNodes[F],S||(S=E.childNodes[F-1]),!S||!oo(S)||((ut,ht)=>{var st;return((st=ut.previousSibling)===null||st===void 0?void 0:st.nodeName)==="A"})(S)||PA(s,S,!1)||PA(s,S,!0)||Cv(s,W,c,!0,S).each(ut=>{E=ut.container(),F=ut.offset(),I=!0}))),tt&&!c&&Dn(E)&&F===E.data.length&&Cv(s,W,c,!1,E).each(ut=>{E=ut.container(),F=ut.offset(),I=!0}),I&&E?U.some(tn(E,F)):U.none()},kv=(s,c)=>{const p=c.collapsed,m=c.cloneRange(),b=tn.fromRangeStart(c);return sx(s,p,!0,m).each(S=>{p&&tn.isAbove(b,S)||m.setStart(S.container(),S.offset())}),p||sx(s,p,!1,m).each(S=>{m.setEnd(S.container(),S.offset())}),p&&m.collapse(!0),Dg(c,m)?U.none():U.some(m)},Og=(s,c)=>s.splitText(c),Av=s=>{let c=s.startContainer,p=s.startOffset,m=s.endContainer,b=s.endOffset;if(c===m&&Dn(c)){if(p>0&&p<c.data.length)if(m=Og(c,p),c=m.previousSibling,b>p){b-=p;const S=Og(m,b).previousSibling;c=m=S,b=S.data.length,p=0}else b=0}else if(Dn(c)&&p>0&&p<c.data.length&&(c=Og(c,p),p=0),Dn(m)&&b>0&&b<m.data.length){const S=Og(m,b).previousSibling;m=S,b=S.data.length}return{startContainer:c,startOffset:p,endContainer:m,endOffset:b}},rd=s=>({walk:(c,p)=>Qh(s,c,p),split:Av,expand:(c,p={type:"word"})=>{if(p.type==="word"){const m=ul(s,c,[{inline:"span"}]),b=s.createRng();return b.setStart(m.startContainer,m.startOffset),b.setEnd(m.endContainer,m.endOffset),b}return c},normalize:c=>kv(s,c).fold(oe,p=>(c.setStart(p.startContainer,p.startOffset),c.setEnd(p.endContainer,p.endOffset),!0))});rd.compareRanges=Dg,rd.getCaretRangeFromPoint=ax,rd.getSelectedNode=Dt,rd.getNode=Vt;const NA=((s,c)=>{const p=b=>{const S=(I=>{const E=I.dom;return Ta(I)?E.getBoundingClientRect().height:E.offsetHeight})(b);if(S<=0||S===null){const I=qa(b,s);return parseFloat(I)||0}return S},m=(b,S)=>Zn(S,(I,E)=>{const F=qa(b,E),W=F===void 0?0:parseInt(F,10);return isNaN(W)?I:I+W},0);return{set:(b,S)=>{if(!Me(S)&&!S.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+S);const I=b.dom;ms(I)&&(I.style[s]=S+"px")},get:p,getOuter:p,aggregate:m,max:(b,S,I)=>{const E=m(b,I);return S>E?S-E:0}}})("height"),RA=()=>Xe(document),Pw=(s,c)=>s.view(c).fold(ie([]),p=>{const m=s.owner(p),b=Pw(s,m);return[p].concat(b)});var Nw=Object.freeze({__proto__:null,view:s=>{var c;return(s.dom===document?U.none():U.from((c=s.dom.defaultView)===null||c===void 0?void 0:c.frameElement)).map(Xe)},owner:s=>vs(s)});const od=s=>Tr(s)==="textarea",BA=(s,c)=>{const p=(b=>{const S=b.dom.ownerDocument,I=S.body,E=S.defaultView,F=S.documentElement;if(I===b.dom)return Fc(I.offsetLeft,I.offsetTop);const W=Ou(E==null?void 0:E.pageYOffset,F.scrollTop),$=Ou(E==null?void 0:E.pageXOffset,F.scrollLeft),tt=Ou(F.clientTop,I.clientTop),ut=Ou(F.clientLeft,I.clientLeft);return jf(b).translate($-ut,W-tt)})(s),m=(b=>NA.get(b))(s);return{element:s,bottom:p.top+m,height:m,pos:p,cleanup:c}},zA=(s,c,p,m)=>{VA(s,(b,S)=>_c(s,c,p,m),p)},FA=(s,c,p,m,b)=>{const S={elm:m.element.dom,alignToTop:b};((I,E)=>I.dispatch("ScrollIntoView",E).isDefaultPrevented())(s,S)||(p(c,ep(c).top,m,b),((I,E)=>{I.dispatch("AfterScrollIntoView",E)})(s,S))},_c=(s,c,p,m)=>{const b=Xe(s.getBody()),S=Xe(s.getDoc());b.dom.offsetWidth;const I=((E,F)=>{const W=((tt,ut)=>{const ht=Ro(tt);if(ht.length===0||od(tt))return{element:tt,offset:ut};if(ut<ht.length&&!od(ht[ut]))return{element:ht[ut],offset:0};{const st=ht[ht.length-1];return od(st)?{element:tt,offset:ut}:Tr(st)==="img"?{element:st,offset:1}:gs(st)?{element:st,offset:sc(st).length}:{element:st,offset:Ro(st).length}}})(E,F),$=Ch('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return pa(W.element,$),BA($,()=>_r($))})(Xe(p.startContainer),p.startOffset);FA(s,S,c,I,m),I.cleanup()},Eg=(s,c,p,m)=>{const b=Xe(s.getDoc());FA(s,b,p,(S=>BA(Xe(S),ne))(c),m)},VA=(s,c,p)=>{const m=p.startContainer,b=p.startOffset,S=p.endContainer,I=p.endOffset;c(Xe(m),Xe(S));const E=s.dom.createRng();E.setStart(m,b),E.setEnd(S,I),s.selection.setRng(p)},Mv=(s,c,p,m)=>{const b=s.pos;if(p)Eu(b.left,b.top,m);else{const S=b.top-c+s.height;Eu(b.left,S,m)}},Na=(s,c,p,m,b)=>{const S=p+c,I=m.pos.top,E=m.bottom,F=E-I>=p;I<c?Mv(m,p,b!==!1,s):I>S?Mv(m,p,F?b!==!1:b===!0,s):E>S&&!F&&Mv(m,p,b===!0,s)},Pg=(s,c,p,m)=>{const b=Ya(s).dom.innerHeight;Na(s,c,b,p,m)},jo=(s,c,p,m)=>{const b=Ya(s).dom.innerHeight;Na(s,c,b,p,m);const S=(E=>{const F=RA(),W=ep(F),$=((ht,st)=>{const xt=st.owner(ht);return Pw(st,xt)})(E,Nw),tt=jf(E),ut=fi($,(ht,st)=>{const xt=jf(st);return{left:ht.left+xt.left,top:ht.top+xt.top}},{left:0,top:0});return Fc(ut.left+tt.left+W.left,ut.top+tt.top+W.top)})(p.element),I=np(window);S.top<I.y?Yf(p.element,m!==!1):S.top>I.bottom&&Yf(p.element,m===!0)},Bl=(s,c,p)=>zA(s,Pg,c,p),Ju=(s,c,p)=>Eg(s,c,Pg,p),HA=(s,c,p)=>zA(s,jo,c,p),gD=(s,c,p)=>Eg(s,c,jo,p),Ng=(s,c,p)=>{(s.inline?Bl:HA)(s,c,p)},WA=s=>s.dom.focus(),jA=s=>{const c=qo(s).dom;return s.dom===c.activeElement},Tv=(s=RA())=>U.from(s.dom.activeElement).map(Xe),Rg=(s,c)=>{const p=gs(c)?sc(c).length:Ro(c).length+1;return s>p?p:s<0?0:s},YA=s=>jp.range(s.start,Rg(s.soffset,s.start),s.finish,Rg(s.foffset,s.finish)),Rw=(s,c)=>!oc(c.dom)&&(bl(s,c)||tr(s,c)),Bw=s=>c=>Rw(s,c.start)&&Rw(s,c.finish),GA=s=>jp.range(Xe(s.startContainer),s.startOffset,Xe(s.endContainer),s.endOffset),mD=s=>{const c=document.createRange();try{return c.setStart(s.start.dom,s.soffset),c.setEnd(s.finish.dom,s.foffset),U.some(c)}catch{return U.none()}},ad=s=>{const c=(m=>m.inline||ti.browser.isFirefox())(s)?(p=Xe(s.getBody()),(m=>{const b=m.getSelection();return(b&&b.rangeCount!==0?U.from(b.getRangeAt(0)):U.none()).map(GA)})(Ya(p).dom).filter(Bw(p))):U.none();var p;s.bookmark=c.isSome()?c:s.bookmark},sd=s=>(s.bookmark?s.bookmark:U.none()).bind(c=>{return p=Xe(s.getBody()),m=c,U.from(m).filter(Bw(p)).map(YA);var p,m}).bind(mD),Yp={isEditorUIElement:s=>{const c=s.className.toString();return c.indexOf("tox-")!==-1||c.indexOf("mce-")!==-1}},Xs={setEditorTimeout:(s,c,p)=>((m,b)=>(Me(b)||(b=0),setTimeout(m,b)))(()=>{s.removed||c()},p),setEditorInterval:(s,c,p)=>{const m=((b,S)=>(Me(S)||(S=0),setInterval(b,S)))(()=>{s.removed?clearInterval(m):c()},p);return m}};let Gp;const Bg=kr.DOM,zg=(s,c)=>{const p=oA(s);return Bg.getParent(c,b=>(S=>li(S)&&Yp.isEditorUIElement(S))(b)||!!p&&s.dom.is(b,p))!==null},zw=(s,c)=>{const p=c.editor;(m=>{const b=ol(()=>{ad(m)},0);m.on("init",()=>{m.inline&&((S,I)=>{const E=()=>{I.throttle()};kr.DOM.bind(document,"mouseup",E),S.on("remove",()=>{kr.DOM.unbind(document,"mouseup",E)})})(m,b),((S,I)=>{((E,F)=>{E.on("mouseup touchend",W=>{F.throttle()})})(S,I),S.on("keyup NodeChange AfterSetSelectionRange",E=>{(F=>F.type==="nodechange"&&F.selectionChange)(E)||ad(S)})})(m,b)}),m.on("remove",()=>{b.cancel()})})(p),p.on("focusin",()=>{const m=s.focusedEditor;m!==p&&(m&&m.dispatch("blur",{focusedEditor:p}),s.setActive(p),s.focusedEditor=p,p.dispatch("focus",{blurredEditor:m}),p.focus(!0))}),p.on("focusout",()=>{Xs.setEditorTimeout(p,()=>{const m=s.focusedEditor;zg(p,(b=>{try{const S=qo(Xe(b.getElement()));return Tv(S).fold(()=>document.body,I=>I.dom)}catch{return document.body}})(p))||m!==p||(p.dispatch("blur",{focusedEditor:null}),s.focusedEditor=null)})}),Gp||(Gp=m=>{const b=s.activeEditor;b&&Bc(m).each(S=>{const I=S;I.ownerDocument===document&&(I===document.body||zg(b,I)||s.focusedEditor!==b||(b.dispatch("blur",{focusedEditor:null}),s.focusedEditor=null))})},Bg.bind(document,"focusin",Gp))},Fw=(s,c)=>{s.focusedEditor===c.editor&&(s.focusedEditor=null),!s.activeEditor&&Gp&&(Bg.unbind(document,"focusin",Gp),Gp=null)},Vw=(s,c)=>{((p,m)=>(b=>b.collapsed?U.from(Vt(b.startContainer,b.startOffset)).map(Xe):U.none())(m).bind(b=>lc(b)?U.some(b):bl(p,b)?U.none():U.some(p)))(Xe(s.getBody()),c).bind(p=>Xr(p.dom)).fold(()=>{s.selection.normalize()},p=>s.selection.setRng(p.toRange()))},lx=s=>{if(s.setActive)try{s.setActive()}catch{s.focus()}else s.focus()},ld=s=>s.inline?(c=>{const p=c.getBody();return p&&(m=Xe(p),jA(m)||(b=m,Tv(qo(b)).filter(S=>b.dom.contains(S.dom))).isSome());var m,b})(s):(c=>Kt(c.iframeElement)&&jA(Xe(c.iframeElement)))(s),cx=s=>s.editorManager.setActive(s),Hw=(s,c,p,m,b)=>{const S=p?c.startContainer:c.endContainer,I=p?c.startOffset:c.endOffset;return U.from(S).map(Xe).map(E=>m&&c.collapsed?E:Ah(E,b(E,I)).getOr(E)).bind(E=>Po(E)?U.some(E):Xo(E).filter(Po)).map(E=>E.dom).getOr(s)},Ww=(s,c,p=!1)=>Hw(s,c,!0,p,(m,b)=>Math.min(Kd(m),b)),XA=(s,c,p=!1)=>Hw(s,c,!1,p,(m,b)=>b>0?b-1:b),jw=(s,c)=>{const p=s;for(;s&&Dn(s)&&s.length===0;)s=c?s.nextSibling:s.previousSibling;return s||p},ux=(s,c)=>un(c,p=>{const m=s.dispatch("GetSelectionRange",{range:p});return m.range!==p?m.range:p}),vD=["img","br"],Yw=s=>cp(s).filter(p=>p.trim().length!==0||p.indexOf(zo)>-1).isSome()||Re(vD,Tr(s)),hx="[data-mce-autocompleter]",yD=(s,c)=>{if(Gw(Xe(s.getBody())).isNone()){const m=Ch('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',s.getDoc());Bo(m,Xe(c.extractContents())),c.insertNode(m.dom),Xo(m).each(b=>b.dom.normalize()),(p=m,((b,S)=>{const I=E=>{const F=Ro(E);for(let W=F.length-1;W>=0;W--){const $=F[W];if(S($))return U.some($);const tt=I($);if(tt.isSome())return tt}return U.none()};return I(b)})(p,Yw)).map(b=>{s.selection.setCursorLocation(b.dom,(S=>Tr(S)==="img"?1:cp(S).fold(()=>Ro(S).length,I=>I.length))(b))})}var p},Gw=s=>Vc(s,hx),Xw={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Qu=(s,c,p)=>{const m=p?"lastChild":"firstChild",b=p?"prev":"next";if(s[m])return s[m];if(s!==c){let S=s[b];if(S)return S;for(let I=s.parent;I&&I!==c;I=I.parent)if(S=I[b],S)return S}},xD=s=>{var c;const p=(c=s.value)!==null&&c!==void 0?c:"";if(!Xc(p))return!1;const m=s.parent;return!m||m.name==="span"&&!m.attr("style")||!/^[ ]+$/.test(p)},dx=s=>{const c=s.name==="a"&&!s.attr("href")&&s.attr("id");return s.attr("name")||s.attr("id")&&!s.firstChild||s.attr("data-mce-bookmark")||c};class Ra{constructor(c,p){this.name=c,this.type=p,p===1&&(this.attributes=[],this.attributes.map={})}static create(c,p){const m=new Ra(c,Xw[c]||1);return p&&Fe(p,(b,S)=>{m.attr(S,b)}),m}replace(c){const p=this;return c.parent&&c.remove(),p.insert(c,p),p.remove(),p}attr(c,p){const m=this;if(!ft(c))return Kt(c)&&Fe(c,(S,I)=>{m.attr(I,S)}),m;const b=m.attributes;if(b){if(p!==void 0){if(p===null){if(c in b.map){delete b.map[c];let S=b.length;for(;S--;)if(b[S].name===c)return b.splice(S,1),m}return m}if(c in b.map){let S=b.length;for(;S--;)if(b[S].name===c){b[S].value=p;break}}else b.push({name:c,value:p});return b.map[c]=p,m}return b.map[c]}}clone(){const c=this,p=new Ra(c.name,c.type),m=c.attributes;if(m){const b=[];b.map={};for(let S=0,I=m.length;S<I;S++){const E=m[S];E.name!=="id"&&(b[b.length]={name:E.name,value:E.value},b.map[E.name]=E.value)}p.attributes=b}return p.value=c.value,p}wrap(c){const p=this;return p.parent&&(p.parent.insert(c,p),c.append(p)),p}unwrap(){const c=this;for(let p=c.firstChild;p;){const m=p.next;c.insert(p,c,!0),p=m}c.remove()}remove(){const c=this,p=c.parent,m=c.next,b=c.prev;return p&&(p.firstChild===c?(p.firstChild=m,m&&(m.prev=null)):b&&(b.next=m),p.lastChild===c?(p.lastChild=b,b&&(b.next=null)):m&&(m.prev=b),c.parent=c.next=c.prev=null),c}append(c){const p=this;c.parent&&c.remove();const m=p.lastChild;return m?(m.next=c,c.prev=m,p.lastChild=c):p.lastChild=p.firstChild=c,c.parent=p,c}insert(c,p,m){c.parent&&c.remove();const b=p.parent||this;return m?(p===b.firstChild?b.firstChild=c:p.prev&&(p.prev.next=c),c.prev=p.prev,c.next=p,p.prev=c):(p===b.lastChild?b.lastChild=c:p.next&&(p.next.prev=c),c.next=p.next,c.prev=p,p.next=c),c.parent=b,c}getAll(c){const p=this,m=[];for(let b=p.firstChild;b;b=Qu(b,p))b.name===c&&m.push(b);return m}children(){const c=[];for(let p=this.firstChild;p;p=p.next)c.push(p);return c}empty(){const c=this;if(c.firstChild){const p=[];for(let b=c.firstChild;b;b=Qu(b,c))p.push(b);let m=p.length;for(;m--;){const b=p[m];b.parent=b.firstChild=b.lastChild=b.next=b.prev=null}}return c.firstChild=c.lastChild=null,c}isEmpty(c,p={},m){var b;const S=this;let I=S.firstChild;if(dx(S))return!1;if(I)do{if(I.type===1){if(I.attr("data-mce-bogus"))continue;if(c[I.name]||dx(I))return!1}if(I.type===8||I.type===3&&!xD(I)||I.type===3&&I.parent&&p[I.parent.name]&&Xc((b=I.value)!==null&&b!==void 0?b:"")||m&&m(I))return!1}while(I=Qu(I,S));return!0}walk(c){return Qu(this,null,c)}}const Fg=(s,c,p=0)=>{const m=s.toLowerCase();if(m.indexOf("[if ",p)!==-1&&((b,S)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(b.substr(S)))(m,p)){const b=m.indexOf("[endif]",p);return m.indexOf(">",b)}if(c){const b=m.indexOf(">",p);return b!==-1?b:m.length}{const b=/--!?>/g;b.lastIndex=p;const S=b.exec(s);return S?S.index+S[0].length:m.length}},bD=(s,c,p)=>{const m=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,b=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,S=s.getVoidElements();let I=1,E=p;for(;I!==0;)for(m.lastIndex=E;;){const F=m.exec(c);if(F===null)return E;if(F[1]==="!"){E=er(F[2],"--")?Fg(c,!1,F.index+3):Fg(c,!0,F.index+1);break}{b.lastIndex=m.lastIndex;const W=b.exec(c);if(ct(W)||W.index!==m.lastIndex)continue;F[1]==="/"?I-=1:gn(S,F[2])||(I+=1),E=m.lastIndex+W[0].length;break}}return E},qw=(s,c)=>{const p=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,m=s.schema;let b=((E,F)=>{const W=new RegExp(["\\s?("+E.join("|")+')="[^"]+"'].join("|"),"gi");return F.replace(W,"")})(s.getTempAttrs(),c);const S=m.getVoidElements();let I;for(;I=p.exec(b);){const E=p.lastIndex,F=I[0].length;let W;W=S[I[1]]?E:bD(m,b,E),b=b.substring(0,E-F)+b.substring(W),p.lastIndex=E-F}return Ho(b)},cd=qw,qA=s=>{const c=fa(s,"[data-mce-bogus]");he(c,p=>{Ma(p,"data-mce-bogus")==="all"?_r(p):ga(p)?(pa(p,xl(na)),_r(p)):bs(p)})},Uw=s=>{const c=fa(s,"input");he(c,p=>{No(p,"name")})},UA=(s,c,p)=>{let m;return m=c.format==="raw"?Mn.trim(cd(s.serializer,p.innerHTML)):c.format==="text"?((b,S)=>{const I=b.getDoc(),E=qo(Xe(b.getBody())),F=bo("div",I);Mo(F,"data-mce-bogus","all"),Th(F,{position:"fixed",left:"-9999999px",top:"0"}),nc(F,S.innerHTML),qA(F),Uw(F);const W=(tt=>Jd(tt)?tt:Xe(vs(tt).dom.body))(E);Bo(W,F);const $=Ho(F.dom.innerText);return _r(F),$})(s,p):c.format==="tree"?s.serializer.serialize(p,c):((b,S)=>{const I=Oa(b),E=new RegExp(`^(<${I}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${I}>[\r
]*|<br \\/>[\r
]*)$`);return S.replace(E,"")})(s,s.serializer.serialize(p,c)),c.format!=="text"&&!Oh(Xe(p))&&ft(m)?Mn.trim(m):m},$A=Mn.makeMap,$w=s=>{const c=[],p=(s=s||{}).indent,m=$A(s.indent_before||""),b=$A(s.indent_after||""),S=Tl.getEncodeFunc(s.entity_encoding||"raw",s.entities),I=s.element_format!=="xhtml";return{start:(E,F,W)=>{if(p&&m[E]&&c.length>0){const $=c[c.length-1];$.length>0&&$!==`
`&&c.push(`
`)}if(c.push("<",E),F)for(let $=0,tt=F.length;$<tt;$++){const ut=F[$];c.push(" ",ut.name,'="',S(ut.value,!0),'"')}if(c[c.length]=!W||I?">":" />",W&&p&&b[E]&&c.length>0){const $=c[c.length-1];$.length>0&&$!==`
`&&c.push(`
`)}},end:E=>{let F;c.push("</",E,">"),p&&b[E]&&c.length>0&&(F=c[c.length-1],F.length>0&&F!==`
`&&c.push(`
`))},text:(E,F)=>{E.length>0&&(c[c.length]=F?E:S(E))},cdata:E=>{c.push("<![CDATA[",E,"]]>")},comment:E=>{c.push("<!--",E,"-->")},pi:(E,F)=>{F?c.push("<?",E," ",S(F),"?>"):c.push("<?",E,"?>"),p&&c.push(`
`)},doctype:E=>{c.push("<!DOCTYPE",E,">",p?`
`:"")},reset:()=>{c.length=0},getContent:()=>c.join("").replace(/\n$/,"")}},ud=(s={},c=pc())=>{const p=$w(s);return s.validate=!("validate"in s)||s.validate,{serialize:m=>{const b=s.validate,S={3:E=>{var F;p.text((F=E.value)!==null&&F!==void 0?F:"",E.raw)},8:E=>{var F;p.comment((F=E.value)!==null&&F!==void 0?F:"")},7:E=>{p.pi(E.name,E.value)},10:E=>{var F;p.doctype((F=E.value)!==null&&F!==void 0?F:"")},4:E=>{var F;p.cdata((F=E.value)!==null&&F!==void 0?F:"")},11:E=>{let F=E;if(F=F.firstChild)do I(F);while(F=F.next)}};p.reset();const I=E=>{var F;const W=S[E.type];if(W)W(E);else{const $=E.name,tt=$ in c.getVoidElements();let ut=E.attributes;if(b&&ut&&ut.length>1){const ht=[];ht.map={};const st=c.getElementRule(E.name);if(st){for(let xt=0,lt=st.attributesOrder.length;xt<lt;xt++){const _t=st.attributesOrder[xt];if(_t in ut.map){const Pt=ut.map[_t];ht.map[_t]=Pt,ht.push({name:_t,value:Pt})}}for(let xt=0,lt=ut.length;xt<lt;xt++){const _t=ut[xt].name;if(!(_t in ht.map)){const Pt=ut.map[_t];ht.map[_t]=Pt,ht.push({name:_t,value:Pt})}}ut=ht}}if(p.start($,ut,tt),!tt){let ht=E.firstChild;if(ht){$!=="pre"&&$!=="textarea"||ht.type!==3||((F=ht.value)===null||F===void 0?void 0:F[0])!==`
`||p.text(`
`,!0);do I(ht);while(ht=ht.next)}p.end($)}}};return m.type!==1||s.inner?m.type===3?S[3](m):S[11](m):I(m),p.getContent()}}},ZA=new Set;he(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],s=>{ZA.add(s)});const KA=["font","text-decoration","text-emphasis"],Zw=(s,c)=>Ee(s.parseStyle(s.getAttrib(c,"style"))),wD=(s,c,p)=>{const m=Zw(s,c),b=Zw(s,p),S=I=>{var E,F;const W=(E=s.getStyle(c,I))!==null&&E!==void 0?E:"",$=(F=s.getStyle(p,I))!==null&&F!==void 0?F:"";return y(W)&&y($)&&W!==$};return Be(m,I=>{const E=F=>Be(F,W=>W===I);if(!E(b)&&E(KA)){const F=Gn(b,W=>Be(KA,$=>er(W,$)));return Be(F,S)}return S(I)})},JA=(s,c,p)=>U.from(p.container()).filter(Dn).exists(m=>{const b=s?0:-1;return c(m.data.charAt(p.offset()+b))}),Kw=De(JA,!0,Sg),px=De(JA,!1,Sg),_D=s=>{const c=s.container();return Dn(c)&&(c.data.length===0||Wr(c.data)&&Ao.isBookmarkNode(c.parentNode))},lu=(s,c)=>p=>fg(s?0:-1,p).filter(c).isSome(),fx=s=>qf(s)&&qa(Xe(s),"display")==="block",Iv=s=>Yr(s)&&!(c=>li(c)&&c.getAttribute("data-mce-bogus")==="all")(s),SD=lu(!0,fx),CD=lu(!1,fx),Vg=lu(!0,ws),Hg=lu(!1,ws),Jw=lu(!0,ea),Wg=lu(!1,ea),th=lu(!0,Iv),cu=lu(!1,Iv),Qw=(s,c)=>((p,m,b)=>bl(m,p)?Ir(p,S=>b(S)||tr(S,m)).slice(0,-1):[])(s,c,oe),uu=(s,c)=>[s].concat(Qw(s,c)),jg=(s,c,p)=>fv(s,c,p,_D),t_=(s,c)=>Yi(uu(Xe(c.container()),s),Bs),e_=(s,c,p)=>jg(s,c.dom,p).forall(m=>t_(c,p).fold(()=>!sl(m,p,c.dom),b=>!sl(m,p,c.dom)&&bl(b,Xe(m.container())))),QA=(s,c,p)=>t_(c,p).fold(()=>jg(s,c.dom,p).forall(m=>!sl(m,p,c.dom)),m=>jg(s,m.dom,p).isNone()),n_=De(QA,!1),oa=De(QA,!0),i_=De(e_,!1),tM=De(e_,!0),eM=s=>pv(s).exists(ga),gx=(s,c,p)=>{const m=Gn(uu(Xe(p.container()),c),Bs),b=Ut(m).getOr(c);return ra(s,b.dom,p).filter(eM)},r_=(s,c)=>pv(c).exists(ga)||gx(!0,s,c).isSome(),mx=(s,c)=>(p=>U.from(p.getNode(!0)).map(Xe))(c).exists(ga)||gx(!1,s,c).isSome(),o_=De(gx,!1),nM=De(gx,!0),a_=s=>tn.isTextPosition(s)&&!s.isAtStart()&&!s.isAtEnd(),s_=(s,c)=>{const p=Gn(uu(Xe(c.container()),s),Bs);return Ut(p).getOr(s)},vx=(s,c)=>a_(c)?px(c):px(c)||so(s_(s,c).dom,c).exists(px),l_=(s,c)=>a_(c)?Kw(c):Kw(c)||Pa(s_(s,c).dom,c).exists(Kw),hu=s=>pv(s).bind(c=>wl(c,Po)).exists(c=>(p=>Re(["pre","pre-wrap"],p))(qa(c,"white-space"))),Dv=(s,c)=>p=>{return m=new wo(p,s)[c](),Kt(m)&&Yr(m)&&sw(m);var m},Vr=(s,c)=>!hu(c)&&(n_(s,c)||i_(s,c)||mx(s,c)||vx(s,c)||((p,m)=>{const b=so(p.dom,m).getOr(m),S=Dv(p.dom,"prev");return m.isAtStart()&&(S(m.container())||S(b.container()))})(s,c)),Yg=(s,c)=>!hu(c)&&(oa(s,c)||tM(s,c)||r_(s,c)||l_(s,c)||((p,m)=>{const b=Pa(p.dom,m).getOr(m),S=Dv(p.dom,"next");return m.isAtEnd()&&(S(m.container())||S(b.container()))})(s,c)),c_=(s,c)=>Vr(s,c)||Yg(s,(p=>{const m=p.container(),b=p.offset();return Dn(m)&&b<m.data.length?tn(m,b+1):p})(c)),iM=(s,c)=>vv(s.charAt(c)),rM=(s,c)=>Sg(s.charAt(c)),u_=(s,c,p)=>{const m=c.data,b=tn(c,0);return p||!iM(m,0)||c_(s,b)?!!(p&&rM(m,0)&&Vr(s,b))&&(c.data=zo+m.slice(1),!0):(c.data=" "+m.slice(1),!0)},oM=(s,c,p)=>{const m=c.data,b=tn(c,m.length-1);return p||!iM(m,m.length-1)||c_(s,b)?!!(p&&rM(m,m.length-1)&&Yg(s,b))&&(c.data=m.slice(0,-1)+zo,!0):(c.data=m.slice(0,-1)+" ",!0)},h_=(s,c)=>{const p=c.container();if(!Dn(p))return U.none();if((m=>{const b=m.container();return Dn(b)&&ur(b.data,zo)})(c)){const m=u_(s,p,!1)||(b=>{const S=b.data,I=(E=>{const F=E.split("");return un(F,(W,$)=>vv(W)&&$>0&&$<F.length-1&&vw(F[$-1])&&vw(F[$+1])?" ":W).join("")})(S);return I!==S&&(b.data=I,!0)})(p)||oM(s,p,!1);return fs(m,c)}if(c_(s,c)){const m=u_(s,p,!0)||oM(s,p,!0);return fs(m,c)}return U.none()},io=(s,c,p)=>{if(p===0)return;const m=Xe(s),b=rc(m,Bs).getOr(m),S=s.data.slice(c,c+p),I=c+p>=s.data.length&&Yg(b,tn(s,s.data.length)),E=c===0&&Vr(b,tn(s,0));s.replaceData(c,p,Al(S,4,E,I))},eh=(s,c)=>{const p=s.data.slice(c),m=p.length-h(p).length;io(s,c,m)},yx=(s,c)=>{const p=s.data.slice(0,c),m=p.length-d(p).length;io(s,c-m,m)},d_=(s,c,p,m=!0)=>{const b=d(s.data).length,S=m?s:c,I=m?c:s;return m?S.appendData(I.data):S.insertData(0,I.data),_r(Xe(I)),p&&eh(S,b),S},qr=(s,c)=>((p,m)=>{const b=p.container(),S=p.offset();return!tn.isTextPosition(p)&&b===m.parentNode&&S>tn.before(m).offset()})(c,s)?tn(c.container(),c.offset()-1):c,p_=s=>{return Yn(s.previousSibling)?U.some((c=s.previousSibling,Dn(c)?tn(c,c.data.length):tn.after(c))):s.previousSibling?Dr(s.previousSibling):U.none();var c},f_=s=>{return Yn(s.nextSibling)?U.some((c=s.nextSibling,Dn(c)?tn(c,0):tn.before(c))):s.nextSibling?Xr(s.nextSibling):U.none();var c},kD=(s,c,p)=>((m,b,S)=>m?((I,E)=>f_(E).orThunk(()=>p_(E)).orThunk(()=>((F,W)=>Pa(F,tn.after(W)).orThunk(()=>so(F,tn.before(W))))(I,E)))(b,S):((I,E)=>p_(E).orThunk(()=>f_(E)).orThunk(()=>((F,W)=>U.from(W.previousSibling?W.previousSibling:W.parentNode).bind($=>so(F,tn.before($))).orThunk(()=>Pa(F,tn.after(W))))(I,E)))(b,S))(s,c,p).map(De(qr,p)),aM=(s,c,p)=>{p.fold(()=>{s.focus()},m=>{s.selection.setRng(m.toRange(),c)})},AD=(s,c)=>c&&gn(s.schema.getBlockElements(),Tr(c)),xx=s=>{if(ho(s)){const c=Ch('<br data-mce-bogus="1">');return xs(s),Bo(s,c),U.some(tn.before(c.dom))}return U.none()},hd=(s,c,p,m=!0)=>{const b=kD(c,s.getBody(),p.dom),S=rc(p,De(AD,s),(I=s.getBody(),F=>F.dom===I));var I;const E=((F,W,$)=>{const tt=Ga(F).filter(gs),ut=Mu(F).filter(gs);return _r(F),(ht=tt,st=ut,xt=W,lt=(_t,Pt,Xt)=>{const ce=_t.dom,Ae=Pt.dom,_e=ce.data.length;return d_(ce,Ae,$),Xt.container()===Ae?tn(ce,_e):Xt},ht.isSome()&&st.isSome()&&xt.isSome()?U.some(lt(ht.getOrDie(),st.getOrDie(),xt.getOrDie())):U.none()).orThunk(()=>($&&(tt.each(_t=>yx(_t.dom,_t.dom.length)),ut.each(_t=>eh(_t.dom,0))),W));var ht,st,xt,lt})(p,b,((F,W)=>gn(F.schema.getTextInlineElements(),Tr(W)))(s,p));s.dom.isEmpty(s.getBody())?(s.setContent(""),s.selection.setCursorLocation()):S.bind(xx).fold(()=>{m&&aM(s,c,E)},F=>{m&&aM(s,c,U.some(F))})},sM=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,du=(s,c)=>Go(Xe(c),eD(s))&&!Sr(s.schema,c),hl=(s,c,p)=>{const m=((b,S,I)=>Gn(kr.DOM.getParents(I.container(),"*",S),b))(s,c,p);return U.from(m[m.length-1])},Ba=(s,c)=>{const p=c.container(),m=c.offset();return s?Wc(p)?Dn(p.nextSibling)?tn(p.nextSibling,0):tn.after(p):jc(c)?tn(p,m+1):c:Wc(p)?Dn(p.previousSibling)?tn(p.previousSibling,p.previousSibling.data.length):tn.before(p):hp(c)?tn(p,m-1):c},g_=De(Ba,!0),m_=De(Ba,!1),lM=(s,c)=>{const p=m=>m.stopImmediatePropagation();s.on("beforeinput input",p,!0),s.getDoc().execCommand(c),s.off("beforeinput input",p)},v_=s=>lM(s,"Delete"),cM=s=>Pu(s)||Nu(s),bx=(s,c)=>bl(s,c)?wl(c,cM,(p=>m=>$r(Xo(m),p,tr))(s)):U.none(),Xp=(s,c=!0)=>{s.dom.isEmpty(s.getBody())&&s.setContent("",{no_selection:!c})},uM=s=>{var c;return(Qi(c=s)===8||Tr(c)==="#comment"?Ga(s):Wf(s)).bind(uM).orThunk(()=>U.some(s))},hM=(s,c,p,m=!0)=>{var b;c.deleteContents();const S=uM(p).getOr(p),I=Xe((b=s.dom.getParent(S.dom,s.dom.isBlock))!==null&&b!==void 0?b:p.dom);if(I.dom===s.getBody()?Xp(s,m):ho(I)&&(Ja(I),m&&s.selection.setCursorLocation(I.dom,0)),!tr(p,I)){const F=$r(Xo(I),p)?[]:Xo(E=I).map(Ro).map(W=>Gn(W,$=>!tr(E,$))).getOr([]);he(F.concat(Ro(p)),W=>{tr(W,I)||bl(W,I)||!ho(W)||_r(W)})}var E},Gg=s=>fa(s,"td,th"),_x=(s,c)=>({start:s,end:c}),Lv=gc([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Sx=(s,c)=>_l(Xe(s),"td,th",c),dM=s=>!tr(s.start,s.end),pM=(s,c)=>$h(s.start,c).bind(p=>$h(s.end,c).bind(m=>fs(tr(p,m),p))),y_=s=>c=>pM(c,s).map(p=>((m,b,S)=>({rng:m,table:b,cells:S}))(c,p,Gg(p))),fM=(s,c,p,m)=>{if(p.collapsed||!s.forall(dM))return U.none();if(c.isSameTable){const b=s.bind(y_(m));return U.some({start:b,end:b})}{const b=Sx(p.startContainer,m),S=Sx(p.endContainer,m),I=b.bind((F=>W=>$h(W,F).bind($=>ve(Gg($)).map(tt=>_x(W,tt))))(m)).bind(y_(m)),E=S.bind((F=>W=>$h(W,F).bind($=>Ut(Gg($)).map(tt=>_x(tt,W))))(m)).bind(y_(m));return U.some({start:I,end:E})}},gM=(s,c)=>wn(s,p=>tr(p,c)),Cx=s=>to(gM(s.cells,s.rng.start),gM(s.cells,s.rng.end),(c,p)=>s.cells.slice(c,p+1)),mM=(s,c)=>{const{startTable:p,endTable:m}=c,b=s.cloneRange();return p.each(S=>b.setStartAfter(S.dom)),m.each(S=>b.setEndBefore(S.dom)),b},MD=(s,c)=>{const p=(S=>I=>tr(S,I))(s),m=((S,I)=>{const E=Sx(S.startContainer,I),F=Sx(S.endContainer,I);return to(E,F,_x)})(c,p),b=((S,I)=>{const E=ht=>$h(Xe(ht),I),F=E(S.startContainer),W=E(S.endContainer),$=F.isSome(),tt=W.isSome(),ut=to(F,W,tr).getOr(!1);return{startTable:F,endTable:W,isStartInTable:$,isEndInTable:tt,isSameTable:ut,isMultiTable:!ut&&$&&tt}})(c,p);return((S,I,E)=>S.exists(F=>((W,$)=>!dM(W)&&pM(W,$).exists(tt=>{const ut=tt.dom.rows;return ut.length===1&&ut[0].cells.length===1}))(F,E)&&yv(F.start,I)))(m,c,p)?m.map(S=>Lv.singleCellTable(c,S.start)):b.isMultiTable?((S,I,E,F)=>fM(S,I,E,F).bind(({start:W,end:$})=>{const tt=W.bind(Cx).getOr([]),ut=$.bind(Cx).getOr([]);if(tt.length>0&&ut.length>0){const ht=mM(E,I);return U.some(Lv.multiTable(tt,ut,ht))}return U.none()}))(m,b,c,p):((S,I,E,F)=>fM(S,I,E,F).bind(({start:W,end:$})=>W.or($)).bind(W=>{const{isSameTable:$}=I,tt=Cx(W).getOr([]);if($&&W.cells.length===tt.length)return U.some(Lv.fullTable(W.table));if(tt.length>0){if($)return U.some(Lv.partialTable(tt,U.none()));{const ut=mM(E,I);return U.some(Lv.partialTable(tt,U.some({...I,rng:ut})))}}return U.none()}))(m,b,c,p)},Ov=s=>he(s,c=>{No(c,"contenteditable"),Ja(c)}),qp=(s,c,p,m)=>{const b=p.cloneRange();m?(b.setStart(p.startContainer,p.startOffset),b.setEndAfter(c.dom.lastChild)):(b.setStartBefore(c.dom.firstChild),b.setEnd(p.endContainer,p.endOffset)),w_(s,b,c,!1).each(S=>S())},x_=s=>{const c=kg(s),p=Xe(s.selection.getNode());Ka(p.dom)&&ho(p)?s.selection.setCursorLocation(p.dom,0):s.selection.collapse(!0),c.length>1&&Be(c,m=>tr(m,p))&&Mo(p,"data-mce-selected","1")},b_=(s,c,p)=>U.some(()=>{const m=s.selection.getRng(),b=p.bind(({rng:S,isStartInTable:I})=>{const E=((W,$)=>U.from(W.dom.getParent($,W.dom.isBlock)).map(Xe))(s,I?S.endContainer:S.startContainer);S.deleteContents(),((W,$,tt)=>{tt.each(ut=>{$?_r(ut):(Ja(ut),W.selection.setCursorLocation(ut.dom,0))})})(s,I,E.filter(ho));const F=I?c[0]:c[c.length-1];return qp(s,F,m,I),ho(F)?U.none():U.some(I?c.slice(1):c.slice(0,-1))}).getOr(c);Ov(b),x_(s)}),vM=(s,c,p,m)=>U.some(()=>{const b=s.selection.getRng(),S=c[0],I=p[p.length-1];qp(s,S,b,!0),qp(s,I,b,!1);const E=ho(S)?c:c.slice(1),F=ho(I)?p:p.slice(0,-1);Ov(E.concat(F)),m.deleteContents(),x_(s)}),w_=(s,c,p,m=!0)=>U.some(()=>{hM(s,c,p,m)}),Ms=(s,c)=>U.some(()=>hd(s,!1,c)),__=(s,c)=>Yi(uu(c,s),Ia),Xg=(s,c)=>Yi(uu(c,s),Rc("caption")),Ev=(s,c)=>U.some(()=>{Ja(c),s.selection.setCursorLocation(c.dom,0)}),S_=(s,c)=>s?Jw(c):Wg(c),TD=(s,c,p)=>{const m=Xe(s.getBody());return Xg(m,p).fold(()=>((b,S,I,E)=>{const F=tn.fromRangeStart(b.selection.getRng());return __(I,E).bind(W=>ho(W)?Ev(b,W):(($,tt,ut,ht,st)=>qh(ut,$.getBody(),st).bind(xt=>__(tt,Xe(xt.getNode())).bind(lt=>tr(lt,ht)?U.none():U.some(ne))))(b,I,S,W,F))})(s,c,m,p).orThunk(()=>fs(((b,S)=>{const I=tn.fromRangeStart(b.selection.getRng());return S_(S,I)||ra(S,b.getBody(),I).exists(E=>S_(S,E))})(s,c),ne)),b=>((S,I,E,F)=>{const W=tn.fromRangeStart(S.selection.getRng());return ho(F)?Ev(S,F):(($,tt,ut,ht,st)=>qh(ut,$.getBody(),st).fold(()=>U.some(ne),xt=>((lt,_t,Pt,Xt)=>Xr(lt.dom).bind(ce=>Dr(lt.dom).map(Ae=>_t?Pt.isEqual(ce)&&Xt.isEqual(Ae):Pt.isEqual(Ae)&&Xt.isEqual(ce))).getOr(!0))(ht,ut,st,xt)?((lt,_t)=>Ev(lt,_t))($,ht):((lt,_t,Pt)=>Xg(lt,Xe(Pt.getNode())).fold(()=>U.some(ne),Xt=>fs(!tr(Xt,_t),ne)))(tt,ht,xt)))(S,E,I,F,W)})(s,c,m,b))},Pv=(s,c)=>{const p=Xe(s.selection.getStart(!0)),m=kg(s);return s.selection.isCollapsed()&&m.length===0?TD(s,c,p):((b,S,I)=>{const E=Xe(b.getBody()),F=b.selection.getRng();return I.length!==0?b_(b,I,U.none()):((W,$,tt,ut)=>Xg($,ut).fold(()=>((ht,st,xt)=>MD(st,xt).bind(lt=>lt.fold(De(w_,ht),De(Ms,ht),De(b_,ht),De(vM,ht))))(W,$,tt),ht=>((st,xt)=>Ev(st,xt))(W,ht)))(b,E,F,S)})(s,p,m)},dd=(s,c)=>{let p=c;for(;p&&p!==s;){if(ba(p)||Yr(p))return p;p=p.parentNode}return null},ID=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],DD=Mn.each,Nv=s=>{const c=s.dom,p=new Set(s.serializer.getTempAttrs()),m=b=>Be(ID,S=>er(b,S))||p.has(b);return{compare:(b,S)=>{if(b.nodeName!==S.nodeName||b.nodeType!==S.nodeType)return!1;const I=F=>{const W={};return DD(c.getAttribs(F),$=>{const tt=$.nodeName.toLowerCase();tt==="style"||m(tt)||(W[tt]=c.getAttrib(F,tt))}),W},E=(F,W)=>{for(const $ in F)if(gn(F,$)){const tt=W[$];if(At(tt)||F[$]!==tt)return!1;delete W[$]}for(const $ in W)if(gn(W,$))return!1;return!0};return li(b)&&li(S)&&(!E(I(b),I(S))||!E(c.parseStyle(c.getAttrib(b,"style")),c.parseStyle(c.getAttrib(S,"style"))))?!1:!ll(b)&&!ll(S)},isAttributeInternal:m}},qg=(s,c,p,m)=>{const b=p.name;for(let S=0,I=s.length;S<I;S++){const E=s[S];if(E.name===b){const F=m.nodes[b];F?F.nodes.push(p):m.nodes[b]={filter:E,nodes:[p]}}}if(p.attributes)for(let S=0,I=c.length;S<I;S++){const E=c[S],F=E.name;if(F in p.attributes.map){const W=m.attributes[F];W?W.nodes.push(p):m.attributes[F]={filter:E,nodes:[p]}}}},C_=(s,c)=>{const p=(m,b)=>{Fe(m,S=>{const I=Pe(S.nodes);he(S.filter.callbacks,E=>{for(let F=I.length-1;F>=0;F--){const W=I[F];(b?W.attr(S.filter.name)!==void 0:W.name===S.filter.name)&&!Ft(W.parent)||I.splice(F,1)}I.length>0&&E(I,S.filter.name,c)})})};p(s.nodes,!1),p(s.attributes,!0)},k_=(s,c,p,m={})=>{const b=((S,I,E)=>{const F={nodes:{},attributes:{}};return E.firstChild&&((W,$)=>{let tt=W;for(;tt=tt.walk();)qg(S,I,tt,F)})(E),F})(s,c,p);C_(b,m)},pd=(s,c,p)=>{if(s.insert&&c(p)){const m=new Ra("br",1);m.attr("data-mce-bogus","1"),p.empty().append(m)}else p.empty().append(new Ra("#text",3)).value=zo},fd=(s,c)=>{const p=s==null?void 0:s.firstChild;return Kt(p)&&p===s.lastChild&&p.name===c},Rv=(s,c,p,m)=>m.isEmpty(c,p,b=>((S,I)=>{const E=S.getElementRule(I.name);return(E==null?void 0:E.paddEmpty)===!0})(s,b)),A_=(s,c,p=s.parent)=>{if(c.getSpecialElements()[s.name])s.empty().remove();else{const m=s.children();for(const b of m)p&&!c.isValidChild(p.name,b.name)&&A_(b,c,p);s.unwrap()}},M_=(s,c,p=ne)=>{const m=c.getTextBlockElements(),b=c.getNonEmptyElements(),S=c.getWhitespaceElements(),I=Mn.makeMap("tr,td,th,tbody,thead,tfoot,table"),E=new Set;for(let F=0;F<s.length;F++){const W=s[F];let $,tt,ut;if(!W.parent||E.has(W))continue;if(m[W.name]&&W.parent.name==="li"){let st=W.next;for(;st&&m[st.name];)st.name="li",E.add(st),W.parent.insert(st,W.parent),st=st.next;W.unwrap();continue}const ht=[W];for($=W.parent;$&&!c.isValidChild($.name,W.name)&&!I[$.name];$=$.parent)ht.push($);if($&&ht.length>1)if(c.isValidChild($.name,W.name)){ht.reverse(),tt=ht[0].clone(),p(tt);let st=tt;for(let xt=0;xt<ht.length-1;xt++){c.isValidChild(st.name,ht[xt].name)?(ut=ht[xt].clone(),p(ut),st.append(ut)):ut=st;for(let lt=ht[xt].firstChild;lt&&lt!==ht[xt+1];){const _t=lt.next;ut.append(lt),lt=_t}st=ut}Rv(c,b,S,tt)?$.insert(W,ht[0],!0):($.insert(tt,ht[0],!0),$.insert(W,tt)),$=ht[0],(Rv(c,b,S,$)||fd($,"br"))&&$.empty().remove()}else A_(W,c);else if(W.parent){if(W.name==="li"){let st=W.prev;if(st&&(st.name==="ul"||st.name==="ol")){st.append(W);continue}if(st=W.next,st&&(st.name==="ul"||st.name==="ol")&&st.firstChild){st.insert(W,st.firstChild,!0);continue}const xt=new Ra("ul",1);p(xt),W.wrap(xt);continue}if(c.isValidChild(W.parent.name,"div")&&c.isValidChild("div",W.name)){const st=new Ra("div",1);p(st),W.wrap(st)}else A_(W,c)}}},yM=(s,c,p=c.parent)=>!(!p||!s.children[c.name]||s.isValidChild(p.name,c.name))||!(!p||c.name!=="a"||!((m,b)=>{let S=m;for(;S;){if(S.name==="a")return!0;S=S.parent}return!1})(p)),T_=s=>s.collapsed?s:(c=>{const p=tn.fromRangeStart(c),m=tn.fromRangeEnd(c),b=c.commonAncestorContainer;return ra(!1,b,m).map(S=>!sl(p,m,b)&&sl(p,S,b)?((I,E,F,W)=>{const $=document.createRange();return $.setStart(I,E),$.setEnd(F,W),$})(p.container(),p.offset(),S.container(),S.offset()):c).getOr(c)})(s),LD=(s,c)=>{let p=c.firstChild,m=c.lastChild;return p&&p.name==="meta"&&(p=p.next),m&&m.attr("id")==="mce_marker"&&(m=m.prev),((b,S)=>{const I=b.getNonEmptyElements();return Kt(S)&&(S.isEmpty(I)||((E,F)=>E.getBlockElements()[F.name]&&(W=>Kt(W.firstChild)&&W.firstChild===W.lastChild)(F)&&(W=>W.name==="br"||W.value===zo)(F.firstChild))(b,S))})(s,m)&&(m=m==null?void 0:m.prev),!(!p||p!==m||p.name!=="ul"&&p.name!=="ol")},OD=s=>{return s.length>0&&(!(p=s[s.length-1]).firstChild||Kt((c=p)==null?void 0:c.firstChild)&&c.firstChild===c.lastChild&&(m=>m.data===zo||oo(m))(c.firstChild))?s.slice(0,-1):s;var c,p},I_=(s,c)=>{const p=s.getParent(c,s.isBlock);return p&&p.nodeName==="LI"?p:null},Bv=(s,c)=>{const p=tn.after(s),m=xc(c).prev(p);return m?m.toRange():null},ED=(s,c,p,m)=>{const b=((tt,ut,ht)=>{const st=ut.serialize(ht);return(xt=>{var lt,_t;const Pt=xt.firstChild,Xt=xt.lastChild;return Pt&&Pt.nodeName==="META"&&((lt=Pt.parentNode)===null||lt===void 0||lt.removeChild(Pt)),Xt&&Xt.id==="mce_marker"&&((_t=Xt.parentNode)===null||_t===void 0||_t.removeChild(Xt)),xt})(tt.createFragment(st))})(c,s,m),S=I_(c,p.startContainer),I=OD((E=b.firstChild,Gn((F=E==null?void 0:E.childNodes)!==null&&F!==void 0?F:[],tt=>tt.nodeName==="LI")));var E,F;const W=c.getRoot(),$=tt=>{const ut=tn.fromRangeStart(p),ht=xc(c.getRoot()),st=tt===1?ht.prev(ut):ht.next(ut),xt=st==null?void 0:st.getNode();return!xt||I_(c,xt)!==S};return S?$(1)?((tt,ut,ht)=>{const st=tt.parentNode;return st&&Mn.each(ut,xt=>{st.insertBefore(xt,tt)}),((xt,lt)=>{const _t=tn.before(xt),Pt=xc(lt).next(_t);return Pt?Pt.toRange():null})(tt,ht)})(S,I,W):$(2)?((tt,ut,ht,st)=>(st.insertAfter(ut.reverse(),tt),Bv(ut[0],ht)))(S,I,W,c):((tt,ut,ht,st)=>{const xt=((_t,Pt)=>{const Xt=Pt.cloneRange(),ce=Pt.cloneRange();return Xt.setStartBefore(_t),ce.setEndAfter(_t),[Xt.cloneContents(),ce.cloneContents()]})(tt,st),lt=tt.parentNode;return lt&&(lt.insertBefore(xt[0],tt),Mn.each(ut,_t=>{lt.insertBefore(_t,tt)}),lt.insertBefore(xt[1],tt),lt.removeChild(tt)),Bv(ut[ut.length-1],ht)})(S,I,W,p):null},PD=["pre"],Do=Ka,zv=(s,c,p)=>{var m,b;const S=s.selection,I=s.dom,E=s.parser,F=p.merge,W=ud({validate:!0},s.schema),$='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';c.indexOf("{$caret}")===-1&&(c+="{$caret}"),c=c.replace(/\{\$caret\}/,$);let tt=S.getRng();const ut=tt.startContainer,ht=s.getBody();ut===ht&&S.isCollapsed()&&I.isBlock(ht.firstChild)&&((Xt,ce)=>Kt(ce)&&!Xt.schema.getVoidElements()[ce.nodeName])(s,ht.firstChild)&&I.isEmpty(ht.firstChild)&&(tt=I.createRng(),tt.setStart(ht.firstChild,0),tt.setEnd(ht.firstChild,0),S.setRng(tt)),S.isCollapsed()||(Xt=>{const ce=Xt.dom,Ae=T_(Xt.selection.getRng());Xt.selection.setRng(Ae);const _e=ce.getParent(Ae.startContainer,Do);((Ye,ze,Ge)=>!!Kt(Ge)&&Ge===Ye.getParent(ze.endContainer,Do)&&yv(Xe(Ge),ze))(ce,Ae,_e)?w_(Xt,Ae,Xe(_e)):Ae.startContainer===Ae.endContainer&&Ae.endOffset-Ae.startOffset==1&&Dn(Ae.startContainer.childNodes[Ae.startOffset])?Ae.deleteContents():Xt.getDoc().execCommand("Delete",!1)})(s);const st=S.getNode(),xt={context:st.nodeName.toLowerCase(),data:p.data,insert:!0},lt=E.parse(c,xt);if(p.paste===!0&&LD(s.schema,lt)&&((Xt,ce)=>!!I_(Xt,ce))(I,st))return tt=ED(W,I,S.getRng(),lt),tt&&S.setRng(tt),c;p.paste===!0&&((Xt,ce,Ae,_e)=>{var Ye;const ze=ce.firstChild,Ge=ce.lastChild,en=ze===(Ge.attr("data-mce-type")==="bookmark"?Ge.prev:Ge),nn=Re(PD,ze.name);if(en&&nn){const hn=ze.attr("contenteditable")!=="false",sn=((Ye=Xt.getParent(Ae,Xt.isBlock))===null||Ye===void 0?void 0:Ye.nodeName.toLowerCase())===ze.name,xn=U.from(dd(_e,Ae)).forall(ba);return hn&&sn&&xn}return!1})(I,lt,st,s.getBody())&&((m=lt.firstChild)===null||m===void 0||m.unwrap()),(Xt=>{let ce=Xt;for(;ce=ce.walk();)ce.type===1&&ce.attr("data-mce-fragment","1")})(lt);let _t=lt.lastChild;if(_t&&_t.attr("id")==="mce_marker"){const Xt=_t;for(_t=_t.prev;_t;_t=_t.walk(!0))if(_t.type===3||!I.isBlock(_t.name)){_t.parent&&s.schema.isValidChild(_t.parent.name,"span")&&_t.parent.insert(Xt,_t,_t.name==="br");break}}if(s._selectionOverrides.showBlockCaretContainer(st),xt.invalid){s.selection.setContent($);let Xt,ce=S.getNode();const Ae=s.getBody();for(Dh(ce)?ce=Xt=Ae:Xt=ce;Xt&&Xt!==Ae;)ce=Xt,Xt=Xt.parentNode;c=ce===Ae?Ae.innerHTML:I.getOuterHTML(ce);const _e=E.parse(c);for(let en=_e;en;en=en.walk())if(en.attr("id")==="mce_marker"){en.replace(lt);break}const Ye=lt.children(),ze=(b=lt.parent)!==null&&b!==void 0?b:_e;lt.unwrap();const Ge=Gn(Ye,en=>yM(s.schema,en,ze));M_(Ge,s.schema),k_(E.getNodeFilters(),E.getAttributeFilters(),_e),c=W.serialize(_e),ce===Ae?I.setHTML(Ae,c):I.setOuterHTML(ce,c)}else c=W.serialize(lt),((Xt,ce,Ae)=>{var _e;if(Ae.getAttribute("data-mce-bogus")==="all")(_e=Ae.parentNode)===null||_e===void 0||_e.insertBefore(Xt.dom.createFragment(ce),Ae);else{const Ye=Ae.firstChild,ze=Ae.lastChild;!Ye||Ye===ze&&Ye.nodeName==="BR"?Xt.dom.setHTML(Ae,ce):Xt.selection.setContent(ce,{no_events:!0})}})(s,c,st);var Pt;return((Xt,ce)=>{const Ae=Xt.schema.getTextInlineElements(),_e=Xt.dom;if(ce){const Ye=Xt.getBody(),ze=Nv(Xt);Mn.each(_e.select("*[data-mce-fragment]"),Ge=>{if(Kt(Ae[Ge.nodeName.toLowerCase()])&&((en,nn)=>_i(Zw(en,nn),hn=>!(sn=>ZA.has(sn))(hn)))(_e,Ge)){for(let en=Ge.parentElement;Kt(en)&&en!==Ye&&!wD(_e,Ge,en);en=en.parentElement)if(ze.compare(en,Ge)){_e.remove(Ge,!0);break}}})}})(s,F),((Xt,ce)=>{var Ae,_e,Ye;let ze;const Ge=Xt.dom,en=Xt.selection;if(!ce)return;en.scrollIntoView(ce);const nn=dd(Xt.getBody(),ce);if(nn&&Ge.getContentEditable(nn)==="false")return Ge.remove(ce),void en.select(nn);let hn=Ge.createRng();const sn=ce.previousSibling;if(Dn(sn)){hn.setStart(sn,(_e=(Ae=sn.nodeValue)===null||Ae===void 0?void 0:Ae.length)!==null&&_e!==void 0?_e:0);const $n=ce.nextSibling;Dn($n)&&(sn.appendData($n.data),(Ye=$n.parentNode)===null||Ye===void 0||Ye.removeChild($n))}else hn.setStartBefore(ce),hn.setEndBefore(ce);const xn=Ge.getParent(ce,Ge.isBlock);Ge.remove(ce),xn&&Ge.isEmpty(xn)&&(xs(Xe(xn)),hn.setStart(xn,0),hn.setEnd(xn,0),Do(xn)||($n=>!!$n.getAttribute("data-mce-fragment"))(xn)||!(ze=($n=>{let Kn=tn.fromRangeStart($n);return Kn=xc(Xt.getBody()).next(Kn),Kn==null?void 0:Kn.toRange()})(hn))?Ge.add(xn,Ge.create("br",{"data-mce-bogus":"1"})):(hn=ze,Ge.remove(xn))),en.setRng(hn)})(s,I.get("mce_marker")),Pt=s.getBody(),Mn.each(Pt.getElementsByTagName("*"),Xt=>{Xt.removeAttribute("data-mce-fragment")}),((Xt,ce)=>{U.from(Xt.getParent(ce,"td,th")).map(Xe).each(Eh)})(I,S.getStart()),((Xt,ce,Ae)=>{const _e=Ir(Xe(Ae),Ye=>tr(Ye,Xe(ce)));Tt(_e,_e.length-2).filter(Po).fold(()=>Da(Xt,ce),Ye=>Da(Xt,Ye.dom))})(s.schema,s.getBody(),S.getStart()),c},nh=s=>s instanceof Ra,ih=(s,c,p)=>{s.dom.setHTML(s.getBody(),c),p!==!0&&(m=>{ld(m)&&Xr(m.getBody()).each(b=>{const S=b.getNode(),I=ea(S)?Xr(S).getOr(b):b;m.selection.setRng(I.toRange())})})(s)},D_=(s,c)=>((p,m)=>{const b=p.dom;return b.parentNode?((S,I)=>Yi(S.dom.childNodes,E=>I(Xe(E))).map(Xe))(Xe(b.parentNode),S=>!tr(p,S)&&m(S)):U.none()})(s,c).isSome(),Fv=s=>se(s)?s:oe,gd=(s,c,p)=>{const m=c(s),b=Fv(p);return m.orThunk(()=>b(s)?U.none():((S,I,E)=>{let F=S.dom;const W=Fv(E);for(;F.parentNode;){F=F.parentNode;const $=Xe(F),tt=I($);if(tt.isSome())return tt;if(W($))break}return U.none()})(s,c,b))},Vv=Q0,xM=(s,c,p)=>{const m=s.formatter.get(p);if(m)for(let b=0;b<m.length;b++){const S=m[b];if(cs(S)&&S.inherit===!1&&s.dom.is(c,S.selector))return!0}return!1},Ug=(s,c,p,m,b)=>{const S=s.dom.getRoot();if(c===S)return!1;const I=s.dom.getParent(c,E=>!!xM(s,E,p)||E.parentNode===S||!!Sc(s,E,p,m,!0));return!!Sc(s,I,p,m,b)},Hv=(s,c,p)=>!(!ko(p)||!Vv(c,p.inline))||!(!cl(p)||!Vv(c,p.block))||!!cs(p)&&li(c)&&s.is(c,p.selector),Wv=(s,c,p,m,b,S)=>{const I=p[m],E=m==="attributes";if(se(p.onmatch))return p.onmatch(c,p,m);if(I){if(Ni(I)){for(let F=0;F<I.length;F++)if(E?s.getAttrib(c,I[F]):Ag(s,c,I[F]))return!0}else for(const F in I)if(gn(I,F)){const W=E?s.getAttrib(c,F):Ag(s,c,F),$=Rl(I[F],S),tt=Ft(W)||C(W);if(tt&&Ft($))continue;if(b&&tt&&!p.exact||(!b||p.exact)&&!Vv(W,tx($,F)))return!1}}return!0},Sc=(s,c,p,m,b)=>{const S=s.formatter.get(p),I=s.dom;if(S&&li(c))for(let E=0;E<S.length;E++){const F=S[E];if(Hv(s.dom,c,F)&&Wv(I,c,F,"attributes",b,m)&&Wv(I,c,F,"styles",b,m)){const W=F.classes;if(W){for(let $=0;$<W.length;$++)if(!s.dom.hasClass(c,Rl(W[$],m)))return}return F}}},kx=(s,c,p,m,b)=>{if(m)return Ug(s,m,c,p,b);if(m=s.selection.getNode(),Ug(s,m,c,p,b))return!0;const S=s.selection.getStart();return!(S===m||!Ug(s,S,c,p,b))},md=Co,L_=s=>(c=>{const p=[];let m=c;for(;m;){if(Dn(m)&&m.data!==md||m.childNodes.length>1)return[];li(m)&&p.push(m),m=m.firstChild}return p})(s).length>0,O_=s=>{if(s){const c=new wo(s,s);for(let p=c.current();p;p=c.next())if(Dn(p))return p}return null},Ax=s=>{const c=bo("span");return Ul(c,{id:_g,"data-mce-bogus":"1","data-mce-type":"format-caret"}),s&&Bo(c,xl(md)),c},Mx=(s,c,p=!0)=>{const m=s.dom,b=s.selection;if(L_(c))hd(s,!1,Xe(c),p);else{const S=b.getRng(),I=m.getParent(c,m.isBlock),E=S.startContainer,F=S.startOffset,W=S.endContainer,$=S.endOffset,tt=(ut=>{const ht=O_(ut);return ht&&ht.data.charAt(0)===md&&ht.deleteData(0,1),ht})(c);m.remove(c,!0),E===tt&&F>0&&S.setStart(tt,F-1),W===tt&&$>0&&S.setEnd(tt,$-1),I&&m.isEmpty(I)&&Ja(Xe(I)),b.setRng(S)}},Tx=(s,c,p=!0)=>{const m=s.dom,b=s.selection;if(c)Mx(s,c,p);else if(!(c=Uh(s.getBody(),b.getStart())))for(;c=m.get(_g);)Mx(s,c,!1)},Ts=(s,c)=>(s.appendChild(c),c),$g=(s,c)=>{var p;const m=fi(s,(S,I)=>Ts(S,I.cloneNode(!1)),c),b=(p=m.ownerDocument)!==null&&p!==void 0?p:document;return Ts(m,b.createTextNode(md))},E_=(s,c,p,m)=>{const b=s.dom,S=s.selection;let I=!1;const E=s.formatter.get(c);if(!E)return;const F=S.getRng(),W=F.startContainer,$=F.startOffset;let tt=W;Dn(W)&&($!==W.data.length&&(I=!0),tt=tt.parentNode);const ut=[];let ht;for(;tt;){if(Sc(s,tt,c,p,m)){ht=tt;break}tt.nextSibling&&(I=!0),ut.push(tt),tt=tt.parentNode}if(ht)if(I){const st=S.getBookmark();F.collapse(!0);let xt=ul(b,F,E,!0);xt=Av(xt),s.formatter.remove(c,p,xt,m),S.moveToBookmark(st)}else{const st=Uh(s.getBody(),ht),xt=Ax(!1).dom;((Pt,Xt,ce)=>{var Ae,_e;const Ye=Pt.dom,ze=Ye.getParent(ce,De(J0,Pt.schema));ze&&Ye.isEmpty(ze)?(Ae=ce.parentNode)===null||Ae===void 0||Ae.replaceChild(Xt,ce):((Ge=>{const en=fa(Ge,"br"),nn=Gn((hn=>{const sn=[];let xn=hn.dom;for(;xn;)sn.push(Xe(xn)),xn=xn.lastChild;return sn})(Ge).slice(-1),ga);en.length===nn.length&&he(nn,_r)})(Xe(ce)),Ye.isEmpty(ce)?(_e=ce.parentNode)===null||_e===void 0||_e.replaceChild(Xt,ce):Ye.insertAfter(Xt,ce))})(s,xt,st??ht);const lt=((Pt,Xt,ce,Ae,_e,Ye)=>{const ze=Pt.formatter,Ge=Pt.dom,en=Gn(Ee(ze.get()),hn=>hn!==Ae&&!ur(hn,"removeformat")),nn=((hn,sn,xn)=>Zn(xn,($n,Kn)=>{const ki=((Ii,fr)=>Vp(Ii,fr,Hr=>{const yi=Xi=>se(Xi)||Xi.length>1&&Xi.charAt(0)==="%";return Be(["styles","attributes"],Xi=>En(Hr,Xi).exists(Vi=>{const Ue=Ct(Vi)?Vi:vn(Vi);return Be(Ue,yi)}))}))(hn,Kn);return hn.formatter.matchNode(sn,Kn,{},ki)?$n.concat([Kn]):$n},[]))(Pt,ce,en);if(Gn(nn,hn=>!((sn,xn,$n)=>{const Kn=["inline","block","selector","attributes","styles","classes"],ki=Ii=>Ln(Ii,(fr,Hr)=>Be(Kn,yi=>yi===Hr));return Vp(sn,xn,Ii=>{const fr=ki(Ii);return Vp(sn,$n,Hr=>{const yi=ki(Hr);return((Xi,Vi,Ue=Jt)=>ke(Ue).eq(Xi,Vi))(fr,yi)})})})(Pt,hn,Ae)).length>0){const hn=ce.cloneNode(!1);return Ge.add(Xt,hn),ze.remove(Ae,_e,hn,Ye),Ge.remove(hn),U.some(hn)}return U.none()})(s,xt,ht,c,p,m),_t=$g(ut.concat(lt.toArray()),xt);st&&Mx(s,st,!1),S.setCursorLocation(_t,1),b.isEmpty(ht)&&b.remove(ht)}},Up=(s,c)=>{const p=s.schema.getTextInlineElements();return gn(p,Tr(c))&&!Nl(c.dom)&&!tl(c.dom)},$p={},P_=$a(["pre"]);$p.pre||($p.pre=[]),$p.pre.push(s=>{if(!s.selection.getRng().collapsed){const c=s.selection.getSelectedBlocks(),p=Gn(Gn(c,P_),(m=>b=>{const S=b.previousSibling;return P_(S)&&Re(m,S)})(c));he(p,m=>{((b,S)=>{const I=Xe(S),E=vs(I).dom;_r(I),Rs(Xe(b),[bo("br",E),bo("br",E),...Ro(I)])})(m.previousSibling,m)})}});const N_=["fontWeight","fontStyle","color","fontSize","fontFamily"],Zp=(s,c)=>{const p=s.get(c);return Ct(p)?Yi(p,m=>ko(m)&&m.inline==="span"&&(b=>It(b.styles)&&Be(Ee(b.styles),S=>Re(N_,S)))(m)):U.none()},R_=(s,c)=>so(c,tn.fromRangeStart(s)).isNone(),B_=(s,c)=>Pa(c,tn.fromRangeEnd(s)).exists(p=>!oo(p.getNode())||Pa(c,p).isSome())===!1,z_=s=>c=>P1(c)&&s.getContentEditableParent(c)!=="false",zl=s=>Gn(s.getSelectedBlocks(),z_(s.dom)),Ix=Mn.each,Dx=s=>li(s)&&!ll(s)&&!Nl(s)&&!tl(s),Lx=(s,c)=>{for(let p=s;p;p=p[c]){if(Dn(p)&&y(p.data))return s;if(li(p)&&!ll(p))return p}return s},jv=(s,c,p)=>{const m=Nv(s),b=li(c)&&wc(c),S=li(p)&&wc(p);if(b&&S){const I=Lx(c,"previousSibling"),E=Lx(p,"nextSibling");if(m.compare(I,E)){for(let F=I.nextSibling;F&&F!==E;){const W=F;F=F.nextSibling,I.appendChild(W)}return s.dom.remove(E),Mn.each(Mn.grep(E.childNodes),F=>{I.appendChild(F)}),I}}return p},F_=(s,c,p,m)=>{var b;if(m&&c.merge_siblings!==!1){const S=(b=jv(s,K0(m),m))!==null&&b!==void 0?b:m;jv(s,S,K0(S,!0))}},Ox=(s,c,p)=>{Ix(s.childNodes,m=>{Dx(m)&&(c(m)&&p(m),m.hasChildNodes()&&Ox(m,c,p))})},Ex=(s,c)=>p=>!(!p||!Ag(s,p,c)),V_=(s,c,p)=>m=>{s.setStyle(m,c,p),m.getAttribute("style")===""&&m.removeAttribute("style"),((b,S)=>{S.nodeName==="SPAN"&&b.getAttribs(S).length===0&&b.remove(S,!0)})(s,m)},vd=gc([{keep:[]},{rename:["name"]},{removed:[]}]),bM=/^(src|href|style)$/,yd=Mn.each,Zg=Q0,Yv=(s,c,p)=>s.isChildOf(c,p)&&c!==p&&!s.isBlock(p),rh=(s,c,p)=>{let m=c[p?"startContainer":"endContainer"],b=c[p?"startOffset":"endOffset"];if(li(m)){const S=m.childNodes.length-1;!p&&b&&b--,m=m.childNodes[b>S?S:b]}return Dn(m)&&p&&b>=m.data.length&&(m=new wo(m,s.getBody()).next()||m),Dn(m)&&!p&&b===0&&(m=new wo(m,s.getBody()).prev()||m),m},Px=(s,c)=>{const p=c?"firstChild":"lastChild",m=s[p];return(b=>/^(TR|TH|TD)$/.test(b.nodeName))(s)&&m?s.nodeName==="TR"&&m[p]||m:s},Gv=(s,c,p,m)=>{var b;const S=s.create(p,m);return(b=c.parentNode)===null||b===void 0||b.insertBefore(S,c),S.appendChild(c),S},Nx=(s,c,p,m,b)=>{const S=Xe(c),I=Xe(s.create(m,b)),E=p?Ql(S):Xa(S);return Rs(I,E),p?(pa(S,I),tp(I,S)):(ec(S,I),Bo(I,S)),I.dom},Kg=(s,c,p)=>{const m=c.parentNode;let b;const S=s.dom,I=Oa(s);cl(p)&&m===S.getRoot()&&(p.list_block&&Zg(c,p.list_block)||he(Pe(c.childNodes),E=>{va(s,I,E.nodeName.toLowerCase())?b?b.appendChild(E):(b=Gv(S,E,I),S.setAttribs(b,lg(s))):b=null})),(E=>cs(E)&&ko(E)&&$r(En(E,"mixed"),!0))(p)&&!Zg(p.inline,c)||S.remove(c,!0)},Jg=(s,c,p)=>Me(s)?{name:c,value:null}:{name:s,value:Rl(c,p)},H_=(s,c)=>{s.getAttrib(c,"style")===""&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style"))},W_=(s,c,p,m,b)=>{let S=!1;yd(p.styles,(I,E)=>{const{name:F,value:W}=Jg(E,I,m),$=tx(W,F);(p.remove_similar||ct(W)||!li(b)||Zg(Ag(s,b,F),$))&&s.setStyle(c,F,""),S=!0}),S&&H_(s,c)},Rx=(s,c,p,m,b)=>{const S=s.dom,I=Nv(s),E=s.schema;if(ko(c)&&il(E,c.inline)&&Sr(E,m)&&m.parentElement===s.getBody())return Kg(s,m,c),vd.removed();if(!c.ceFalseOverride&&m&&S.getContentEditableParent(m)==="false"||m&&!Hv(S,m,c)&&!(($,tt)=>tt.links&&$.nodeName==="A")(m,c))return vd.keep();const F=m,W=c.preserve_attributes;if(ko(c)&&c.remove==="all"&&Ct(W)){const $=Gn(S.getAttribs(F),tt=>Re(W,tt.name.toLowerCase()));if(S.removeAllAttribs(F),he($,tt=>S.setAttrib(F,tt.name,tt.value)),$.length>0)return vd.rename("span")}if(c.remove!=="all"){W_(S,F,c,p,b),yd(c.attributes,(tt,ut)=>{const{name:ht,value:st}=Jg(ut,tt,p);if(c.remove_similar||ct(st)||!li(b)||Zg(S.getAttrib(b,ht),st)){if(ht==="class"){const xt=S.getAttrib(F,ht);if(xt){let lt="";if(he(xt.split(/\s+/),_t=>{/mce\-\w+/.test(_t)&&(lt+=(lt?" ":"")+_t)}),lt)return void S.setAttrib(F,ht,lt)}}if(bM.test(ht)&&F.removeAttribute("data-mce-"+ht),ht==="style"&&$a(["li"])(F)&&S.getStyle(F,"list-style-type")==="none")return F.removeAttribute(ht),void S.setStyle(F,"list-style-type","none");ht==="class"&&F.removeAttribute("className"),F.removeAttribute(ht)}}),yd(c.classes,tt=>{tt=Rl(tt,p),li(b)&&!S.hasClass(b,tt)||S.removeClass(F,tt)});const $=S.getAttribs(F);for(let tt=0;tt<$.length;tt++){const ut=$[tt].nodeName;if(!I.isAttributeInternal(ut))return vd.keep()}}return c.remove!=="none"?(Kg(s,F,c),vd.removed()):vd.keep()},Qg=(s,c,p,m,b)=>Rx(s,c,p,m,b).fold(oe,S=>(s.dom.rename(m,S),!0),Oe),Bx=(s,c,p,m)=>Rx(s,c,p,m,m).fold(ie(m),b=>(s.dom.createFragment().appendChild(m),s.dom.rename(m,b)),ie(null)),j_=(s,c,p,m,b)=>{const S=s.formatter.get(c),I=S[0],E=s.dom,F=s.selection,W=st=>{const xt=((lt,_t,Pt,Xt,ce)=>{let Ae;return _t.parentNode&&he(Fp(lt.dom,_t.parentNode).reverse(),_e=>{if(!Ae&&li(_e)&&_e.id!=="_start"&&_e.id!=="_end"){const Ye=Sc(lt,_e,Pt,Xt,ce);Ye&&Ye.split!==!1&&(Ae=_e)}}),Ae})(s,st,c,p,b);return((lt,_t,Pt,Xt,ce,Ae,_e,Ye)=>{var ze,Ge;let en,nn;const hn=lt.dom;if(Pt){const sn=Pt.parentNode;for(let xn=Xt.parentNode;xn&&xn!==sn;xn=xn.parentNode){let $n=hn.clone(xn,!1);for(let Kn=0;Kn<_t.length&&($n=Bx(lt,_t[Kn],Ye,$n),$n!==null);Kn++);$n&&(en&&$n.appendChild(en),nn||(nn=$n),en=$n)}_e.mixed&&hn.isBlock(Pt)||(Xt=(ze=hn.split(Pt,Xt))!==null&&ze!==void 0?ze:Xt),en&&nn&&((Ge=ce.parentNode)===null||Ge===void 0||Ge.insertBefore(en,ce),nn.appendChild(ce),ko(_e)&&F_(lt,_e,0,en))}return Xt})(s,S,xt,st,st,0,I,p)},$=st=>Be(S,xt=>Qg(s,xt,p,st,st)),tt=st=>{const xt=Pe(st.childNodes),lt=$(st)||Be(S,Pt=>Hv(E,st,Pt)),_t=st.parentNode;if(!lt&&Kt(_t)&&xw(I)&&$(_t),I.deep&&xt.length)for(let Pt=0;Pt<xt.length;Pt++)tt(xt[Pt]);he(["underline","line-through","overline"],Pt=>{li(st)&&s.dom.getStyle(st,"text-decoration")===Pt&&st.parentNode&&zp(E,st.parentNode)===Pt&&Qg(s,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Pt}},void 0,st)})},ut=st=>{const xt=E.get(st?"_start":"_end");if(xt){let lt=xt[st?"firstChild":"lastChild"];return(_t=>ll(_t)&&li(_t)&&(_t.id==="_start"||_t.id==="_end"))(lt)&&(lt=lt[st?"firstChild":"lastChild"]),Dn(lt)&&lt.data.length===0&&(lt=st?xt.previousSibling||xt.nextSibling:xt.nextSibling||xt.previousSibling),E.remove(xt,!0),lt}return null},ht=st=>{let xt,lt,_t=ul(E,st,S,st.collapsed);if(I.split){if(_t=Av(_t),xt=rh(s,_t,!0),lt=rh(s,_t),xt!==lt){if(xt=Px(xt,!0),lt=Px(lt,!1),Yv(E,xt,lt)){const Xt=U.from(xt.firstChild).getOr(xt);return W(Nx(E,Xt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void ut(!0)}if(Yv(E,lt,xt)){const Xt=U.from(lt.lastChild).getOr(lt);return W(Nx(E,Xt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void ut(!1)}xt=Gv(E,xt,"span",{id:"_start","data-mce-type":"bookmark"}),lt=Gv(E,lt,"span",{id:"_end","data-mce-type":"bookmark"});const Pt=E.createRng();Pt.setStartAfter(xt),Pt.setEndBefore(lt),Qh(E,Pt,Xt=>{he(Xt,ce=>{ll(ce)||ll(ce.parentNode)||W(ce)})}),W(xt),W(lt),xt=ut(!0),lt=ut()}else xt=lt=W(xt);_t.startContainer=xt.parentNode?xt.parentNode:xt,_t.startOffset=E.nodeIndex(xt),_t.endContainer=lt.parentNode?lt.parentNode:lt,_t.endOffset=E.nodeIndex(lt)+1}Qh(E,_t,Pt=>{he(Pt,tt)})};if(m){if(Zh(m)){const st=E.createRng();st.setStartBefore(m),st.setEndAfter(m),ht(st)}else ht(m);Wp(s,c,m,p)}else F.isCollapsed()&&ko(I)&&!kg(s).length?E_(s,c,p,b):(kA(s,()=>$0(s,ht),st=>ko(I)&&kx(s,c,p,st)),s.nodeChanged()),((st,xt,lt)=>{xt==="removeformat"?he(zl(st.selection),_t=>{he(N_,Pt=>st.dom.setStyle(_t,Pt,"")),H_(st.dom,_t)}):Zp(st.formatter,xt).each(_t=>{he(zl(st.selection),Pt=>W_(st.dom,Pt,_t,lt,null))})})(s,c,p),Wp(s,c,m,p)},Y_=Mn.each,Is=Mn.each,G_=(s,c,p,m)=>{if(Is(p.styles,(b,S)=>{s.setStyle(c,S,Rl(b,m))}),p.styles){const b=s.getAttrib(c,"style");b&&s.setAttrib(c,"data-mce-style",b)}},X_=(s,c,p,m)=>{const b=s.formatter.get(c),S=b[0],I=!m&&s.selection.isCollapsed(),E=s.dom,F=s.selection,W=(st,xt=S)=>{se(xt.onformat)&&xt.onformat(st,xt,p,m),G_(E,st,xt,p),Is(xt.attributes,(lt,_t)=>{E.setAttrib(st,_t,Rl(lt,p))}),Is(xt.classes,lt=>{const _t=Rl(lt,p);E.hasClass(st,_t)||E.addClass(st,_t)})},$=(st,xt)=>{let lt=!1;return Is(st,_t=>!(!cs(_t)||(E.getContentEditable(xt)!=="false"||_t.ceFalseOverride)&&(!Kt(_t.collapsed)||_t.collapsed===I)&&E.is(xt,_t.selector)&&!Nl(xt)&&(W(xt,_t),lt=!0,1))),lt},tt=st=>{if(ft(st)){const xt=E.create(st);return W(xt),xt}return null},ut=(st,xt,lt)=>{const _t=[];let Pt=!0;const Xt=S.inline||S.block,ce=tt(Xt);Qh(st,xt,Ae=>{let _e;const Ye=ze=>{let Ge=!1,en=Pt,nn=!1;const hn=ze.parentNode,sn=hn.nodeName.toLowerCase(),xn=st.getContentEditable(ze);Kt(xn)&&(en=Pt,Pt=xn==="true",Ge=!0,nn=MA(s,ze));const $n=Pt&&!Ge;if(oo(ze)&&!((Kn,ki,Ii,fr)=>{if(rA(Kn)&&ko(ki)&&Ii.parentNode){const Hr=zh(Kn.schema),yi=D_(Xe(Ii),Xi=>Nl(Xi.dom));return Di(Hr,fr)&&ho(Xe(Ii.parentNode),!1)&&!yi}return!1})(s,S,ze,sn))return _e=null,void(cl(S)&&st.remove(ze));if((Kn=>(ki=>cl(ki)&&ki.wrapper===!0)(S)&&Sc(s,Kn,c,p))(ze))_e=null;else{if(((Kn,ki,Ii)=>{const fr=(Hr=>cl(Hr)&&Hr.wrapper!==!0)(S)&&J0(s.schema,Kn)&&va(s,ki,Xt);return Ii&&fr})(ze,sn,$n)){const Kn=st.rename(ze,Xt);return W(Kn),_t.push(Kn),void(_e=null)}if(cs(S)){let Kn=$(b,ze);if(!Kn&&Kt(hn)&&xw(S)&&(Kn=$(b,hn)),!ko(S)||Kn)return void(_e=null)}Kt(ce)&&((Kn,ki,Ii,fr)=>{const Hr=Kn.nodeName.toLowerCase(),yi=va(s,Xt,Hr)&&va(s,ki,Xt),Xi=!lt&&Dn(Kn)&&Wr(Kn.data),Vi=Nl(Kn),Ue=!ko(S)||!st.isBlock(Kn);return(Ii||fr)&&yi&&!Xi&&!Vi&&Ue})(ze,sn,$n,nn)?(_e||(_e=st.clone(ce,!1),hn.insertBefore(_e,ze),_t.push(_e)),nn&&Ge&&(Pt=en),_e.appendChild(ze)):(_e=null,he(Pe(ze.childNodes),Ye),Ge&&(Pt=en),_e=null)}};he(Ae,Ye)}),S.links===!0&&he(_t,Ae=>{const _e=Ye=>{Ye.nodeName==="A"&&W(Ye,S),he(Pe(Ye.childNodes),_e)};_e(Ae)}),he(_t,Ae=>{const _e=(Ye=>{let ze=0;return he(Ye.childNodes,Ge=>{(en=>Kt(en)&&Dn(en)&&en.length===0)(Ge)||ll(Ge)||ze++}),ze})(Ae);!(_t.length>1)&&st.isBlock(Ae)||_e!==0?(ko(S)||cl(S)&&S.wrapper)&&(S.exact||_e!==1||(Ae=(Ye=>Yi(Ye.childNodes,Z0).filter(Ge=>st.getContentEditable(Ge)!=="false"&&Hv(st,Ge,S)).map(Ge=>{const en=st.clone(Ge,!1);return W(en),st.replace(en,Ye,!0),st.remove(Ge,!0),en}).getOr(Ye))(Ae)),((Ye,ze,Ge,en)=>{Y_(ze,nn=>{ko(nn)&&Y_(Ye.dom.select(nn.inline,en),hn=>{Dx(hn)&&Qg(Ye,nn,Ge,hn,nn.exact?hn:null)}),((hn,sn,xn)=>{if(sn.clear_child_styles){const $n=sn.links?"*:not(a)":"*";Ix(hn.select($n,xn),Kn=>{Dx(Kn)&&wc(Kn)&&Ix(sn.styles,(ki,Ii)=>{hn.setStyle(Kn,Ii,"")})})}})(Ye.dom,nn,en)})})(s,b,p,Ae),((Ye,ze,Ge,en,nn)=>{const hn=nn.parentNode;Sc(Ye,hn,Ge,en)&&Qg(Ye,ze,en,nn)||ze.merge_with_parents&&hn&&Ye.dom.getParent(hn,sn=>!!Sc(Ye,sn,Ge,en)&&(Qg(Ye,ze,en,nn),!0))})(s,S,c,p,Ae),((Ye,ze,Ge,en)=>{if(ze.styles&&ze.styles.backgroundColor){const nn=Ex(Ye,"fontSize");Ox(en,hn=>nn(hn)&&wc(hn),V_(Ye,"backgroundColor",Rl(ze.styles.backgroundColor,Ge)))}})(st,S,p,Ae),((Ye,ze,Ge,en)=>{const nn=hn=>{if(li(hn)&&li(hn.parentNode)&&wc(hn)){const sn=zp(Ye,hn.parentNode);Ye.getStyle(hn,"color")&&sn?Ye.setStyle(hn,"text-decoration",sn):Ye.getStyle(hn,"text-decoration")===sn&&Ye.setStyle(hn,"text-decoration",null)}};ze.styles&&(ze.styles.color||ze.styles.textDecoration)&&(Mn.walk(en,nn,"childNodes"),nn(en))})(st,S,0,Ae),((Ye,ze,Ge,en)=>{if(ko(ze)&&(ze.inline==="sub"||ze.inline==="sup")){const nn=Ex(Ye,"fontSize");Ox(en,sn=>nn(sn)&&wc(sn),V_(Ye,"fontSize",""));const hn=Gn(Ye.select(ze.inline==="sup"?"sub":"sup",en),wc);Ye.remove(hn,!0)}})(st,S,0,Ae),F_(s,S,0,Ae)):st.remove(Ae,!0)})},ht=Zh(m)?m:F.getNode();if(E.getContentEditable(ht)==="false"&&!MA(s,ht))return $(b,m=ht),void Zu(s,c,m,p);if(S){if(m)if(Zh(m)){if(!$(b,m)){const st=E.createRng();st.setStartBefore(m),st.setEndAfter(m),ut(E,ul(E,st,b),!0)}}else ut(E,m,!0);else I&&ko(S)&&!kg(s).length?((st,xt,lt)=>{let _t;const Pt=st.selection,Xt=st.formatter.get(xt);if(!Xt)return;const ce=Pt.getRng();let Ae=ce.startOffset;const _e=ce.startContainer.nodeValue;_t=Uh(st.getBody(),Pt.getStart());const Ye=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(_e&&Ae>0&&Ae<_e.length&&Ye.test(_e.charAt(Ae))&&Ye.test(_e.charAt(Ae-1))){const en=Pt.getBookmark();ce.collapse(!0);let nn=ul(st.dom,ce,Xt);nn=Av(nn),st.formatter.apply(xt,lt,nn),Pt.moveToBookmark(en)}else{let en=_t?O_(_t):null;_t&&(en==null?void 0:en.data)===md||(ze=st.getDoc(),Ge=Ax(!0).dom,_t=ze.importNode(Ge,!0),en=_t.firstChild,ce.insertNode(_t),Ae=1),st.formatter.apply(xt,lt,_t),Pt.setCursorLocation(en,Ae)}var ze,Ge})(s,c,p):(F.setRng(T_(F.getRng())),kA(s,()=>{$0(s,(st,xt)=>{const lt=xt?st:ul(E,st,b);ut(E,lt,!1)})},Oe),s.nodeChanged()),Zp(s.formatter,c).each(st=>{he((xt=>Gn((lt=>{const _t=lt.getSelectedBlocks(),Pt=lt.getRng();if(lt.isCollapsed())return[];if(_t.length===1)return R_(Pt,_t[0])&&B_(Pt,_t[0])?_t:[];{const Xt=Ut(_t).filter(_e=>R_(Pt,_e)).toArray(),ce=ve(_t).filter(_e=>B_(Pt,_e)).toArray(),Ae=_t.slice(1,-1);return Xt.concat(Ae).concat(ce)}})(xt),z_(xt.dom)))(s.selection),xt=>G_(E,xt,st,p))});((st,xt)=>{gn($p,st)&&he($p[st],lt=>{lt(xt)})})(c,s)}Zu(s,c,m,p)},q_=s=>gn(s,"vars"),Xv=s=>s.selection.getStart(),zx=(s,c,p,m,b)=>Cr(c,S=>{const I=s.formatter.matchNode(S,p,b??{},m);return!At(I)},S=>!!xM(s,S,p)||!m&&Kt(s.formatter.matchNode(S,p,b,!0))),wM=(s,c)=>{const p=c??Xv(s);return Gn(Fp(s.dom,p),m=>li(m)&&!tl(m))},ND=(s,c,p)=>{const m=wM(s,c);Fe(p,(b,S)=>{const I=E=>{const F=zx(s,m,S,E.similar,q_(E)?E.vars:void 0),W=F.isSome();if(E.state.get()!==W){E.state.set(W);const $=F.getOr(c);q_(E)?E.callback(W,{node:$,format:S,parents:m}):he(E.callbacks,tt=>tt(W,{node:$,format:S,parents:m}))}};he([b.withSimilar,b.withoutSimilar],I),he(b.withVars,I)})};function pu(s){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},pu(s)}function Kp(s,c){return Kp=Object.setPrototypeOf||function(p,m){return p.__proto__=m,p},Kp(s,c)}function U_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qv(s,c,p){return qv=U_()?Reflect.construct:function(m,b,S){var I=[null];I.push.apply(I,b);var E=new(Function.bind.apply(m,I));return S&&Kp(E,S.prototype),E},qv.apply(null,arguments)}function qs(s){return function(c){if(Array.isArray(c))return Fx(c)}(s)||function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(s)||function(c,p){if(c){if(typeof c=="string")return Fx(c,p);var m=Object.prototype.toString.call(c).slice(8,-1);return m==="Object"&&c.constructor&&(m=c.constructor.name),m==="Map"||m==="Set"?Array.from(c):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?Fx(c,p):void 0}}(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fx(s,c){(c==null||c>s.length)&&(c=s.length);for(var p=0,m=new Array(c);p<c;p++)m[p]=s[p];return m}var $_=Object.hasOwnProperty,xd=Object.setPrototypeOf,Vx=Object.isFrozen,RD=Object.getPrototypeOf,BD=Object.getOwnPropertyDescriptor,za=Object.freeze,Cc=Object.seal,zD=Object.create,Hx=typeof Reflect<"u"&&Reflect,tm=Hx.apply,Uv=Hx.construct;tm||(tm=function(s,c,p){return s.apply(c,p)}),za||(za=function(s){return s}),Cc||(Cc=function(s){return s}),Uv||(Uv=function(s,c){return qv(s,qs(c))});var Wx,_M=Fl(Array.prototype.forEach),SM=Fl(Array.prototype.pop),bd=Fl(Array.prototype.push),Us=Fl(String.prototype.toLowerCase),CM=Fl(String.prototype.match),oh=Fl(String.prototype.replace),wd=Fl(String.prototype.indexOf),kM=Fl(String.prototype.trim),Fa=Fl(RegExp.prototype.test),$v=(Wx=TypeError,function(){for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return Uv(Wx,c)});function Fl(s){return function(c){for(var p=arguments.length,m=new Array(p>1?p-1:0),b=1;b<p;b++)m[b-1]=arguments[b];return tm(s,c,m)}}function Lr(s,c){xd&&xd(s,null);for(var p=c.length;p--;){var m=c[p];if(typeof m=="string"){var b=Us(m);b!==m&&(Vx(c)||(c[p]=b),m=b)}s[m]=!0}return s}function _d(s){var c,p=zD(null);for(c in s)tm($_,s,[c])&&(p[c]=s[c]);return p}function jx(s,c){for(;s!==null;){var p=BD(s,c);if(p){if(p.get)return Fl(p.get);if(typeof p.value=="function")return Fl(p.value)}s=RD(s)}return function(m){return console.warn("fallback value for",m),null}}var cr=za(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jp=za(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yx=za(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ah=za(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Z_=za(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),K_=za(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zv=za(["#text"]),Kv=za(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),J_=za(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),AM=za(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jv=za(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MM=Cc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),TM=Cc(/<%[\w\W]*|[\w\W]*%>/gm),IM=Cc(/^data-[\-\w.\u00B7-\uFFFF]/),DM=Cc(/^aria-[\-\w]+$/),LM=Cc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Gx=Cc(/^(?:\w+script|data):/i),Qv=Cc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ty=Cc(/^html$/i),Q_=function(){return typeof window>"u"?null:window},Xx=function(s,c){if(pu(s)!=="object"||typeof s.createPolicy!="function")return null;var p=null,m="data-tt-policy-suffix";c.currentScript&&c.currentScript.hasAttribute(m)&&(p=c.currentScript.getAttribute(m));var b="dompurify"+(p?"#"+p:"");try{return s.createPolicy(b,{createHTML:function(S){return S}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}},tS=function s(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q_(),p=function(on){return s(on)};if(p.version="2.3.8",p.removed=[],!c||!c.document||c.document.nodeType!==9)return p.isSupported=!1,p;var m=c.document,b=c.document,S=c.DocumentFragment,I=c.HTMLTemplateElement,E=c.Node,F=c.Element,W=c.NodeFilter,$=c.NamedNodeMap,tt=$===void 0?c.NamedNodeMap||c.MozNamedAttrMap:$,ut=c.HTMLFormElement,ht=c.DOMParser,st=c.trustedTypes,xt=F.prototype,lt=jx(xt,"cloneNode"),_t=jx(xt,"nextSibling"),Pt=jx(xt,"childNodes"),Xt=jx(xt,"parentNode");if(typeof I=="function"){var ce=b.createElement("template");ce.content&&ce.content.ownerDocument&&(b=ce.content.ownerDocument)}var Ae=Xx(st,m),_e=Ae?Ae.createHTML(""):"",Ye=b,ze=Ye.implementation,Ge=Ye.createNodeIterator,en=Ye.createDocumentFragment,nn=Ye.getElementsByTagName,hn=m.importNode,sn={};try{sn=_d(b).documentMode?b.documentMode:{}}catch{}var xn={};p.isSupported=typeof Xt=="function"&&ze&&ze.createHTMLDocument!==void 0&&sn!==9;var $n,Kn,ki=MM,Ii=TM,fr=IM,Hr=DM,yi=Gx,Xi=Qv,Vi=LM,Ue=null,Ze=Lr({},[].concat(qs(cr),qs(Jp),qs(Yx),qs(Z_),qs(Zv))),mn=null,_n=Lr({},[].concat(qs(Kv),qs(J_),qs(AM),qs(Jv))),Sn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Cn=null,Wn=null,si=!0,pi=!0,Pi=!1,ji=!1,ai=!1,$i=!1,Oo=!1,co=!1,ka=!1,Aa=!1,gl=!0,ml=!0,Ko=!1,Ps={},yo=null,vl=Lr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),mh=null,c0=Lr({},["audio","video","img","source","image","track"]),Pc=null,Om=Lr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ps="http://www.w3.org/1998/Math/MathML",Vd="http://www.w3.org/2000/svg",Ks="http://www.w3.org/1999/xhtml",Ef=Ks,mI=!1,vI=["application/xhtml+xml","text/html"],FL="text/html",Em=null,VL=b.createElement("form"),yI=function(on){return on instanceof RegExp||on instanceof Function},Ak=function(on){Em&&Em===on||(on&&pu(on)==="object"||(on={}),on=_d(on),Ue="ALLOWED_TAGS"in on?Lr({},on.ALLOWED_TAGS):Ze,mn="ALLOWED_ATTR"in on?Lr({},on.ALLOWED_ATTR):_n,Pc="ADD_URI_SAFE_ATTR"in on?Lr(_d(Om),on.ADD_URI_SAFE_ATTR):Om,mh="ADD_DATA_URI_TAGS"in on?Lr(_d(c0),on.ADD_DATA_URI_TAGS):c0,yo="FORBID_CONTENTS"in on?Lr({},on.FORBID_CONTENTS):vl,Cn="FORBID_TAGS"in on?Lr({},on.FORBID_TAGS):{},Wn="FORBID_ATTR"in on?Lr({},on.FORBID_ATTR):{},Ps="USE_PROFILES"in on&&on.USE_PROFILES,si=on.ALLOW_ARIA_ATTR!==!1,pi=on.ALLOW_DATA_ATTR!==!1,Pi=on.ALLOW_UNKNOWN_PROTOCOLS||!1,ji=on.SAFE_FOR_TEMPLATES||!1,ai=on.WHOLE_DOCUMENT||!1,co=on.RETURN_DOM||!1,ka=on.RETURN_DOM_FRAGMENT||!1,Aa=on.RETURN_TRUSTED_TYPE||!1,Oo=on.FORCE_BODY||!1,gl=on.SANITIZE_DOM!==!1,ml=on.KEEP_CONTENT!==!1,Ko=on.IN_PLACE||!1,Vi=on.ALLOWED_URI_REGEXP||Vi,Ef=on.NAMESPACE||Ks,on.CUSTOM_ELEMENT_HANDLING&&yI(on.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Sn.tagNameCheck=on.CUSTOM_ELEMENT_HANDLING.tagNameCheck),on.CUSTOM_ELEMENT_HANDLING&&yI(on.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Sn.attributeNameCheck=on.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),on.CUSTOM_ELEMENT_HANDLING&&typeof on.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Sn.allowCustomizedBuiltInElements=on.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$n=$n=vI.indexOf(on.PARSER_MEDIA_TYPE)===-1?FL:on.PARSER_MEDIA_TYPE,Kn=$n==="application/xhtml+xml"?function(Fi){return Fi}:Us,ji&&(pi=!1),ka&&(co=!0),Ps&&(Ue=Lr({},qs(Zv)),mn=[],Ps.html===!0&&(Lr(Ue,cr),Lr(mn,Kv)),Ps.svg===!0&&(Lr(Ue,Jp),Lr(mn,J_),Lr(mn,Jv)),Ps.svgFilters===!0&&(Lr(Ue,Yx),Lr(mn,J_),Lr(mn,Jv)),Ps.mathMl===!0&&(Lr(Ue,Z_),Lr(mn,AM),Lr(mn,Jv))),on.ADD_TAGS&&(Ue===Ze&&(Ue=_d(Ue)),Lr(Ue,on.ADD_TAGS)),on.ADD_ATTR&&(mn===_n&&(mn=_d(mn)),Lr(mn,on.ADD_ATTR)),on.ADD_URI_SAFE_ATTR&&Lr(Pc,on.ADD_URI_SAFE_ATTR),on.FORBID_CONTENTS&&(yo===vl&&(yo=_d(yo)),Lr(yo,on.FORBID_CONTENTS)),ml&&(Ue["#text"]=!0),ai&&Lr(Ue,["html","head","body"]),Ue.table&&(Lr(Ue,["tbody"]),delete Cn.tbody),za&&za(on),Em=on)},Mk=Lr({},["mi","mo","mn","ms","mtext"]),w1=Lr({},["foreignobject","desc","title","annotation-xml"]),HL=Lr({},["title","style","font","a","script"]),_1=Lr({},Jp);Lr(_1,Yx),Lr(_1,ah);var Tk=Lr({},Z_);Lr(Tk,K_);var WL=function(on){var Fi=Xt(on);Fi&&Fi.tagName||(Fi={namespaceURI:Ks,tagName:"template"});var bi=Us(on.tagName),xo=Us(Fi.tagName);return on.namespaceURI===Vd?Fi.namespaceURI===Ks?bi==="svg":Fi.namespaceURI===ps?bi==="svg"&&(xo==="annotation-xml"||Mk[xo]):!!_1[bi]:on.namespaceURI===ps?Fi.namespaceURI===Ks?bi==="math":Fi.namespaceURI===Vd?bi==="math"&&w1[xo]:!!Tk[bi]:on.namespaceURI===Ks&&!(Fi.namespaceURI===Vd&&!w1[xo])&&!(Fi.namespaceURI===ps&&!Mk[xo])&&!Tk[bi]&&(HL[bi]||!_1[bi])},vh=function(on){bd(p.removed,{element:on});try{on.parentNode.removeChild(on)}catch{try{on.outerHTML=_e}catch{on.remove()}}},Nc=function(on,Fi){try{bd(p.removed,{attribute:Fi.getAttributeNode(on),from:Fi})}catch{bd(p.removed,{attribute:null,from:Fi})}if(Fi.removeAttribute(on),on==="is"&&!mn[on])if(co||ka)try{vh(Fi)}catch{}else try{Fi.setAttribute(on,"")}catch{}},u0=function(on){var Fi,bi;if(Oo)on="<remove></remove>"+on;else{var xo=CM(on,/^[\r\n\t ]+/);bi=xo&&xo[0]}$n==="application/xhtml+xml"&&(on='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+on+"</body></html>");var Jo=Ae?Ae.createHTML(on):on;if(Ef===Ks)try{Fi=new ht().parseFromString(Jo,$n)}catch{}if(!Fi||!Fi.documentElement){Fi=ze.createDocument(Ef,"template",null);try{Fi.documentElement.innerHTML=mI?"":Jo}catch{}}var Ns=Fi.body||Fi.documentElement;return on&&bi&&Ns.insertBefore(b.createTextNode(bi),Ns.childNodes[0]||null),Ef===Ks?nn.call(Fi,ai?"html":"body")[0]:ai?Fi.documentElement:Ns},yh=function(on){return Ge.call(on.ownerDocument||on,on,W.SHOW_ELEMENT|W.SHOW_COMMENT|W.SHOW_TEXT,null,!1)},jL=function(on){return on instanceof ut&&(typeof on.nodeName!="string"||typeof on.textContent!="string"||typeof on.removeChild!="function"||!(on.attributes instanceof tt)||typeof on.removeAttribute!="function"||typeof on.setAttribute!="function"||typeof on.namespaceURI!="string"||typeof on.insertBefore!="function")},h0=function(on){return pu(E)==="object"?on instanceof E:on&&pu(on)==="object"&&typeof on.nodeType=="number"&&typeof on.nodeName=="string"},wu=function(on,Fi,bi){xn[on]&&_M(xn[on],function(xo){xo.call(p,Fi,bi,Em)})},Ik=function(on){var Fi;if(wu("beforeSanitizeElements",on,null),jL(on)||Fa(/[\u0080-\uFFFF]/,on.nodeName))return vh(on),!0;var bi=Kn(on.nodeName);if(wu("uponSanitizeElement",on,{tagName:bi,allowedTags:Ue}),on.hasChildNodes()&&!h0(on.firstElementChild)&&(!h0(on.content)||!h0(on.content.firstElementChild))&&Fa(/<[/\w]/g,on.innerHTML)&&Fa(/<[/\w]/g,on.textContent)||bi==="select"&&Fa(/<template/i,on.innerHTML))return vh(on),!0;if(!Ue[bi]||Cn[bi]){if(!Cn[bi]&&bI(bi)&&(Sn.tagNameCheck instanceof RegExp&&Fa(Sn.tagNameCheck,bi)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(bi)))return!1;if(ml&&!yo[bi]){var xo=Xt(on)||on.parentNode,Jo=Pt(on)||on.childNodes;if(Jo&&xo)for(var Ns=Jo.length-1;Ns>=0;--Ns)xo.insertBefore(lt(Jo[Ns],!0),_t(on))}return vh(on),!0}return on instanceof F&&!WL(on)?(vh(on),!0):bi!=="noscript"&&bi!=="noembed"||!Fa(/<\/no(script|embed)/i,on.innerHTML)?(ji&&on.nodeType===3&&(Fi=on.textContent,Fi=oh(Fi,ki," "),Fi=oh(Fi,Ii," "),on.textContent!==Fi&&(bd(p.removed,{element:on.cloneNode()}),on.textContent=Fi)),wu("afterSanitizeElements",on,null),!1):(vh(on),!0)},xI=function(on,Fi,bi){if(gl&&(Fi==="id"||Fi==="name")&&(bi in b||bi in VL))return!1;if(!(pi&&!Wn[Fi]&&Fa(fr,Fi))){if(!(si&&Fa(Hr,Fi))){if(!mn[Fi]||Wn[Fi]){if(!(bI(on)&&(Sn.tagNameCheck instanceof RegExp&&Fa(Sn.tagNameCheck,on)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(on))&&(Sn.attributeNameCheck instanceof RegExp&&Fa(Sn.attributeNameCheck,Fi)||Sn.attributeNameCheck instanceof Function&&Sn.attributeNameCheck(Fi))||Fi==="is"&&Sn.allowCustomizedBuiltInElements&&(Sn.tagNameCheck instanceof RegExp&&Fa(Sn.tagNameCheck,bi)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(bi))))return!1}else if(!Pc[Fi]){if(!Fa(Vi,oh(bi,Xi,""))){if((Fi!=="src"&&Fi!=="xlink:href"&&Fi!=="href"||on==="script"||wd(bi,"data:")!==0||!mh[on])&&!(Pi&&!Fa(yi,oh(bi,Xi,"")))){if(bi)return!1}}}}}return!0},bI=function(on){return on.indexOf("-")>0},wI=function(on){var Fi,bi,xo,Jo;wu("beforeSanitizeAttributes",on,null);var Ns=on.attributes;if(Ns){var Ha={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:mn};for(Jo=Ns.length;Jo--;){var d0=Fi=Ns[Jo],_u=d0.name,yl=d0.namespaceURI;bi=_u==="value"?Fi.value:kM(Fi.value),xo=Kn(_u);var SI=bi;if(Ha.attrName=xo,Ha.attrValue=bi,Ha.keepAttr=!0,Ha.forceKeepAttr=void 0,wu("uponSanitizeAttribute",on,Ha),bi=Ha.attrValue,!Ha.forceKeepAttr)if(Ha.keepAttr)if(Fa(/\/>/i,bi))Nc(_u,on);else{ji&&(bi=oh(bi,ki," "),bi=oh(bi,Ii," "));var Dk=Kn(on.nodeName);if(xI(Dk,xo,bi)){if(bi!==SI)try{yl?on.setAttributeNS(yl,_u,bi):on.setAttribute(_u,bi)}catch{Nc(_u,on)}}else Nc(_u,on)}else Nc(_u,on)}wu("afterSanitizeAttributes",on,null)}},_I=function on(Fi){var bi,xo=yh(Fi);for(wu("beforeSanitizeShadowDOM",Fi,null);bi=xo.nextNode();)wu("uponSanitizeShadowNode",bi,null),Ik(bi)||(bi.content instanceof S&&on(bi.content),wI(bi));wu("afterSanitizeShadowDOM",Fi,null)};return p.sanitize=function(on,Fi){var bi,xo,Jo,Ns,Ha;if((mI=!on)&&(on="<!-->"),typeof on!="string"&&!h0(on)){if(typeof on.toString!="function")throw $v("toString is not a function");if(typeof(on=on.toString())!="string")throw $v("dirty is not a string, aborting")}if(!p.isSupported){if(pu(c.toStaticHTML)==="object"||typeof c.toStaticHTML=="function"){if(typeof on=="string")return c.toStaticHTML(on);if(h0(on))return c.toStaticHTML(on.outerHTML)}return on}if($i||Ak(Fi),p.removed=[],typeof on=="string"&&(Ko=!1),Ko){if(on.nodeName){var d0=Kn(on.nodeName);if(!Ue[d0]||Cn[d0])throw $v("root node is forbidden and cannot be sanitized in-place")}}else if(on instanceof E)(xo=(bi=u0("<!---->")).ownerDocument.importNode(on,!0)).nodeType===1&&xo.nodeName==="BODY"||xo.nodeName==="HTML"?bi=xo:bi.appendChild(xo);else{if(!co&&!ji&&!ai&&on.indexOf("<")===-1)return Ae&&Aa?Ae.createHTML(on):on;if(!(bi=u0(on)))return co?null:Aa?_e:""}bi&&Oo&&vh(bi.firstChild);for(var _u=yh(Ko?on:bi);Jo=_u.nextNode();)Jo.nodeType===3&&Jo===Ns||Ik(Jo)||(Jo.content instanceof S&&_I(Jo.content),wI(Jo),Ns=Jo);if(Ns=null,Ko)return on;if(co){if(ka)for(Ha=en.call(bi.ownerDocument);bi.firstChild;)Ha.appendChild(bi.firstChild);else Ha=bi;return mn.shadowroot&&(Ha=hn.call(m,Ha,!0)),Ha}var yl=ai?bi.outerHTML:bi.innerHTML;return ai&&Ue["!doctype"]&&bi.ownerDocument&&bi.ownerDocument.doctype&&bi.ownerDocument.doctype.name&&Fa(ty,bi.ownerDocument.doctype.name)&&(yl="<!DOCTYPE "+bi.ownerDocument.doctype.name+`>
`+yl),ji&&(yl=oh(yl,ki," "),yl=oh(yl,Ii," ")),Ae&&Aa?Ae.createHTML(yl):yl},p.setConfig=function(on){Ak(on),$i=!0},p.clearConfig=function(){Em=null,$i=!1},p.isValidAttribute=function(on,Fi,bi){Em||Ak({});var xo=Kn(on),Jo=Kn(Fi);return xI(xo,Jo,bi)},p.addHook=function(on,Fi){typeof Fi=="function"&&(xn[on]=xn[on]||[],bd(xn[on],Fi))},p.removeHook=function(on){if(xn[on])return SM(xn[on])},p.removeHooks=function(on){xn[on]&&(xn[on]=[])},p.removeAllHooks=function(){xn={}},p}();const em=Mn.explode,sh=()=>{const s={};return{addFilter:(c,p)=>{he(em(c),m=>{gn(s,m)||(s[m]={name:m,callbacks:[]}),s[m].callbacks.push(p)})},getFilters:()=>vn(s),removeFilter:(c,p)=>{he(em(c),m=>{if(gn(s,m))if(Kt(p)){const b=s[m],S=Gn(b.callbacks,I=>I!==p);S.length>0?b.callbacks=S:delete s[m]}else delete s[m]})}}},FD=(s,c,p)=>{var m;const b=Km();c.convert_fonts_to_spans&&((S,I,E)=>{S.addNodeFilter("font",F=>{he(F,W=>{const $=I.parse(W.attr("style")),tt=W.attr("color"),ut=W.attr("face"),ht=W.attr("size");tt&&($.color=tt),ut&&($["font-family"]=ut),ht&&M(ht).each(st=>{$["font-size"]=E[st-1]}),W.name="span",W.attr("style",I.serialize($)),((st,xt)=>{he(["color","face","size"],lt=>{st.attr(lt,null)})})(W)})})})(s,b,Mn.explode((m=c.font_size_legacy_values)!==null&&m!==void 0?m:"")),((S,I,E)=>{S.addNodeFilter("strike",F=>{const W=I.type!=="html4";he(F,$=>{if(W)$.name="s";else{const tt=E.parse($.attr("style"));tt["text-decoration"]="line-through",$.name="span",$.attr("style",E.serialize(tt))}})})})(s,p,b)},eS=s=>{const[c,...p]=s.split(","),m=p.join(","),b=/data:([^/]+\/[^;]+)(;.+)?/.exec(c);if(b){const S=b[2]===";base64",I=S?(E=>{const F=/([a-z0-9+\/=\s]+)/i.exec(E);return F?F[1]:""})(m):decodeURIComponent(m);return U.some({type:b[1],data:I,base64Encoded:S})}return U.none()},OM=(s,c,p=!0)=>{let m=c;if(p)try{m=atob(c)}catch{return U.none()}const b=new Uint8Array(m.length);for(let S=0;S<b.length;S++)b[S]=m.charCodeAt(S);return U.some(new Blob([b],{type:s}))},Va=s=>new Promise((c,p)=>{const m=new FileReader;m.onloadend=()=>{c(m.result)},m.onerror=()=>{var b;p((b=m.error)===null||b===void 0?void 0:b.message)},m.readAsDataURL(s)});let nm=0;const EM=(s,c,p)=>eS(s).bind(({data:m,type:b,base64Encoded:S})=>{if(c&&!S)return U.none();{const I=S?m:btoa(m);return p(I,b)}}),PM=(s,c,p)=>{const m=s.create("blobid"+nm++,c,p);return s.add(m),m},NM=(s,c,p=!1)=>EM(c,p,(m,b)=>U.from(s.getByData(m,b)).orThunk(()=>OM(b,m).map(S=>PM(s,S,m)))),Qp=Mn.each,RM=Mn.trim,lh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],nS={ftp:21,http:80,https:443,mailto:25},fu=["img","video"],kc=(s,c,p)=>{const m=(b=>{try{return decodeURIComponent(b)}catch{return unescape(b)}})(c);return!s.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(m)||!s.allow_html_data_urls&&(/^data:image\//i.test(m)?((b,S)=>Kt(b)?!b:!Kt(S)||!Re(fu,S))(s.allow_svg_data_urls,p)&&/^data:image\/svg\+xml/i.test(m):/^data:/i.test(m)))};class Ac{constructor(c,p={}){this.path="",this.directory="",c=RM(c),this.settings=p;const m=p.base_uri,b=this;if(/^([\w\-]+):([^\/]{2})/i.test(c)||/^\s*#/.test(c))return void(b.source=c);const S=c.indexOf("//")===0;if(c.indexOf("/")!==0||S||(c=(m&&m.protocol||"http")+"://mce_host"+c),!/^[\w\-]*:?\/\//.test(c)){const E=m?m.path:new Ac(document.location.href).directory;if((m==null?void 0:m.protocol)==="")c="//mce_host"+b.toAbsPath(E,c);else{const F=/([^#?]*)([#?]?.*)/.exec(c);F&&(c=(m&&m.protocol||"http")+"://mce_host"+b.toAbsPath(E,F[1])+F[2])}}c=c.replace(/@@/g,"(mce_at)");const I=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(c);I&&Qp(lh,(E,F)=>{let W=I[F];W&&(W=W.replace(/\(mce_at\)/g,"@@")),b[E]=W}),m&&(b.protocol||(b.protocol=m.protocol),b.userInfo||(b.userInfo=m.userInfo),b.port||b.host!=="mce_host"||(b.port=m.port),b.host&&b.host!=="mce_host"||(b.host=m.host),b.source=""),S&&(b.protocol="")}static parseDataUri(c){let p;const m=decodeURIComponent(c).split(","),b=/data:([^;]+)/.exec(m[0]);return b&&(p=b[1]),{type:p,data:m[1]}}static isDomSafe(c,p,m={}){if(m.allow_script_urls)return!0;{const b=Tl.decode(c).replace(/[\s\u0000-\u001F]+/g,"");return!kc(m,b,p)}}static getDocumentBaseUrl(c){var p;let m;return m=c.protocol.indexOf("http")!==0&&c.protocol!=="file:"?(p=c.href)!==null&&p!==void 0?p:"":c.protocol+"//"+c.host+c.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/")),m}setPath(c){const p=/^(.*?)\/?(\w+)?$/.exec(c);p&&(this.path=p[0],this.directory=p[1],this.file=p[2]),this.source="",this.getURI()}toRelative(c){if(c==="./")return c;const p=new Ac(c,{base_uri:this});if(p.host!=="mce_host"&&this.host!==p.host&&p.host||this.port!==p.port||this.protocol!==p.protocol&&p.protocol!=="")return p.getURI();const m=this.getURI(),b=p.getURI();if(m===b||m.charAt(m.length-1)==="/"&&m.substr(0,m.length-1)===b)return m;let S=this.toRelPath(this.path,p.path);return p.query&&(S+="?"+p.query),p.anchor&&(S+="#"+p.anchor),S}toAbsolute(c,p){const m=new Ac(c,{base_uri:this});return m.getURI(p&&this.isSameOrigin(m))}isSameOrigin(c){if(this.host==c.host&&this.protocol==c.protocol){if(this.port==c.port)return!0;const p=this.protocol?nS[this.protocol]:null;if(p&&(this.port||p)==(c.port||p))return!0}return!1}toRelPath(c,p){let m,b,S=0,I="";const E=c.substring(0,c.lastIndexOf("/")).split("/"),F=p.split("/");if(E.length>=F.length){for(m=0,b=E.length;m<b;m++)if(m>=F.length||E[m]!==F[m]){S=m+1;break}}if(E.length<F.length){for(m=0,b=F.length;m<b;m++)if(m>=E.length||E[m]!==F[m]){S=m+1;break}}if(S===1)return p;for(m=0,b=E.length-(S-1);m<b;m++)I+="../";for(m=S-1,b=F.length;m<b;m++)I+=m!==S-1?"/"+F[m]:F[m];return I}toAbsPath(c,p){let m=0;const b=/\/$/.test(p)?"/":"",S=c.split("/"),I=p.split("/"),E=[];Qp(S,tt=>{tt&&E.push(tt)});const F=[];for(let tt=I.length-1;tt>=0;tt--)I[tt].length!==0&&I[tt]!=="."&&(I[tt]!==".."?m>0?m--:F.push(I[tt]):m++);const W=E.length-m;let $;return $=W<=0?ui(F).join("/"):E.slice(0,W).join("/")+"/"+ui(F).join("/"),$.indexOf("/")!==0&&($="/"+$),b&&$.lastIndexOf("/")!==$.length-1&&($+=b),$}getURI(c=!1){let p;return this.source&&!c||(p="",c||(this.protocol?p+=this.protocol+"://":p+="//",this.userInfo&&(p+=this.userInfo+"@"),this.host&&(p+=this.host),this.port&&(p+=":"+this.port)),this.path&&(p+=this.path),this.query&&(p+="?"+this.query),this.anchor&&(p+="#"+this.anchor),this.source=p),this.source}}const qx=Mn.makeMap,BM=Mn.extend,iS={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},VD=Mn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ey="data-mce-type",zM=(s,c)=>{const p=tS(),m=c.getSpecialElements(),b=s.validate;let S=0;return p.addHook("uponSanitizeElement",(I,E)=>{var F,W,$;I.nodeType===8&&!s.allow_conditional_comments&&/^\[if/i.test((F=I.nodeValue)!==null&&F!==void 0?F:"")&&(I.nodeValue=" "+I.nodeValue);const tt=E.tagName;if(I.nodeType!==1||tt==="body")return;const ut=Xe(I),ht=tt.toLowerCase(),st=Sh(ut,ey),xt=Ma(ut,"data-mce-bogus");if(!st&&ft(xt))return void(xt==="all"?_r(ut):bs(ut));const lt=c.getElementRule(ht);if(!b||lt){if(E.allowedTags[tt]=!0,b&&lt&&!st){if(he((W=lt.attributesForced)!==null&&W!==void 0?W:[],_t=>{Mo(ut,_t.name,_t.value==="{$uid}"?"mce_"+S++:_t.value)}),he(($=lt.attributesDefault)!==null&&$!==void 0?$:[],_t=>{Sh(ut,_t.name)||Mo(ut,_t.name,_t.value==="{$uid}"?"mce_"+S++:_t.value)}),lt.attributesRequired&&!Be(lt.attributesRequired,_t=>Sh(ut,_t))||lt.removeEmptyAttrs&&(_t=>{const Pt=_t.dom.attributes;return Pt==null||Pt.length===0})(ut))return void bs(ut);lt.outputName&&lt.outputName!==ht&&((_t,Pt)=>{const Xt=((Ae,_e)=>{const Ye=bo(_e),ze=Ff(Ae);return Ul(Ye,ze),Ye})(_t,Pt);ec(_t,Xt);const ce=Ro(_t);Rs(Xt,ce),_r(_t)})(ut,lt.outputName)}}else gn(m,ht)?_r(ut):bs(ut)}),p.addHook("uponSanitizeAttribute",(I,E)=>{const F=I.tagName.toLowerCase(),{attrName:W,attrValue:$}=E;E.keepAttr=!b||c.isValid(F,W)||er(W,"data-")||er(W,"aria-"),W in VD&&kc(s,$,F)&&(E.keepAttr=!1),E.keepAttr?(E.allowedAttributes[W]=!0,W in c.getBoolAttrs()&&(E.attrValue=W),s.allow_svg_data_urls&&er($,"data:image/svg+xml")&&(E.forceKeepAttr=!0)):!I.hasAttribute(ey)||W!=="id"&&W!=="class"&&W!=="style"||(E.forceKeepAttr=!0)}),p},rS=(s,c,p)=>{const m=s.name,b=m in p&&m!=="title"&&m!=="textarea",S=c.childNodes;for(let I=0,E=S.length;I<E;I++){const F=S[I],W=new Ra(F.nodeName.toLowerCase(),F.nodeType);if(li(F)){const $=F.attributes;for(let tt=0,ut=$.length;tt<ut;tt++){const ht=$[tt];W.attr(ht.name,ht.value)}}else Dn(F)?(W.value=F.data,b&&(W.raw=!0)):(el(F)||Za(F)||jm(F))&&(W.value=F.data);rS(W,F,p),s.append(W)}},ch=(s={},c=pc())=>{const p=sh(),m=sh(),b={validate:!0,root_name:"body",...s},S=new DOMParser,I=zM(b,c),E=p.addFilter,F=p.getFilters,W=p.removeFilter,$=m.addFilter,tt=m.getFilters,ut=m.removeFilter,ht=(xt,lt)=>{const _t=ft(lt.attr(ey)),Pt=lt.type===1&&!gn(xt,lt.name)&&!((Xt,ce)=>ce.type===1&&il(Xt,ce.name)&&ft(ce.attr(ma)))(c,lt);return lt.type===3||Pt&&!_t},st={schema:c,addAttributeFilter:$,getAttributeFilters:tt,removeAttributeFilter:ut,addNodeFilter:E,getNodeFilters:F,removeNodeFilter:W,parse:(xt,lt={})=>{var _t;const Pt=b.validate,Xt=(_t=lt.context)!==null&&_t!==void 0?_t:b.root_name,ce=((sn,xn,$n="html")=>{const Kn=$n==="xhtml"?"application/xhtml+xml":"text/html",ki=gn(c.getSpecialElements(),xn.toLowerCase()),Ii=ki?`<${xn}>${sn}</${xn}>`:sn,fr=$n==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ii}</body></html>`:`<body>${Ii}</body>`,Hr=S.parseFromString(fr,Kn).body;return I.sanitize(Hr,((yi,Xi)=>{const Vi={...iS};return Vi.PARSER_MEDIA_TYPE=Xi,yi.allow_script_urls?Vi.ALLOWED_URI_REGEXP=/.*/:yi.allow_html_data_urls&&(Vi.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),Vi})(b,Kn)),I.removed=[],ki?Hr.firstChild:Hr})(xt,Xt,lt.format);Da(c,ce);const Ae=new Ra(Xt,11);rS(Ae,ce,c.getSpecialElements()),ce.innerHTML="";const[_e,Ye]=((sn,xn,$n,Kn)=>{const ki=$n.validate,Ii=xn.getNonEmptyElements(),fr=xn.getWhitespaceElements(),Hr=BM(qx("script,style,head,html,body,title,meta,param"),xn.getBlockElements()),yi=zh(xn),Xi=/[ \t\r\n]+/g,Vi=/^[ \t\r\n]+/,Ue=/[ \t\r\n]+$/,Ze=Sn=>{let Cn=Sn.parent;for(;Kt(Cn);){if(Cn.name in fr)return!0;Cn=Cn.parent}return!1},mn=Sn=>Sn.name in Hr&&!qm(xn,Sn),_n=(Sn,Cn)=>{const Wn=Cn?Sn.prev:Sn.next;return!Kt(Wn)&&!Ft(Sn.parent)&&mn(Sn.parent)&&(Sn.parent!==sn||Kn.isRootContent===!0)};return[Sn=>{var Cn;if(Sn.type===3&&!Ze(Sn)){let Wn=(Cn=Sn.value)!==null&&Cn!==void 0?Cn:"";Wn=Wn.replace(Xi," "),(((si,pi)=>Kt(si)&&(pi(si)||si.name==="br"))(Sn.prev,mn)||_n(Sn,!0))&&(Wn=Wn.replace(Vi,"")),Wn.length===0?Sn.remove():Sn.value=Wn}},Sn=>{var Cn;if(Sn.type===1){const Wn=xn.getElementRule(Sn.name);if(ki&&Wn){const si=Rv(xn,Ii,fr,Sn);Wn.paddInEmptyBlock&&si&&(pi=>{let Pi=pi;for(;Kt(Pi);){if(Pi.name in yi)return Rv(xn,Ii,fr,Pi);Pi=Pi.parent}return!1})(Sn)?pd(Kn,mn,Sn):Wn.removeEmpty&&si?mn(Sn)?Sn.remove():Sn.unwrap():Wn.paddEmpty&&(si||(pi=>{var Pi;return fd(pi,"#text")&&((Pi=pi==null?void 0:pi.firstChild)===null||Pi===void 0?void 0:Pi.value)===zo})(Sn))&&pd(Kn,mn,Sn)}}else if(Sn.type===3&&!Ze(Sn)){let Wn=(Cn=Sn.value)!==null&&Cn!==void 0?Cn:"";(Sn.next&&mn(Sn.next)||_n(Sn,!1))&&(Wn=Wn.replace(Ue,"")),Wn.length===0?Sn.remove():Sn.value=Wn}}]})(Ae,c,b,lt),ze=[],Ge=Pt?sn=>((xn,$n)=>{yM(c,xn)&&$n.push(xn)})(sn,ze):ne,en={nodes:{},attributes:{}},nn=sn=>qg(F(),tt(),sn,en);if(((sn,xn,$n)=>{const Kn=[];for(let ki=sn,Ii=ki;ki;Ii=ki,ki=ki.walk()){const fr=ki;he(xn,Hr=>Hr(fr)),Ft(fr.parent)&&fr!==sn?ki=Ii:Kn.push(fr)}for(let ki=Kn.length-1;ki>=0;ki--){const Ii=Kn[ki];he($n,fr=>fr(Ii))}})(Ae,[_e,nn],[Ye,Ge]),ze.reverse(),Pt&&ze.length>0)if(lt.context){const{pass:sn,fail:xn}=kn(ze,$n=>$n.parent===Ae);M_(xn,c,nn),lt.invalid=sn.length>0}else M_(ze,c,nn);const hn=((sn,xn)=>{var $n;const Kn=($n=xn.forced_root_block)!==null&&$n!==void 0?$n:sn.forced_root_block;return Kn===!1?"":Kn===!0?"p":Kn})(b,lt);return hn&&(Ae.name==="body"||lt.isRootContent)&&((sn,xn)=>{const $n=BM(qx("script,style,head,html,body,title,meta,param"),c.getBlockElements()),Kn=/^[ \t\r\n]+/,ki=/[ \t\r\n]+$/;let Ii=sn.firstChild,fr=null;const Hr=yi=>{var Xi,Vi;yi&&(Ii=yi.firstChild,Ii&&Ii.type===3&&(Ii.value=(Xi=Ii.value)===null||Xi===void 0?void 0:Xi.replace(Kn,"")),Ii=yi.lastChild,Ii&&Ii.type===3&&(Ii.value=(Vi=Ii.value)===null||Vi===void 0?void 0:Vi.replace(ki,"")))};if(c.isValidChild(sn.name,xn.toLowerCase())){for(;Ii;){const yi=Ii.next;ht($n,Ii)?(fr||(fr=new Ra(xn,1),fr.attr(b.forced_root_block_attrs),sn.insert(fr,Ii)),fr.append(Ii)):(Hr(fr),fr=null),Ii=yi}Hr(fr)}})(Ae,hn),lt.invalid||C_(en,lt),Ae}};return((xt,lt)=>{const _t=xt.schema;lt.remove_trailing_brs&&xt.addNodeFilter("br",(Xt,ce,Ae)=>{const _e=Mn.extend({},_t.getBlockElements()),Ye=_t.getNonEmptyElements(),ze=_t.getWhitespaceElements();_e.body=1;const Ge=en=>en.name in _e&&qm(_t,en);for(let en=0,nn=Xt.length;en<nn;en++){let hn=Xt[en],sn=hn.parent;if(sn&&_e[sn.name]&&hn===sn.lastChild){let xn=hn.prev;for(;xn;){const $n=xn.name;if($n!=="span"||xn.attr("data-mce-type")!=="bookmark"){$n==="br"&&(hn=null);break}xn=xn.prev}if(hn&&(hn.remove(),Rv(_t,Ye,ze,sn))){const $n=_t.getElementRule(sn.name);$n&&($n.removeEmpty?sn.remove():$n.paddEmpty&&pd(Ae,Ge,sn))}}else{let xn=hn;for(;sn&&sn.firstChild===xn&&sn.lastChild===xn&&(xn=sn,!_e[sn.name]);)sn=sn.parent;if(xn===sn){const $n=new Ra("#text",3);$n.value=zo,hn.replace($n)}}}}),xt.addAttributeFilter("href",Xt=>{let ce=Xt.length;const Ae=_e=>{const Ye=_e?Mn.trim(_e):"";return/\b(noopener)\b/g.test(Ye)?Ye:(ze=>ze.split(" ").filter(Ge=>Ge.length>0).concat(["noopener"]).sort().join(" "))(Ye)};if(!lt.allow_unsafe_link_target)for(;ce--;){const _e=Xt[ce];_e.name==="a"&&_e.attr("target")==="_blank"&&_e.attr("rel",Ae(_e.attr("rel")))}}),lt.allow_html_in_named_anchor||xt.addAttributeFilter("id,name",Xt=>{let ce,Ae,_e,Ye,ze=Xt.length;for(;ze--;)if(Ye=Xt[ze],Ye.name==="a"&&Ye.firstChild&&!Ye.attr("href"))for(_e=Ye.parent,ce=Ye.lastChild;ce&&_e;)Ae=ce.prev,_e.insert(ce,Ye),ce=Ae}),lt.fix_list_elements&&xt.addNodeFilter("ul,ol",Xt=>{let ce,Ae,_e=Xt.length;for(;_e--;)if(ce=Xt[_e],Ae=ce.parent,Ae&&(Ae.name==="ul"||Ae.name==="ol"))if(ce.prev&&ce.prev.name==="li")ce.prev.append(ce);else{const Ye=new Ra("li",1);Ye.attr("style","list-style-type: none"),ce.wrap(Ye)}});const Pt=_t.getValidClasses();lt.validate&&Pt&&xt.addAttributeFilter("class",Xt=>{var ce;let Ae=Xt.length;for(;Ae--;){const _e=Xt[Ae],Ye=(ce=_e.attr("class"))!==null&&ce!==void 0?ce:"",ze=Mn.explode(Ye," ");let Ge="";for(let en=0;en<ze.length;en++){const nn=ze[en];let hn=!1,sn=Pt["*"];sn&&sn[nn]&&(hn=!0),sn=Pt[_e.name],!hn&&sn&&sn[nn]&&(hn=!0),hn&&(Ge&&(Ge+=" "),Ge+=nn)}Ge.length||(Ge=null),_e.attr("class",Ge)}}),((Xt,ce)=>{const{blob_cache:Ae}=ce;if(Ae){const _e=Ye=>{const ze=Ye.attr("src");(Ge=>Ge.attr("src")===ti.transparentSrc||Kt(Ge.attr("data-mce-placeholder")))(Ye)||(Ge=>Kt(Ge.attr("data-mce-bogus")))(Ye)||Ft(ze)||NM(Ae,ze,!0).each(Ge=>{Ye.attr("src",Ge.blobUri())})};Xt.addAttributeFilter("src",Ye=>he(Ye,_e))}})(xt,lt)})(st,b),((xt,lt,_t)=>{lt.inline_styles&&FD(xt,lt,_t)})(st,b,c),st},ny=(s,c)=>{const p=(b=>nh(b)?ud({validate:!1}).serialize(b):b)(s),m=c(p);if(m.isDefaultPrevented())return m;if(nh(s)){if(m.content!==p){const b=ch({validate:!1,forced_root_block:!1}).parse(m.content,{context:s.name});return{...m,content:b}}return{...m,content:s}}return m},iy=(s,c)=>{if(c.no_events)return La.value(c);{const p=((m,b)=>m.dispatch("BeforeGetContent",b))(s,c);return p.isDefaultPrevented()?La.error(IA(s,{content:"",...p}).content):La.value(p)}},ry=(s,c,p)=>p.no_events?c:ny(c,m=>IA(s,{...p,content:m})).content,uh=(s,c)=>{if(c.no_events)return La.value(c);{const p=ny(c.content,m=>((b,S)=>b.dispatch("BeforeSetContent",S))(s,{...c,content:m}));return p.isDefaultPrevented()?(Dw(s,p),La.error(void 0)):La.value(p)}},Mc=(s,c,p)=>{p.no_events||Dw(s,{...p,content:c})},Ux=(s,c,p)=>({element:s,width:c,rows:p}),FM=(s,c)=>({element:s,cells:c}),gu=(s,c)=>({x:s,y:c}),$x=(s,c)=>Qs(s,c).bind(M).getOr(1),oS=(s,c,p)=>{const m=s.rows;return!!(m[p]?m[p].cells:[])[c]},Zx=s=>Zn(s,(c,p)=>p.cells.length>c?p.cells.length:c,0),aS=(s,c)=>{const p=s.rows;for(let m=0;m<p.length;m++){const b=p[m].cells;for(let S=0;S<b.length;S++)if(tr(b[S],c))return U.some(gu(S,m))}return U.none()},sS=(s,c,p,m,b)=>{const S=[],I=s.rows;for(let E=p;E<=b;E++){const F=I[E].cells,W=c<m?F.slice(c,m+1):F.slice(m,c+1);S.push(FM(I[E].element,W))}return S},VM=s=>((c,p)=>{const m=D(c.element),b=bo("tbody");return Rs(b,p),Bo(m,b),m})(s,(c=>un(c.rows,p=>{const m=un(p.cells,S=>{const I=x(S);return No(I,"colspan"),No(I,"rowspan"),I}),b=D(p.element);return Rs(b,m),b}))(s)),HM=(s,c)=>{const p=Xe(c.commonAncestorContainer),m=uu(p,s),b=Gn(m,_s),S=((E,F)=>Yi(E,W=>Tr(W)==="li"&&yv(W,F)).fold(ie([]),W=>($=>Yi($,tt=>Tr(tt)==="ul"||Tr(tt)==="ol"))(E).map($=>{const tt=bo(Tr($)),ut=Ln(Qd($),(ht,st)=>er(st,"list-style"));return Th(tt,ut),[bo("li"),tt]}).getOr([])))(m,c),I=b.concat(S.length?S:(E=>Nu(E)?Xo(E).filter(Lh).fold(ie([]),F=>[E,F]):Lh(E)?[E]:[])(p));return un(I,D)},lS=()=>ox([]),WM=(s,c)=>((p,m)=>Ua(m,"table",De(tr,p)))(s,c[0]).bind(p=>{const m=c[0],b=c[c.length-1],S=(I=>{const E=Ux(D(I),0,[]);return he(fa(I,"tr"),(F,W)=>{he(fa(F,"td,th"),($,tt)=>{((ut,ht,st,xt,lt)=>{const _t=$x(lt,"rowspan"),Pt=$x(lt,"colspan"),Xt=ut.rows;for(let ce=st;ce<st+_t;ce++){Xt[ce]||(Xt[ce]=FM(x(xt),[]));for(let Ae=ht;Ae<ht+Pt;Ae++)Xt[ce].cells[Ae]=ce===st&&Ae===ht?lt:D(lt)}})(E,((ut,ht,st)=>{for(;oS(ut,ht,st);)ht++;return ht})(E,tt,W),W,F,$)})}),Ux(E.element,Zx(E.rows),E.rows)})(p);return((I,E,F)=>aS(I,E).bind(W=>aS(I,F).map($=>((tt,ut,ht)=>{const st=ut.x,xt=ut.y,lt=ht.x,_t=ht.y,Pt=xt<_t?sS(tt,st,xt,lt,_t):sS(tt,st,_t,lt,xt);return Ux(tt.element,Zx(Pt),Pt)})(I,W,$))))(S,m,b).map(I=>ox([VM(I)]))}).getOrThunk(lS),jM=(s,c)=>{const p=X0(c,s);return p.length>0?WM(s,p):((m,b)=>b.length>0&&b[0].collapsed?lS():((S,I)=>((E,F)=>{const W=Zn(F,($,tt)=>(Bo(tt,$),tt),E);return F.length>0?ox([W]):W})(Xe(I.cloneContents()),HM(S,I)))(m,b[0]))(s,c)},im=(s,c)=>c>=0&&c<s.length&&Sg(s.charAt(c)),oy=s=>Ho(s.innerText),YM=s=>li(s)?s.outerHTML:Dn(s)?Tl.encodeRaw(s.data,!1):el(s)?"<!--"+s.data+"-->":"",HD=(s,c)=>(((p,m)=>{let b=0;he(p,S=>{S[0]===0?b++:S[0]===1?(((I,E,F)=>{const W=($=>{let tt;const ut=document.createElement("div"),ht=document.createDocumentFragment();for($&&(ut.innerHTML=$);tt=ut.firstChild;)ht.appendChild(tt);return ht})(E);if(I.hasChildNodes()&&F<I.childNodes.length){const $=I.childNodes[F];I.insertBefore(W,$)}else I.appendChild(W)})(m,S[1],b),b++):S[0]===2&&((I,E)=>{if(I.hasChildNodes()&&E<I.childNodes.length){const F=I.childNodes[E];I.removeChild(F)}})(m,b)})})(((p,m)=>{const b=p.length+m.length+2,S=new Array(b),I=new Array(b),E=(tt,ut,ht,st,xt)=>{const lt=W(tt,ut,ht,st);if(lt===null||lt.start===ut&&lt.diag===ut-st||lt.end===tt&&lt.diag===tt-ht){let _t=tt,Pt=ht;for(;_t<ut||Pt<st;)_t<ut&&Pt<st&&p[_t]===m[Pt]?(xt.push([0,p[_t]]),++_t,++Pt):ut-tt>st-ht?(xt.push([2,p[_t]]),++_t):(xt.push([1,m[Pt]]),++Pt)}else{E(tt,lt.start,ht,lt.start-lt.diag,xt);for(let _t=lt.start;_t<lt.end;++_t)xt.push([0,p[_t]]);E(lt.end,ut,lt.end-lt.diag,st,xt)}},F=(tt,ut,ht,st)=>{let xt=tt;for(;xt-ut<st&&xt<ht&&p[xt]===m[xt-ut];)++xt;return((lt,_t,Pt)=>({start:lt,end:_t,diag:Pt}))(tt,xt,ut)},W=(tt,ut,ht,st)=>{const xt=ut-tt,lt=st-ht;if(xt===0||lt===0)return null;const _t=xt-lt,Pt=lt+xt,Xt=(Pt%2==0?Pt:Pt+1)/2;let ce,Ae,_e,Ye,ze;for(S[1+Xt]=tt,I[1+Xt]=ut+1,ce=0;ce<=Xt;++ce){for(Ae=-ce;Ae<=ce;Ae+=2){for(_e=Ae+Xt,Ae===-ce||Ae!==ce&&S[_e-1]<S[_e+1]?S[_e]=S[_e+1]:S[_e]=S[_e-1]+1,Ye=S[_e],ze=Ye-tt+ht-Ae;Ye<ut&&ze<st&&p[Ye]===m[ze];)S[_e]=++Ye,++ze;if(_t%2!=0&&_t-ce<=Ae&&Ae<=_t+ce&&I[_e-_t]<=S[_e])return F(I[_e-_t],Ae+tt-ht,ut,st)}for(Ae=_t-ce;Ae<=_t+ce;Ae+=2){for(_e=Ae+Xt-_t,Ae===_t-ce||Ae!==_t+ce&&I[_e+1]<=I[_e-1]?I[_e]=I[_e+1]-1:I[_e]=I[_e-1],Ye=I[_e]-1,ze=Ye-tt+ht-Ae;Ye>=tt&&ze>=ht&&p[Ye]===m[ze];)I[_e]=Ye--,ze--;if(_t%2==0&&-ce<=Ae&&Ae<=ce&&I[_e]<=S[_e+_t])return F(I[_e],Ae+tt-ht,ut,st)}}return null},$=[];return E(0,p.length,0,m.length,$),$})(un(Pe(c.childNodes),YM),s),c),c),WD=Jn(()=>document.implementation.createHTMLDocument("undo")),ay=s=>{const c=(p=s.getBody(),Gn(un(Pe(p.childNodes),YM),S=>S.length>0));var p;const m=Un(c,S=>{const I=qw(s.serializer,S);return I.length>0?[I]:[]}),b=m.join("");return(S=>S.indexOf("</iframe>")!==-1)(b)?(S=>({type:"fragmented",fragments:S,content:"",bookmark:null,beforeBookmark:null}))(m):(S=>({type:"complete",fragments:null,content:S,bookmark:null,beforeBookmark:null}))(b)},cS=(s,c,p)=>{const m=p?c.beforeBookmark:c.bookmark;c.type==="fragmented"?HD(c.fragments,s.getBody()):s.setContent(c.content,{format:"raw",no_selection:!Kt(m)||!pw(m)||!m.isFakeCaret}),m&&(s.selection.moveToBookmark(m),s.selection.scrollIntoView())},uS=s=>s.type==="fragmented"?s.fragments.join(""):s.content,hS=s=>{const c=bo("body",WD());return nc(c,uS(s)),he(fa(c,"*[data-mce-bogus]"),bs),Lu(c)},tf=(s,c)=>!(!s||!c)&&(!!((p,m)=>uS(p)===uS(m))(s,c)||((p,m)=>hS(p)===hS(m))(s,c)),dS=s=>s.get()===0,Kx=(s,c,p)=>{dS(p)&&(s.typing=c)},GM=(s,c)=>{s.typing&&(Kx(s,!1,c),s.add())},sy=s=>({init:{bindEvents:ne},undoManager:{beforeChange:(c,p)=>((m,b,S)=>{dS(b)&&S.set(A0(m.selection))})(s,c,p),add:(c,p,m,b,S,I)=>((E,F,W,$,tt,ut,ht)=>{const st=ay(E),xt=Mn.extend(ut||{},st);if(!dS($)||E.removed)return null;const lt=F.data[W.get()];if(E.dispatch("BeforeAddUndo",{level:xt,lastLevel:lt,originalEvent:ht}).isDefaultPrevented()||lt&&tf(lt,xt))return null;F.data[W.get()]&&tt.get().each(Xt=>{F.data[W.get()].beforeBookmark=Xt});const _t=nw(E);if(_t&&F.data.length>_t){for(let Xt=0;Xt<F.data.length-1;Xt++)F.data[Xt]=F.data[Xt+1];F.data.length--,W.set(F.data.length)}xt.bookmark=A0(E.selection),W.get()<F.data.length-1&&(F.data.length=W.get()+1),F.data.push(xt),W.set(F.data.length-1);const Pt={level:xt,lastLevel:lt,originalEvent:ht};return W.get()>0?(E.setDirty(!0),E.dispatch("AddUndo",Pt),E.dispatch("change",Pt)):E.dispatch("AddUndo",Pt),xt})(s,c,p,m,b,S,I),undo:(c,p,m)=>((b,S,I,E)=>{let F;return S.typing&&(S.add(),S.typing=!1,Kx(S,!1,I)),E.get()>0&&(E.set(E.get()-1),F=S.data[E.get()],cS(b,F,!0),b.setDirty(!0),b.dispatch("Undo",{level:F})),F})(s,c,p,m),redo:(c,p)=>((m,b,S)=>{let I;return b.get()<S.length-1&&(b.set(b.get()+1),I=S[b.get()],cS(m,I,!1),m.setDirty(!0),m.dispatch("Redo",{level:I})),I})(s,c,p),clear:(c,p)=>((m,b,S)=>{b.data=[],S.set(0),b.typing=!1,m.dispatch("ClearUndos")})(s,c,p),reset:c=>(p=>{p.clear(),p.add()})(c),hasUndo:(c,p)=>((m,b,S)=>S.get()>0||b.typing&&b.data[0]&&!tf(ay(m),b.data[0]))(s,c,p),hasRedo:(c,p)=>((m,b)=>b.get()<m.data.length-1&&!m.typing)(c,p),transact:(c,p,m)=>((b,S,I)=>(GM(b,S),b.beforeChange(),b.ignore(I),b.add()))(c,p,m),ignore:(c,p)=>((m,b)=>{try{m.set(m.get()+1),b()}finally{m.set(m.get()-1)}})(c,p),extra:(c,p,m,b)=>((S,I,E,F,W)=>{if(I.transact(F)){const $=I.data[E.get()].bookmark,tt=I.data[E.get()-1];cS(S,tt,!0),I.transact(W)&&(I.data[E.get()-1].beforeBookmark=$)}})(s,c,p,m,b)},formatter:{match:(c,p,m,b)=>kx(s,c,p,m,b),matchAll:(c,p)=>((m,b,S)=>{const I=[],E={},F=m.selection.getStart();return m.dom.getParent(F,W=>{for(let $=0;$<b.length;$++){const tt=b[$];!E[tt]&&Sc(m,W,tt,S)&&(E[tt]=!0,I.push(tt))}},m.dom.getRoot()),I})(s,c,p),matchNode:(c,p,m,b)=>Sc(s,c,p,m,b),canApply:c=>((p,m)=>{const b=p.formatter.get(m),S=p.dom;if(b){const I=p.selection.getStart(),E=Fp(S,I);for(let F=b.length-1;F>=0;F--){const W=b[F];if(!cs(W))return!0;for(let $=E.length-1;$>=0;$--)if(S.is(E[$],W.selector))return!0}}return!1})(s,c),closest:c=>((p,m)=>{const b=S=>tr(S,Xe(p.getBody()));return U.from(p.selection.getStart(!0)).bind(S=>gd(Xe(S),I=>Te(m,E=>((F,W)=>Sc(p,F.dom,W)?U.some(W):U.none())(I,E)),b)).getOrNull()})(s,c),apply:(c,p,m)=>X_(s,c,p,m),remove:(c,p,m,b)=>j_(s,c,p,m,b),toggle:(c,p,m)=>((b,S,I,E)=>{const F=b.formatter.get(S);F&&(!kx(b,S,I,E)||"toggle"in F[0]&&!F[0].toggle?X_(b,S,I,E):j_(b,S,I,E))})(s,c,p,m),formatChanged:(c,p,m,b,S)=>((I,E,F,W,$,tt)=>(((ut,ht,st,xt,lt,_t)=>{const Pt=ht.get();he(st.split(","),Xt=>{const ce=En(Pt,Xt).getOrThunk(()=>{const _e={withSimilar:{state:no(!1),similar:!0,callbacks:[]},withoutSimilar:{state:no(!1),similar:!1,callbacks:[]},withVars:[]};return Pt[Xt]=_e,_e}),Ae=()=>{const _e=wM(ut);return zx(ut,_e,Xt,lt,_t).isSome()};if(At(_t)){const _e=lt?ce.withSimilar:ce.withoutSimilar;_e.callbacks.push(xt),_e.callbacks.length===1&&_e.state.set(Ae())}else ce.withVars.push({state:no(Ae()),similar:lt,vars:_t,callback:xt})}),ht.set(Pt)})(I,E,F,W,$,tt),{unbind:()=>((ut,ht,st)=>{const xt=ut.get();he(ht.split(","),lt=>En(xt,lt).each(_t=>{xt[lt]={withSimilar:{..._t.withSimilar,callbacks:Gn(_t.withSimilar.callbacks,Pt=>Pt!==st)},withoutSimilar:{..._t.withoutSimilar,callbacks:Gn(_t.withoutSimilar.callbacks,Pt=>Pt!==st)},withVars:Gn(_t.withVars,Pt=>Pt.callback!==st)}})),ut.set(xt)})(E,F,W)}))(s,c,p,m,b,S)},editor:{getContent:c=>((p,m)=>U.from(p.getBody()).fold(ie(m.format==="tree"?new Ra("body",11):""),b=>UA(p,m,b)))(s,c),setContent:(c,p)=>((m,b,S)=>U.from(m.getBody()).map(I=>nh(b)?((E,F,W,$)=>{k_(E.parser.getNodeFilters(),E.parser.getAttributeFilters(),W);const tt=ud({validate:!1},E.schema).serialize(W),ut=Oh(Xe(F))?tt:Mn.trim(tt);return ih(E,ut,$.no_selection),{content:W,html:ut}})(m,I,b,S):((E,F,W,$)=>{if(W.length===0||/^\s+$/.test(W)){const tt='<br data-mce-bogus="1">';F.nodeName==="TABLE"?W="<tr><td>"+tt+"</td></tr>":/^(UL|OL)$/.test(F.nodeName)&&(W="<li>"+tt+"</li>");const ut=Oa(E);return E.schema.isValidChild(F.nodeName.toLowerCase(),ut.toLowerCase())?(W=tt,W=E.dom.createHTML(ut,lg(E),W)):W||(W=tt),ih(E,W,$.no_selection),{content:W,html:W}}{$.format!=="raw"&&(W=ud({validate:!1},E.schema).serialize(E.parser.parse(W,{isRootContent:!0,insert:!0})));const tt=Oh(Xe(F))?W:Mn.trim(W);return ih(E,tt,$.no_selection),{content:tt,html:tt}}})(m,I,b,S)).getOr({content:b,html:nh(S.content)?"":S.content}))(s,c,p),insertContent:(c,p)=>zv(s,c,p),addVisual:c=>((p,m)=>{const b=p.dom,S=Kt(m)?m:p.getBody();he(b.select("table,a",S),I=>{switch(I.nodeName){case"TABLE":const E=dA(p),F=b.getAttrib(I,"border");F&&F!=="0"||!p.hasVisual?b.removeClass(I,E):b.addClass(I,E);break;case"A":if(!b.getAttrib(I,"href")){const W=b.getAttrib(I,"name")||I.id,$=R0(p);W&&p.hasVisual?b.addClass(I,$):b.removeClass(I,$)}}}),p.dispatch("VisualAid",{element:m,hasVisual:p.hasVisual})})(s,c)},selection:{getContent:(c,p)=>((m,b,S={})=>{const I=((E,F)=>({...E,format:F,get:!0,selection:!0,getInner:!0}))(S,b);return iy(m,I).fold(Le,E=>{const F=((W,$)=>{if($.format==="text")return(tt=>U.from(tt.selection.getRng()).map(ut=>{var ht;const st=U.from(tt.dom.getParent(ut.commonAncestorContainer,tt.dom.isBlock)),xt=tt.getBody(),lt=(Ae=>Ae.map(_e=>_e.nodeName).getOr("div").toLowerCase())(st),_t=Xe(ut.cloneContents());qA(_t),Uw(_t);const Pt=tt.dom.add(xt,lt,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},_t.dom),Xt=oy(Pt),ce=Ho((ht=Pt.textContent)!==null&&ht!==void 0?ht:"");if(tt.dom.remove(Pt),im(ce,0)||im(ce,ce.length-1)){const Ae=st.getOr(xt),_e=oy(Ae),Ye=_e.indexOf(Xt);return Ye===-1?Xt:(im(_e,Ye-1)?" ":"")+Xt+(im(_e,Ye+Xt.length)?" ":"")}return Xt}).getOr(""))(W);{const tt=((ut,ht)=>{const st=ut.selection.getRng(),xt=ut.dom.create("body"),lt=ut.selection.getSel(),_t=ux(ut,Cg(lt)),Pt=ht.contextual?jM(Xe(ut.getBody()),_t).dom:st.cloneContents();return Pt&&xt.appendChild(Pt),ut.selection.serializer.serialize(xt,ht)})(W,$);return $.format==="tree"?tt:W.selection.isCollapsed()?"":tt}})(m,E);return ry(m,F,E)})})(s,c,p)},autocompleter:{addDecoration:c=>yD(s,c),removeDecoration:()=>((c,p)=>Gw(p).each(m=>{const b=c.selection.getBookmark();bs(m),c.selection.moveToBookmark(b)}))(s,Xe(s.getBody()))},raw:{getModel:()=>U.none()}}),aa=s=>gn(s.plugins,"rtc"),ly=s=>s.rtcInstance?s.rtcInstance:sy(s),So=s=>{const c=s.rtcInstance;if(c)return c;throw new Error("Failed to get RTC instance not yet initialized.")},cy=s=>So(s).init.bindEvents(),XM=s=>s.dom.length===0?(_r(s),U.none()):U.some(s),qM=(s,c,p,m)=>{s.bind(b=>((m?yx:eh)(b.dom,m?b.dom.length:0),c.filter(gs).map(S=>((I,E,F,W)=>{const $=I.dom,tt=E.dom,ut=W?$.length:tt.length;W?(d_($,tt,!1,!W),F.setStart(tt,ut)):(d_(tt,$,!1,!W),F.setEnd(tt,ut))})(b,S,p,m)))).orThunk(()=>((S,I)=>S.filter(E=>Ao.isBookmarkNode(E.dom)).bind(I?Mu:Ga))(c,m).or(c).filter(gs).map(S=>((I,E)=>{Xo(I).each(F=>{const W=I.dom;E&&Vr(F,tn(W,0))?eh(W,0):!E&&Yg(F,tn(W,W.length))&&yx(W,W.length)})})(S,m)))},UM=(s,c,p)=>{if(gn(s,c)){const m=Gn(s[c],b=>b!==p);m.length===0?delete s[c]:s[c]=m}},pS=s=>!(!s||!s.ownerDocument)&&bl(Xe(s.ownerDocument),Xe(s)),uy=(s,c,p,m)=>{let b,S;const{selectorChangedWithUnbind:I}=((lt,_t)=>{let Pt,Xt;const ce=(_e,Ye)=>Yi(Ye,ze=>lt.is(ze,_e)),Ae=_e=>lt.getParents(_e,void 0,lt.getRoot());return{selectorChangedWithUnbind:(_e,Ye)=>(Pt||(Pt={},Xt={},_t.on("NodeChange",ze=>{const Ge=ze.element,en=Ae(Ge),nn={};Fe(Pt,(hn,sn)=>{ce(sn,en).each(xn=>{Xt[sn]||(he(hn,$n=>{$n(!0,{node:xn,selector:sn,parents:en})}),Xt[sn]=hn),nn[sn]=hn})}),Fe(Xt,(hn,sn)=>{nn[sn]||(delete Xt[sn],he(hn,xn=>{xn(!1,{node:Ge,selector:sn,parents:en})}))})})),Pt[_e]||(Pt[_e]=[]),Pt[_e].push(Ye),ce(_e,Ae(_t.selection.getStart())).each(()=>{Xt[_e]=Pt[_e]}),{unbind:()=>{UM(Pt,_e,Ye),UM(Xt,_e,Ye)}})}})(s,m),E=(lt,_t)=>((Pt,Xt,ce={})=>{const Ae=((_e,Ye)=>({format:"html",..._e,set:!0,selection:!0,content:Ye}))(ce,Xt);uh(Pt,Ae).each(_e=>{const Ye=((Ge,en)=>{if(en.format!=="raw"){const nn=Ge.selection.getRng(),hn=Ge.dom.getParent(nn.commonAncestorContainer,Ge.dom.isBlock),sn=hn?{context:hn.nodeName.toLowerCase()}:{},xn=Ge.parser.parse(en.content,{forced_root_block:!1,...sn,...en});return ud({validate:!1},Ge.schema).serialize(xn)}return en.content})(Pt,_e),ze=Pt.selection.getRng();((Ge,en)=>{const nn=U.from(en.firstChild).map(Xe),hn=U.from(en.lastChild).map(Xe);Ge.deleteContents(),Ge.insertNode(en);const sn=nn.bind(Ga).filter(gs).bind(XM),xn=hn.bind(Mu).filter(gs).bind(XM);qM(sn,nn,Ge,!0),qM(xn,hn,Ge,!1),Ge.collapse(!1)})(ze,ze.createContextualFragment(Ye)),Pt.selection.setRng(ze),Ng(Pt,ze),Mc(Pt,Ye,_e)})})(m,lt,_t),F=lt=>{const _t=$();_t.collapse(!!lt),tt(_t)},W=()=>c.getSelection?c.getSelection():c.document.selection,$=()=>{let lt;const _t=(Xt,ce,Ae)=>{try{return ce.compareBoundaryPoints(Xt,Ae)}catch{return-1}},Pt=c.document;if(Kt(m.bookmark)&&!ld(m)){const Xt=sd(m);if(Xt.isSome())return Xt.map(ce=>ux(m,[ce])[0]).getOr(Pt.createRange())}try{const Xt=W();Xt&&!oc(Xt.anchorNode)&&(lt=Xt.rangeCount>0?Xt.getRangeAt(0):Pt.createRange(),lt=ux(m,[lt])[0])}catch{}if(lt||(lt=Pt.createRange()),Dh(lt.startContainer)&&lt.collapsed){const Xt=s.getRoot();lt.setStart(Xt,0),lt.setEnd(Xt,0)}return b&&S&&(_t(lt.START_TO_START,lt,b)===0&&_t(lt.END_TO_END,lt,b)===0?lt=S:(b=null,S=null)),lt},tt=(lt,_t)=>{if(!(Xt=>!!Xt&&pS(Xt.startContainer)&&pS(Xt.endContainer))(lt))return;const Pt=W();if(lt=m.dispatch("SetSelectionRange",{range:lt,forward:_t}).range,Pt){S=lt;try{Pt.removeAllRanges(),Pt.addRange(lt)}catch{}_t===!1&&Pt.extend&&(Pt.collapse(lt.endContainer,lt.endOffset),Pt.extend(lt.startContainer,lt.startOffset)),b=Pt.rangeCount>0?Pt.getRangeAt(0):null}if(!lt.collapsed&&lt.startContainer===lt.endContainer&&(Pt!=null&&Pt.setBaseAndExtent)&&lt.endOffset-lt.startOffset<2&&lt.startContainer.hasChildNodes()){const Xt=lt.startContainer.childNodes[lt.startOffset];Xt&&Xt.nodeName==="IMG"&&(Pt.setBaseAndExtent(lt.startContainer,lt.startOffset,lt.endContainer,lt.endOffset),Pt.anchorNode===lt.startContainer&&Pt.focusNode===lt.endContainer||Pt.setBaseAndExtent(Xt,0,Xt,1))}m.dispatch("AfterSetSelectionRange",{range:lt,forward:_t})},ut=()=>{const lt=W(),_t=lt==null?void 0:lt.anchorNode,Pt=lt==null?void 0:lt.focusNode;if(!lt||!_t||!Pt||oc(_t)||oc(Pt))return!0;const Xt=s.createRng(),ce=s.createRng();try{Xt.setStart(_t,lt.anchorOffset),Xt.collapse(!0),ce.setStart(Pt,lt.focusOffset),ce.collapse(!0)}catch{return!0}return Xt.compareBoundaryPoints(Xt.START_TO_START,ce)<=0},ht={dom:s,win:c,serializer:p,editor:m,expand:(lt={type:"word"})=>tt(rd(s).expand($(),lt)),collapse:F,setCursorLocation:(lt,_t)=>{const Pt=s.createRng();Kt(lt)&&Kt(_t)?(Pt.setStart(lt,_t),Pt.setEnd(lt,_t),tt(Pt),F(!1)):(xv(s,Pt,m.getBody(),!0),tt(Pt))},getContent:lt=>((_t,Pt={})=>((Xt,ce,Ae)=>So(Xt).selection.getContent(ce,Ae))(_t,Pt.format?Pt.format:"html",Pt))(m,lt),setContent:E,getBookmark:(lt,_t)=>st.getBookmark(lt,_t),moveToBookmark:lt=>st.moveToBookmark(lt),select:(lt,_t)=>(((Pt,Xt,ce)=>U.from(Xt).bind(Ae=>U.from(Ae.parentNode).map(_e=>{const Ye=Pt.nodeIndex(Ae),ze=Pt.createRng();return ze.setStart(_e,Ye),ze.setEnd(_e,Ye+1),ce&&(xv(Pt,ze,Ae,!0),xv(Pt,ze,Ae,!1)),ze})))(s,lt,_t).each(tt),lt),isCollapsed:()=>{const lt=$(),_t=W();return!(!lt||lt.item)&&(lt.compareEndPoints?lt.compareEndPoints("StartToEnd",lt)===0:!_t||lt.collapsed)},isForward:ut,setNode:lt=>(E(s.getOuterHTML(lt)),lt),getNode:()=>((lt,_t)=>{if(!_t)return lt;let Pt=_t.startContainer,Xt=_t.endContainer;const ce=_t.startOffset,Ae=_t.endOffset;let _e=_t.commonAncestorContainer;_t.collapsed||(Pt===Xt&&Ae-ce<2&&Pt.hasChildNodes()&&(_e=Pt.childNodes[ce]),Dn(Pt)&&Dn(Xt)&&(Pt=Pt.length===ce?jw(Pt.nextSibling,!0):Pt.parentNode,Xt=Ae===0?jw(Xt.previousSibling,!1):Xt.parentNode,Pt&&Pt===Xt&&(_e=Pt)));const Ye=Dn(_e)?_e.parentNode:_e;return li(Ye)?Ye:lt})(m.getBody(),$()),getSel:W,setRng:tt,getRng:$,getStart:lt=>Ww(m.getBody(),$(),lt),getEnd:lt=>XA(m.getBody(),$(),lt),getSelectedBlocks:(lt,_t)=>((Pt,Xt,ce,Ae)=>{const _e=[],Ye=Pt.getRoot(),ze=Pt.getParent(ce||Ww(Ye,Xt,Xt.collapsed),Pt.isBlock),Ge=Pt.getParent(Ae||XA(Ye,Xt,Xt.collapsed),Pt.isBlock);if(ze&&ze!==Ye&&_e.push(ze),ze&&Ge&&ze!==Ge){let en=ze;const nn=new wo(ze,Ye);for(;(en=nn.next())&&en!==Ge;)Pt.isBlock(en)&&_e.push(en)}return Ge&&ze!==Ge&&Ge!==Ye&&_e.push(Ge),_e})(s,$(),lt,_t),normalize:()=>{const lt=$(),_t=W();if(!(Cg(_t).length>1)&&bv(m)){const Pt=kv(s,lt);return Pt.each(Xt=>{tt(Xt,ut())}),Pt.getOr(lt)}return lt},selectorChanged:(lt,_t)=>(I(lt,_t),ht),selectorChangedWithUnbind:I,getScrollContainer:()=>{let lt,_t=s.getRoot();for(;_t&&_t.nodeName!=="BODY";){if(_t.scrollHeight>_t.clientHeight){lt=_t;break}_t=_t.parentNode}return lt},scrollIntoView:(lt,_t)=>{Kt(lt)?((Pt,Xt,ce)=>{(Pt.inline?Ju:gD)(Pt,Xt,ce)})(m,lt,_t):Ng(m,$(),_t)},placeCaretAt:(lt,_t)=>tt(ax(lt,_t,m.getDoc())),getBoundingClientRect:()=>{const lt=$();return lt.collapsed?tn.fromRangeStart(lt).getClientRects()[0]:lt.getBoundingClientRect()},destroy:()=>{c=b=S=null,xt.destroy()}},st=Ao(ht),xt=ou(ht,m);return ht.bookmarkManager=st,ht.controlSelection=xt,ht},$M=(s,c,p)=>{Mn.inArray(c,p)===-1&&(s.addAttributeFilter(p,(m,b)=>{let S=m.length;for(;S--;)m[S].attr(b,null)}),c.push(p))},ef=(s,c)=>{const p=["data-mce-selected"],m=c&&c.dom?c.dom:kr.DOM,b=c&&c.schema?c.schema:pc(s);s.entity_encoding=s.entity_encoding||"named",s.remove_trailing_brs=!("remove_trailing_brs"in s)||s.remove_trailing_brs;const S=ch(s,b);return((I,E,F)=>{I.addAttributeFilter("data-mce-tabindex",(W,$)=>{let tt=W.length;for(;tt--;){const ut=W[tt];ut.attr("tabindex",ut.attr("data-mce-tabindex")),ut.attr($,null)}}),I.addAttributeFilter("src,href,style",(W,$)=>{const tt="data-mce-"+$,ut=E.url_converter,ht=E.url_converter_scope;let st=W.length;for(;st--;){const xt=W[st];let lt=xt.attr(tt);lt!==void 0?(xt.attr($,lt.length>0?lt:null),xt.attr(tt,null)):(lt=xt.attr($),$==="style"?lt=F.serializeStyle(F.parseStyle(lt),xt.name):ut&&(lt=ut.call(ht,lt,$,xt.name)),xt.attr($,lt.length>0?lt:null))}}),I.addAttributeFilter("class",W=>{let $=W.length;for(;$--;){const tt=W[$];let ut=tt.attr("class");ut&&(ut=ut.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),tt.attr("class",ut.length>0?ut:null))}}),I.addAttributeFilter("data-mce-type",(W,$,tt)=>{let ut=W.length;for(;ut--;){const ht=W[ut];ht.attr("data-mce-type")==="bookmark"&&!tt.cleanup&&(U.from(ht.firstChild).exists(xt=>{var lt;return!Wr((lt=xt.value)!==null&&lt!==void 0?lt:"")})?ht.unwrap():ht.remove())}}),I.addNodeFilter("noscript",W=>{var $;let tt=W.length;for(;tt--;){const ut=W[tt].firstChild;ut&&(ut.value=Tl.decode(($=ut.value)!==null&&$!==void 0?$:""))}}),I.addNodeFilter("script,style",(W,$)=>{var tt;const ut=st=>st.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let ht=W.length;for(;ht--;){const st=W[ht],xt=st.firstChild,lt=(tt=xt==null?void 0:xt.value)!==null&&tt!==void 0?tt:"";if($==="script"){const _t=st.attr("type");_t&&st.attr("type",_t==="mce-no/type"?null:_t.replace(/^mce\-/,"")),E.element_format==="xhtml"&&xt&&lt.length>0&&(xt.value=`// <![CDATA[
`+ut(lt)+`
// ]]>`)}else E.element_format==="xhtml"&&xt&&lt.length>0&&(xt.value=`<!--
`+ut(lt)+`
-->`)}}),I.addNodeFilter("#comment",W=>{let $=W.length;for(;$--;){const tt=W[$],ut=tt.value;E.preserve_cdata&&(ut==null?void 0:ut.indexOf("[CDATA["))===0?(tt.name="#cdata",tt.type=4,tt.value=F.decode(ut.replace(/^\[CDATA\[|\]\]$/g,""))):(ut==null?void 0:ut.indexOf("mce:protected "))===0&&(tt.name="#text",tt.type=3,tt.raw=!0,tt.value=unescape(ut).substr(14))}}),I.addNodeFilter("xml:namespace,input",(W,$)=>{let tt=W.length;for(;tt--;){const ut=W[tt];ut.type===7?ut.remove():ut.type===1&&($!=="input"||ut.attr("type")||ut.attr("type","text"))}}),I.addAttributeFilter("data-mce-type",W=>{he(W,$=>{$.attr("data-mce-type")==="format-caret"&&($.isEmpty(I.schema.getNonEmptyElements())?$.remove():$.unwrap())})}),I.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(W,$)=>{let tt=W.length;for(;tt--;)W[tt].attr($,null)})})(S,s,m),{schema:b,addNodeFilter:S.addNodeFilter,addAttributeFilter:S.addAttributeFilter,serialize:(I,E={})=>{const F={format:"html",...E},W=((ut,ht,st)=>((xt,lt)=>Kt(xt)&&xt.hasEventListeners("PreProcess")&&!lt.no_events)(ut,st)?((xt,lt,_t)=>{let Pt;const Xt=xt.dom;let ce=lt.cloneNode(!0);const Ae=document.implementation;if(Ae.createHTMLDocument){const _e=Ae.createHTMLDocument("");Mn.each(ce.nodeName==="BODY"?ce.childNodes:[ce],Ye=>{_e.body.appendChild(_e.importNode(Ye,!0))}),ce=ce.nodeName!=="BODY"?_e.body.firstChild:_e.body,Pt=Xt.doc,Xt.doc=_e}return((_e,Ye)=>{_e.dispatch("PreProcess",Ye)})(xt,{..._t,node:ce}),Pt&&(Xt.doc=Pt),ce})(ut,ht,st):ht)(c,I,F),$=((ut,ht,st)=>{const xt=Ho(st.getInner?ht.innerHTML:ut.getOuterHTML(ht));return st.selection||Oh(Xe(ht))?xt:Mn.trim(xt)})(m,W,F),tt=((ut,ht,st)=>{const xt=st.selection?{forced_root_block:!1,...st}:st,lt=ut.parse(ht,xt);return(_t=>{const Pt=ce=>(ce==null?void 0:ce.name)==="br",Xt=_t.lastChild;if(Pt(Xt)){const ce=Xt.prev;Pt(ce)&&(Xt.remove(),ce.remove())}})(lt),lt})(S,$,F);return F.format==="tree"?tt:((ut,ht,st,xt,lt)=>{const _t=((Pt,Xt,ce)=>ud(Pt,Xt).serialize(ce))(ht,st,xt);return((Pt,Xt,ce)=>!Xt.no_events&&Pt?((_e,Ye)=>_e.dispatch("PostProcess",Ye))(Pt,{...Xt,content:ce}).content:ce)(ut,lt,_t)})(c,s,b,tt,F)},addRules:b.addValidElements,setRules:b.setValidElements,addTempAttr:De($M,S,p),getTempAttrs:ie(p),getNodeFilters:S.getNodeFilters,getAttributeFilters:S.getAttributeFilters,removeNodeFilter:S.removeNodeFilter,removeAttributeFilter:S.removeAttributeFilter}},rm=(s,c)=>{const p=ef(s,c);return{schema:p.schema,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:p.serialize,addRules:p.addRules,setRules:p.setRules,addTempAttr:p.addTempAttr,getTempAttrs:p.getTempAttrs,getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},nf=(s,c,p={})=>{const m=((b,S)=>({format:"html",...b,set:!0,content:S}))(p,c);return uh(s,m).map(b=>{const S=((I,E,F)=>ly(I).editor.setContent(E,F))(s,b.content,b);return Mc(s,S.html,b),S.content}).getOr(c)},fS="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),jD="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),gS=s=>{const c=Gn(fS,m=>gn(s,m)),p=s.forced_root_block;return p!==!1&&p!==""||c.push("forced_root_block (false only)"),kt(c)},ZM=s=>{const c=Mn.makeMap(s.plugins," "),p=Gn(jD,m=>gn(c,m));return kt(p)},rf=kr.DOM,hh=s=>U.from(s).each(c=>c.destroy()),Jx=(()=>{const s={};return{add:(c,p)=>{s[c]=p},get:c=>s[c]?s[c]:{icons:{}},has:c=>gn(s,c)}})(),om=Zr.ModelManager,mS=(s,c)=>c.dom[s],Sd=(s,c)=>parseInt(qa(c,s),10),YD=De(mS,"clientWidth"),vS=De(mS,"clientHeight"),KM=De(Sd,"margin-top"),JM=De(Sd,"margin-left"),yS=s=>{const c=[],p=()=>{const F=s.theme;return F&&F.getNotificationManagerImpl?F.getNotificationManagerImpl():(()=>{const W=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:W,close:W,getArgs:W}})()},m=()=>U.from(c[0]),b=()=>{he(c,F=>{F.reposition()})},S=F=>{wn(c,W=>W===F).each(W=>{c.splice(W,1)})},I=(F,W=!0)=>s.removed||!($=>{return(tt=$.inline?$.getBody():$.getContentAreaContainer(),U.from(tt).map(Xe)).map(Ta).getOr(!1);var tt})(s)?{}:(W&&s.dispatch("BeforeOpenNotification",{notification:F}),Yi(c,$=>{return tt=p().getArgs($),ut=F,!(tt.type!==ut.type||tt.text!==ut.text||tt.progressBar||tt.timeout||ut.progressBar||ut.timeout);var tt,ut}).getOrThunk(()=>{s.editorManager.setActive(s);const $=p().open(F,()=>{S($),b(),m().fold(()=>s.focus(),tt=>WA(Xe(tt.getEl())))});return(tt=>{c.push(tt)})($),b(),s.dispatch("OpenNotification",{notification:{...$}}),$})),E=ie(c);return(F=>{F.on("SkinLoaded",()=>{const W=nD(F);W&&I({text:W,type:"warning",timeout:0},!1),b()}),F.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(b)}),F.on("remove",()=>{he(c.slice(),W=>{p().close(W)})})})(s),{open:I,close:()=>{m().each(F=>{p().close(F),S(F),b()})},getNotifications:E}},of=Zr.PluginManager,Cd=Zr.ThemeManager,QM=s=>{let c=[];const p=()=>{const I=s.theme;return I&&I.getWindowManagerImpl?I.getWindowManagerImpl():(()=>{const E=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:E,openUrl:E,alert:E,confirm:E,close:E}})()},m=(I,E)=>(...F)=>E?E.apply(I,F):void 0,b=I=>{(E=>{s.dispatch("CloseWindow",{dialog:E})})(I),c=Gn(c,E=>E!==I),c.length===0&&s.focus()},S=I=>{s.editorManager.setActive(s),ad(s),s.ui.show();const E=I();return(F=>{c.push(F),(W=>{s.dispatch("OpenWindow",{dialog:W})})(F)})(E),E};return s.on("remove",()=>{he(c,I=>{p().close(I)})}),{open:(I,E)=>S(()=>p().open(I,E,b)),openUrl:I=>S(()=>p().openUrl(I,b)),alert:(I,E,F)=>{const W=p();W.alert(I,m(F||W,E))},confirm:(I,E,F)=>{const W=p();W.confirm(I,m(F||W,E))},close:()=>{U.from(c[c.length-1]).each(I=>{p().close(I),b(I)})}}},xS=(s,c)=>{s.notificationManager.open({type:"error",text:c})},hy=(s,c)=>{s._skinLoaded?xS(s,c):s.on("SkinLoaded",()=>{xS(s,c)})},af=(s,c,p)=>{Tg(s,c,{message:p}),console.error(p)},dy=(s,c,p)=>p?`Failed to load ${s}: ${p} from url ${c}`:`Failed to load ${s} url: ${c}`,Qx=(s,...c)=>{const p=window.console;p&&(p.error?p.error(s,...c):p.log(s,...c))},tT=(s,c)=>{const p=s.editorManager.baseURL+"/skins/content",m=`content${s.editorManager.suffix}.css`;return un(c,b=>(S=>/^[a-z0-9\-]+$/i.test(S))(b)&&!s.inline?`${p}/${b}/${m}`:s.documentBaseURI.toAbsolute(b))},GD=Oe,XD=(s,c)=>{const p={};return{findAll:(m,b=Oe)=>{const S=Gn((E=>E?Pe(E.getElementsByTagName("img")):[])(m),E=>{const F=E.src;return!E.hasAttribute("data-mce-bogus")&&!E.hasAttribute("data-mce-placeholder")&&!(!F||F===ti.transparentSrc)&&(er(F,"blob:")?!s.isUploaded(F)&&b(E):!!er(F,"data:")&&b(E))}),I=un(S,E=>{const F=E.src;if(gn(p,F))return p[F].then(W=>ft(W)?W:{image:E,blobInfo:W.blobInfo});{const W=(($,tt)=>{const ut=()=>Promise.reject("Invalid data URI");if(er(tt,"blob:")){const xt=$.getByUri(tt);return Kt(xt)?Promise.resolve(xt):(ht=tt,er(ht,"blob:")?(lt=>fetch(lt).then(_t=>_t.ok?_t.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${lt} to Blob. Resource might not exist or is inaccessible.`)))(ht):er(ht,"data:")?(st=ht,new Promise((lt,_t)=>{eS(st).bind(({type:Pt,data:Xt,base64Encoded:ce})=>OM(Pt,Xt,ce)).fold(()=>_t("Invalid data URI"),lt)})):Promise.reject("Unknown URI format")).then(lt=>Va(lt).then(_t=>EM(_t,!1,Pt=>U.some(PM($,lt,Pt))).getOrThunk(ut)))}var ht,st;return er(tt,"data:")?NM($,tt).fold(ut,xt=>Promise.resolve(xt)):Promise.reject("Unknown image data format")})(c,F).then($=>(delete p[F],{image:E,blobInfo:$})).catch($=>(delete p[F],$));return p[F]=W,W}});return Promise.all(I)}}},am=()=>{let s={};const c=(m,b)=>({status:m,resultUri:b}),p=m=>m in s;return{hasBlobUri:p,getResultUri:m=>{const b=s[m];return b?b.resultUri:null},isPending:m=>!!p(m)&&s[m].status===1,isUploaded:m=>!!p(m)&&s[m].status===2,markPending:m=>{s[m]=c(1,null)},markUploaded:(m,b)=>{s[m]=c(2,b)},removeFailed:m=>{delete s[m]},destroy:()=>{s={}}}};let qD=0;const UD=(s,c)=>{const p={},m=(F,W)=>new Promise(($,tt)=>{const ut=new XMLHttpRequest;ut.open("POST",c.url),ut.withCredentials=c.credentials,ut.upload.onprogress=st=>{W(st.loaded/st.total*100)},ut.onerror=()=>{tt("Image upload failed due to a XHR Transport error. Code: "+ut.status)},ut.onload=()=>{if(ut.status<200||ut.status>=300)return void tt("HTTP Error: "+ut.status);const st=JSON.parse(ut.responseText);var xt,lt;st&&ft(st.location)?$((xt=c.basePath,lt=st.location,xt?xt.replace(/\/$/,"")+"/"+lt.replace(/^\//,""):lt)):tt("Invalid JSON: "+ut.responseText)};const ht=new FormData;ht.append("file",F.blob(),F.filename()),ut.send(ht)}),b=se(c.handler)?c.handler:m,S=(F,W)=>({url:W,blobInfo:F,status:!0}),I=(F,W)=>({url:"",blobInfo:F,status:!1,error:W}),E=(F,W)=>{Mn.each(p[F],$=>{$(W)}),delete p[F]};return{upload:(F,W)=>c.url||b!==m?(($,tt)=>($=Mn.grep($,ut=>!s.isUploaded(ut.blobUri())),Promise.all(Mn.map($,ut=>s.isPending(ut.blobUri())?(ht=>{const st=ht.blobUri();return new Promise(xt=>{p[st]=p[st]||[],p[st].push(xt)})})(ut):((ht,st,xt)=>(s.markPending(ht.blobUri()),new Promise(lt=>{let _t,Pt;try{const Xt=()=>{_t&&(_t.close(),Pt=ne)},ce=_e=>{Xt(),s.markUploaded(ht.blobUri(),_e),E(ht.blobUri(),S(ht,_e)),lt(S(ht,_e))},Ae=_e=>{Xt(),s.removeFailed(ht.blobUri()),E(ht.blobUri(),I(ht,_e)),lt(I(ht,_e))};Pt=_e=>{_e<0||_e>100||U.from(_t).orThunk(()=>U.from(xt).map(rn)).each(Ye=>{_t=Ye,Ye.progressBar.value(_e)})},st(ht,Pt).then(ce,_e=>{Ae(ft(_e)?{message:_e}:_e)})}catch(Xt){lt(I(ht,Xt))}})))(ut,b,tt)))))(F,W):new Promise($=>{$([])})}},bS=s=>()=>s.notificationManager.open({text:s.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),wS=(s,c)=>UD(c,{url:Jk(s),basePath:Qk(s),credentials:Xu(s),handler:qu(s)}),eT=s=>{const c=(()=>{let xt=[];const lt=Xt=>{if(!Xt.blob||!Xt.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ce=Xt.id||"blobid"+qD+++(()=>{const ze=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+new Date().getTime().toString(36)+ze()+ze()+ze()})(),Ae=Xt.name||ce,_e=Xt.blob;var Ye;return{id:ie(ce),name:ie(Ae),filename:ie(Xt.filename||Ae+"."+(Ye=_e.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[Ye.toLowerCase()]||"dat")),blob:ie(_e),base64:ie(Xt.base64),blobUri:ie(Xt.blobUri||URL.createObjectURL(_e)),uri:ie(Xt.uri)}},_t=Xt=>Yi(xt,Xt).getOrUndefined(),Pt=Xt=>_t(ce=>ce.id()===Xt);return{create:(Xt,ce,Ae,_e,Ye)=>{if(ft(Xt))return lt({id:Xt,name:_e,filename:Ye,blob:ce,base64:Ae});if(It(Xt))return lt(Xt);throw new Error("Unknown input type")},add:Xt=>{Pt(Xt.id())||xt.push(Xt)},get:Pt,getByUri:Xt=>_t(ce=>ce.blobUri()===Xt),getByData:(Xt,ce)=>_t(Ae=>Ae.base64()===Xt&&Ae.blob().type===ce),findFirst:_t,removeByUri:Xt=>{xt=Gn(xt,ce=>ce.blobUri()!==Xt||(URL.revokeObjectURL(ce.blobUri()),!1))},destroy:()=>{he(xt,Xt=>{URL.revokeObjectURL(Xt.blobUri())}),xt=[]}}})();let p,m;const b=am(),S=[],I=xt=>lt=>s.selection?xt(lt):[],E=(xt,lt,_t)=>{let Pt=0;do Pt=xt.indexOf(lt,Pt),Pt!==-1&&(xt=xt.substring(0,Pt)+_t+xt.substr(Pt+lt.length),Pt+=_t.length-lt.length+1);while(Pt!==-1);return xt},F=(xt,lt,_t)=>{const Pt=`src="${_t}"${_t===ti.transparentSrc?' data-mce-placeholder="1"':""}`;return xt=E(xt,`src="${lt}"`,Pt),E(xt,'data-mce-src="'+lt+'"','data-mce-src="'+_t+'"')},W=(xt,lt)=>{he(s.undoManager.data,_t=>{_t.type==="fragmented"?_t.fragments=un(_t.fragments,Pt=>F(Pt,xt,lt)):_t.content=F(_t.content,xt,lt)})},$=()=>(p||(p=wS(s,b)),ht().then(I(xt=>{const lt=un(xt,_t=>_t.blobInfo);return p.upload(lt,bS(s)).then(I(_t=>{const Pt=[];let Xt=!1;const ce=un(_t,(Ae,_e)=>{const{blobInfo:Ye,image:ze}=xt[_e];let Ge=!1;return Ae.status&&D0(s)?(Ae.url&&!ur(ze.src,Ae.url)&&(Xt=!0),c.removeByUri(ze.src),aa(s)||((en,nn)=>{const hn=s.convertURL(nn,"src");var sn;W(en.src,nn),Ul(Xe(en),{src:eu(s)?(sn=nn,sn+(sn.indexOf("?")===-1?"?":"&")+new Date().getTime()):nn,"data-mce-src":hn})})(ze,Ae.url)):Ae.error&&(Ae.error.remove&&(W(ze.src,ti.transparentSrc),Pt.push(ze),Ge=!0),((en,nn)=>{hy(en,mo.translate(["Failed to upload image: {0}",nn]))})(s,Ae.error.message)),{element:ze,status:Ae.status,uploadUri:Ae.url,blobInfo:Ye,removed:Ge}});return Pt.length>0&&!aa(s)?s.undoManager.transact(()=>{he(Pt,Ae=>{s.dom.remove(Ae),c.removeByUri(Ae.src)})}):Xt&&s.undoManager.dispatchChange(),ce}))}))),tt=()=>U1(s)?$():Promise.resolve([]),ut=xt=>_i(S,lt=>lt(xt)),ht=()=>(m||(m=XD(b,c)),m.findAll(s.getBody(),ut).then(I(xt=>{const lt=Gn(xt,_t=>!ft(_t)||(hy(s,_t),!1));return aa(s)||he(lt,_t=>{W(_t.image.src,_t.blobInfo.blobUri()),_t.image.src=_t.blobInfo.blobUri(),_t.image.removeAttribute("data-mce-src")}),lt}))),st=xt=>xt.replace(/src="(blob:[^"]+)"/g,(lt,_t)=>{const Pt=b.getResultUri(_t);if(Pt)return'src="'+Pt+'"';let Xt=c.getByUri(_t);return Xt||(Xt=Zn(s.editorManager.get(),(ce,Ae)=>ce||Ae.editorUpload&&Ae.editorUpload.blobCache.getByUri(_t),void 0)),Xt?'src="data:'+Xt.blob().type+";base64,"+Xt.base64()+'"':lt});return s.on("SetContent",()=>{U1(s)?tt():ht()}),s.on("RawSaveContent",xt=>{xt.content=st(xt.content)}),s.on("GetContent",xt=>{xt.source_view||xt.format==="raw"||xt.format==="tree"||(xt.content=st(xt.content))}),s.on("PostRender",()=>{s.parser.addNodeFilter("img",xt=>{he(xt,lt=>{const _t=lt.attr("src");if(!_t||c.getByUri(_t))return;const Pt=b.getResultUri(_t);Pt&&lt.attr("src",Pt)})})}),{blobCache:c,addFilter:xt=>{S.push(xt)},uploadImages:$,uploadImagesAuto:tt,scanForImages:ht,destroy:()=>{c.destroy(),b.destroy(),m=p=null}}},_S={remove_similar:!0,inherit:!1},sf={selector:"td,th",..._S},nT={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...sf},tablecellverticalalign:{styles:{"vertical-align":"%value"},...sf},tablecellbordercolor:{styles:{borderColor:"%value"},...sf},tablecellclass:{classes:["%value"],...sf},tableclass:{selector:"table",classes:["%value"],..._S},tablecellborderstyle:{styles:{borderStyle:"%value"},...sf},tablecellborderwidth:{styles:{borderWidth:"%value"},...sf}},iT=ie(nT),Ds=Mn.each,$s=kr.DOM,lf=s=>Kt(s)&&It(s),kd=(s,c)=>{const p=c&&c.schema||pc({}),m=I=>{const E=ft(I)?{name:I,classes:[],attrs:{}}:I,F=$s.create(E.name);return((W,$)=>{$.classes.length>0&&$s.addClass(W,$.classes.join(" ")),$s.setAttribs(W,$.attrs)})(F,E),F},b=(I,E,F)=>{let W;const $=E[0],tt=lf($)?$.name:void 0,ut=((xt,lt)=>{const _t=p.getElementRule(xt.nodeName.toLowerCase()),Pt=_t==null?void 0:_t.parentsRequired;return!(!Pt||!Pt.length)&&(lt&&Re(Pt,lt)?lt:Pt[0])})(I,tt);if(ut)tt===ut?(W=$,E=E.slice(1)):W=ut;else if($)W=$,E=E.slice(1);else if(!F)return I;const ht=W?m(W):$s.create("div");ht.appendChild(I),F&&Mn.each(F,xt=>{const lt=m(xt);ht.insertBefore(lt,I)});const st=lf(W)?W.siblings:void 0;return b(ht,E,st)},S=$s.create("div");if(s.length>0){const I=s[0],E=m(I),F=lf(I)?I.siblings:void 0;S.appendChild(b(E,s.slice(1),F))}return S},$D=s=>{let c="div";const p={name:c,classes:[],attrs:{},selector:s=Mn.trim(s)};return s!=="*"&&(c=s.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(m,b,S,I,E)=>{switch(b){case"#":p.attrs.id=S;break;case".":p.classes.push(S);break;case":":Mn.inArray("checked disabled enabled read-only required".split(" "),S)!==-1&&(p.attrs[S]=S)}if(I==="["){const F=E.match(/([\w\-]+)(?:\=\"([^\"]+))?/);F&&(p.attrs[F[1]]=F[2])}return""})),p.name=c||"div",p},ZD=(s,c)=>{let p="",m=iD(s);if(m==="")return"";const b=ht=>ft(ht)?ht.replace(/%(\w+)/g,""):"",S=(ht,st)=>$s.getStyle(st??s.getBody(),ht,!0);if(ft(c)){const ht=s.formatter.get(c);if(!ht)return"";c=ht[0]}if("preview"in c){const ht=c.preview;if(ht===!1)return"";m=ht||m}let I,E=c.block||c.inline||"span";const F=(W=c.selector,ft(W)?(W=(W=W.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Mn.map(W.split(/(?:>|\s+(?![^\[\]]+\]))/),ht=>{const st=Mn.map(ht.split(/(?:~\+|~|\+)/),$D),xt=st.pop();return st.length&&(xt.siblings=st),xt}).reverse()):[]);var W;F.length>0?(F[0].name||(F[0].name=E),E=c.selector,I=kd(F,s)):I=kd([E],s);const $=$s.select(E,I)[0]||I.firstChild;Ds(c.styles,(ht,st)=>{const xt=b(ht);xt&&$s.setStyle($,st,xt)}),Ds(c.attributes,(ht,st)=>{const xt=b(ht);xt&&$s.setAttrib($,st,xt)}),Ds(c.classes,ht=>{const st=b(ht);$s.hasClass($,st)||$s.addClass($,st)}),s.dispatch("PreviewFormats"),$s.setStyles(I,{position:"absolute",left:-65535}),s.getBody().appendChild(I);const tt=S("fontSize"),ut=/px$/.test(tt)?parseInt(tt,10):0;return Ds(m.split(" "),ht=>{let st=S(ht,$);if(!(ht==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(st)&&(st=S(ht),bc(st).toLowerCase()==="#ffffff")||ht==="color"&&bc(st).toLowerCase()==="#000000")){if(ht==="font-size"&&/em|%$/.test(st)){if(ut===0)return;st=parseFloat(st)/(/%$/.test(st)?100:1)*ut+"px"}ht==="border"&&st&&(p+="padding:0 2px;"),p+=ht+":"+st+";"}}),s.dispatch("AfterPreviewFormats"),$s.remove(I),p},rT=s=>{const c=(m=>{const b={},S=(I,E)=>{I&&(ft(I)?(Ct(E)||(E=[E]),he(E,F=>{At(F.deep)&&(F.deep=!cs(F)),At(F.split)&&(F.split=!cs(F)||ko(F)),At(F.remove)&&cs(F)&&!ko(F)&&(F.remove="none"),cs(F)&&ko(F)&&(F.mixed=!0,F.block_expand=!0),ft(F.classes)&&(F.classes=F.classes.split(/\s+/))}),b[I]=E):Fe(I,(F,W)=>{S(W,F)}))};return S((I=>{const E=I.dom,F=I.schema.type,W={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:$=>{E.setStyle($,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:$=>{E.setStyle($,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const $={inline:"span",styles:{textDecoration:"line-through"},exact:!0},tt={inline:"strike",remove:"all",preserve_attributes:["class","style"]},ut={inline:"s",remove:"all",preserve_attributes:["class","style"]};return F!=="html4"?[ut,$,tt]:[$,ut,tt]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:($,tt,ut)=>li($)&&$.hasAttribute("href"),onformat:($,tt,ut)=>{Mn.each(ut,(ht,st)=>{E.setAttrib($,st,ht)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":$=>{var tt;return(tt=$==null?void 0:$.customValue)!==null&&tt!==void 0?tt:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Mn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),$=>{W[$]={block:$,remove:"all"}}),W})(m)),S(iT()),S(ug(m)),{get:I=>Kt(I)?b[I]:b,has:I=>gn(b,I),register:S,unregister:I=>(I&&b[I]&&delete b[I],b)}})(s),p=no({});return(m=>{m.addShortcut("meta+b","","Bold"),m.addShortcut("meta+i","","Italic"),m.addShortcut("meta+u","","Underline");for(let b=1;b<=6;b++)m.addShortcut("access+"+b,"",["FormatBlock",!1,"h"+b]);m.addShortcut("access+7","",["FormatBlock",!1,"p"]),m.addShortcut("access+8","",["FormatBlock",!1,"div"]),m.addShortcut("access+9","",["FormatBlock",!1,"address"])})(s),(m=>{m.on("mouseup keydown",b=>{((S,I)=>{const E=S.selection,F=S.getBody();Tx(S,null,!1),I!==8&&I!==46||!E.isCollapsed()||E.getStart().innerHTML!==md||Tx(S,Uh(F,E.getStart())),I!==37&&I!==39||Tx(S,Uh(F,E.getStart()))})(m,b.keyCode)})})(s),aa(s)||((m,b)=>{m.set({}),b.on("NodeChange",S=>{ND(b,S.element,m.get())}),b.on("FormatApply FormatRemove",S=>{const I=U.from(S.node).map(E=>Zh(E)?E:E.startContainer).bind(E=>li(E)?U.some(E):U.from(E.parentElement)).getOrThunk(()=>Xv(b));ND(b,I,m.get())})})(p,s),{get:c.get,has:c.has,register:c.register,unregister:c.unregister,apply:(m,b,S)=>{((I,E,F,W)=>{So(I).formatter.apply(E,F,W)})(s,m,b,S)},remove:(m,b,S,I)=>{((E,F,W,$,tt)=>{So(E).formatter.remove(F,W,$,tt)})(s,m,b,S,I)},toggle:(m,b,S)=>{((I,E,F,W)=>{So(I).formatter.toggle(E,F,W)})(s,m,b,S)},match:(m,b,S,I)=>((E,F,W,$,tt)=>So(E).formatter.match(F,W,$,tt))(s,m,b,S,I),closest:m=>((b,S)=>So(b).formatter.closest(S))(s,m),matchAll:(m,b)=>((S,I,E)=>So(S).formatter.matchAll(I,E))(s,m,b),matchNode:(m,b,S,I)=>((E,F,W,$,tt)=>So(E).formatter.matchNode(F,W,$,tt))(s,m,b,S,I),canApply:m=>((b,S)=>So(b).formatter.canApply(S))(s,m),formatChanged:(m,b,S,I)=>((E,F,W,$,tt,ut)=>So(E).formatter.formatChanged(F,W,$,tt,ut))(s,p,m,b,S,I),getCssText:De(ZD,s)}},py=s=>{switch(s.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},SS=s=>{const c=rl(),p=no(0),m=no(0),b={data:[],typing:!1,beforeChange:()=>{((S,I,E)=>{So(S).undoManager.beforeChange(I,E)})(s,p,c)},add:(S,I)=>((E,F,W,$,tt,ut,ht)=>So(E).undoManager.add(F,W,$,tt,ut,ht))(s,b,m,p,c,S,I),dispatchChange:()=>{s.setDirty(!0);const S=ay(s);S.bookmark=A0(s.selection),s.dispatch("change",{level:S,lastLevel:Tt(b.data,m.get()).getOrUndefined()})},undo:()=>((S,I,E,F)=>So(S).undoManager.undo(I,E,F))(s,b,p,m),redo:()=>((S,I,E)=>So(S).undoManager.redo(I,E))(s,m,b.data),clear:()=>{((S,I,E)=>{So(S).undoManager.clear(I,E)})(s,b,m)},reset:()=>{((S,I)=>{So(S).undoManager.reset(I)})(s,b)},hasUndo:()=>((S,I,E)=>So(S).undoManager.hasUndo(I,E))(s,b,m),hasRedo:()=>((S,I,E)=>So(S).undoManager.hasRedo(I,E))(s,b,m),transact:S=>((I,E,F,W)=>So(I).undoManager.transact(E,F,W))(s,b,p,S),ignore:S=>{((I,E,F)=>{So(I).undoManager.ignore(E,F)})(s,p,S)},extra:(S,I)=>{((E,F,W,$,tt)=>{So(E).undoManager.extra(F,W,$,tt)})(s,b,m,S,I)}};return aa(s)||((S,I,E)=>{const F=no(!1),W=$=>{Kx(I,!1,E),I.add({},$)};S.on("init",()=>{I.add()}),S.on("BeforeExecCommand",$=>{const tt=$.command;py(tt)||(GM(I,E),I.beforeChange())}),S.on("ExecCommand",$=>{const tt=$.command;py(tt)||W($)}),S.on("ObjectResizeStart cut",()=>{I.beforeChange()}),S.on("SaveContent ObjectResized blur",W),S.on("dragend",W),S.on("keyup",$=>{const tt=$.keyCode;$.isDefaultPrevented()||((tt>=33&&tt<=36||tt>=37&&tt<=40||tt===45||$.ctrlKey)&&(W(),S.nodeChanged()),tt!==46&&tt!==8||S.nodeChanged(),F.get()&&I.typing&&!tf(ay(S),I.data[0])&&(S.isDirty()||S.setDirty(!0),S.dispatch("TypingUndo"),F.set(!1),S.nodeChanged()))}),S.on("keydown",$=>{const tt=$.keyCode;if($.isDefaultPrevented())return;if(tt>=33&&tt<=36||tt>=37&&tt<=40||tt===45)return void(I.typing&&W($));const ut=$.ctrlKey&&!$.altKey||$.metaKey;!(tt<16||tt>20)||tt===224||tt===91||I.typing||ut||(I.beforeChange(),Kx(I,!0,E),I.add({},$),F.set(!0))}),S.on("mousedown",$=>{I.typing&&W($)}),S.on("input",$=>{var tt;$.inputType&&($.inputType==="insertReplacementText"||(tt=$).inputType==="insertText"&&tt.data===null||(ut=>ut.inputType==="insertFromPaste"||ut.inputType==="insertFromDrop")($))&&W($)}),S.on("AddUndo Undo Redo ClearUndos",$=>{$.isDefaultPrevented()||S.nodeChanged()})})(s,b,p),(S=>{S.addShortcut("meta+z","","Undo"),S.addShortcut("meta+y,meta+shift+z","","Redo")})(s),b},Tc=[9,27,Ai.HOME,Ai.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ai.DOWN,Ai.UP,Ai.LEFT,Ai.RIGHT].concat(ti.browser.isFirefox()?[224]:[]),oT="data-mce-placeholder",aT=s=>s.type==="keydown"||s.type==="keyup",Vl=s=>{const c=s.keyCode;return c===Ai.BACKSPACE||c===Ai.DELETE},lo=(s,c)=>({from:s,to:c}),Lo=(s,c)=>{const p=Xe(s),m=Xe(c.container());return bx(p,m).map(b=>((S,I)=>({block:S,position:I}))(b,c))},Ic=(s,c)=>wl(c,p=>Ia(p)||ba(p.dom),p=>tr(p,s)).filter(Po).getOr(s),Dc=s=>{const c=(p=>{const m=Ro(p);return wn(m,Bs).fold(ie(m),b=>m.slice(0,b))})(s);return he(c,_r),c},CS=(s,c)=>{const p=uu(c,s);return Yi(p.reverse(),m=>ho(m)).each(_r)},tb=(s,c,p,m)=>{if(ho(p))return Ja(p),Xr(p.dom);Gn(Xa(m),S=>!ho(S)).length===0&&ho(c)&&pa(m,bo("br"));const b=so(p.dom,tn.before(m.dom));return he(Dc(c),S=>{pa(m,S)}),CS(s,c),b},Ls=(s,c,p)=>{if(ho(p))return _r(p),ho(c)&&Ja(c),Xr(c.dom);const m=Dr(p.dom);return he(Dc(c),b=>{Bo(p,b)}),CS(s,c),m},kS=(s,c)=>{Np(s,c.dom).bind(p=>U.from(p.getNode())).map(Xe).filter(ga).each(_r)},sT=(s,c,p)=>(kS(!0,c),kS(!1,p),((m,b)=>bl(b,m)?((S,I)=>{const E=uu(I,S);return U.from(E[E.length-1])})(b,m):U.none())(c,p).fold(De(Ls,s,c,p),De(tb,s,c,p))),AS=(s,c,p,m)=>c?sT(s,m,p):sT(s,p,m),MS=(s,c)=>{const p=Xe(s.getBody());return((b,S,I)=>I.collapsed?((E,F,W)=>{const $=Lo(E,tn.fromRangeStart(W)),tt=$.bind(ut=>ra(F,E,ut.position).bind(ht=>Lo(E,ht).map(st=>((xt,lt,_t)=>oo(_t.position.getNode())&&!ho(_t.block)?Np(!1,_t.block.dom).bind(Pt=>Pt.isEqual(_t.position)?ra(lt,xt,Pt).bind(Xt=>Lo(xt,Xt)):U.some(_t)).getOr(_t):_t)(E,F,st))));return to($,tt,lo).filter(ut=>(ht=>!tr(ht.from.block,ht.to.block))(ut)&&((ht,st)=>{const xt=Xe(ht);return tr(Ic(xt,st.from.block),Ic(xt,st.to.block))})(E,ut)&&(ht=>Yr(ht.from.block.dom)===!1&&Yr(ht.to.block.dom)===!1)(ut)&&(ht=>{const st=xt=>Pu(xt)||zu(xt.dom);return st(ht.from.block)&&st(ht.to.block)})(ut))})(b,S,I):U.none())(p.dom,c,s.selection.getRng()).map(b=>()=>{AS(p,c,b.from.block,b.to.block).each(S=>{s.selection.setRng(S.toRange())})})},eb=(s,c)=>{const p=Xe(c),m=De(tr,s);return rc(p,Ia,m).isSome()},TS=s=>{const c=Xe(s.getBody());return((p,m)=>{const b=so(p.dom,tn.fromRangeStart(m)).isNone(),S=Pa(p.dom,tn.fromRangeEnd(m)).isNone();return!((I,E)=>eb(I,E.startContainer)||eb(I,E.endContainer))(p,m)&&b&&S})(c,s.selection.getRng())?(p=>U.some(()=>{p.setContent(""),p.selection.setCursorLocation()}))(s):((p,m)=>{const b=m.getRng();return to(bx(p,Xe(b.startContainer)),bx(p,Xe(b.endContainer)),(S,I)=>tr(S,I)?U.none():U.some(()=>{b.deleteContents(),AS(p,!0,S,I).each(E=>{m.setRng(E.toRange())})})).getOr(U.none())})(c,s.selection)},nb=(s,c)=>s.selection.isCollapsed()?U.none():TS(s),mu=(s,c,p,m,b)=>U.from(c._selectionOverrides.showCaret(s,p,m,b)),sm=(s,c)=>s.dispatch("BeforeObjectSelected",{target:c}).isDefaultPrevented()?U.none():U.some((p=>{const m=p.ownerDocument.createRange();return m.selectNode(p),m})(c)),ib=(s,c,p)=>c.collapsed?((m,b,S)=>{const I=mg(1,m.getBody(),b),E=tn.fromRangeStart(I),F=E.getNode();if(vc(F))return mu(1,m,F,!E.isAtEnd(),!1);const W=E.getNode(!0);if(vc(W))return mu(1,m,W,!1,!1);const $=dd(m.dom.getRoot(),E.getNode());return vc($)?mu(1,m,$,!1,S):U.none()})(s,c,p).getOr(c):c,KD=s=>th(s)||Vg(s),JD=s=>cu(s)||Hg(s),IS=(s,c,p,m,b,S)=>{mu(m,s,S.getNode(!b),b,!0).each(I=>{if(c.collapsed){const E=c.cloneRange();b?E.setEnd(I.startContainer,I.startOffset):E.setStart(I.endContainer,I.endOffset),E.deleteContents()}else c.deleteContents();s.selection.setRng(I)}),((I,E)=>{Dn(E)&&E.data.length===0&&I.remove(E)})(s.dom,p)},Os=(s,c)=>((p,m)=>{const b=p.selection.getRng();if(!Dn(b.commonAncestorContainer))return U.none();const S=m?_o.Forwards:_o.Backwards,I=xc(p.getBody()),E=De(As,m?I.next:I.prev),F=m?KD:JD,W=Dp(S,p.getBody(),b),$=E(W),tt=$&&Ba(m,$);if(!tt||!yg(W,tt))return U.none();if(F(tt))return U.some(()=>IS(p,b,W.getNode(),S,m,tt));const ut=E(tt);return ut&&F(ut)&&yg(tt,ut)?U.some(()=>IS(p,b,W.getNode(),S,m,ut)):U.none()})(s,c),fy=(s,c)=>{const p=s.getBody();return c?Xr(p).filter(th):Dr(p).filter(cu)},DS=s=>{const c=s.selection.getRng();return!c.collapsed&&(fy(s,!0).exists(p=>p.isEqual(tn.fromRangeStart(c)))||fy(s,!1).exists(p=>p.isEqual(tn.fromRangeEnd(c))))},us=gc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),gy=(s,c,p)=>ra(c,s,p).bind(m=>{return b=m.getNode(),Kt(b)&&(Ia(Xe(b))||Nu(Xe(b)))||((S,I,E,F)=>{const W=$=>zs(Xe($))&&!sl(E,F,S);return vg(!I,E).fold(()=>vg(I,F).fold(oe,W),W)})(s,c,p,m)?U.none():c&&Yr(m.getNode())||!c&&Yr(m.getNode(!0))?((S,I,E,F)=>{const W=F.getNode(!I);return bx(Xe(S),Xe(E.getNode())).map($=>ho($)?us.remove($.dom):us.moveToElement(W)).orThunk(()=>U.some(us.moveToElement(W)))})(s,c,p,m):c&&cu(p)||!c&&th(p)?U.some(us.moveToPosition(m)):U.none();var b}),lT=(s,c)=>U.from(dd(s.getBody(),c)),LS=(s,c)=>{const p=s.selection.getNode();return lT(s,p).filter(Yr).fold(()=>((m,b,S)=>{const I=mg(b?1:-1,m,S),E=tn.fromRangeStart(I),F=Xe(m);return!b&&cu(E)?U.some(us.remove(E.getNode(!0))):b&&th(E)?U.some(us.remove(E.getNode())):!b&&th(E)&&mx(F,E)?o_(F,E).map(W=>us.remove(W.getNode())):b&&cu(E)&&r_(F,E)?nM(F,E).map(W=>us.remove(W.getNode())):((W,$,tt)=>((ut,ht)=>{const st=ht.getNode(!ut),xt=ut?"after":"before";return li(st)&&st.getAttribute("data-mce-caret")===xt})($,tt)?((ut,ht)=>Ft(ht)?U.none():ut&&Yr(ht.nextSibling)?U.some(us.moveToElement(ht.nextSibling)):!ut&&Yr(ht.previousSibling)?U.some(us.moveToElement(ht.previousSibling)):U.none())($,tt.getNode(!$)).orThunk(()=>gy(W,$,tt)):gy(W,$,tt).bind(ut=>((ht,st,xt)=>xt.fold(lt=>U.some(us.remove(lt)),lt=>U.some(us.moveToElement(lt)),lt=>sl(st,lt,ht)?U.none():U.some(us.moveToPosition(lt))))(W,tt,ut)))(m,b,E)})(s.getBody(),c,s.selection.getRng()).map(m=>()=>m.fold(((b,S)=>I=>(b._selectionOverrides.hideFakeCaret(),hd(b,S,Xe(I)),!0))(s,c),((b,S)=>I=>{const E=S?tn.before(I):tn.after(I);return b.selection.setRng(E.toRange()),!0})(s,c),(b=>S=>(b.selection.setRng(S.toRange()),!0))(s))),()=>U.some(ne))},rb=s=>{const c=s.dom,p=s.selection,m=dd(s.getBody(),p.getNode());if(ba(m)&&c.isBlock(m)&&c.isEmpty(m)){const b=c.create("br",{"data-mce-bogus":"1"});c.setHTML(m,""),m.appendChild(b),p.setRng(tn.before(b).toRange())}return!0},my=(s,c)=>s.selection.isCollapsed()?LS(s,c):((p,m)=>{const b=p.selection.getNode();return Yr(b)&&!Ka(b)?lT(p,b.parentNode).filter(Yr).fold(()=>U.some(()=>{var S;S=Xe(p.getBody()),he(fa(S,".mce-offscreen-selection"),_r),hd(p,m,Xe(p.selection.getNode())),Xp(p)}),()=>U.some(ne)):DS(p)?U.some(()=>{hM(p,p.selection.getRng(),Xe(p.getBody()))}):U.none()})(s,c),ob=(s,c)=>s.selection.isCollapsed()?((p,m)=>{const b=tn.fromRangeStart(p.selection.getRng());return ra(m,p.getBody(),b).filter(S=>m?SD(S):CD(S)).bind(S=>fg(m?0:-1,S)).map(S=>()=>p.selection.select(S))})(s,c):U.none(),Hl=Dn,cT=s=>Hl(s)&&s.data[0]===Co,OS=s=>Hl(s)&&s.data[s.data.length-1]===Co,lm=s=>{var c;return((c=s.ownerDocument)!==null&&c!==void 0?c:document).createTextNode(Co)},ab=(s,c)=>s?(p=>{var m;if(Hl(p.previousSibling))return OS(p.previousSibling)||p.previousSibling.appendData(Co),p.previousSibling;if(Hl(p))return cT(p)||p.insertData(0,Co),p;{const b=lm(p);return(m=p.parentNode)===null||m===void 0||m.insertBefore(b,p),b}})(c):(p=>{var m,b;if(Hl(p.nextSibling))return cT(p.nextSibling)||p.nextSibling.insertData(0,Co),p.nextSibling;if(Hl(p))return OS(p)||p.appendData(Co),p;{const S=lm(p);return p.nextSibling?(m=p.parentNode)===null||m===void 0||m.insertBefore(S,p.nextSibling):(b=p.parentNode)===null||b===void 0||b.appendChild(S),S}})(c),ES=De(ab,!0),QD=De(ab,!1),uT=(s,c)=>Dn(s.container())?ab(c,s.container()):ab(c,s.getNode()),PS=(s,c)=>{const p=c.get();return p&&s.container()===p&&Wc(p)},sb=(s,c)=>c.fold(p=>{Mp(s.get());const m=ES(p);return s.set(m),U.some(tn(m,m.length-1))},p=>Xr(p).map(m=>{if(PS(m,s)){const b=s.get();return tn(b,1)}{Mp(s.get());const b=uT(m,!0);return s.set(b),tn(b,1)}}),p=>Dr(p).map(m=>{if(PS(m,s)){const b=s.get();return tn(b,b.length-1)}{Mp(s.get());const b=uT(m,!1);return s.set(b),tn(b,b.length-1)}}),p=>{Mp(s.get());const m=QD(p);return s.set(m),U.some(tn(m,1))}),NS=(s,c)=>{for(let p=0;p<s.length;p++){const m=s[p].apply(null,c);if(m.isSome())return m}return U.none()},jr=gc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),lb=(s,c)=>Ca(c,s)||s,RS=(s,c,p)=>{const m=g_(p),b=lb(c,m.container());return hl(s,b,m).fold(()=>Pa(b,m).bind(De(hl,s,b)).map(S=>jr.before(S)),U.none)},hT=(s,c)=>Uh(s,c)===null,BS=(s,c,p)=>hl(s,c,p).filter(De(hT,c)),cf=(s,c,p)=>{const m=m_(p);return BS(s,c,m).bind(b=>so(b,m).isNone()?U.some(jr.start(b)):U.none())},tL=(s,c,p)=>{const m=g_(p);return BS(s,c,m).bind(b=>Pa(b,m).isNone()?U.some(jr.end(b)):U.none())},eL=(s,c,p)=>{const m=m_(p),b=lb(c,m.container());return hl(s,b,m).fold(()=>so(b,m).bind(De(hl,s,b)).map(S=>jr.after(S)),U.none)},dT=s=>{return c=cb(s),!(kr.DOM.getStyle(c,"direction",!0)==="rtl"||(m=>sM.test(m))((p=c.textContent)!==null&&p!==void 0?p:""));var c,p},Lc=(s,c,p)=>NS([RS,cf,tL,eL],[s,c,p]).filter(dT),cb=s=>s.fold(Le,Le,Le,Le),vy=s=>s.fold(ie("before"),ie("start"),ie("end"),ie("after")),Ad=s=>s.fold(jr.before,jr.before,jr.after,jr.after),ub=s=>s.fold(jr.start,jr.start,jr.end,jr.end),pT=(s,c,p,m,b,S)=>to(hl(c,p,m),hl(c,p,b),(I,E)=>I!==E&&((F,W,$)=>{const tt=Ca(W,F),ut=Ca($,F);return Kt(tt)&&tt===ut})(p,I,E)?jr.after(s?I:E):S).getOr(S),zS=(s,c)=>s.fold(Oe,p=>{return b=c,!(vy(m=p)===vy(b)&&cb(m)===cb(b));var m,b}),fT=(s,c)=>s?c.fold(Ht(U.some,jr.start),U.none,Ht(U.some,jr.after),U.none):c.fold(U.none,Ht(U.some,jr.before),U.none,Ht(U.some,jr.end)),hb=(s,c,p)=>{const m=s?1:-1;return c.setRng(tn(p.container(),p.offset()+m).toRange()),c.getSel().modify("move",s?"forward":"backward","word"),!0};var Oc;(function(s){s[s.Br=0]="Br",s[s.Block=1]="Block",s[s.Wrap=2]="Wrap",s[s.Eol=3]="Eol"})(Oc||(Oc={}));const yy=(s,c)=>s===_o.Backwards?ui(c):c,gT=(s,c,p)=>s===_o.Forwards?c.next(p):c.prev(p),FS=(s,c,p,m)=>oo(m.getNode(c===_o.Forwards))?Oc.Br:sl(p,m)===!1?Oc.Block:Oc.Wrap,mT=(s,c,p,m)=>{const b=xc(p);let S=m;const I=[];for(;S;){const E=gT(c,b,S);if(!E)break;if(oo(E.getNode(!1)))return c===_o.Forwards?{positions:yy(c,I).concat([E]),breakType:Oc.Br,breakAt:U.some(E)}:{positions:yy(c,I),breakType:Oc.Br,breakAt:U.some(E)};if(E.isVisible()){if(s(S,E)){const F=FS(0,c,S,E);return{positions:yy(c,I),breakType:F,breakAt:U.some(E)}}I.push(E),S=E}else S=E}return{positions:yy(c,I),breakType:Oc.Eol,breakAt:U.none()}},VS=(s,c,p,m)=>c(p,m).breakAt.map(b=>{const S=c(p,b).positions;return s===_o.Backwards?S.concat(b):[b].concat(S)}).getOr([]),db=(s,c)=>Zn(s,(p,m)=>p.fold(()=>U.some(m),b=>to(Ut(b.getClientRects()),Ut(m.getClientRects()),(S,I)=>{const E=Math.abs(c-S.left);return Math.abs(c-I.left)<=E?m:b}).or(p)),U.none()),xy=(s,c)=>Ut(c.getClientRects()).bind(p=>db(s,p.left)),cm=De(mT,tn.isAbove,-1),by=De(mT,tn.isBelow,1),HS=De(VS,-1,cm),uf=De(VS,1,by),vT=(s,c)=>xy(HS(s,c),c),yT=(s,c)=>xy(uf(s,c),c),xT=Yr,WS=(s,c)=>Math.abs(s.left-c),pb=(s,c)=>Math.abs(s.right-c),bT=(s,c)=>mr(s,(p,m)=>{const b=Math.min(WS(p,c),pb(p,c)),S=Math.min(WS(m,c),pb(m,c));return S===b&&Di(m,"node")&&xT(m.node)||S<b?m:p}),jS=s=>{const c=p=>un(p,m=>{const b=H(m);return b.node=s,b});if(li(s))return c(s.getClientRects());if(Dn(s)){const p=s.ownerDocument.createRange();return p.setStart(s,0),p.setEnd(s,s.data.length),c(p.getClientRects())}return[]},Ec=s=>Un(s,jS);var wy;(function(s){s[s.Up=-1]="Up",s[s.Down=1]="Down"})(wy||(wy={}));const um=(s,c,p,m,b,S)=>{let I=0;const E=[],F=tt=>{let ut=Ec([tt]);s===-1&&(ut=ut.reverse());for(let ht=0;ht<ut.length;ht++){const st=ut[ht];if(!p(st,W)){if(E.length>0&&c(st,ei(E))&&I++,st.line=I,b(st))return!0;E.push(st)}}return!1},W=ei(S.getClientRects());if(!W)return E;const $=S.getNode();return $&&(F($),((tt,ut,ht,st)=>{let xt=st;for(;xt=$u(xt,tt,Qa,ut);)if(ht(xt))return})(s,m,F,$)),E},fb=De(um,wy.Up,at,dt),wT=De(um,wy.Down,dt,at),_y=s=>ei(s.getClientRects()),gb=s=>c=>((p,m)=>m.line>p)(s,c),Md=s=>c=>((p,m)=>m.line===p)(s,c),dh=(s,c)=>{s.selection.setRng(c),Ng(s,s.selection.getRng())},YS=(s,c,p)=>U.some(ib(s,c,p)),GS=(s,c,p,m,b,S)=>{const I=c===_o.Forwards,E=xc(s.getBody()),F=De(As,I?E.next:E.prev),W=I?m:b;if(!p.collapsed){const st=Dt(p);if(S(st))return mu(c,s,st,c===_o.Backwards,!1);if(DS(s)){const xt=p.cloneRange();return xt.collapse(c===_o.Backwards),U.from(xt)}}const $=Dp(c,s.getBody(),p);if(W($))return sm(s,$.getNode(!I));let tt=F($);const ut=Ei(p);if(!tt)return ut?U.some(p):U.none();if(tt=Ba(I,tt),W(tt))return mu(c,s,tt.getNode(!I),I,!1);const ht=F(tt);return ht&&W(ht)&&yg(tt,ht)?mu(c,s,ht.getNode(!I),I,!1):ut?YS(s,tt.toRange(),!1):U.none()},XS=(s,c,p,m,b,S)=>{const I=Dp(c,s.getBody(),p),E=ei(I.getClientRects()),F=c===wy.Down,W=s.getBody();if(!E)return U.none();if(DS(s)){const xt=F?tn.fromRangeEnd(p):tn.fromRangeStart(p);return(F?yT:vT)(W,xt).orThunk(()=>U.from(xt)).map(lt=>lt.toRange())}const $=(F?wT:fb)(W,gb(1),I),tt=Gn($,Md(1)),ut=E.left,ht=bT(tt,ut);if(ht&&S(ht.node)){const xt=Math.abs(ut-ht.left),lt=Math.abs(ut-ht.right);return mu(c,s,ht.node,xt<lt,!1)}let st;if(st=m(I)?I.getNode():b(I)?I.getNode(!0):Dt(p),st){const xt=((_t,Pt,Xt,ce)=>{const Ae=xc(Pt);let _e,Ye,ze,Ge;const en=[];let nn=0;_t===1?(_e=Ae.next,Ye=dt,ze=at,Ge=tn.after(ce)):(_e=Ae.prev,Ye=at,ze=dt,Ge=tn.before(ce));const hn=_y(Ge);do{if(!Ge.isVisible())continue;const sn=_y(Ge);if(ze(sn,hn))continue;en.length>0&&Ye(sn,ei(en))&&nn++;const xn=H(sn);if(xn.position=Ge,xn.line=nn,Xt(xn))return en;en.push(xn)}while(Ge=_e(Ge));return en})(c,W,gb(1),st);let lt=bT(Gn(xt,Md(1)),ut);if(lt||(lt=ei(Gn(xt,Md(0))),lt))return YS(s,lt.position.toRange(),!1)}return tt.length===0?Sy(s,F).filter(F?b:m).map(xt=>ib(s,xt.toRange(),!1)):U.none()},Sy=(s,c)=>{const p=s.selection.getRng(),m=c?tn.fromRangeEnd(p):tn.fromRangeStart(p),b=(S=m.container(),I=s.getBody(),rc(Xe(S),E=>V0(E.dom),E=>E.dom===I).map(E=>E.dom).getOr(I));var S,I;if(c){const E=by(b,m);return ve(E.positions)}{const E=cm(b,m);return Ut(E.positions)}},qS=(s,c,p)=>Sy(s,c).filter(p).exists(m=>(s.selection.setRng(m.toRange()),!0)),Td=(s,c)=>{const p=s.dom.createRng();p.setStart(c.container(),c.offset()),p.setEnd(c.container(),c.offset()),s.selection.setRng(p)},Cy=(s,c)=>{s?c.setAttribute("data-mce-selected","inline-boundary"):c.removeAttribute("data-mce-selected")},_T=(s,c,p)=>sb(c,p).map(m=>(Td(s,m),p)),nL=(s,c,p)=>{const m=s.getBody(),b=((S,I,E)=>{const F=tn.fromRangeStart(S);if(S.collapsed)return F;{const W=tn.fromRangeEnd(S);return E?so(I,W).getOr(W):Pa(I,F).getOr(F)}})(s.selection.getRng(),m,p);return((S,I,E,F)=>{const W=Ba(S,F),$=Lc(I,E,W);return Lc(I,E,W).bind(De(fT,S)).orThunk(()=>((tt,ut,ht,st,xt)=>{const lt=Ba(tt,xt);return ra(tt,ht,lt).map(De(Ba,tt)).fold(()=>st.map(Ad),_t=>Lc(ut,ht,_t).map(De(pT,tt,ut,ht,lt,_t)).filter(De(zS,st))).filter(dT)})(S,I,E,$,F))})(p,De(du,s),m,b).bind(S=>_T(s,c,S))},hf=(s,c,p)=>!!cg(s)&&nL(s,c,p).isSome(),US=(s,c,p)=>!!cg(c)&&((m,b)=>{const S=b.selection.getRng(),I=m?tn.fromRangeEnd(S):tn.fromRangeStart(S);return!!(E=>se(E.selection.getSel().modify))(b)&&(m&&jc(I)?hb(!0,b.selection,I):!(m||!hp(I))&&hb(!1,b.selection,I))})(s,c),ky=s=>{const c=no(null),p=De(du,s);return s.on("NodeChange",m=>{cg(s)&&(((b,S,I)=>{const E=un(fa(Xe(S.getRoot()),'*[data-mce-selected="inline-boundary"]'),$=>$.dom),F=Gn(E,b),W=Gn(I,b);he(Ri(F,W),De(Cy,!1)),he(Ri(W,F),De(Cy,!0))})(p,s.dom,m.parents),((b,S)=>{const I=S.get();if(b.selection.isCollapsed()&&!b.composing&&I){const E=tn.fromRangeStart(b.selection.getRng());tn.isTextPosition(E)&&!(F=>jc(F)||hp(F))(E)&&(Td(b,dg(I,E)),S.set(null))}})(s,c),((b,S,I,E)=>{if(S.selection.isCollapsed()){const F=Gn(E,b);he(F,W=>{const $=tn.fromRangeStart(S.selection.getRng());Lc(b,S.getBody(),$).bind(tt=>_T(S,I,tt))})}})(p,s,c,m.parents))}),c},iL=De(US,!0),$S=De(US,!1),Ay=(s,c,p)=>{if(cg(s)){const m=Sy(s,c).getOrThunk(()=>{const b=s.selection.getRng();return c?tn.fromRangeEnd(b):tn.fromRangeStart(b)});return Lc(De(du,s),s.getBody(),m).exists(b=>{const S=Ad(b);return sb(p,S).exists(I=>(Td(s,I),!0))})}return!1},ZS=(s,c)=>p=>sb(c,p).map(m=>()=>Td(s,m)),hm=(s,c,p,m)=>{const b=s.getBody(),S=De(du,s);s.undoManager.ignore(()=>{s.selection.setRng(((I,E)=>{const F=document.createRange();return F.setStart(I.container(),I.offset()),F.setEnd(E.container(),E.offset()),F})(p,m)),v_(s),Lc(S,b,tn.fromRangeStart(s.selection.getRng())).map(ub).bind(ZS(s,c)).each(ln)}),s.nodeChanged()},mb=(s,c,p)=>{if(s.selection.isCollapsed()&&cg(s)){const m=tn.fromRangeStart(s.selection.getRng());return((b,S,I,E)=>{const F=((tt,ut)=>Ca(ut,tt)||tt)(b.getBody(),E.container()),W=De(du,b),$=Lc(W,F,E);return $.bind(tt=>I?tt.fold(ie(U.some(ub(tt))),U.none,ie(U.some(Ad(tt))),U.none):tt.fold(U.none,ie(U.some(Ad(tt))),U.none,ie(U.some(ub(tt))))).map(ZS(b,S)).getOrThunk(()=>{const tt=qh(I,F,E),ut=tt.bind(ht=>Lc(W,F,ht));return to($,ut,()=>hl(W,F,E).bind(ht=>(st=>to(Xr(st),Dr(st),(xt,lt)=>{const _t=Ba(!0,xt),Pt=Ba(!1,lt);return Pa(st,_t).forall(Xt=>Xt.isEqual(Pt))}).getOr(!0))(ht)?U.some(()=>{hd(b,I,Xe(ht))}):U.none())).getOrThunk(()=>ut.bind(()=>tt.map(ht=>()=>{I?hm(b,S,E,ht):hm(b,S,ht,E)})))})})(s,c,p,m)}return U.none()},ST=s=>Kd(s)===1,Id=(s,c)=>{const p=Xe(s.getBody()),m=Xe(s.selection.getStart()),b=Gn(((S,I)=>{const E=uu(I,S);return wn(E,Bs).fold(ie(E),F=>E.slice(0,F))})(p,m),ST);return ve(b).bind(S=>{const I=tn.fromRangeStart(s.selection.getRng());return!((F,W,$)=>to(Xr($),Dr($),(tt,ut)=>{const ht=Ba(!0,tt),st=Ba(!1,ut),xt=Ba(!1,W);return F?Pa($,xt).exists(lt=>lt.isEqual(st)&&W.isEqual(ht)):so($,xt).exists(lt=>lt.isEqual(ht)&&W.isEqual(st))}).getOr(!0))(c,I,S.dom)||Nl((E=S).dom)&&L_(E.dom)?U.none():U.some(()=>((F,W,$,tt)=>{const ut=De(Up,W),ht=un(Gn(tt,ut),st=>st.dom);if(ht.length===0)hd(W,F,$);else{const st=((xt,lt)=>{const _t=Ax(!1),Pt=$g(lt,_t.dom);return pa(Xe(xt),_t),_r(Xe(xt)),tn(Pt,0)})($.dom,ht);W.selection.setRng(st.toRange())}})(c,s,S,b));var E})},vu=(s,c)=>s.selection.isCollapsed()?Id(s,c):U.none(),ph=(s,c,p)=>Kt(p)?U.some(()=>{s._selectionOverrides.hideFakeCaret(),hd(s,c,Xe(p))}):U.none(),My=(s,c)=>s.selection.isCollapsed()?((p,m)=>{const b=m?Vg:Hg,S=m?_o.Forwards:_o.Backwards,I=Dp(S,p.getBody(),p.selection.getRng());return b(I)?ph(p,m,I.getNode(!m)):U.from(Ba(m,I)).filter(E=>b(E)&&yg(I,E)).bind(E=>ph(p,m,E.getNode(!m)))})(s,c):((p,m)=>{const b=p.selection.getNode();return ws(b)?ph(p,m,b):U.none()})(s,c),vb=s=>M(s??"").getOr(0),CT=(s,c)=>(s||Tr(c)==="table"?"margin":"padding")+(qa(c,"direction")==="rtl"?"-right":"-left"),kT=s=>{const c=JS(s);return!s.mode.isReadOnly()&&(c.length>1||((p,m)=>_i(m,b=>{const S=CT(Z1(p),b),I=To(b,S).map(vb).getOr(0);return p.dom.getContentEditable(b.dom)!=="false"&&I>0}))(s,c))},KS=s=>Lh(s)||Nu(s),JS=s=>Gn(ta(s.selection.getSelectedBlocks()),c=>!KS(c)&&!(p=>Xo(p).exists(KS))(c)&&wl(c,p=>ba(p.dom)||Yr(p.dom)).exists(p=>ba(p.dom))),QS=(s,c)=>{var p,m;const{dom:b}=s,S=nA(s),I=(m=(p=/[a-z%]+$/i.exec(S))===null||p===void 0?void 0:p[0])!==null&&m!==void 0?m:"px",E=vb(S),F=Z1(s);he(JS(s),W=>{(($,tt,ut,ht,st,xt)=>{const lt=CT(ut,Xe(xt)),_t=vb($.getStyle(xt,lt));if(tt==="outdent"){const Pt=Math.max(0,_t-ht);$.setStyle(xt,lt,Pt?Pt+st:"")}else{const Pt=_t+ht+st;$.setStyle(xt,lt,Pt)}})(b,c,F,E,I,W.dom)})},Ty=s=>QS(s,"outdent"),Dd=s=>{if(s.selection.isCollapsed()&&kT(s)){const c=s.dom,p=s.selection.getRng(),m=tn.fromRangeStart(p),b=c.getParent(p.startContainer,c.isBlock);if(b!==null&&n_(Xe(b),m))return U.some(()=>Ty(s))}return U.none()},tC=(s,c,p)=>Te([Dd,my,Os,(m,b)=>mb(m,c,b),MS,Pv,ob,My,nb,vu],m=>m(s,p)),AT=(s,c)=>{s.addCommand("delete",()=>{((p,m)=>{tC(p,m,!1).fold(()=>{v_(p),Xp(p)},ln)})(s,c)}),s.addCommand("forwardDelete",()=>{((p,m)=>{tC(p,m,!0).fold(()=>(b=>lM(b,"ForwardDelete"))(p),ln)})(s,c)})},eC=s=>s.touches===void 0||s.touches.length!==1?U.none():U.some(s.touches[0]),yb=(s,c)=>gn(s,c.nodeName),Ld=(s,c)=>!!Dn(c)||!!li(c)&&!yb(s.getBlockElements(),c)&&!ll(c)&&!Sr(s,c),rL=(s,c)=>!!(Dn(c)&&(c.data.length===0||/^\s+$/.test(c.data)&&(!c.nextSibling||yb(s,c.nextSibling)))),MT=s=>s.dom.create(Oa(s),lg(s)),TT=s=>{const c=s.dom,p=s.selection,m=s.schema,b=m.getBlockElements(),S=p.getStart(),I=s.getBody();let E,F,W=!1;const $=Oa(s);if(!S||!li(S))return;const tt=I.nodeName.toLowerCase();if(!m.isValidChild(tt,$.toLowerCase())||((Xt,ce,Ae)=>Be(Qw(Xe(Ae),Xe(ce)),_e=>yb(Xt,_e.dom)))(b,I,S))return;const ut=p.getRng(),{startContainer:ht,startOffset:st,endContainer:xt,endOffset:lt}=ut,_t=ld(s);let Pt=I.firstChild;for(;Pt;)if(li(Pt)&&mp(m,Pt),Ld(m,Pt)){if(rL(b,Pt)){F=Pt,Pt=Pt.nextSibling,c.remove(F);continue}E||(E=MT(s),I.insertBefore(E,Pt),W=!0),F=Pt,Pt=Pt.nextSibling,E.appendChild(F)}else E=null,Pt=Pt.nextSibling;W&&_t&&(ut.setStart(ht,st),ut.setEnd(xt,lt),p.setRng(ut),s.nodeChanged())},nC=(s,c,p)=>{const m=Xe(MT(s)),b=up();Bo(m,b),p(c,m);const S=document.createRange();return S.setStartBefore(b.dom),S.setEndBefore(b.dom),S},xb=s=>c=>(" "+c.attr("class")+" ").indexOf(s)!==-1,oL=(s,c,p)=>function(m){const b=arguments,S=b[b.length-2],I=S>0?c.charAt(S-1):"";if(I==='"')return m;if(I===">"){const E=c.lastIndexOf("<",S);if(E!==-1&&c.substring(E,S).indexOf('contenteditable="false"')!==-1)return m}return'<span class="'+p+'" data-mce-content="'+s.dom.encode(b[0])+'">'+s.dom.encode(typeof b[1]=="string"?b[1]:b[0])+"</span>"},dm=(s,c)=>{c.hasAttribute("data-mce-caret")&&($f(c),s.selection.setRng(s.selection.getRng()),s.selection.scrollIntoView(c))},aL=(s,c)=>{const p=(m=>Vc(Xe(m.getBody()),"*[data-mce-caret]").map(b=>b.dom).getOrNull())(s);if(p)return c.type==="compositionstart"?(c.preventDefault(),c.stopPropagation(),void dm(s,p)):void(Xm(p)&&(dm(s,p),s.undoManager.add()))},IT=Yr,iC=(s,c,p)=>{const m=xc(s.getBody()),b=De(As,c===1?m.next:m.prev);if(p.collapsed){const S=s.dom.getParent(p.startContainer,"PRE");if(!S)return;if(!b(tn.fromRangeStart(p))){const I=Xe((E=>{const F=E.dom.create(Oa(E));return F.innerHTML='<br data-mce-bogus="1">',F})(s));c===1?ec(Xe(S),I):pa(Xe(S),I),s.selection.select(I.dom,!0),s.selection.collapse()}}},pm=(s,c)=>((p,m)=>{const b=m?_o.Forwards:_o.Backwards,S=p.selection.getRng();return((I,E,F)=>GS(E,I,F,th,cu,IT))(b,p,S).orThunk(()=>(iC(p,b,S),U.none()))})(s,c).exists(p=>(dh(s,p),!0)),DT=(s,c)=>((p,m)=>{const b=m?1:-1,S=p.selection.getRng();return((I,E,F)=>XS(E,I,F,W=>th(W)||Jw(W),W=>cu(W)||Wg(W),IT))(b,p,S).orThunk(()=>(iC(p,b,S),U.none()))})(s,c).exists(p=>(dh(s,p),!0)),LT=(s,c)=>qS(s,c,c?cu:th),df=(s,c)=>fy(s,!c).map(p=>{const m=p.toRange(),b=s.selection.getRng();return c?m.setStart(b.startContainer,b.startOffset):m.setEnd(b.endContainer,b.endOffset),m}).exists(p=>(dh(s,p),!0)),bb=s=>Re(["figcaption"],Tr(s)),wb=(s,c)=>{const p=Xe(s.getBody()),m=tn.fromRangeStart(s.selection.getRng());return((b,S)=>{const I=De(tr,S);return wl(Xe(b.container()),Bs,I).filter(bb)})(m,p).exists(()=>{if(((b,S,I)=>S?((E,F)=>by(E,F).breakAt.isNone())(b.dom,I):((E,F)=>cm(E,F).breakAt.isNone())(b.dom,I))(p,c,m)){const b=nC(s,p,c?Bo:tp);return s.selection.setRng(b),!0}return!1})},_b=(s,c)=>!!s.selection.isCollapsed()&&wb(s,c),Sb={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},OT=(s,c)=>c.keyCode===s.keyCode&&c.shiftKey===s.shiftKey&&c.altKey===s.altKey&&c.ctrlKey===s.ctrlKey&&c.metaKey===s.metaKey,or=(s,...c)=>()=>s.apply(null,c),fm=(s,c)=>Yi(((p,m)=>Un((b=>un(b,S=>({...Sb,...S})))(p),b=>OT(b,m)?[b]:[]))(s,c),p=>p.action()),rC=(s,c)=>Te(((p,m)=>Un((b=>un(b,S=>({...Sb,...S})))(p),b=>OT(b,m)?[b]:[]))(s,c),p=>p.action()),oC=(s,c)=>{const p=c?_o.Forwards:_o.Backwards,m=s.selection.getRng();return GS(s,p,m,Vg,Hg,ws).exists(b=>(dh(s,b),!0))},ET=(s,c)=>{const p=c?1:-1,m=s.selection.getRng();return XS(s,p,m,Vg,Hg,ws).exists(b=>(dh(s,b),!0))},PT=(s,c)=>qS(s,c,c?Hg:Vg),aC=gc([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Od={...aC,none:s=>aC.none(s)},sC=(s,c,p)=>Un(Ro(s),m=>Go(m,c)?p(m)?[m]:[]:sC(m,c,p)),lC=(s,c)=>_l(s,"table",c),cC=(s,c,p,m,b=Oe)=>{const S=m===1;if(!S&&p<=0)return Od.first(s[0]);if(S&&p>=s.length-1)return Od.last(s[s.length-1]);{const I=p+m,E=s[I];return b(E)?Od.middle(c,E):cC(s,c,I,m,b)}},uC=(s,c)=>lC(s,c).bind(p=>{const m=sC(p,"th,td",Oe);return wn(m,b=>tr(s,b)).map(b=>({index:b,all:m}))}),hC=(s,c=!1)=>{return Ta(s)?s.dom.isContentEditable:(p=s,_l(p,"[contenteditable]")).fold(ie(c),m=>NT(m)==="true");var p},NT=s=>s.dom.contentEditable,dC=(s,c,p,m,b)=>{const S=fa(Xe(p),"td,th,caption").map(E=>E.dom),I=Gn(((E,F)=>Un(F,W=>{const $=((tt,ut)=>({left:tt.left-ut,top:tt.top-ut,right:tt.right+-2,bottom:tt.bottom+-2,width:tt.width+ut,height:tt.height+ut}))(H(W.getBoundingClientRect()),-1);return[{x:$.left,y:E($),cell:W},{x:$.right,y:E($),cell:W}]}))(s,S),E=>c(E,b));return((E,F,W)=>Zn(E,($,tt)=>$.fold(()=>U.some(tt),ut=>{const ht=Math.sqrt(Math.abs(ut.x-F)+Math.abs(ut.y-W)),st=Math.sqrt(Math.abs(tt.x-F)+Math.abs(tt.y-W));return U.some(st<ht?tt:ut)}),U.none()))(I,m,b).map(E=>E.cell)},Cb=De(dC,s=>s.bottom,(s,c)=>s.y<c),RT=De(dC,s=>s.top,(s,c)=>s.y>c),pC=(s,c,p)=>{const m=s(c,p);return(b=>b.breakType===Oc.Wrap&&b.positions.length===0)(m)||!oo(p.getNode())&&(b=>b.breakType===Oc.Br&&b.positions.length===1)(m)?!((b,S,I)=>I.breakAt.exists(E=>b(S,E).breakAt.isSome()))(s,c,m):m.breakAt.isNone()},BT=De(pC,cm),sL=De(pC,by),Iy=(s,c,p,m)=>{const b=s.selection.getRng(),S=c?1:-1;return!(!Gh()||!((I,E,F)=>{const W=tn.fromRangeStart(E);return Np(!I,F).exists($=>$.isEqual(W))})(c,b,p)||(mu(S,s,p,!c,!1).each(I=>{dh(s,I)}),0))},zT=(s,c,p)=>{const m=((S,I)=>{const E=I.getNode(S);return ea(E)?U.some(E):U.none()})(!!c,p),b=c===!1;m.fold(()=>dh(s,p.toRange()),S=>Np(b,s.getBody()).filter(I=>I.isEqual(p)).fold(()=>dh(s,p.toRange()),I=>((E,F,W)=>{F.undoManager.transact(()=>{const $=E?ec:pa,tt=nC(F,Xe(W),$);dh(F,tt)})})(c,s,S)))},FT=(s,c,p,m)=>{const b=s.selection.getRng(),S=tn.fromRangeStart(b),I=s.getBody();if(!c&&BT(m,S)){const E=((F,W,$)=>((tt,ut)=>Ut(ut.getClientRects()).bind(ht=>Cb(tt,ht.left,ht.top)).bind(ht=>{return xy(Dr(st=ht).map(xt=>cm(st,xt).positions.concat(xt)).getOr([]),ut);var st}))(W,$).orThunk(()=>Ut($.getClientRects()).bind(tt=>db(HS(F,tn.before(W)),tt.left))).getOr(tn.before(W)))(I,p,S);return zT(s,c,E),!0}if(c&&sL(m,S)){const E=((F,W,$)=>((tt,ut)=>ve(ut.getClientRects()).bind(ht=>RT(tt,ht.left,ht.top)).bind(ht=>{return xy(Xr(st=ht).map(xt=>[xt].concat(by(st,xt).positions)).getOr([]),ut);var st}))(W,$).orThunk(()=>Ut($.getClientRects()).bind(tt=>db(uf(F,tn.after(W)),tt.left))).getOr(tn.after(W)))(I,p,S);return zT(s,c,E),!0}return!1},fC=(s,c,p)=>U.from(s.dom.getParent(s.selection.getNode(),"td,th")).bind(m=>U.from(s.dom.getParent(m,"table")).map(b=>p(s,c,b,m))).getOr(!1),kb=(s,c)=>fC(s,c,Iy),VT=(s,c)=>fC(s,c,FT),pf=(s,c,p)=>p.fold(U.none,U.none,(m,b)=>{return(S=b,((I,E)=>{const F=W=>{for(let $=0;$<W.childNodes.length;$++){const tt=Xe(W.childNodes[$]);if(E(tt))return U.some(tt);const ut=F(W.childNodes[$]);if(ut.isSome())return ut}return U.none()};return F(I.dom)})(S,Yw)).map(I=>(E=>{const F=jp.exact(E,0,E,0);return LA(F)})(I));var S},m=>(s.execCommand("mceTableInsertRowAfter"),HT(s,c,m))),HT=(s,c,p)=>{return pf(s,c,(b=hC,uC(m=p,void 0).fold(()=>Od.none(m),S=>cC(S.all,m,S.index,1,b))));var m,b},lL=(s,c,p)=>{return pf(s,c,(b=hC,uC(m=p,void 0).fold(()=>Od.none(),S=>cC(S.all,m,S.index,-1,b))));var m,b},ff=(s,c)=>{const p=["table","li","dl"],m=Xe(s.getBody()),b=I=>{const E=Tr(I);return tr(I,m)||Re(p,E)},S=s.selection.getRng();return((I,E)=>((F,W,$=oe)=>$(W)?U.none():Re(F,Tr(W))?U.some(W):Ua(W,F.join(","),tt=>Go(tt,"table")||$(tt)))(["td","th"],I,E))(Xe(c?S.endContainer:S.startContainer),b).map(I=>(lC(I,b).each(E=>{s.model.table.clearSelectedCells(E.dom)}),s.selection.collapse(!c),(c?HT:lL)(s,b,I).each(E=>{s.selection.setRng(E)}),!0)).getOr(!1)},Es=(s,c)=>({container:s,offset:c}),Ab=kr.DOM,Mb=s=>c=>s===c?-1:0,gC=(s,c,p)=>{if(Dn(s)&&c>=0)return U.some(Es(s,c));{const m=O(Ab);return U.from(m.backwards(s,c,Mb(s),p)).map(b=>Es(b.container,b.container.data.length))}},mC=(s,c,p)=>{if(!Dn(s))return U.none();const m=s.data;if(c>=0&&c<=m.length)return U.some(Es(s,c));{const b=O(Ab);return U.from(b.backwards(s,c,Mb(s),p)).bind(S=>{const I=S.container.data;return mC(S.container,c+I.length,p)})}},WT=(s,c,p)=>{if(!Dn(s))return U.none();const m=s.data;if(c<=m.length)return U.some(Es(s,c));{const b=O(Ab);return U.from(b.forwards(s,c,Mb(s),p)).bind(S=>WT(S.container,c-m.length,p))}},vC=(s,c,p,m,b)=>{const S=O(s,(I=>E=>I.isBlock(E)||Re(["BR","IMG","HR","INPUT"],E.nodeName)||I.getContentEditable(E)==="false")(s));return U.from(S.backwards(c,p,m,b))},jT=s=>Ho(s.toString().replace(/\u00A0/g," ")),YT=s=>s!==""&&`  \f
\r	\v`.indexOf(s)!==-1,Dy=(s,c)=>s.substring(c.length),yC=(s,c,p,m=0)=>{return(b=Xe(c.startContainer),_l(b,hx)).fold(()=>((S,I,E,F=0)=>{if(!(W=I).collapsed||!Dn(W.startContainer))return U.none();var W;const $={text:"",offset:0},tt=S.getParent(I.startContainer,S.isBlock)||S.getRoot();return vC(S,I.startContainer,I.startOffset,(ut,ht,st)=>($.text=st+$.text,$.offset+=ht,((xt,lt,_t)=>{let Pt;const Xt=_t.charAt(0);for(Pt=lt-1;Pt>=0;Pt--){const ce=xt.charAt(Pt);if(YT(ce))return U.none();if(Xt===ce&&ur(xt,_t,Pt,lt))break}return U.some(Pt)})($.text,$.offset,E).getOr(ht)),tt).bind(ut=>{const ht=I.cloneRange();if(ht.setStart(ut.container,ut.offset),ht.setEnd(I.endContainer,I.endOffset),ht.collapsed)return U.none();const st=jT(ht);return st.lastIndexOf(E)!==0||Dy(st,E).length<F?U.none():U.some({text:Dy(st,E),range:ht,trigger:E})})})(s,c,p,m),S=>{const I=s.createRng();I.selectNode(S.dom);const E=jT(I);return U.some({range:I,text:Dy(E,p),trigger:p})});var b},GT=s=>{if((c=>c.nodeType===3)(s))return Es(s,s.data.length);{const c=s.childNodes;return c.length>0?GT(c[c.length-1]):Es(s,c.length)}},Tb=(s,c)=>{const p=s.childNodes;return p.length>0&&c<p.length?Tb(p[c],0):p.length>0&&(m=>m.nodeType===1)(s)&&p.length===c?GT(p[p.length-1]):Es(s,c)},xC=(s,c,p,m={})=>{var b;const S=c(),I=(b=s.selection.getRng().startContainer.nodeValue)!==null&&b!==void 0?b:"",E=Gn(S.lookupByTrigger(p.trigger),W=>p.text.length>=W.minChars&&W.matches.getOrThunk(()=>($=>tt=>{const ut=Tb(tt.startContainer,tt.startOffset);return!((ht,st)=>{var xt;const lt=(xt=ht.getParent(st.container,ht.isBlock))!==null&&xt!==void 0?xt:ht.getRoot();return vC(ht,st.container,st.offset,(_t,Pt)=>Pt===0?-1:Pt,lt).filter(_t=>{const Pt=_t.container.data.charAt(_t.offset-1);return!YT(Pt)}).isSome()})($,ut)})(s.dom))(p.range,I,p.text));if(E.length===0)return U.none();const F=Promise.all(un(E,W=>W.fetch(p.text,W.maxResults,m).then($=>({matchText:p.text,items:$,columns:W.columns,onAction:W.onAction,highlightOn:W.highlightOn}))));return U.some({lookupData:F,context:p})};var yu;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(yu||(yu={}));const Ed=(s,c,p)=>s.stype===yu.Error?c(s.serror):p(s.svalue),gf=s=>({stype:yu.Value,svalue:s}),Ly=s=>({stype:yu.Error,serror:s}),bC=Ed,Ib=s=>It(s)&&Ee(s).length>100?" removed due to size":JSON.stringify(s,null,2),Db=(s,c)=>Ly([{path:s,getErrorInfo:c}]),cL=(s,c)=>({extract:(p,m)=>En(m,s).fold(()=>((b,S)=>Db(b,()=>'Choice schema did not contain choice key: "'+S+'"'))(p,s),b=>((S,I,E,F)=>En(E,F).fold(()=>((W,$,tt)=>Db(W,()=>'The chosen schema: "'+tt+'" did not exist in branches: '+Ib($)))(S,E,F),W=>W.extract(S.concat(["branch: "+F]),I)))(p,m,c,b)),toString:()=>"chooseOn("+s+"). Possible values: "+Ee(c)}),wC=s=>(...c)=>{if(c.length===0)throw new Error("Can't merge zero objects");const p={};for(let m=0;m<c.length;m++){const b=c[m];for(const S in b)gn(b,S)&&(p[S]=s(p[S],b[S]))}return p},Lb=wC((s,c)=>Mt(s)&&Mt(c)?Lb(s,c):c),_C=s=>({tag:"defaultedThunk",process:ie(s)}),SC=s=>{const c=(m=>{const b=[],S=[];return he(m,I=>{Ed(I,E=>S.push(E),E=>b.push(E))}),{values:b,errors:S}})(s);return c.errors.length>0?(p=c.errors,Ht(Ly,zn)(p)):gf(c.values);var p},CC=(s,c,p)=>{switch(s.tag){case"field":return c(s.key,s.newKey,s.presence,s.prop);case"custom":return p(s.newKey,s.instantiator)}},kC=s=>({extract:(c,p)=>{return m=s(p),b=S=>((I,E)=>Db(I,ie(E)))(c,S),m.stype===yu.Error?b(m.serror):m;var m,b},toString:ie("val")}),AC=kC(gf),MC=(s,c,p,m)=>m(En(s,c).getOrThunk(()=>p(s))),XT=(s,c,p,m,b)=>{const S=E=>b.extract(c.concat([m]),E),I=E=>E.fold(()=>gf(U.none()),F=>{return $=b.extract(c.concat([m]),F),tt=U.some,$.stype===yu.Value?{stype:yu.Value,svalue:tt($.svalue)}:$;var $,tt});switch(s.tag){case"required":return((E,F,W,$)=>En(F,W).fold(()=>((tt,ut,ht)=>Db(tt,()=>'Could not find valid *required* value for "'+ut+'" in '+Ib(ht)))(E,W,F),$))(c,p,m,S);case"defaultedThunk":return MC(p,m,s.process,S);case"option":return((E,F,W)=>W(En(E,F)))(p,m,I);case"defaultedOptionThunk":return((E,F,W,$)=>$(En(E,F).map(tt=>tt===!0?W(E):tt)))(p,m,s.process,I);case"mergeWithThunk":return MC(p,m,ie({}),E=>{const F=Lb(s.process(p),E);return S(F)})}},xu=s=>({extract:(c,p)=>((m,b,S)=>{const I={},E=[];for(const F of S)CC(F,(W,$,tt,ut)=>{const ht=XT(tt,m,b,W,ut);bC(ht,st=>{E.push(...st)},st=>{I[$]=st})},(W,$)=>{I[W]=$(b)});return E.length>0?Ly(E):gf(I)})(c,p,s),toString:()=>`obj{
`+un(s,p=>CC(p,(m,b,S,I)=>m+" -> "+I.toString(),(m,b)=>"state("+m+")")).join(`
`)+"}"}),hs=s=>({extract:(c,p)=>{const m=un(p,(b,S)=>s.extract(c.concat(["["+S+"]"]),b));return SC(m)},toString:()=>"array("+s.toString()+")"}),qT=(s,c,p)=>{return m=((b,S,I)=>((E,F)=>E.stype===yu.Error?{stype:yu.Error,serror:F(E.serror)}:E)(S.extract([b],I),E=>({input:I,errors:E})))(s,c,p),Ed(m,La.error,La.value);var m},dl=(s,c)=>cL(s,Qn(c,xu)),UT=ie(AC),Oy=(s,c)=>kC(p=>{const m=typeof p;return s(p)?gf(p):Ly(`Expected type: ${c} but got: ${m}`)}),$T=Oy(Me,"number"),Ob=Oy(ft,"string"),TC=Oy(te,"boolean"),IC=Oy(se,"function"),mf=(s,c,p,m)=>({tag:"field",key:s,newKey:c,presence:p,prop:m}),Eb=(s,c)=>({tag:"custom",newKey:s,instantiator:c}),gm=(s,c)=>mf(s,s,{tag:"required",process:{}},c),DC=s=>gm(s,Ob),Pd=s=>gm(s,IC),Ey=(s,c)=>mf(s,s,{tag:"option",process:{}},c),Py=s=>Ey(s,Ob),vf=(s,c,p)=>mf(s,s,_C(c),p),ZT=(s,c)=>vf(s,c,$T),KT=(s,c,p)=>vf(s,c,(m=>{return b=S=>Re(m,S)?La.value(S):La.error(`Unsupported value: "${S}", choose one of "${m.join(", ")}".`),kC(S=>b(S).fold(Ly,gf));var b})(p)),Pb=(s,c)=>vf(s,c,TC),LC=(s,c)=>vf(s,c,IC),JT=DC("type"),uL=Pd("fetch"),OC=Pd("onAction"),QT=LC("onSetup",()=>ne),t2=Py("text"),hL=Py("icon"),e2=Py("tooltip"),n2=Py("label"),dL=Pb("active",!1),pL=Pb("enabled",!0),i2=Pb("primary",!1),fh=s=>((c,p)=>vf("type",p,Ob))(0,s),Nb=xu([JT,DC("trigger"),ZT("minChars",1),((s,c)=>mf(s,s,_C(1),UT()))("columns"),ZT("maxResults",10),Ey("matches",IC),uL,OC,(r2=Ob,vf("highlightOn",[],hs(r2)))]);var r2;const EC=[pL,e2,hL,t2,QT],o2=[dL].concat(EC),fL=[LC("predicate",oe),KT("scope","node",["node","editor"]),KT("position","selection",["node","selection","line"])],gL=EC.concat([fh("contextformbutton"),i2,OC,Eb("original",Le)]),mL=o2.concat([fh("contextformbutton"),i2,OC,Eb("original",Le)]),a2=EC.concat([fh("contextformbutton")]),s2=o2.concat([fh("contextformtogglebutton")]),PC=dl("type",{contextformbutton:gL,contextformtogglebutton:mL});xu([fh("contextform"),LC("initValue",ie("")),n2,((s,c)=>mf(s,s,{tag:"required",process:{}},hs(c)))("commands",PC),Ey("launch",dl("type",{contextformbutton:a2,contextformtogglebutton:s2}))].concat(fL));const Ny=s=>{const c=s.ui.registry.getAll().popups,p=Qn(c,S=>{return(I=S,qT("Autocompleter",Nb,{trigger:I.ch,...I})).fold(E=>{throw new Error(`Errors: 
`+(W=>{const $=W.length>10?W.slice(0,10).concat([{path:[],getErrorInfo:ie("... (only showing first ten failures)")}]):W;return un($,tt=>"Failed path: ("+tt.path.join(" > ")+`)
`+tt.getErrorInfo())})((F=E).errors).join(`
`)+`

Input object: `+Ib(F.input));var F},Le);var I}),m=ar(xi(p,S=>S.trigger)),b=vn(p);return{dataset:p,triggers:m,lookupByTrigger:S=>Gn(b,I=>I.trigger===S)}},NC=s=>{const c=rl(),p=no(!1),m=c.isSet,b=()=>{m()&&((E=>{So(E).autocompleter.removeDecoration()})(s),(E=>{E.dispatch("AutocompleterEnd")})(s),p.set(!1),c.clear())},S=Jn(()=>Ny(s)),I=E=>{(F=>c.get().map(W=>yC(s.dom,s.selection.getRng(),W.trigger).bind($=>xC(s,S,$,F))).getOrThunk(()=>((W,$)=>{const tt=$(),ut=W.selection.getRng();return((ht,st,xt)=>Te(xt.triggers,lt=>yC(ht,st,lt)))(W.dom,ut,tt).bind(ht=>xC(W,$,ht))})(s,S)))(E).fold(b,F=>{(W=>{m()||((($,tt)=>{So($).autocompleter.addDecoration(tt)})(s,W.range),c.set({trigger:W.trigger,matchLength:W.text.length}))})(F.context),F.lookupData.then(W=>{c.get().map($=>{const tt=F.context;$.trigger===tt.trigger&&(tt.text.length-$.matchLength>=10?b():(c.set({...$,matchLength:tt.text.length}),p.get()?((ut,ht)=>{ut.dispatch("AutocompleterUpdate",ht)})(s,{lookupData:W}):(p.set(!0),((ut,ht)=>{ut.dispatch("AutocompleterStart",ht)})(s,{lookupData:W}))))})})})};s.addCommand("mceAutocompleterReload",(E,F)=>{const W=It(F)?F.fetchOptions:{};I(W)}),s.addCommand("mceAutocompleterClose",b),((E,F)=>{const W=Gu(F.load,50);E.on("keypress compositionend",$=>{$.which!==27&&W.throttle()}),E.on("keydown",$=>{const tt=$.which;tt===8?W.throttle():tt===27&&F.cancelIfNecessary()}),E.on("remove",W.cancel)})(s,{cancelIfNecessary:b,load:I})},RC=s=>(c,p,m={})=>{const b=c.getBody(),S={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:b,currentTarget:b,eventPhase:Event.AT_TARGET,originalTarget:b,explicitOriginalTarget:b,isTrusted:!1,srcElement:b,cancelable:!1,preventDefault:ne,inputType:p},I=w0(new InputEvent(s));return c.dispatch(s,{...I,...S,...m})},mm=RC("input"),Ry=RC("beforeinput"),yf=(s,c)=>{const p=s.dom,m=s.schema.getMoveCaretBeforeOnEnterElements();if(!c)return;if(/^(LI|DT|DD)$/.test(c.nodeName)){const S=(I=>{for(;I;){if(li(I)||Dn(I)&&I.data&&/[\r\n\s]/.test(I.data))return I;I=I.nextSibling}return null})(c.firstChild);S&&/^(UL|OL|DL)$/.test(S.nodeName)&&c.insertBefore(p.doc.createTextNode(zo),c.firstChild)}const b=p.createRng();if(c.normalize(),c.hasChildNodes()){const S=new wo(c,c);let I,E=c;for(;I=S.current();){if(Dn(I)){b.setStart(I,0),b.setEnd(I,0);break}if(m[I.nodeName.toLowerCase()]){b.setStartBefore(I),b.setEndBefore(I);break}E=I,I=S.next()}I||(b.setStart(E,0),b.setEnd(E,0))}else oo(c)?c.nextSibling&&p.isBlock(c.nextSibling)?(b.setStartBefore(c),b.setEndBefore(c)):(b.setStartAfter(c),b.setEndAfter(c)):(b.setStart(c,0),b.setEnd(c,0));s.selection.setRng(b),Ng(s,b)},vm=(s,c)=>{const p=s.getRoot();let m,b=c;for(;b!==p&&b&&s.getContentEditable(b)!=="false";)s.getContentEditable(b)==="true"&&(m=b),b=b.parentNode;return b!==p?m:p},BC=s=>U.from(s.dom.getParent(s.selection.getStart(!0),s.dom.isBlock)),By=(s,c)=>{const p=s==null?void 0:s.parentNode;return Kt(p)&&p.nodeName===c},zC=s=>Kt(s)&&/^(OL|UL|LI)$/.test(s.nodeName),xf=s=>{const c=s.parentNode;return Kt(p=c)&&/^(LI|DT|DD)$/.test(p.nodeName)?c:s;var p},zy=(s,c,p)=>{let m=s[p?"firstChild":"lastChild"];for(;m&&!li(m);)m=m[p?"nextSibling":"previousSibling"];return m===c},Rb=(s,c)=>c&&c.nodeName==="A"&&s.isEmpty(c),Bb=s=>{s.innerHTML='<br data-mce-bogus="1">'},FC=(s,c)=>s.nodeName===c||s.previousSibling&&s.previousSibling.nodeName===c,VC=(s,c)=>Kt(c)&&s.isBlock(c)&&!/^(TD|TH|CAPTION|FORM)$/.test(c.nodeName)&&!/^(fixed|absolute)/i.test(c.style.position)&&s.getContentEditable(c)!=="true",zb=(s,c,p)=>Dn(c)?s?p===1&&c.data.charAt(p-1)===Co?0:p:p===c.data.length-1&&c.data.charAt(p)===Co?c.data.length:p:p,ym=(s,c)=>{Oa(s).toLowerCase()===c.tagName.toLowerCase()&&((p,m,b)=>{const S=p.dom;U.from(b.style).map(S.parseStyle).each($=>{const tt={...Qd(Xe(m)),...$};S.setStyles(m,tt)});const I=U.from(b.class).map($=>$.split(/\s+/)),E=U.from(m.className).map($=>Gn($.split(/\s+/),tt=>tt!==""));to(I,E,($,tt)=>{const ut=Gn(tt,st=>!Re($,st)),ht=[...$,...ut];S.setAttrib(m,"class",ht.join(" "))});const F=["style","class"],W=Ln(b,($,tt)=>!Re(F,tt));S.setAttribs(m,W)})(s,c,lg(s))},pl={insert:(s,c)=>{let p,m,b,S,I=!1;const E=s.dom,F=s.schema,W=F.getNonEmptyElements(),$=s.selection.getRng(),tt=Oa(s),ut=_e=>{let Ye=p;const ze=F.getTextInlineElements();let Ge;Ge=_e||b==="TABLE"||b==="HR"?E.create(_e||tt):Pt.cloneNode(!1);let en=Ge;if(QI(s)===!1)E.setAttrib(Ge,"style",null),E.setAttrib(Ge,"class",null);else do if(ze[Ye.nodeName]){if(Nl(Ye)||ll(Ye))continue;const nn=Ye.cloneNode(!1);E.setAttrib(nn,"id",""),Ge.hasChildNodes()?(nn.appendChild(Ge.firstChild),Ge.appendChild(nn)):(en=nn,Ge.appendChild(nn))}while((Ye=Ye.parentNode)&&Ye!==_t);return ym(s,Ge),Bb(en),Ge},ht=_e=>{const Ye=zb(_e,p,m);if(Dn(p)&&(_e?Ye>0:Ye<p.data.length))return!1;if(p.parentNode===Pt&&I&&!_e||_e&&li(p)&&p===Pt.firstChild)return!0;if(FC(p,"TABLE")||FC(p,"HR"))return I&&!_e||!I&&_e;const ze=new wo(p,Pt);let Ge;for(Dn(p)&&(_e&&Ye===0?ze.prev():_e||Ye!==p.data.length||ze.next());Ge=ze.current();){if(li(Ge)){if(!Ge.getAttribute("data-mce-bogus")){const en=Ge.nodeName.toLowerCase();if(W[en]&&en!=="br")return!1}}else if(Dn(Ge)&&!Xc(Ge.data))return!1;_e?ze.prev():ze.next()}return!0},st=()=>{let _e;return _e=/^(H[1-6]|PRE|FIGURE)$/.test(b)&&Xt!=="HGROUP"?ut(tt):ut(),((Ye,ze)=>{const Ge=tD(Ye);return!Ft(ze)&&(ft(Ge)?Re(Mn.explode(Ge),ze.nodeName.toLowerCase()):Ge)})(s,S)&&VC(E,S)&&E.isEmpty(Pt)?_e=E.split(S,Pt):E.insertAfter(_e,Pt),yf(s,_e),_e};kv(E,$).each(_e=>{$.setStart(_e.startContainer,_e.startOffset),$.setEnd(_e.endContainer,_e.endOffset)}),p=$.startContainer,m=$.startOffset;const xt=!(!c||!c.shiftKey),lt=!(!c||!c.ctrlKey);li(p)&&p.hasChildNodes()&&(I=m>p.childNodes.length-1,p=p.childNodes[Math.min(m,p.childNodes.length-1)]||p,m=I&&Dn(p)?p.data.length:0);const _t=vm(E,p);if(!_t||((_e,Ye)=>{const ze=_e.dom.getParent(Ye,"ol,ul,dl");return ze!==null&&_e.dom.getContentEditableParent(ze)==="false"})(s,p))return;xt||(p=((_e,Ye,ze,Ge,en)=>{var nn;const hn=_e.dom,sn=(nn=vm(hn,Ge))!==null&&nn!==void 0?nn:hn.getRoot();let xn=hn.getParent(Ge,hn.isBlock);if(!xn||!VC(hn,xn)){let $n;if(xn=xn||sn,$n=xn===_e.getBody()||nl(xn)?xn.nodeName.toLowerCase():xn.parentNode?xn.parentNode.nodeName.toLowerCase():"",!xn.hasChildNodes()){const Ii=hn.create(Ye);return ym(_e,Ii),xn.appendChild(Ii),ze.setStart(Ii,0),ze.setEnd(Ii,0),Ii}let Kn,ki=Ge;for(;ki&&ki.parentNode!==xn;)ki=ki.parentNode;for(;ki&&!hn.isBlock(ki);)Kn=ki,ki=ki.previousSibling;if(Kn&&_e.schema.isValidChild($n,Ye.toLowerCase())){const Ii=Kn.parentNode,fr=hn.create(Ye);for(ym(_e,fr),Ii.insertBefore(fr,Kn),ki=Kn;ki&&!hn.isBlock(ki);){const Hr=ki.nextSibling;fr.appendChild(ki),ki=Hr}ze.setStart(Ge,en),ze.setEnd(Ge,en)}}return Ge})(s,tt,$,p,m));let Pt=E.getParent(p,E.isBlock)||E.getRoot();S=Kt(Pt==null?void 0:Pt.parentNode)?E.getParent(Pt.parentNode,E.isBlock):null,b=Pt?Pt.nodeName.toUpperCase():"";const Xt=S?S.nodeName.toUpperCase():"";if(Xt!=="LI"||lt||(Pt=S,S=S.parentNode,b=Xt),/^(LI|DT|DD)$/.test(b)&&li(S)&&E.isEmpty(Pt))return void((_e,Ye,ze,Ge,en)=>{const nn=_e.dom,hn=_e.selection.getRng(),sn=ze.parentNode;if(ze===_e.getBody()||!sn)return;var xn;zC(xn=ze)&&zC(xn.parentNode)&&(en="LI");let $n=Ye(en);if(zy(ze,Ge,!0)&&zy(ze,Ge,!1))if(By(ze,"LI")){const Kn=xf(ze);nn.insertAfter($n,Kn),(ki=>{var Ii;return((Ii=ki.parentNode)===null||Ii===void 0?void 0:Ii.firstChild)===ki})(ze)?nn.remove(Kn):nn.remove(ze)}else nn.replace($n,ze);else if(zy(ze,Ge,!0))By(ze,"LI")?(nn.insertAfter($n,xf(ze)),$n.appendChild(nn.doc.createTextNode(" ")),$n.appendChild(ze)):sn.insertBefore($n,ze),nn.remove(Ge);else if(zy(ze,Ge,!1))nn.insertAfter($n,xf(ze)),nn.remove(Ge);else{ze=xf(ze);const Kn=hn.cloneRange();Kn.setStartAfter(Ge),Kn.setEndAfter(ze);const ki=Kn.extractContents();en==="LI"&&((Ii,fr)=>Ii.firstChild&&Ii.firstChild.nodeName==="LI")(ki)?($n=ki.firstChild,nn.insertAfter(ki,ze)):(nn.insertAfter(ki,ze),nn.insertAfter($n,ze)),nn.remove(Ge)}yf(_e,$n)})(s,ut,S,Pt,tt);if(Pt===s.getBody())return;const ce=Pt.parentNode;let Ae;if(cc(Pt))Ae=$f(Pt),E.isEmpty(Pt)&&Bb(Pt),ym(s,Ae),yf(s,Ae);else if(ht(!1))Ae=st();else if(ht(!0)&&ce)Ae=ce.insertBefore(ut(),Pt),yf(s,FC(Pt,"HR")?Ae:Pt);else{const _e=(ze=>{const Ge=ze.cloneRange();return Ge.setStart(ze.startContainer,zb(!0,ze.startContainer,ze.startOffset)),Ge.setEnd(ze.endContainer,zb(!1,ze.endContainer,ze.endOffset)),Ge})($).cloneRange();_e.setEndAfter(Pt);const Ye=_e.extractContents();(ze=>{he(ip(Xe(ze),gs),Ge=>{const en=Ge.dom;en.nodeValue=Ho(en.data)})})(Ye),(ze=>{let Ge=ze;do Dn(Ge)&&(Ge.data=Ge.data.replace(/^[\r\n]+/,"")),Ge=Ge.firstChild;while(Ge)})(Ye),Ae=Ye.firstChild,E.insertAfter(Ye,Pt),((ze,Ge,en)=>{var nn;const hn=[];if(!en)return;let sn=en;for(;sn=sn.firstChild;){if(ze.isBlock(sn))return;li(sn)&&!Ge[sn.nodeName.toLowerCase()]&&hn.push(sn)}let xn=hn.length;for(;xn--;)sn=hn[xn],(!sn.hasChildNodes()||sn.firstChild===sn.lastChild&&((nn=sn.firstChild)===null||nn===void 0?void 0:nn.nodeValue)===""||Rb(ze,sn))&&ze.remove(sn)})(E,W,Ae),((ze,Ge)=>{Ge.normalize();const en=Ge.lastChild;(!en||li(en)&&/^(left|right)$/gi.test(ze.getStyle(en,"float",!0)))&&ze.add(Ge,"br")})(E,Pt),E.isEmpty(Pt)&&Bb(Pt),Ae.normalize(),E.isEmpty(Ae)?(E.remove(Ae),st()):(ym(s,Ae),yf(s,Ae))}E.setAttrib(Ae,"id",""),s.dispatch("NewBlock",{newBlock:Ae})},fakeEventName:"insertParagraph"},HC=(s,c,p)=>{const m=s.dom.createRng();p?(m.setStartBefore(c),m.setEndBefore(c)):(m.setStartAfter(c),m.setEndAfter(c)),s.selection.setRng(m),Ng(s,m)},fl=(s,c)=>{const p=bo("br");pa(Xe(c),p),s.undoManager.add()},vL=(s,c)=>{l2(s.getBody(),c)||ec(Xe(c),bo("br"));const p=bo("br");ec(Xe(c),p),HC(s,p.dom,!1),s.undoManager.add()},l2=(s,c)=>{return p=tn.after(c),!!oo(p.getNode())||Pa(s,tn.after(c)).map(m=>oo(m.getNode())).getOr(!1);var p},c2=s=>s&&s.nodeName==="A"&&"href"in s,Fb=s=>s.fold(oe,c2,c2,oe),yL=(s,c)=>{c.fold(ne,De(fl,s),De(vL,s),ne)},Vb={insert:(s,c)=>{const p=(m=>{const b=De(du,m),S=tn.fromRangeStart(m.selection.getRng());return Lc(b,m.getBody(),S).filter(Fb)})(s);p.isSome()?p.each(De(yL,s)):((m,b)=>{const S=m.selection,I=m.dom,E=S.getRng();let F,W=!1;kv(I,E).each(lt=>{E.setStart(lt.startContainer,lt.startOffset),E.setEnd(lt.endContainer,lt.endOffset)});let $=E.startOffset,tt=E.startContainer;if(li(tt)&&tt.hasChildNodes()){const lt=$>tt.childNodes.length-1;tt=tt.childNodes[Math.min($,tt.childNodes.length-1)]||tt,$=lt&&Dn(tt)?tt.data.length:0}let ut=I.getParent(tt,I.isBlock);const ht=ut&&ut.parentNode?I.getParent(ut.parentNode,I.isBlock):null,st=ht?ht.nodeName.toUpperCase():"",xt=!(!b||!b.ctrlKey);st!=="LI"||xt||(ut=ht),Dn(tt)&&$>=tt.data.length&&(((lt,_t,Pt)=>{const Xt=new wo(_t,Pt);let ce;const Ae=lt.getNonEmptyElements();for(;ce=Xt.next();)if(Ae[ce.nodeName.toLowerCase()]||Dn(ce)&&ce.length>0)return!0;return!1})(m.schema,tt,ut||I.getRoot())||(F=I.create("br"),E.insertNode(F),E.setStartAfter(F),E.setEndAfter(F),W=!0)),F=I.create("br"),Pr(I,E,F),HC(m,F,W),m.undoManager.add()})(s,c)},fakeEventName:"insertLineBreak"},WC=(s,c)=>BC(s).filter(p=>c.length>0&&Go(Xe(p),c)).isSome(),Zs=gc([{br:[]},{block:[]},{none:[]}]),u2=(s,c)=>(p=>WC(p,Kk(p)))(s),h2=s=>(c,p)=>(m=>BC(m).filter(b=>Nu(Xe(b))).isSome())(c)===s,d2=(s,c)=>(p,m)=>(S=>BC(S).fold(ie(""),I=>I.nodeName.toUpperCase()))(p)===s.toUpperCase()===c,jC=s=>{const c=vm(s.dom,s.selection.getStart());return Ft(c)},xm=s=>d2("pre",s),bu=s=>(c,p)=>$k(c)===s,bf=(s,c)=>(p=>WC(p,q1(p)))(s),gh=(s,c)=>c,xL=s=>{const c=Oa(s),p=vm(s.dom,s.selection.getStart());return Kt(p)&&s.schema.isValidChild(p.nodeName,c)},Wl=(s,c)=>(p,m)=>Zn(s,(b,S)=>b&&S(p,m),!0)?U.some(c):U.none(),Hb=(s,c,p)=>{c.selection.isCollapsed()||(m=>{m.execCommand("delete")})(c),Kt(p)&&Ry(c,s.fakeEventName).isDefaultPrevented()||(s.insert(c,p),Kt(p)&&mm(c,s.fakeEventName))},p2=(s,c)=>{const p=()=>Hb(Vb,s,c),m=()=>Hb(pl,s,c),b=((S,I)=>NS([Wl([u2],Zs.none()),Wl([xm(!0),jC],Zs.none()),Wl([d2("summary",!0)],Zs.br()),Wl([xm(!0),bu(!1),gh],Zs.br()),Wl([xm(!0),bu(!1)],Zs.block()),Wl([xm(!0),bu(!0),gh],Zs.block()),Wl([xm(!0),bu(!0)],Zs.br()),Wl([h2(!0),gh],Zs.br()),Wl([h2(!0)],Zs.block()),Wl([bf],Zs.br()),Wl([gh],Zs.br()),Wl([xL],Zs.block())],[S,!(!I||!I.shiftKey)]).getOr(Zs.none()))(s,c);switch(Zk(s)){case"linebreak":b.fold(p,p,ne);break;case"block":b.fold(m,m,ne);break;case"invert":b.fold(m,p,ne);break;default:b.fold(p,m,ne)}},Fy=Wi(),f2=s=>s.stopImmediatePropagation(),Vy=s=>s.keyCode===Ai.PAGE_UP||s.keyCode===Ai.PAGE_DOWN,g2=(s,c,p)=>{p&&!s.get()?c.on("NodeChange",f2,!0):!p&&s.get()&&c.off("NodeChange",f2),s.set(p)},Wb=(s,c)=>{const p=c.container(),m=c.offset();return Dn(p)?(p.insertData(m,s),U.some(tn(p,m+s.length))):pv(c).map(b=>{const S=xl(s);return c.isAtEnd()?ec(b,S):pa(b,S),tn(S.dom,s.length)})},YC=De(Wb,zo),bL=De(Wb," "),wL=(s,c)=>p=>((m,b)=>!hu(b)&&(((S,I)=>((E,F)=>so(E.dom,F).isNone())(S,I)||((E,F)=>Pa(E.dom,F).isNone())(S,I)||n_(S,I)||oa(S,I)||mx(S,I)||r_(S,I))(m,b)||vx(m,b)||l_(m,b)))(s,p)?YC(c):bL(c),_L=s=>{const c=tn.fromRangeStart(s.selection.getRng()),p=Xe(s.getBody());if(s.selection.isCollapsed()){const m=De(du,s),b=tn.fromRangeStart(s.selection.getRng());return Lc(m,s.getBody(),b).bind((S=>I=>I.fold(E=>so(S.dom,tn.before(E)),E=>Xr(E),E=>Dr(E),E=>Pa(S.dom,tn.after(E))))(p)).map(S=>()=>wL(p,c)(S).each((I=>E=>(I.selection.setRng(E.toRange()),I.nodeChanged(),!0))(s)))}return U.none()},m2=s=>ss(s)?[{keyCode:Ai.TAB,action:or(ff,s,!0)},{keyCode:Ai.TAB,shiftKey:!0,action:or(ff,s,!1)}]:[],jb=s=>{if(s.addShortcut("Meta+P","","mcePrint"),NC(s),aa(s))return no(null);{const c=ky(s);return(p=>{p.on("keyup compositionstart",De(aL,p))})(s),((p,m)=>{p.on("keydown",b=>{b.isDefaultPrevented()||((S,I,E)=>{const F=ti.os.isMacOS()||ti.os.isiOS();fm([{keyCode:Ai.RIGHT,action:or(pm,S,!0)},{keyCode:Ai.LEFT,action:or(pm,S,!1)},{keyCode:Ai.UP,action:or(DT,S,!1)},{keyCode:Ai.DOWN,action:or(DT,S,!0)},...F?[{keyCode:Ai.UP,action:or(df,S,!1),metaKey:!0,shiftKey:!0},{keyCode:Ai.DOWN,action:or(df,S,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ai.RIGHT,action:or(kb,S,!0)},{keyCode:Ai.LEFT,action:or(kb,S,!1)},{keyCode:Ai.UP,action:or(VT,S,!1)},{keyCode:Ai.DOWN,action:or(VT,S,!0)},{keyCode:Ai.RIGHT,action:or(oC,S,!0)},{keyCode:Ai.LEFT,action:or(oC,S,!1)},{keyCode:Ai.UP,action:or(ET,S,!1)},{keyCode:Ai.DOWN,action:or(ET,S,!0)},{keyCode:Ai.RIGHT,action:or(hf,S,I,!0)},{keyCode:Ai.LEFT,action:or(hf,S,I,!1)},{keyCode:Ai.RIGHT,ctrlKey:!F,altKey:F,action:or(iL,S,I)},{keyCode:Ai.LEFT,ctrlKey:!F,altKey:F,action:or($S,S,I)},{keyCode:Ai.UP,action:or(_b,S,!1)},{keyCode:Ai.DOWN,action:or(_b,S,!0)}],E).each(W=>{E.preventDefault()})})(p,m,b)})})(s,c),((p,m)=>{p.on("keydown",b=>{b.isDefaultPrevented()||((S,I,E)=>{const F=E.keyCode===Ai.BACKSPACE?"deleteContentBackward":"deleteContentForward";rC([{keyCode:Ai.BACKSPACE,action:or(Dd,S)},{keyCode:Ai.BACKSPACE,action:or(my,S,!1)},{keyCode:Ai.DELETE,action:or(my,S,!0)},{keyCode:Ai.BACKSPACE,action:or(Os,S,!1)},{keyCode:Ai.DELETE,action:or(Os,S,!0)},{keyCode:Ai.BACKSPACE,action:or(mb,S,I,!1)},{keyCode:Ai.DELETE,action:or(mb,S,I,!0)},{keyCode:Ai.BACKSPACE,action:or(Pv,S,!1)},{keyCode:Ai.DELETE,action:or(Pv,S,!0)},{keyCode:Ai.BACKSPACE,action:or(ob,S,!1)},{keyCode:Ai.DELETE,action:or(ob,S,!0)},{keyCode:Ai.BACKSPACE,action:or(My,S,!1)},{keyCode:Ai.DELETE,action:or(My,S,!0)},{keyCode:Ai.BACKSPACE,action:or(nb,S,!1)},{keyCode:Ai.DELETE,action:or(nb,S,!0)},{keyCode:Ai.BACKSPACE,action:or(MS,S,!1)},{keyCode:Ai.DELETE,action:or(MS,S,!0)},{keyCode:Ai.BACKSPACE,action:or(vu,S,!1)},{keyCode:Ai.DELETE,action:or(vu,S,!0)}],E).each(W=>{E.preventDefault(),Ry(S,F).isDefaultPrevented()||(W(),mm(S,F))})})(p,m,b)}),p.on("keyup",b=>{b.isDefaultPrevented()||((S,I)=>{fm([{keyCode:Ai.BACKSPACE,action:or(rb,S)},{keyCode:Ai.DELETE,action:or(rb,S)}],I)})(p,b)})})(s,c),(p=>{p.on("keydown",m=>{m.keyCode===Ai.ENTER&&((b,S)=>{var I;S.isDefaultPrevented()||(S.preventDefault(),(I=b.undoManager).typing&&(I.typing=!1,I.add()),b.undoManager.transact(()=>{p2(b,S)}))})(p,m)})})(s),(p=>{p.on("keydown",m=>{m.isDefaultPrevented()||((b,S)=>{rC([{keyCode:Ai.SPACEBAR,action:or(_L,b)}],S).each(I=>{S.preventDefault(),Ry(b,"insertText",{data:" "}).isDefaultPrevented()||(I(),mm(b,"insertText",{data:" "}))})})(p,m)})})(s),(p=>{p.on("input",m=>{m.isComposing||(b=>{const S=Xe(b.getBody());b.selection.isCollapsed()&&h_(S,tn.fromRangeStart(b.selection.getRng())).each(I=>{b.selection.setRng(I.toRange())})})(p)})})(s),(p=>{p.on("keydown",m=>{m.isDefaultPrevented()||((b,S)=>{fm([...m2(b)],S).each(I=>{S.preventDefault()})})(p,m)})})(s),((p,m)=>{p.on("keydown",b=>{b.isDefaultPrevented()||((S,I,E)=>{const F=ti.os.isMacOS()||ti.os.isiOS();fm([{keyCode:Ai.END,action:or(LT,S,!0)},{keyCode:Ai.HOME,action:or(LT,S,!1)},...F?[]:[{keyCode:Ai.HOME,action:or(df,S,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ai.END,action:or(df,S,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ai.END,action:or(PT,S,!0)},{keyCode:Ai.HOME,action:or(PT,S,!1)},{keyCode:Ai.END,action:or(Ay,S,!0,I)},{keyCode:Ai.HOME,action:or(Ay,S,!1,I)}],E).each(W=>{E.preventDefault()})})(p,m,b)})})(s,c),((p,m)=>{if(Fy.os.isMacOS())return;const b=no(!1);p.on("keydown",S=>{Vy(S)&&g2(b,p,!0)}),p.on("keyup",S=>{S.isDefaultPrevented()||((I,E,F)=>{fm([{keyCode:Ai.PAGE_UP,action:or(Ay,I,!1,E)},{keyCode:Ai.PAGE_DOWN,action:or(Ay,I,!0,E)}],F)})(p,m,S),Vy(S)&&b.get()&&(g2(b,p,!1),p.nodeChanged())})})(s,c),c}};class v2{constructor(c){let p;this.lastPath=[],this.editor=c;const m=this;"onselectionchange"in c.getDoc()||c.on("NodeChange click mouseup keyup focus",b=>{const S=c.selection.getRng(),I={startContainer:S.startContainer,startOffset:S.startOffset,endContainer:S.endContainer,endOffset:S.endOffset};b.type!=="nodechange"&&Dg(I,p)||c.dispatch("SelectionChange"),p=I}),c.on("contextmenu",()=>{c.dispatch("SelectionChange")}),c.on("SelectionChange",()=>{const b=c.selection.getStart(!0);b&&bv(c)&&!m.isSameElementPath(b)&&c.dom.isChildOf(b,c.getBody())&&c.nodeChanged({selectionChange:!0})}),c.on("mouseup",b=>{!b.isDefaultPrevented()&&bv(c)&&(c.selection.getNode().nodeName==="IMG"?Xs.setEditorTimeout(c,()=>{c.nodeChanged()}):c.nodeChanged())})}nodeChanged(c={}){const p=this.editor.selection;let m;if(this.editor.initialized&&p&&!sA(this.editor)&&!this.editor.mode.isReadOnly()){const b=this.editor.getBody();m=p.getStart(!0)||b,m.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(m,b)||(m=b);const S=[];this.editor.dom.getParent(m,I=>I===b||(S.push(I),!1)),this.editor.dispatch("NodeChange",{...c,element:m,parents:S})}}isSameElementPath(c){let p;const m=this.editor,b=ui(m.dom.getParents(c,Oe,m.getBody()));if(b.length===this.lastPath.length){for(p=b.length;p>=0&&b[p]===this.lastPath[p];p--);if(p===-1)return this.lastPath=b,!0}return this.lastPath=b,!1}}const Hy=ie("x-tinymce/html"),Yb="<!-- x-tinymce/html -->",y2=s=>Yb+s,GC=s=>s.indexOf(Yb)!==-1,XC="%MCEPASTEBIN%",Gb=s=>s.dom.get("mcepastebin"),x2=s=>Kt(s)&&s.id==="mcepastebin",b2=s=>s===XC,w2=(s,c)=>(Mn.each(c,p=>{s=gt(p,RegExp)?s.replace(p,""):s.replace(p[0],p[1])}),s),_2=s=>w2(s,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(c,p,m)=>p||m?zo:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),S2=(s,c)=>({content:s,cancelled:c}),Xb=(s,c)=>(s.insertContent(c,{merge:nu(s),paste:!0}),!0),wf=s=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(s),C2=(s,c,p)=>!(s.selection.isCollapsed()||!wf(c))&&((m,b,S)=>(m.undoManager.extra(()=>{S(m,b)},()=>{m.execCommand("mceInsertLink",!1,b)}),!0))(s,c,p),SL=(s,c,p)=>!!((m,b)=>wf(b)&&Be(mA(m),S=>Jr(b.toLowerCase(),`.${S.toLowerCase()}`)))(s,c)&&((m,b,S)=>(m.undoManager.extra(()=>{S(m,b)},()=>{m.insertContent('<img src="'+b+'">')}),!0))(s,c,p),k2=(s=>{let c=0;return()=>"mceclip"+c++})(),qb=(s,c,p,m)=>{const b=((S,I,E)=>((F,W,$)=>{const tt=((ht,st,xt)=>ht.dispatch("PastePreProcess",{content:st,internal:xt}))(F,W,$),ut=((ht,st)=>{const xt=ch({},ht.schema);xt.addNodeFilter("meta",_t=>{Mn.each(_t,Pt=>{Pt.remove()})});const lt=xt.parse(st,{forced_root_block:!1,isRootContent:!0});return ud({validate:!0},ht.schema).serialize(lt)})(F,tt.content);return F.hasEventListeners("PastePostProcess")&&!tt.isDefaultPrevented()?((ht,st,xt)=>{const lt=ht.dom.create("div",{style:"display:none"},st),_t=((Pt,Xt,ce)=>Pt.dispatch("PastePostProcess",{node:Xt,internal:ce}))(ht,lt,xt);return S2(_t.node.innerHTML,_t.isDefaultPrevented())})(F,ut,$):S2(ut,tt.isDefaultPrevented())})(S,I,E))(s,c,p);b.cancelled||((S,I,E)=>{E||!mc(S)?Xb(S,I):((F,W)=>{Mn.each([C2,SL,Xb],$=>!$(F,W,Xb))})(S,I)})(s,b.content,m)},Wy=(s,c,p)=>{const m=p||GC(c);qb(s,(b=>b.replace(Yb,""))(c),m,!1)},Ub=(s,c)=>{const p=s.dom.encode(c).replace(/\r\n/g,`
`),m=((b,S,I)=>{const E=b.split(/\n\n/),F=((tt,ut)=>{let ht="<"+tt;const st=xi(ut,(xt,lt)=>lt+'="'+Tl.encodeAllRaw(xt)+'"');return st.length&&(ht+=" "+st.join(" ")),ht+">"})(S,I),W="</"+S+">",$=un(E,tt=>tt.split(/\n/).join("<br />"));return $.length===1?$[0]:un($,tt=>F+tt+W).join("")})(Al(p,sD(s)),Oa(s),lg(s));qb(s,m,!1,!0)},A2=s=>{const c={};if(s&&s.types)for(let p=0;p<s.types.length;p++){const m=s.types[p];try{c[m]=s.getData(m)}catch{c[m]=""}}return c},_f=(s,c)=>c in s&&s[c].length>0,M2=s=>_f(s,"text/html")||_f(s,"text/plain"),qC=(s,c,p)=>{const m=c.type==="paste"?c.clipboardData:c.dataTransfer;var b;if(B0(s)&&m){const S=((I,E)=>{const F=E.items?Un(Pe(E.items),$=>$.kind==="file"?[$.getAsFile()]:[]):[],W=E.files?Pe(E.files):[];return Gn(F.length>0?F:W,($=>{const tt=mA($);return ut=>er(ut.type,"image/")&&Be(tt,ht=>(st=>{const xt=st.toLowerCase(),lt={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Mn.hasOwn(lt,xt)?"image/"+lt[xt]:"image/"+xt})(ht)===ut.type)})(I))})(s,m);if(S.length>0)return c.preventDefault(),(b=S,Promise.all(un(b,I=>Va(I).then(E=>({file:I,uri:E}))))).then(I=>{p&&s.selection.setRng(p),he(I,E=>{((F,W)=>{eS(W.uri).each(({data:$,type:tt,base64Encoded:ut})=>{const ht=ut?$:btoa($),st=W.file,xt=F.editorUpload.blobCache,lt=xt.getByData(ht,tt),_t=lt??((Pt,Xt,ce,Ae)=>{const _e=k2(),Ye=eu(Pt)&&Kt(ce.name),ze=Ye?((nn,hn)=>{const sn=hn.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Kt(sn)?nn.dom.encode(sn[1]):void 0})(Pt,ce.name):_e,Ge=Ye?ce.name:void 0,en=Xt.create(_e,ce,Ae,ze,Ge);return Xt.add(en),en})(F,xt,st,ht);Wy(F,`<img src="${_t.blobUri()}">`,!1)})})(s,E)})}),!0}return!1},$b=(s,c,p,m)=>{let b=_2(p);const S=_f(c,Hy())||GC(p),I=!S&&(F=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(F))(b),E=wf(b);(b2(b)||!b.length||I&&!E)&&(m=!0),(m||E)&&(b=_f(c,"text/plain")&&I?c["text/plain"]:(F=>{const W=pc(),$=ch({},W);let tt="";const ut=W.getVoidElements(),ht=Mn.makeMap("script noscript style textarea video audio iframe object"," "),st=W.getBlockElements(),xt=lt=>{const _t=lt.name,Pt=lt;if(_t!=="br"){if(_t!=="wbr")if(ut[_t]&&(tt+=" "),ht[_t])tt+=" ";else{if(lt.type===3&&(tt+=lt.value),!(lt.name in W.getVoidElements())){let Xt=lt.firstChild;if(Xt)do xt(Xt);while(Xt=Xt.next)}st[_t]&&Pt.next&&(tt+=`
`,_t==="p"&&(tt+=`
`))}}else tt+=`
`};return F=w2(F,[/<!\[[^\]]+\]>/g]),xt($.parse(F)),tt})(b)),b2(b)||(m?Ub(s,b):Wy(s,b,S))},CL=(s,c,p)=>{((m,b,S)=>{let I;m.on("keydown",E=>{(F=>Ai.metaKeyPressed(F)&&F.keyCode===86||F.shiftKey&&F.keyCode===45)(E)&&!E.isDefaultPrevented()&&(I=E.shiftKey&&E.keyCode===86)}),m.on("paste",E=>{if(E.isDefaultPrevented()||($=>{var tt,ut;return ti.os.isAndroid()&&((ut=(tt=$.clipboardData)===null||tt===void 0?void 0:tt.items)===null||ut===void 0?void 0:ut.length)===0})(E))return;const F=S.get()==="text"||I;I=!1;const W=A2(E.clipboardData);!M2(W)&&qC(m,E,b.getLastRng()||m.selection.getRng())||(_f(W,"text/html")?(E.preventDefault(),$b(m,W,W["text/html"],F)):(b.create(),Xs.setEditorTimeout(m,()=>{const $=b.getHtml();b.remove(),$b(m,W,$,F)},0)))})})(s,c,p),(m=>{const b=I=>er(I,"webkit-fake-url"),S=I=>er(I,"data:");m.parser.addNodeFilter("img",(I,E,F)=>{if(!B0(m)&&(W=>{var $;return(($=W.data)===null||$===void 0?void 0:$.paste)===!0})(F))for(const W of I){const $=W.attr("src");ft($)&&!W.attr("data-mce-object")&&$!==ti.transparentSrc&&(b($)||!lD(m)&&S($))&&W.remove()}})})(s)},T2=(s,c,p,m)=>{((b,S,I)=>{if(!b)return!1;try{return b.clearData(),b.setData("text/html",S),b.setData("text/plain",I),b.setData(Hy(),S),!0}catch{return!1}})(s.clipboardData,c.html,c.text)?(s.preventDefault(),m()):p(c.html,m)},UC=s=>(c,p)=>{const{dom:m,selection:b}=s,S=m.create("div",{contenteditable:"false","data-mce-bogus":"all"}),I=m.create("div",{contenteditable:"true"},c);m.setStyles(S,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),S.appendChild(I),m.add(s.getBody(),S);const E=b.getRng();I.focus();const F=m.createRng();F.selectNodeContents(I),b.setRng(F),Xs.setEditorTimeout(s,()=>{b.setRng(E),m.remove(S),p()},0)},I2=s=>({html:y2(s.selection.getContent({contextual:!0})),text:s.selection.getContent({format:"text"})}),D2=s=>!s.selection.isCollapsed()||(c=>!!c.dom.getParent(c.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",c.getBody()))(s),$C=(s,c)=>{var p,m;return rd.getCaretRangeFromPoint((p=c.clientX)!==null&&p!==void 0?p:0,(m=c.clientY)!==null&&m!==void 0?m:0,s.getDoc())},bm=(s,c)=>{s.focus(),c&&s.selection.setRng(c)},ZC=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Zb=s=>Mn.trim(s).replace(ZC,bc).toLowerCase(),kL=(s,c,p)=>{const m=cv(s);if(p||m==="all"||!uv(s))return c;const b=m?m.split(/[, ]/):[];if(b&&m!=="none"){const S=s.dom,I=s.selection.getNode();c=c.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(E,F,W,$)=>{const tt=S.parseStyle(S.decode(W)),ut={};for(let st=0;st<b.length;st++){const xt=tt[b[st]];let lt=xt,_t=S.getStyle(I,b[st],!0);/color/.test(b[st])&&(lt=Zb(lt),_t=Zb(_t)),_t!==lt&&(ut[b[st]]=xt)}const ht=S.serializeStyle(ut,"span");return ht?F+' style="'+ht+'"'+$:F+$})}else c=c.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return c=c.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(S,I,E,F)=>I+' style="'+E+'"'+F),c},AL=s=>{const c=no(!1),p=no(z0(s)?"text":"html"),m=(b=>{const S=no(null);return{create:()=>((I,E)=>{const{dom:F,selection:W}=I,$=I.getBody();E.set(W.getRng());const tt=F.add(I.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},XC);ti.browser.isFirefox()&&F.setStyle(tt,"left",F.getStyle($,"direction",!0)==="rtl"?65535:-65535),F.bind(tt,"beforedeactivate focusin focusout",ut=>{ut.stopPropagation()}),tt.focus(),W.select(tt,!0)})(b,S),remove:()=>((I,E)=>{const F=I.dom;if(Gb(I)){let W;const $=E.get();for(;W=Gb(I);)F.remove(W),F.unbind(W);$&&I.selection.setRng($)}E.set(null)})(b,S),getEl:()=>Gb(b),getHtml:()=>(I=>{const E=I.dom,F=(ut,ht)=>{ut.appendChild(ht),E.remove(ht,!0)},[W,...$]=Gn(I.getBody().childNodes,x2);he($,ut=>{F(W,ut)});const tt=E.select("div[id=mcepastebin]",W);for(let ut=tt.length-1;ut>=0;ut--){const ht=E.create("div");W.insertBefore(ht,tt[ut]),F(ht,tt[ut])}return W?W.innerHTML:""})(b),getLastRng:S.get}})(s);(b=>{(ti.browser.isChromium()||ti.browser.isSafari())&&((S,I)=>{S.on("PastePreProcess",E=>{E.content=I(S,E.content,E.internal)})})(b,kL)})(s),((b,S)=>{b.addCommand("mceTogglePlainTextPaste",()=>{((I,E)=>{E.get()==="text"?(E.set("html"),pr(I,!1)):(E.set("text"),pr(I,!0)),I.focus()})(b,S)}),b.addCommand("mceInsertClipboardContent",(I,E)=>{E.html&&Wy(b,E.html,E.internal),E.text&&Ub(b,E.text)})})(s,p),(b=>{const S=F=>W=>{F(b,W)},I=rs(b);se(I)&&b.on("PastePreProcess",S(I));const E=fA(b);se(E)&&b.on("PastePostProcess",S(E))})(s),s.on("PreInit",()=>{(b=>{b.on("cut",(S=>I=>{!I.isDefaultPrevented()&&D2(S)&&T2(I,I2(S),UC(S),()=>{if(ti.browser.isChromium()||ti.browser.isFirefox()){const E=S.selection.getRng();Xs.setEditorTimeout(S,()=>{S.selection.setRng(E),S.execCommand("Delete")},0)}else S.execCommand("Delete")})})(b)),b.on("copy",(S=>I=>{!I.isDefaultPrevented()&&D2(S)&&T2(I,I2(S),UC(S),ne)})(b))})(s),((b,S)=>{hg(b)&&b.on("dragend dragover draggesture dragdrop drop drag",I=>{I.preventDefault(),I.stopPropagation()}),B0(b)||b.on("drop",I=>{const E=I.dataTransfer;E&&(F=>Be(F.files,W=>/^image\//.test(W.type)))(E)&&I.preventDefault()}),b.on("drop",I=>{if(I.isDefaultPrevented()||S.get())return;const E=$C(b,I);if(Ft(E))return;const F=A2(I.dataTransfer),W=_f(F,Hy());if((!M2(F)||(ut=>{const ht=ut["text/plain"];return!!ht&&ht.indexOf("file://")===0})(F))&&qC(b,I,E))return;const $=F[Hy()],tt=$||F["text/html"]||F["text/plain"];tt&&(I.preventDefault(),Xs.setEditorTimeout(b,()=>{b.undoManager.transact(()=>{$&&b.execCommand("Delete"),bm(b,E);const ut=_2(tt);F["text/html"]?Wy(b,ut,W):Ub(b,ut)})}))}),b.on("dragstart",I=>{S.set(!0)}),b.on("dragover dragend",I=>{B0(b)&&!S.get()&&(I.preventDefault(),bm(b,$C(b,I))),I.type==="dragend"&&S.set(!1)})})(s,c),CL(s,m,p)})},ML=oo,L2=Dn,TL=s=>Yr(s.dom),O2=s=>c=>tr(Xe(s),c),KC=(s,c)=>wl(Xe(s),TL,O2(c)),JC=(s,c,p)=>{const m=new wo(s,c),b=p?m.next.bind(m):m.prev.bind(m);let S=s;for(let I=p?s:b();I&&!ML(I);I=b())Yn(I)&&(S=I);return S},E2=s=>{const c=((p,m)=>{const b=tn.fromRangeStart(p).getNode(),S=((W,$)=>wl(Xe(W),tt=>(ut=>ba(ut.dom))(tt)||Bs(tt),O2($)).getOr(Xe($)).dom)(b,m),I=JC(b,S,!1),E=JC(b,S,!0),F=document.createRange();return KC(I,S).fold(()=>{L2(I)?F.setStart(I,0):F.setStartBefore(I)},W=>F.setStartBefore(W.dom)),KC(E,S).fold(()=>{L2(E)?F.setEnd(E,E.data.length):F.setEndAfter(E)},W=>F.setEndAfter(W.dom)),F})(s.selection.getRng(),s.getBody());s.selection.setRng(T_(c))};var Sf;(function(s){s.Before="before",s.After="after"})(Sf||(Sf={}));const P2=(s,c)=>Math.abs(s.left-c),QC=(s,c)=>Math.abs(s.right-c),jl=(s,c)=>(p=>Zn(p,(m,b)=>m.fold(()=>U.some(b),S=>{const I=Math.min(b.left,S.left),E=Math.min(b.top,S.top),F=Math.max(b.right,S.right),W=Math.max(b.bottom,S.bottom);return U.some({top:E,right:F,bottom:W,left:I,width:F-I,height:W-E})}),U.none()))(Gn(s,p=>{return(m=c)>=(b=p).top&&m<=b.bottom;var m,b})).fold(()=>[[],s],p=>{const{pass:m,fail:b}=kn(s,S=>((I,E)=>{const F=((W,$)=>Math.max(0,Math.min(W.bottom,$.bottom)-Math.max(W.top,$.top)))(I,E)/Math.min(I.height,E.height);return((W,$)=>W.top<$.bottom&&W.bottom>$.top)(I,E)&&F>.5})(S,p));return[m,b]}),N2=(s,c,p)=>c>s.left&&c<s.right?0:Math.min(Math.abs(s.left-c),Math.abs(s.right-c)),tk=(s,c,p)=>{const m=W=>Yn(W.node)?U.some(W):li(W.node)?tk(Pe(W.node.childNodes),c,p):U.none(),b=(W,$)=>{const tt=kt(W,(ut,ht)=>$(ut,c,p)-$(ht,c,p));return((ut,ht)=>{if(ut.length>=2){const st=m(ut[0]).getOr(ut[0]),xt=m(ut[1]).getOr(ut[1]);if(Math.abs(ht(st,c,p)-ht(xt,c,p))<2){if(Dn(st.node))return U.some(st);if(Dn(xt.node))return U.some(xt)}}return U.none()})(tt,$).orThunk(()=>Te(tt,m))},[S,I]=jl(Ec(s),p),{pass:E,fail:F}=kn(I,W=>W.top<p);return b(S,N2).orThunk(()=>b(F,Nt)).orThunk(()=>b(E,Nt))},R2=(s,c,p)=>((m,b,S)=>{const I=Xe(m),E=vs(I),F=da(E,b,S).filter(W=>bl(I,W)).getOr(I);return((W,$,tt,ut)=>{const ht=(st,xt)=>{const lt=Gn(st.dom.childNodes,Bn(_t=>li(_t)&&_t.classList.contains("mce-drag-container")));return xt.fold(()=>tk(lt,tt,ut),_t=>{const Pt=Gn(lt,Xt=>Xt!==_t.dom);return tk(Pt,tt,ut)}).orThunk(()=>(tr(st,W)?U.none():Qo(st)).bind(_t=>ht(_t,U.some(st))))};return ht($,U.none())})(I,F,b,S)})(s,c,p).filter(m=>Xh(m.node)).map(m=>((b,S)=>({node:b.node,position:P2(b,S)<QC(b,S)?Sf.Before:Sf.After}))(m,c)),B2=s=>{var c,p;const m=s.getBoundingClientRect(),b=s.ownerDocument,S=b.documentElement,I=b.defaultView;return{top:m.top+((c=I==null?void 0:I.scrollY)!==null&&c!==void 0?c:0)-S.clientTop,left:m.left+((p=I==null?void 0:I.scrollX)!==null&&p!==void 0?p:0)-S.clientLeft}},ek=Yr,IL=((...s)=>c=>{for(let p=0;p<s.length;p++)if(s[p](c))return!0;return!1})(ek,ba),z2=(s,c,p,m)=>{const b=s.dom,S=c.cloneNode(!0);b.setStyles(S,{width:p,height:m}),b.setAttrib(S,"data-mce-selected",null);const I=b.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return b.setStyles(I,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:p,height:m}),b.setStyles(S,{margin:0,boxSizing:"border-box"}),I.appendChild(S),I},wm=(s,c)=>p=>()=>{const m=s==="left"?p.scrollX:p.scrollY;p.scroll({[s]:m+c,behavior:"smooth"})},F2=wm("left",-32),Kb=wm("left",32),_m=wm("top",-32),nk=wm("top",32),Jb=s=>{s&&s.parentNode&&s.parentNode.removeChild(s)},Qb=(s,c)=>{const p=ol((b,S)=>{c._selectionOverrides.hideFakeCaret(),R2(c.getBody(),b,S).fold(()=>c.selection.placeCaretAt(b,S),I=>{const E=c._selectionOverrides.showCaret(1,I.node,I.position===Sf.Before,!1);E?c.selection.setRng(E):c.selection.placeCaretAt(b,S)})},0);c.on("remove",p.cancel);const m=s;return b=>s.on(S=>{const I=Math.max(Math.abs(b.screenX-S.screenX),Math.abs(b.screenY-S.screenY));if(!S.dragging&&I>10){if(c.dispatch("dragstart",{target:S.element}).isDefaultPrevented())return;S.dragging=!0,c.focus()}if(S.dragging){const W=b.currentTarget===c.getDoc().documentElement,$=((tt,ut)=>({pageX:ut.pageX-tt.relX,pageY:ut.pageY+5}))(S,((tt,ut)=>{return ht=(lt=>lt.inline?B2(lt.getBody()):{left:0,top:0})(tt),st=(lt=>{const _t=lt.getBody();return lt.inline?{left:_t.scrollLeft,top:_t.scrollTop}:{left:0,top:0}})(tt),xt=((lt,_t)=>{if(_t.target.ownerDocument!==lt.getDoc()){const Pt=B2(lt.getContentAreaContainer()),Xt=(ce=>{const Ae=ce.getBody(),_e=ce.getDoc().documentElement,Ye={left:Ae.scrollLeft,top:Ae.scrollTop},ze={left:Ae.scrollLeft||_e.scrollLeft,top:Ae.scrollTop||_e.scrollTop};return ce.inline?Ye:ze})(lt);return{left:_t.pageX-Pt.left+Xt.left,top:_t.pageY-Pt.top+Xt.top}}return{left:_t.pageX,top:_t.pageY}})(tt,ut),{pageX:xt.left-ht.left+st.left,pageY:xt.top-ht.top+st.top};var ht,st,xt})(c,b));E=S.ghost,F=c.getBody(),E.parentNode!==F&&F.appendChild(E),((tt,ut,ht,st,xt,lt,_t,Pt,Xt,ce,Ae,_e)=>{let Ye=0,ze=0;tt.style.left=ut.pageX+"px",tt.style.top=ut.pageY+"px",ut.pageX+ht>xt&&(Ye=ut.pageX+ht-xt),ut.pageY+st>lt&&(ze=ut.pageY+st-lt),tt.style.width=ht-Ye+"px",tt.style.height=st-ze+"px";const Ge=Xt.clientHeight,en=Xt.clientWidth,nn=_t+Xt.getBoundingClientRect().top,hn=Pt+Xt.getBoundingClientRect().left;Ae.on(sn=>{sn.intervalId.clear(),sn.dragging&&_e&&(_t+8>=Ge?sn.intervalId.set(nk(ce)):_t-8<=0?sn.intervalId.set(_m(ce)):Pt+8>=en?sn.intervalId.set(Kb(ce)):Pt-8<=0?sn.intervalId.set(F2(ce)):nn+16>=window.innerHeight?sn.intervalId.set(nk(window)):nn-16<=0?sn.intervalId.set(_m(window)):hn+16>=window.innerWidth?sn.intervalId.set(Kb(window)):hn-16<=0&&sn.intervalId.set(F2(window)))})})(S.ghost,$,S.width,S.height,S.maxX,S.maxY,b.clientY,b.clientX,c.getContentAreaContainer(),c.getWin(),m,W),p.throttle(b.clientX,b.clientY)}var E,F})},V2=s=>{s.on(c=>{c.intervalId.clear(),Jb(c.ghost)}),s.clear()},jy=s=>{const c=rl(),p=kr.DOM,m=document,b=((F,W)=>$=>{if((ht=>ht.button===0)($)){const ht=Yi(W.dom.getParents($.target),IL).getOr(null);if(Kt(ht)&&(tt=W.getBody(),ek(ut=ht)&&ut!==tt)){const st=W.dom.getPos(ht),xt=W.getBody(),lt=W.getDoc().documentElement;F.set({element:ht,dragging:!1,screenX:$.screenX,screenY:$.screenY,maxX:(W.inline?xt.scrollWidth:lt.offsetWidth)-2,maxY:(W.inline?xt.scrollHeight:lt.offsetHeight)-2,relX:$.pageX-st.x,relY:$.pageY-st.y,width:ht.offsetWidth,height:ht.offsetHeight,ghost:z2(W,ht,ht.offsetWidth,ht.offsetHeight),intervalId:Hh(100)})}}var tt,ut})(c,s),S=Qb(c,s),I=((F,W)=>$=>{F.on(tt=>{if(tt.intervalId.clear(),tt.dragging){if(((ut,ht,st)=>!Ft(ht)&&ht!==st&&!ut.dom.isChildOf(ht,st)&&!ek(ht))(W,(ut=>{const ht=ut.getSel();if(Kt(ht)){const st=ht.getRangeAt(0).startContainer;return Dn(st)?st.parentNode:st}return null})(W.selection),tt.element)){const ut=(ht=>{const st=ht.cloneNode(!0);return st.removeAttribute("data-mce-selected"),st})(tt.element);W.dispatch("drop",{clientX:$.clientX,clientY:$.clientY}).isDefaultPrevented()||W.undoManager.transact(()=>{Jb(tt.element),W.insertContent(W.dom.getOuterHTML(ut)),W._selectionOverrides.hideFakeCaret()})}W.dispatch("dragend")}}),V2(F)})(c,s),E=((F,W)=>()=>{F.on($=>{$.intervalId.clear(),$.dragging&&W.dispatch("dragend")}),V2(F)})(c,s);s.on("mousedown",b),s.on("mousemove",S),s.on("mouseup",I),p.bind(m,"mousemove",S),p.bind(m,"mouseup",E),s.on("remove",()=>{p.unbind(m,"mousemove",S),p.unbind(m,"mouseup",E)}),s.on("keydown",F=>{F.keyCode===Ai.ESC&&E()})},Sm=Yr,ik=(s,c)=>dd(s.getBody(),c),H2=s=>{const c=s.selection,p=s.dom,m=s.getBody(),b=aw(s,m,p.isBlock,()=>ld(s)),S="sel-"+p.uniqueId(),I="data-mce-selected";let E;const F=lt=>lt!==m&&(Sm(lt)||ws(lt))&&p.isChildOf(lt,m),W=(lt,_t,Pt,Xt=!0)=>s.dispatch("ShowCaret",{target:_t,direction:lt,before:Pt}).isDefaultPrevented()?null:(Xt&&c.scrollIntoView(_t,lt===-1),b.show(Pt,_t)),$=lt=>Uo(lt)||Ru(lt)||dp(lt),tt=lt=>$(lt.startContainer)||$(lt.endContainer),ut=lt=>{const _t=s.schema.getVoidElements(),Pt=p.createRng(),Xt=lt.startContainer,ce=lt.startOffset,Ae=lt.endContainer,_e=lt.endOffset;return gn(_t,Xt.nodeName.toLowerCase())?ce===0?Pt.setStartBefore(Xt):Pt.setStartAfter(Xt):Pt.setStart(Xt,ce),gn(_t,Ae.nodeName.toLowerCase())?_e===0?Pt.setEndBefore(Ae):Pt.setEndAfter(Ae):Pt.setEnd(Ae,_e),Pt},ht=(lt,_t)=>{if(!lt)return null;if(lt.collapsed){if(!tt(lt)){const Ae=_t?1:-1,_e=Dp(Ae,m,lt),Ye=_e.getNode(!_t);if(Kt(Ye)){if(Xh(Ye))return W(Ae,Ye,!!_t&&!_e.isAtEnd(),!1);if(Wc(Ye)&&Yr(Ye.nextSibling)){const Ge=p.createRng();return Ge.setStart(Ye,0),Ge.setEnd(Ye,0),Ge}}const ze=_e.getNode(_t);if(Kt(ze)){if(Xh(ze))return W(Ae,ze,!_t&&!_e.isAtEnd(),!1);if(Wc(ze)&&Yr(ze.previousSibling)){const Ge=p.createRng();return Ge.setStart(ze,1),Ge.setEnd(ze,1),Ge}}}return null}let Pt=lt.startContainer,Xt=lt.startOffset;const ce=lt.endOffset;if(Dn(Pt)&&Xt===0&&Sm(Pt.parentNode)&&(Pt=Pt.parentNode,Xt=p.nodeIndex(Pt),Pt=Pt.parentNode),!li(Pt))return null;if(ce===Xt+1&&Pt===lt.endContainer){const Ae=Pt.childNodes[Xt];if(F(Ae))return(_e=>{const Ye=_e.cloneNode(!0),ze=s.dispatch("ObjectSelected",{target:_e,targetClone:Ye});if(ze.isDefaultPrevented())return null;const Ge=((nn,hn)=>{const sn=Xe(s.getBody()),xn=s.getDoc(),$n=Vc(sn,"#"+S).getOrThunk(()=>{const Ii=Ch('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',xn);return Mo(Ii,"id",S),Bo(sn,Ii),Ii}),Kn=p.createRng();xs($n),Rs($n,[xl(zo,xn),Xe(hn),xl(zo,xn)]),Kn.setStart($n.dom.firstChild,1),Kn.setEnd($n.dom.lastChild,0),Th($n,{top:p.getPos(nn,s.getBody()).y+"px"}),WA($n);const ki=c.getSel();return ki&&(ki.removeAllRanges(),ki.addRange(Kn)),Kn})(_e,ze.targetClone),en=Xe(_e);return he(fa(Xe(s.getBody()),"*[data-mce-selected]"),nn=>{tr(en,nn)||No(nn,I)}),p.getAttrib(_e,I)||_e.setAttribute(I,"1"),E=_e,xt(),Ge})(Ae)}return null},st=()=>{E&&E.removeAttribute(I),Vc(Xe(s.getBody()),"#"+S).each(_r),E=null},xt=()=>{b.hide()};return aa(s)||(s.on("click",lt=>{const _t=ik(s,lt.target);_t&&Sm(_t)&&(lt.preventDefault(),s.focus())}),s.on("blur NewBlock",st),s.on("ResizeWindow FullscreenStateChanged",b.reposition),s.on("tap",lt=>{const _t=lt.target,Pt=ik(s,_t);Sm(Pt)?(lt.preventDefault(),sm(s,Pt).each(ht)):F(_t)&&sm(s,_t).each(ht)},!0),s.on("mousedown",lt=>{const _t=lt.target;if(_t!==m&&_t.nodeName!=="HTML"&&!p.isChildOf(_t,m)||!((Xt,ce,Ae)=>{const _e=Xe(Xt.getBody()),Ye=Xt.inline?_e:Xe(vs(_e).dom.documentElement),ze=((Ge,en,nn,hn)=>{const sn=(xn=>xn.dom.getBoundingClientRect())(en);return{x:nn-(Ge?sn.left+en.dom.clientLeft+JM(en):0),y:hn-(Ge?sn.top+en.dom.clientTop+KM(en):0)}})(Xt.inline,Ye,ce,Ae);return((Ge,en,nn)=>{const hn=YD(Ge),sn=vS(Ge);return en>=0&&nn>=0&&en<=hn&&nn<=sn})(Ye,ze.x,ze.y)})(s,lt.clientX,lt.clientY))return;st(),xt();const Pt=ik(s,_t);Sm(Pt)?(lt.preventDefault(),sm(s,Pt).each(ht)):R2(m,lt.clientX,lt.clientY).each(Xt=>{var ce;lt.preventDefault(),(ce=W(1,Xt.node,Xt.position===Sf.Before,!1))&&c.setRng(ce),li(Pt)?Pt.focus():s.getBody().focus()})}),s.on("keypress",lt=>{Ai.modifierPressed(lt)||Sm(c.getNode())&&lt.preventDefault()}),s.on("GetSelectionRange",lt=>{let _t=lt.range;if(E){if(!E.parentNode)return void(E=null);_t=_t.cloneRange(),_t.selectNode(E),lt.range=_t}}),s.on("SetSelectionRange",lt=>{lt.range=ut(lt.range);const _t=ht(lt.range,lt.forward);_t&&(lt.range=_t)}),s.on("AfterSetSelectionRange",lt=>{const _t=lt.range,Pt=_t.startContainer.parentElement;var Xt;tt(_t)||li(Xt=Pt)&&Xt.id==="mcepastebin"||xt(),(ce=>Kt(ce)&&p.hasClass(ce,"mce-offscreen-selection"))(Pt)||st()}),(lt=>{jy(lt),uA(lt)&&(_t=>{const Pt=Ae=>{if(!Ae.isDefaultPrevented()){const _e=Ae.dataTransfer;_e&&(Re(_e.types,"Files")||_e.files.length>0)&&(Ae.preventDefault(),Ae.type==="drop"&&hy(_t,"Dropped file type is not supported"))}},Xt=Ae=>{zg(_t,Ae.target)&&Pt(Ae)},ce=()=>{const Ae=kr.DOM,_e=_t.dom,Ye=document,ze=_t.inline?_t.getBody():_t.getDoc(),Ge=["drop","dragover"];he(Ge,en=>{Ae.bind(Ye,en,Xt),_e.bind(ze,en,Pt)}),_t.on("remove",()=>{he(Ge,en=>{Ae.unbind(Ye,en,Xt),_e.unbind(ze,en,Pt)})})};_t.on("init",()=>{Xs.setEditorTimeout(_t,ce,0)})})(lt)})(s),(lt=>{const _t=ol(()=>{if(!lt.removed&&lt.getBody().contains(document.activeElement)){const Pt=lt.selection.getRng();if(Pt.collapsed){const Xt=ib(lt,Pt,!1);lt.selection.setRng(Xt)}}},0);lt.on("focus",()=>{_t.throttle()}),lt.on("blur",()=>{_t.cancel()})})(s),(lt=>{lt.on("init",()=>{lt.on("focusin",_t=>{const Pt=_t.target;if(ws(Pt)){const Xt=dd(lt.getBody(),Pt),ce=Yr(Xt)?Xt:Pt;lt.selection.getNode()!==ce&&sm(lt,ce).each(Ae=>lt.selection.setRng(Ae))}})})})(s)),{showCaret:W,showBlockCaretContainer:lt=>{lt.hasAttribute("data-mce-caret")&&($f(lt),c.scrollIntoView(lt))},hideFakeCaret:xt,destroy:()=>{b.destroy(),E=null}}},W2=(s,c)=>{let p=c;for(let m=s.previousSibling;Dn(m);m=m.previousSibling)p+=m.data.length;return p},j2=(s,c,p,m,b)=>{if(Dn(p)&&(m<0||m>p.data.length))return[];const S=b&&Dn(p)?[W2(p,m)]:[m];let I=p;for(;I!==c&&I.parentNode;)S.push(s.nodeIndex(I,b)),I=I.parentNode;return I===c?S.reverse():[]},t1=(s,c,p,m,b,S,I=!1)=>({start:j2(s,c,p,m,I),end:j2(s,c,b,S,I)}),Y2=(s,c)=>{const p=c.slice(),m=p.pop();return Me(m)?Zn(p,(b,S)=>b.bind(I=>U.from(I.childNodes[S])),U.some(s)).bind(b=>Dn(b)&&(m<0||m>b.data.length)?U.none():U.some({node:b,offset:m})):U.none()},G2=(s,c)=>Y2(s,c.start).bind(({node:p,offset:m})=>Y2(s,c.end).map(({node:b,offset:S})=>{const I=document.createRange();return I.setStart(p,m),I.setEnd(b,S),I})),Cm=(s,c,p)=>{if(c&&s.isEmpty(c)&&!p(c)){const m=c.parentNode;s.remove(c),Cm(s,m,p)}},e1=(s,c,p,m=!0)=>{const b=c.startContainer.parentNode,S=c.endContainer.parentNode;c.deleteContents(),m&&!p(c.startContainer)&&(Dn(c.startContainer)&&c.startContainer.data.length===0&&s.remove(c.startContainer),Dn(c.endContainer)&&c.endContainer.data.length===0&&s.remove(c.endContainer),Cm(s,b,p),b!==S&&Cm(s,S,p))},Yy=(s,c)=>U.from(s.dom.getParent(c.startContainer,s.dom.isBlock)),rk=(s,c,p)=>{const m=s.dynamicPatternsLookup({text:p,block:c});return{...s,blockPatterns:Ui(m).concat(s.blockPatterns),inlinePatterns:M0(m).concat(s.inlinePatterns)}},ok=(s,c,p,m)=>{const b=s.createRng();return b.setStart(c,0),b.setEnd(p,m),b.toString()},ak=(s,c,p)=>{((m,b,S)=>{if(Dn(m)&&0>=m.length)return U.some(Es(m,0));{const I=O(Ab);return U.from(I.forwards(m,0,Mb(m),S)).map(E=>Es(E.container,0))}})(c,0,c).each(m=>{const b=m.container;WT(b,p.start.length,c).each(S=>{const I=s.createRng();I.setStart(b,0),I.setEnd(S.container,S.offset),e1(s,I,E=>E===c)})})},Nd=(s,c)=>s.create("span",{"data-mce-type":"bookmark",id:c}),Gy=(s,c)=>{const p=s.createRng();return p.setStartAfter(c.start),p.setEndBefore(c.end),p},Xy=(s,c,p)=>{const m=G2(s.getRoot(),p).getOrDie("Unable to resolve path range"),b=m.startContainer,S=m.endContainer,I=m.endOffset===0?S:S.splitText(m.endOffset),E=m.startOffset===0?b:b.splitText(m.startOffset),F=E.parentNode;return{prefix:c,end:I.parentNode.insertBefore(Nd(s,c+"-end"),I),start:F.insertBefore(Nd(s,c+"-start"),E)}},X2=(s,c,p)=>{Cm(s,s.get(c.prefix+"-end"),p),Cm(s,s.get(c.prefix+"-start"),p)},Cf=s=>s.start.length===0,q2=(s,c,p,m)=>{const b=c.start;var S;return vC(s,m.container,m.offset,(S=b,(I,E)=>{const F=I.data.substring(0,E),W=F.lastIndexOf(S.charAt(S.length-1)),$=F.lastIndexOf(S);return $!==-1?$+S.length:W!==-1?W+1:-1}),p).bind(I=>{var E,F;const W=(F=(E=p.textContent)===null||E===void 0?void 0:E.indexOf(b))!==null&&F!==void 0?F:-1;if(W!==-1&&I.offset>=W+b.length){const $=s.createRng();return $.setStart(I.container,I.offset-b.length),$.setEnd(I.container,I.offset),U.some($)}{const $=I.offset-b.length;return mC(I.container,$,p).map(tt=>{const ut=s.createRng();return ut.setStart(tt.container,tt.offset),ut.setEnd(I.container,I.offset),ut}).filter(tt=>tt.toString()===b).orThunk(()=>q2(s,c,p,Es(I.container,0)))}})},sk=(s,c,p,m)=>{const b=s.dom,S=b.getRoot(),I=p.pattern,E=p.position.container,F=p.position.offset;return mC(E,F-p.pattern.end.length,c).bind(W=>{const $=t1(b,S,W.container,W.offset,E,F,m);if(Cf(I))return U.some({matches:[{pattern:I,startRng:$,endRng:$}],position:W});{const tt=Yo(s,p.remainingPatterns,W.container,W.offset,c,m),ut=tt.getOr({matches:[],position:W}),ht=ut.position;return((xt,lt,_t,Pt,Xt,ce=!1)=>{if(lt.start.length===0&&!ce){const Ae=xt.createRng();return Ae.setStart(_t,Pt),Ae.setEnd(_t,Pt),U.some(Ae)}return gC(_t,Pt,Xt).bind(Ae=>q2(xt,lt,Xt,Ae).bind(_e=>{var Ye;return ce&&(_e.endContainer===Ae.container&&_e.endOffset===Ae.offset||Ae.offset===0&&((Ye=_e.endContainer.textContent)===null||Ye===void 0?void 0:Ye.length)===_e.endOffset)?U.none():U.some(_e)}))})(b,I,ht.container,ht.offset,c,tt.isNone()).map(xt=>{const lt=((_t,Pt,Xt,ce=!1)=>t1(_t,Pt,Xt.startContainer,Xt.startOffset,Xt.endContainer,Xt.endOffset,ce))(b,S,xt,m);return{matches:ut.matches.concat([{pattern:I,startRng:lt,endRng:$}]),position:Es(xt.startContainer,xt.startOffset)}})}})},Yo=(s,c,p,m,b,S)=>{const I=s.dom;return gC(p,m,I.getRoot()).bind(E=>{const F=ok(I,b,p,m);for(let W=0;W<c.length;W++){const $=c[W];if(!Jr(F,$.end))continue;const tt=c.slice();tt.splice(W,1);const ut=sk(s,b,{pattern:$,remainingPatterns:tt,position:E},S);if(ut.isNone()&&m>0)return Yo(s,c,p,m-1,b,S);if(ut.isSome())return ut}return U.none()})},n1=(s,c,p)=>{s.selection.setRng(p),c.type==="inline-format"?he(c.format,m=>{s.formatter.apply(m)}):s.execCommand(c.cmd,!1,c.value)},qy=(s,c,p,m,b,S)=>{var I;return((E,F)=>{const W=_i(E,$=>Be(F,tt=>$.pattern.start===tt.pattern.start&&$.pattern.end===tt.pattern.end));return E.length===F.length?W?E:F:E.length>F.length?E:F})(Yo(s,b.inlinePatterns,p,m,c,S).fold(()=>[],E=>E.matches),Yo(s,(I=b.inlinePatterns,kt(I,(E,F)=>F.end.length-E.end.length)),p,m,c,S).fold(()=>[],E=>E.matches))},lk=(s,c)=>{if(c.length===0)return;const p=s.dom,m=s.selection.getBookmark(),b=((S,I)=>{const E=ts("mce_textpattern"),F=fi(I,(W,$)=>{const tt=Xy(S,E+`_end${W.length}`,$.endRng);return W.concat([{...$,endMarker:tt}])},[]);return fi(F,(W,$)=>{const tt=F.length-W.length-1,ut=Cf($.pattern)?$.endMarker:Xy(S,E+`_start${tt}`,$.startRng);return W.concat([{...$,startMarker:ut}])},[])})(p,c);he(b,S=>{const I=p.getParent(S.startMarker.start,p.isBlock),E=F=>F===I;Cf(S.pattern)?((F,W,$,tt)=>{const ut=Gy(F.dom,$);e1(F.dom,ut,tt),n1(F,W,ut)})(s,S.pattern,S.endMarker,E):((F,W,$,tt,ut)=>{const ht=F.dom,st=Gy(ht,tt),xt=Gy(ht,$);e1(ht,xt,ut),e1(ht,st,ut);const lt={prefix:$.prefix,start:$.end,end:tt.start},_t=Gy(ht,lt);n1(F,W,_t)})(s,S.pattern,S.startMarker,S.endMarker,E),X2(p,S.endMarker,E),X2(p,S.startMarker,E)}),s.selection.moveToBookmark(m)},Uy=(s,c)=>{const p=s.selection.getRng();return Yy(s,p).map(m=>{var b;const S=Math.max(0,p.startOffset),I=rk(c,m,(b=m.textContent)!==null&&b!==void 0?b:""),E=qy(s,m,p.startContainer,S,I,!0),F=((W,$,tt,ut)=>{var ht;const st=W.dom,xt=Oa(W);if(!st.is($,xt))return[];const lt=(ht=$.textContent)!==null&&ht!==void 0?ht:"";return((_t,Pt)=>{const Xt=(Ae=>kt(Ae,(_e,Ye)=>Ye.start.length-_e.start.length))(_t),ce=Pt.replace(zo," ");return Yi(Xt,Ae=>Pt.indexOf(Ae.start)===0||ce.indexOf(Ae.start)===0)})(tt.blockPatterns,lt).map(_t=>Mn.trim(lt).length===_t.start.length?[]:[{pattern:_t,range:t1(st,st.getRoot(),$,0,$,0,!0)}]).getOr([])})(s,m,I);return(F.length>0||E.length>0)&&(s.undoManager.add(),s.undoManager.extra(()=>{s.execCommand("mceInsertNewLine")},()=>{s.insertContent(na),lk(s,E),((tt,ut)=>{if(ut.length===0)return;const ht=tt.selection.getBookmark();he(ut,st=>((xt,lt)=>{const _t=xt.dom,Pt=lt.pattern,Xt=G2(_t.getRoot(),lt.range).getOrDie("Unable to resolve path range");return Yy(xt,Xt).each(ce=>{Pt.type==="block-format"?((Ae,_e)=>{const Ye=_e.get(Ae);return Ct(Ye)&&Ut(Ye).exists(ze=>gn(ze,"block"))})(Pt.format,xt.formatter)&&xt.undoManager.transact(()=>{ak(xt.dom,ce,Pt),xt.formatter.apply(Pt.format)}):Pt.type==="block-command"&&xt.undoManager.transact(()=>{ak(xt.dom,ce,Pt),xt.execCommand(Pt.cmd,!1,Pt.value)})}),!0})(tt,st)),tt.selection.moveToBookmark(ht)})(s,F);const W=s.selection.getRng(),$=gC(W.startContainer,W.startOffset,s.dom.getRoot());s.execCommand("mceInsertNewLine"),$.each(tt=>{const ut=tt.container;ut.data.charAt(tt.offset-1)===na&&(ut.deleteData(tt.offset-1,1),Cm(s.dom,ut.parentNode,ht=>ht===s.dom.getRoot()))})}),!0)}).getOr(!1)},km=(s,c,p)=>{for(let m=0;m<s.length;m++)if(p(s[m],c))return!0;return!1},kf=s=>{const c=Mn.each,p=Ai.BACKSPACE,m=Ai.DELETE,b=s.dom,S=s.selection,I=s.parser,E=ti.browser,F=E.isFirefox(),W=E.isChromium()||E.isSafari(),$=ti.deviceType.isiPhone()||ti.deviceType.isiPad(),tt=ti.os.isMacOS()||ti.os.isiOS(),ut=(nn,hn)=>{try{s.getDoc().execCommand(nn,!1,String(hn))}catch{}},ht=nn=>nn.isDefaultPrevented(),st=()=>{s.shortcuts.add("meta+a",null,"SelectAll")},xt=()=>{s.inline||b.bind(s.getDoc(),"mousedown mouseup",nn=>{let hn;if(nn.target===s.getDoc().documentElement)if(hn=S.getRng(),s.getBody().focus(),nn.type==="mousedown"){if(Uo(hn.startContainer))return;S.placeCaretAt(nn.clientX,nn.clientY)}else S.setRng(hn)})},lt=()=>{Range.prototype.getClientRects||s.on("mousedown",nn=>{if(!ht(nn)&&nn.target.nodeName==="HTML"){const hn=s.getBody();hn.blur(),Xs.setEditorTimeout(s,()=>{hn.focus()})}})},_t=()=>{const nn=R0(s);s.on("click",hn=>{const sn=hn.target;/^(IMG|HR)$/.test(sn.nodeName)&&b.getContentEditableParent(sn)!=="false"&&(hn.preventDefault(),s.selection.select(sn),s.nodeChanged()),sn.nodeName==="A"&&b.hasClass(sn,nn)&&sn.childNodes.length===0&&(hn.preventDefault(),S.select(sn))})},Pt=()=>{s.on("keydown",nn=>{if(!ht(nn)&&nn.keyCode===p&&S.isCollapsed()&&S.getRng().startOffset===0){const hn=S.getNode().previousSibling;if(hn&&hn.nodeName&&hn.nodeName.toLowerCase()==="table")return nn.preventDefault(),!1}return!0})},Xt=()=>{iw(s)||s.on("BeforeExecCommand mousedown",()=>{ut("StyleWithCSS",!1),ut("enableInlineTableEditing",!1),Uu(s)||ut("enableObjectResizing",!1)})},ce=()=>{s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ae=()=>{s.inline||s.on("keydown",()=>{document.activeElement===document.body&&s.getWin().focus()})},_e=()=>{s.inline||(s.contentStyles.push("body {min-height: 150px}"),s.on("click",nn=>{let hn;nn.target.nodeName==="HTML"&&(hn=s.selection.getRng(),s.getBody().focus(),s.selection.setRng(hn),s.selection.normalize(),s.nodeChanged())}))},Ye=()=>{tt&&s.on("keydown",nn=>{!Ai.metaKeyPressed(nn)||nn.shiftKey||nn.keyCode!==37&&nn.keyCode!==39||(nn.preventDefault(),s.selection.getSel().modify("move",nn.keyCode===37?"backward":"forward","lineboundary"))})},ze=()=>{s.on("click",nn=>{let hn=nn.target;do if(hn.tagName==="A")return void nn.preventDefault();while(hn=hn.parentNode)}),s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ge=()=>{s.on("init",()=>{s.dom.bind(s.getBody(),"submit",nn=>{nn.preventDefault()})})},en=ne;return aa(s)?(W&&(xt(),_t(),Ge(),st(),$&&(Ae(),_e(),ze())),F&&(lt(),Xt(),ce(),Ye())):(s.on("keydown",nn=>{if(ht(nn)||nn.keyCode!==Ai.BACKSPACE)return;let hn=S.getRng();const sn=hn.startContainer,xn=hn.startOffset,$n=b.getRoot();let Kn=sn;if(hn.collapsed&&xn===0){for(;Kn.parentNode&&Kn.parentNode.firstChild===Kn&&Kn.parentNode!==$n;)Kn=Kn.parentNode;Kn.nodeName==="BLOCKQUOTE"&&(s.formatter.toggle("blockquote",void 0,Kn),hn=b.createRng(),hn.setStart(sn,0),hn.setEnd(sn,0),S.setRng(hn))}}),(()=>{const nn=hn=>{const sn=b.create("body"),xn=hn.cloneContents();return sn.appendChild(xn),S.serializer.serialize(sn,{format:"html"})};s.on("keydown",hn=>{const sn=hn.keyCode;if(!ht(hn)&&(sn===m||sn===p)){const xn=s.selection.isCollapsed(),$n=s.getBody();if(xn&&!b.isEmpty($n)||!xn&&!(Kn=>{const ki=nn(Kn),Ii=b.createRng();return Ii.selectNode(s.getBody()),ki===nn(Ii)})(s.selection.getRng()))return;hn.preventDefault(),s.setContent(""),$n.firstChild&&b.isBlock($n.firstChild)?s.selection.setCursorLocation($n.firstChild,0):s.selection.setCursorLocation($n,0),s.nodeChanged()}})})(),ti.windowsPhone||s.on("keyup focusin mouseup",nn=>{Ai.modifierPressed(nn)||(hn=>{const sn=hn.getBody(),xn=hn.selection.getRng();return xn.startContainer===xn.endContainer&&xn.startContainer===sn&&xn.startOffset===0&&xn.endOffset===sn.childNodes.length})(s)||S.normalize()},!0),W&&(xt(),_t(),s.on("init",()=>{ut("DefaultParagraphSeparator",Oa(s))}),Ge(),Pt(),I.addNodeFilter("br",nn=>{let hn=nn.length;for(;hn--;)nn[hn].attr("class")==="Apple-interchange-newline"&&nn[hn].remove()}),$?(Ae(),_e(),ze()):st()),F&&(s.on("keydown",nn=>{if(!ht(nn)&&nn.keyCode===p){if(!s.getBody().getElementsByTagName("hr").length)return;if(S.isCollapsed()&&S.getRng().startOffset===0){const hn=S.getNode(),sn=hn.previousSibling;if(hn.nodeName==="HR")return b.remove(hn),void nn.preventDefault();sn&&sn.nodeName&&sn.nodeName.toLowerCase()==="hr"&&(b.remove(sn),nn.preventDefault())}}}),lt(),(()=>{const nn=()=>{const sn=b.getAttribs(S.getStart().cloneNode(!1));return()=>{const xn=S.getStart();xn!==s.getBody()&&(b.setAttrib(xn,"style",null),c(sn,$n=>{xn.setAttributeNode($n.cloneNode(!0))}))}},hn=()=>!S.isCollapsed()&&b.getParent(S.getStart(),b.isBlock)!==b.getParent(S.getEnd(),b.isBlock);s.on("keypress",sn=>{let xn;return!(!(ht(sn)||sn.keyCode!==8&&sn.keyCode!==46)&&hn()&&(xn=nn(),s.getDoc().execCommand("delete",!1),xn(),sn.preventDefault(),1))}),b.bind(s.getDoc(),"cut",sn=>{if(!ht(sn)&&hn()){const xn=nn();Xs.setEditorTimeout(s,()=>{xn()})}})})(),Xt(),s.on("SetContent ExecCommand",nn=>{nn.type!=="setcontent"&&nn.command!=="mceInsertLink"||c(b.select("a:not([data-mce-block])"),hn=>{var sn;let xn=hn.parentNode;const $n=b.getRoot();if((xn==null?void 0:xn.lastChild)===hn){for(;xn&&!b.isBlock(xn);){if(((sn=xn.parentNode)===null||sn===void 0?void 0:sn.lastChild)!==xn||xn===$n)return;xn=xn.parentNode}b.add(xn,"br",{"data-mce-bogus":1})}})}),ce(),Ye(),Pt())),{refreshContentEditable:en,isHidden:()=>{if(!F||s.removed)return!1;const nn=s.selection.getSel();return!nn||!nn.rangeCount||nn.rangeCount===0}}},$y=kr.DOM,ck=s=>s.inline?s.getElement().nodeName.toLowerCase():void 0,i1=s=>Ln(s,c=>At(c)===!1),U2=s=>{const c=s.options.get,p=s.editorUpload.blobCache;return i1({allow_conditional_comments:c("allow_conditional_comments"),allow_html_data_urls:c("allow_html_data_urls"),allow_svg_data_urls:c("allow_svg_data_urls"),allow_html_in_named_anchor:c("allow_html_in_named_anchor"),allow_script_urls:c("allow_script_urls"),allow_unsafe_link_target:c("allow_unsafe_link_target"),convert_fonts_to_spans:c("convert_fonts_to_spans"),fix_list_elements:c("fix_list_elements"),font_size_legacy_values:c("font_size_legacy_values"),forced_root_block:c("forced_root_block"),forced_root_block_attrs:c("forced_root_block_attrs"),preserve_cdata:c("preserve_cdata"),remove_trailing_brs:c("remove_trailing_brs"),inline_styles:c("inline_styles"),root_name:ck(s),validate:!0,blob_cache:p,document:s.getDoc()})},Zy=s=>{const c=s.options.get;return i1({custom_elements:c("custom_elements"),extended_valid_elements:c("extended_valid_elements"),invalid_elements:c("invalid_elements"),invalid_styles:c("invalid_styles"),schema:c("schema"),valid_children:c("valid_children"),valid_classes:c("valid_classes"),valid_elements:c("valid_elements"),valid_styles:c("valid_styles"),verify_html:c("verify_html"),padd_empty_block_inline_children:c("format_empty_lines")})},uk=s=>s.inline?s.ui.styleSheetLoader:s.dom.styleSheetLoader,$2=s=>{const c=uk(s),p=O0(s),m=s.contentCSS,b=()=>{c.unloadAll(m),s.inline||s.ui.styleSheetLoader.unloadAll(p)},S=()=>{s.removed?b():s.on("remove",b)};if(s.contentStyles.length>0){let F="";Mn.each(s.contentStyles,W=>{F+=W+`\r
`}),s.dom.addStyle(F)}const I=Promise.all(((F,W,$)=>{const tt=[uk(F).loadAll(W)];return F.inline?tt:tt.concat([F.ui.styleSheetLoader.loadAll($)])})(s,m,p)).then(S).catch(S),E=J1(s);return E&&((F,W)=>{const $=Xe(F.getBody()),tt=Iu(qo($)),ut=bo("style");Mo(ut,"type","text/css"),Bo(ut,xl(W)),Bo(tt,ut),F.on("remove",()=>{_r(ut)})})(s,E),I},r1=s=>{s.removed!==!0&&((c=>{aa(c)||c.load({initial:!0,format:"html"}),c.startContent=c.getContent({format:"raw"})})(s),(c=>{c.bindPendingEventDelegates(),c.initialized=!0,(m=>{m.dispatch("Init")})(c),c.focus(!0),(m=>{const b=m.dom.getRoot();m.inline||bv(m)&&m.selection.getStart(!0)!==b||Xr(b).each(S=>{const I=S.getNode(),E=ea(I)?Xr(I).getOr(S):S;m.selection.setRng(E.toRange())})})(c),c.nodeChanged({initial:!0});const p=aD(c);se(p)&&p.call(c,c),(m=>{const b=pA(m);b&&Xs.setEditorTimeout(m,()=>{let S;S=b===!0?m:m.editorManager.get(b),S&&!S.destroyed&&(S.focus(),S.selection.scrollIntoView())},100)})(c)})(s))},hk=s=>{const c=s.getElement();let p=s.getDoc();s.inline&&($y.addClass(c,"mce-content-body"),s.contentDocument=p=document,s.contentWindow=window,s.bodyElement=c,s.contentAreaContainer=c);const m=s.getBody();m.disabled=!0,s.readonly=iw(s),s.readonly||(s.inline&&$y.getStyle(m,"position",!0)==="static"&&(m.style.position="relative"),m.contentEditable="true"),m.disabled=!1,s.editorUpload=eT(s),s.schema=pc(Zy(s)),s.dom=kr(p,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,update_styles:!0,root_element:s.inline?s.getBody():null,collect:s.inline,schema:s.schema,contentCssCors:tA(s),referrerPolicy:ov(s),onSetAttrib:I=>{s.dispatch("SetAttrib",I)}}),s.parser=(I=>{const E=ch(U2(I),I.schema);return E.addAttributeFilter("src,href,style,tabindex",(F,W)=>{const $=I.dom,tt="data-mce-"+W;let ut=F.length;for(;ut--;){const ht=F[ut];let st=ht.attr(W);if(st&&!ht.attr(tt)){if(st.indexOf("data:")===0||st.indexOf("blob:")===0)continue;W==="style"?(st=$.serializeStyle($.parseStyle(st),ht.name),st.length||(st=null),ht.attr(tt,st),ht.attr(W,st)):W==="tabindex"?(ht.attr(tt,st),ht.attr(W,null)):ht.attr(tt,I.convertURL(st,W,ht.name))}}}),E.addNodeFilter("script",F=>{let W=F.length;for(;W--;){const $=F[W],tt=$.attr("type")||"no/type";tt.indexOf("mce-")!==0&&$.attr("type","mce-"+tt)}}),as(I)&&E.addNodeFilter("#cdata",F=>{var W;let $=F.length;for(;$--;){const tt=F[$];tt.type=8,tt.name="#comment",tt.value="[CDATA["+I.dom.encode((W=tt.value)!==null&&W!==void 0?W:"")+"]]"}}),E.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",F=>{let W=F.length;const $=I.schema.getNonEmptyElements();for(;W--;){const tt=F[W];tt.isEmpty($)&&tt.getAll("br").length===0&&tt.append(new Ra("br",1))}}),E})(s),s.serializer=rm((I=>{const E=I.options.get;return{...U2(I),...Zy(I),...i1({url_converter:E("url_converter"),url_converter_scope:E("url_converter_scope"),element_format:E("element_format"),entities:E("entities"),entity_encoding:E("entity_encoding"),indent:E("indent"),indent_after:E("indent_after"),indent_before:E("indent_before")})}})(s),s),s.selection=uy(s.dom,s.getWin(),s.serializer,s),s.annotator=ed(s),s.formatter=rT(s),s.undoManager=SS(s),s._nodeChangeDispatcher=new v2(s),s._selectionOverrides=H2(s),(I=>{const E=rl(),F=no(!1),W=Gu($=>{I.dispatch("longpress",{...$,type:"longpress"}),F.set(!0)},400);I.on("touchstart",$=>{eC($).each(tt=>{W.cancel();const ut={x:tt.clientX,y:tt.clientY,target:$.target};W.throttle($),F.set(!1),E.set(ut)})},!0),I.on("touchmove",$=>{W.cancel(),eC($).each(tt=>{E.on(ut=>{((ht,st)=>{const xt=Math.abs(ht.clientX-st.x),lt=Math.abs(ht.clientY-st.y);return xt>5||lt>5})(tt,ut)&&(E.clear(),F.set(!1),I.dispatch("longpresscancel"))})})},!0),I.on("touchend touchcancel",$=>{W.cancel(),$.type!=="touchcancel"&&E.get().filter(tt=>tt.target.isEqualNode($.target)).each(()=>{F.get()?$.preventDefault():I.dispatch("tap",{...$,type:"tap"})})},!0)})(s),(I=>{(E=>{E.on("click",F=>{E.dom.getParent(F.target,"details")&&F.preventDefault()})})(I),(E=>{E.parser.addNodeFilter("details",F=>{he(F,W=>{W.attr("data-mce-open",W.attr("open")),W.attr("open","open")})}),E.serializer.addNodeFilter("details",F=>{he(F,W=>{const $=W.attr("data-mce-open");W.attr("open",ft($)?$:null),W.attr("data-mce-open",null)})})})(I)})(s),(I=>{const E="contenteditable",F=" "+Mn.trim(gA(I))+" ",W=" "+Mn.trim(Ap(I))+" ",$=xb(F),tt=xb(W),ut=uD(I);ut.length>0&&I.on("BeforeSetContent",ht=>{((st,xt,lt)=>{let _t=xt.length,Pt=lt.content;if(lt.format!=="raw"){for(;_t--;)Pt=Pt.replace(xt[_t],oL(st,Pt,Ap(st)));lt.content=Pt}})(I,ut,ht)}),I.parser.addAttributeFilter("class",ht=>{let st=ht.length;for(;st--;){const xt=ht[st];$(xt)?xt.attr(E,"true"):tt(xt)&&xt.attr(E,"false")}}),I.serializer.addAttributeFilter(E,ht=>{let st=ht.length;for(;st--;){const xt=ht[st];($(xt)||tt(xt))&&(ut.length>0&&xt.attr("data-mce-content")?(xt.name="#text",xt.type=3,xt.raw=!0,xt.value=xt.attr("data-mce-content")):xt.attr(E,null))}})})(s),aa(s)||((I=>{I.on("mousedown",E=>{E.detail>=3&&(E.preventDefault(),E2(I))})})(s),(I=>{(E=>{const F=[",",".",";",":","!","?"],W=[32],$=()=>{return ht=os(E),st=cD(E),{inlinePatterns:M0(ht),blockPatterns:Ui(ht),dynamicPatternsLookup:st};var ht,st},tt=()=>(ht=>ht.options.isSet("text_patterns_lookup"))(E);E.on("keydown",ht=>{if(ht.keyCode===13&&!Ai.modifierPressed(ht)&&E.selection.isCollapsed()){const st=$();(st.inlinePatterns.length>0||st.blockPatterns.length>0||tt())&&Uy(E,st)&&ht.preventDefault()}},!0);const ut=()=>{if(E.selection.isCollapsed()){const ht=$();(ht.inlinePatterns.length>0||tt())&&((st,xt)=>{const lt=st.selection.getRng();Yy(st,lt).map(_t=>{const Pt=Math.max(0,lt.startOffset-1),Xt=ok(st.dom,_t,lt.startContainer,Pt),ce=rk(xt,_t,Xt),Ae=qy(st,_t,lt.startContainer,Pt,ce,!1);Ae.length>0&&st.undoManager.transact(()=>{lk(st,Ae)})})})(E,ht)}};E.on("keyup",ht=>{km(W,ht,(st,xt)=>st===xt.keyCode&&!Ai.modifierPressed(xt))&&ut()}),E.on("keypress",ht=>{km(F,ht,(st,xt)=>st.charCodeAt(0)===xt.charCode)&&Xs.setEditorTimeout(E,ut)})})(I)})(s));const b=jb(s);AT(s,b),(I=>{I.on("NodeChange",De(TT,I))})(s),(I=>{var E;const F=I.dom,W=Oa(I),$=(E=Q1(I))!==null&&E!==void 0?E:"",tt=(ut,ht)=>{if((lt=>{if(aT(lt)){const _t=lt.keyCode;return!Vl(lt)&&(Ai.metaKeyPressed(lt)||lt.altKey||_t>=112&&_t<=123||Re(Tc,_t))}return!1})(ut))return;const st=I.getBody(),xt=!(lt=>aT(lt)&&!(Vl(lt)||lt.type==="keyup"&&lt.keyCode===229))(ut)&&((lt,_t,Pt)=>{if(ho(Xe(_t),!1)){const Xt=_t.firstElementChild;return!Xt||!lt.getStyle(_t.firstElementChild,"padding-left")&&!lt.getStyle(_t.firstElementChild,"padding-right")&&Pt===Xt.nodeName.toLowerCase()}return!1})(F,st,W);(F.getAttrib(st,oT)!==""!==xt||ht)&&(F.setAttrib(st,oT,xt?$:null),F.setAttrib(st,"aria-placeholder",xt?$:null),((lt,_t)=>{lt.dispatch("PlaceholderToggle",{state:_t})})(I,xt),I.on(xt?"keydown":"keyup",tt),I.off(xt?"keyup":"keydown",tt))};y($)&&I.on("init",ut=>{tt(ut,!0),I.on("change SetContent ExecCommand",tt),I.on("paste",ht=>Xs.setEditorTimeout(I,()=>tt(ht)))})})(s),AL(s);const S=(I=>{const E=I;return(F=>En(F.plugins,"rtc").bind(W=>U.from(W.setup)))(I).fold(()=>(E.rtcInstance=sy(I),U.none()),F=>(E.rtcInstance=(()=>{const W=ie(null),$=ie("");return{init:{bindEvents:ne},undoManager:{beforeChange:ne,add:W,undo:W,redo:W,clear:ne,reset:ne,hasUndo:oe,hasRedo:oe,transact:W,ignore:ne,extra:ne},formatter:{match:oe,matchAll:ie([]),matchNode:ie(void 0),canApply:oe,closest:$,apply:ne,remove:ne,toggle:ne,formatChanged:ie({unbind:ne})},editor:{getContent:$,setContent:ie({content:"",html:""}),insertContent:ie(""),addVisual:ne},selection:{getContent:$},autocompleter:{addDecoration:ne,removeDecoration:ne},raw:{getModel:ie(U.none())}}})(),U.some(()=>F().then(W=>(E.rtcInstance=($=>{const tt=Xt=>It(Xt)?Xt:{},{init:ut,undoManager:ht,formatter:st,editor:xt,selection:lt,autocompleter:_t,raw:Pt}=$;return{init:{bindEvents:ut.bindEvents},undoManager:{beforeChange:ht.beforeChange,add:ht.add,undo:ht.undo,redo:ht.redo,clear:ht.clear,reset:ht.reset,hasUndo:ht.hasUndo,hasRedo:ht.hasRedo,transact:(Xt,ce,Ae)=>ht.transact(Ae),ignore:(Xt,ce)=>ht.ignore(ce),extra:(Xt,ce,Ae,_e)=>ht.extra(Ae,_e)},formatter:{match:(Xt,ce,Ae,_e)=>st.match(Xt,tt(ce),_e),matchAll:st.matchAll,matchNode:st.matchNode,canApply:Xt=>st.canApply(Xt),closest:Xt=>st.closest(Xt),apply:(Xt,ce,Ae)=>st.apply(Xt,tt(ce)),remove:(Xt,ce,Ae,_e)=>st.remove(Xt,tt(ce)),toggle:(Xt,ce,Ae)=>st.toggle(Xt,tt(ce)),formatChanged:(Xt,ce,Ae,_e,Ye)=>st.formatChanged(ce,Ae,_e,Ye)},editor:{getContent:Xt=>xt.getContent(Xt),setContent:(Xt,ce)=>({content:xt.setContent(Xt,ce),html:""}),insertContent:(Xt,ce)=>(xt.insertContent(Xt),""),addVisual:xt.addVisual},selection:{getContent:(Xt,ce)=>lt.getContent(ce)},autocompleter:{addDecoration:_t.addDecoration,removeDecoration:_t.removeDecoration},raw:{getModel:()=>U.some(Pt.getRawModel())}}})(W),W.rtc.isRemote)))))})(s);(I=>{const E=I.getDoc(),F=I.getBody();(tt=>{tt.dispatch("PreInit")})(I),rw(I)||(E.body.spellcheck=!1,$y.setAttrib(F,"spellcheck","false")),I.quirks=kf(I),(tt=>{tt.dispatch("PostRender")})(I);const W=iA(I);W!==void 0&&(F.dir=W);const $=kp(I);$&&I.on("BeforeSetContent",tt=>{Mn.each($,ut=>{tt.content=tt.content.replace(ut,ht=>"<!--mce:protected "+escape(ht)+"-->")})}),I.on("SetContent",()=>{I.addVisual(I.getBody())}),I.on("compositionstart compositionend",tt=>{I.composing=tt.type==="compositionstart"})})(s),S.fold(()=>{$2(s).then(()=>r1(s))},I=>{s.setProgressState(!0),$2(s).then(()=>{I().then(E=>{s.setProgressState(!1),r1(s),cy(s)},E=>{s.notificationManager.open({type:"error",text:String(E)}),r1(s),cy(s)})})})},o1=(s,c)=>{if(s.inline||(s.getElement().style.visibility=s.orgVisibility),c||s.inline)hk(s);else{const m=s.iframeElement,b=(p=Xe(m),E1(p,"load",GD,()=>{b.unbind(),s.contentDocument=m.contentDocument,hk(s)}));if(ti.browser.isFirefox()){const S=s.getDoc();S.open(),S.write(s.iframeHTML),S.close()}else m.srcdoc=s.iframeHTML}var p},Ky=kr.DOM,Am=kr.DOM,Jy=(s,c)=>({editorContainer:s,iframeContainer:c,api:{}}),dk=s=>{const c=s.getElement();return s.inline?Jy(null):(p=>{const m=Am.create("div");return Am.insertAfter(m,p),Jy(m,m)})(c)},pk=s=>{s.dispatch("ScriptsLoaded"),(p=>{const m=Mn.trim(L0(p)),b=p.ui.registry.getAll().icons,S={...Jx.get("default").icons,...Jx.get(m).icons};Fe(S,(I,E)=>{gn(b,E)||p.ui.registry.addIcon(E,I)})})(s),(p=>{const m=Wo(p);if(ft(m)){const b=Cd.get(m);p.theme=b(p,Cd.urls[m])||{},se(p.theme.init)&&p.theme.init(p,Cd.urls[m]||p.documentBaseUrl.replace(/\/$/,""))}else p.theme={}})(s),(p=>{const m=Cp(p),b=om.get(m);p.model=b(p,om.urls[m])})(s),(p=>{const m=[];he(N0(p),b=>{((S,I,E)=>{const F=of.get(E),W=of.urls[E]||S.documentBaseUrl.replace(/\/$/,"");if(E=Mn.trim(E),F&&Mn.inArray(I,E)===-1){if(S.plugins[E])return;try{const $=F(S,W)||{};S.plugins[E]=$,se($.init)&&($.init(S,W),I.push(E))}catch($){((tt,ut,ht)=>{const st=mo.translate(["Failed to initialize plugin: {0}",ut]);Tg(tt,"PluginLoadError",{message:st}),Qx(st,ht),hy(tt,st)})(S,E,$)}}})(p,m,(S=>S.replace(/^\-/,""))(b))})})(s);const c=(p=>{const m=p.getElement();return p.orgDisplay=m.style.display,ft(Wo(p))?(b=>{const S=b.theme.renderUI;return S?S():dk(b)})(p):se(Wo(p))?(b=>{const S=b.getElement(),I=Wo(b)(b,S);return I.editorContainer.nodeType&&(I.editorContainer.id=I.editorContainer.id||b.id+"_parent"),I.iframeContainer&&I.iframeContainer.nodeType&&(I.iframeContainer.id=I.iframeContainer.id||b.id+"_iframecontainer"),I.height=I.iframeHeight?I.iframeHeight:S.offsetHeight,I})(p):dk(p)})(s);((p,m)=>{const b={show:U.from(m.show).getOr(ne),hide:U.from(m.hide).getOr(ne),isEnabled:U.from(m.isEnabled).getOr(Oe),setEnabled:S=>{p.mode.isReadOnly()||U.from(m.setEnabled).each(I=>I(S))}};p.ui={...p.ui,...b}})(s,U.from(c.api).getOr({})),s.editorContainer=c.editorContainer,(p=>{p.contentCSS=p.contentCSS.concat((m=>tT(m,K1(m)))(p),(m=>tT(m,O0(m)))(p))})(s),s.inline?o1(s):((p,m)=>{((b,S)=>{const I=b.translate("Rich Text Area"),E=Qs(Xe(b.getElement()),"tabindex").bind(M),F=((W,$,tt,ut)=>{const ht=bo("iframe");return ut.each(st=>Mo(ht,"tabindex",st)),Ul(ht,tt),Ul(ht,{id:W+"_ifr",frameBorder:"0",allowTransparency:"true",title:$}),$d(ht,"tox-edit-area__iframe"),ht})(b.id,I,I0(b),E).dom;F.onload=()=>{F.onload=null,b.dispatch("load")},b.contentAreaContainer=S.iframeContainer,b.iframeElement=F,b.iframeHTML=(W=>{let $=nv(W)+"<html><head>";iv(W)!==W.documentBaseUrl&&($+='<base href="'+W.documentBaseURI.getURI()+'" />'),$+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const tt=rv(W),ut=sg(W),ht=W.translate(oD(W));return X1(W)&&($+='<meta http-equiv="Content-Security-Policy" content="'+X1(W)+'" />'),$+=`</head><body id="${tt}" class="mce-content-body ${ut}" data-id="${W.id}" aria-label="${ht}"><br></body></html>`,$})(b),Ky.add(S.iframeContainer,F)})(p,m),m.editorContainer&&(m.editorContainer.style.display=p.orgDisplay,p.hidden=Ky.isHidden(m.editorContainer)),p.getElement().style.display="none",Ky.setAttrib(p.id,"aria-hidden","true"),o1(p)})(s,{editorContainer:c.editorContainer,iframeContainer:c.iframeContainer})},Rd=kr.DOM,Z2=s=>s.charAt(0)==="-",K2=(s,c,p)=>U.from(c).filter(m=>y(m)&&!Jx.has(m)).map(m=>({url:`${s.editorManager.baseURL}/icons/${m}/icons${p}.js`,name:U.some(m)})),DL=(s,c)=>{const p=$o.ScriptLoader,m=()=>{!s.removed&&(b=>{const S=Wo(b);return!ft(S)||Kt(Cd.get(S))})(s)&&(b=>{const S=Cp(b);return Kt(om.get(S))})(s)&&pk(s)};((b,S)=>{const I=Wo(b);if(ft(I)&&!Z2(I)&&!gn(Cd.urls,I)){const E=Sp(b),F=E?b.documentBaseURI.toAbsolute(E):`themes/${I}/theme${S}.js`;Cd.load(I,F).catch(()=>{((W,$,tt)=>{af(W,"ThemeLoadError",dy("theme",$,tt))})(b,F,I)})}})(s,c),((b,S)=>{const I=Cp(b);if(I!=="plugin"&&!gn(om.urls,I)){const E=ew(b),F=ft(E)?b.documentBaseURI.toAbsolute(E):`models/${I}/model${S}.js`;om.load(I,F).catch(()=>{((W,$,tt)=>{af(W,"ModelLoadError",dy("model",$,tt))})(b,F,I)})}})(s,c),((b,S)=>{const I=$1(S),E=eA(S);if(!mo.hasCode(I)&&I!=="en"){const F=y(E)?E:`${S.editorManager.baseURL}/langs/${I}.js`;b.add(F).catch(()=>{((W,$,tt)=>{af(W,"LanguageLoadError",dy("language",$,tt))})(S,F,I)})}})(p,s),((b,S,I)=>{const E=K2(S,"default",I),F=(W=>U.from(_p(W)).filter(y).map($=>({url:$,name:U.none()})))(S).orThunk(()=>K2(S,L0(S),""));he((W=>{const $=[],tt=ut=>{$.push(ut)};for(let ut=0;ut<W.length;ut++)W[ut].each(tt);return $})([E,F]),W=>{b.add(W.url).catch(()=>{(($,tt,ut)=>{af($,"IconsLoadError",dy("icons",tt,ut))})(S,W.url,W.name.getOrUndefined())})})})(p,s,c),((b,S)=>{const I=(E,F)=>{of.load(E,F).catch(()=>{((W,$,tt)=>{af(W,"PluginLoadError",dy("plugin",$,tt))})(b,F,E)})};Fe(cA(b),(E,F)=>{I(F,E),b.options.set("plugins",N0(b).concat(F))}),he(N0(b),E=>{!(E=Mn.trim(E))||of.urls[E]||Z2(E)||I(E,`plugins/${E}/plugin${S}.js`)})})(s,c),p.loadQueue().then(m,m)},J2=Wi().deviceType,fk=J2.isPhone(),LL=J2.isTablet(),Mm=s=>{if(Ft(s))return[];{const c=Ct(s)?s:s.split(/[ ,]/),p=un(c,$t);return Gn(p,y)}},Q2=(s,c)=>{const p=((S,I)=>{const E={},F={};return jn(S,(W,$)=>Re(s,$),yn(E),yn(F)),{t:E,f:F}})(c);return m=p.t,b=p.f,{sections:ie(m),options:ie(b)};var m,b},a1=(s,c)=>gn(s.sections(),c),OL=(s,c)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:En(s,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...c?{menubar:!1}:{}}),EL=(s,c)=>{var p;const m=(p=c.external_plugins)!==null&&p!==void 0?p:{};return s&&s.external_plugins?Mn.extend({},s.external_plugins,m):m},s1=(s,c,p,m,b)=>{var S;const I=s?{mobile:OL((S=b.mobile)!==null&&S!==void 0?S:{},c)}:{},E=Q2(["mobile"],Lb(I,b)),F=Mn.extend(p,m,E.options(),((W,$)=>W&&a1($,"mobile"))(s,E)?((W,$,tt={})=>{const ut=W.sections(),ht=En(ut,$).getOr({});return Mn.extend({},tt,ht)})(E,"mobile"):{},{external_plugins:EL(m,E.options())});return((W,$,tt,ut)=>{const ht=Mm(tt.forced_plugins),st=Mm(ut.plugins),xt=((Pt,Xt)=>a1(Pt,Xt)?Pt.sections()[Xt]:{})($,"mobile"),lt=((Pt,Xt,ce,Ae)=>Pt&&a1(Xt,"mobile")?Ae:ce)(W,$,st,xt.plugins?Mm(xt.plugins):st),_t=((Pt,Xt)=>[...Mm(Pt),...Mm(Xt)])(ht,lt);return Mn.extend(ut,{forced_plugins:ht,plugins:_t})})(s,E,m,F)},PL=s=>{(c=>{const p=m=>()=>{he("left,center,right,justify".split(","),b=>{m!==b&&c.formatter.remove("align"+b)}),m!=="none"&&((b,S)=>{c.formatter.toggle(b,void 0),c.nodeChanged()})("align"+m)};c.editorCommands.addCommands({JustifyLeft:p("left"),JustifyCenter:p("center"),JustifyRight:p("right"),JustifyFull:p("justify"),JustifyNone:p("none")})})(s),(c=>{const p=m=>()=>{const b=c.selection,S=b.isCollapsed()?[c.dom.getParent(b.getNode(),c.dom.isBlock)]:b.getSelectedBlocks();return Be(S,I=>Kt(c.formatter.matchNode(I,m)))};c.editorCommands.addCommands({JustifyLeft:p("alignleft"),JustifyCenter:p("aligncenter"),JustifyRight:p("alignright"),JustifyFull:p("alignjustify")},"state")})(s)},gk=(s,c)=>{const p=s.selection,m=s.dom;return/^ | $/.test(c)?((b,S,I)=>{const E=Xe(b.getRoot());return I=Vr(E,tn.fromRangeStart(S))?I.replace(/^ /,"&nbsp;"):I.replace(/^&nbsp;/," "),Yg(E,tn.fromRangeEnd(S))?I.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):I.replace(/&nbsp;(<br( \/)?>)?$/," ")})(m,p.getRng(),c):c},Af=(s,c)=>{const{content:p,details:m}=(b=>{if(typeof b!="string"){const S=Mn.extend({paste:b.paste,data:{paste:b.paste}},b);return{content:b.content,details:S}}return{content:b,details:{}}})(c);uh(s,{...m,content:gk(s,p),format:"html",set:!1,selection:!0}).each(b=>{const S=((I,E,F)=>ly(I).editor.insertContent(E,F))(s,b.content,m);Mc(s,S,b),s.addVisual()})},tI={"font-size":"size","font-family":"face"},Qy=Rc("font"),mk=s=>(c,p)=>U.from(p).map(Xe).filter(Po).bind(m=>((b,S,I)=>gd(Xe(I),E=>(F=>To(F,b).orThunk(()=>Qy(F)?En(tI,b).bind(W=>Qs(F,W)):U.none()))(E),E=>tr(Xe(S),E)))(s,c,m.dom).or(((b,S)=>U.from(kr.DOM.getStyle(S,b,!0)))(s,m.dom))).getOr(""),vk=mk("font-size"),yk=Ht(s=>s.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),mk("font-family")),eI=s=>Xr(s.getBody()).bind(c=>{const p=c.container();return U.from(Dn(p)?p.parentNode:p)}),t0=(s,c)=>((p,m)=>(b=>U.from(b.selection.getRng()).bind(S=>{const I=b.getBody();return S.startContainer===I&&S.startOffset===0?U.none():U.from(b.selection.getStart(!0))}))(p).orThunk(De(eI,p)).map(Xe).filter(Po).bind(m))(s,Gt(U.some,c)),nI=(s,c)=>{if(/^[0-9.]+$/.test(c)){const p=parseInt(c,10);if(p>=1&&p<=7){const m=(S=>Mn.explode(S.options.get("font_size_style_values")))(s),b=(S=>Mn.explode(S.options.get("font_size_classes")))(s);return b.length>0?b[p-1]||c:m[p-1]||c}return c}return c},e0=s=>{const c=s.split(/\s*,\s*/);return un(c,p=>p.indexOf(" ")===-1||er(p,'"')||er(p,"'")?p:`'${p}'`).join(",")},n0=s=>{PL(s),(c=>{c.editorCommands.addCommands({"Cut,Copy,Paste":p=>{const m=c.getDoc();let b;try{m.execCommand(p)}catch{b=!0}if(p!=="paste"||m.queryCommandEnabled(p)||(b=!0),b||!m.queryCommandSupported(p)){let S=c.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(ti.os.isMacOS()||ti.os.isiOS())&&(S=S.replace(/Ctrl\+/g,"⌘+")),c.notificationManager.open({text:S,type:"error"})}}})})(s),(c=>{c.editorCommands.addCommands({mceAddUndoLevel:()=>{c.undoManager.add()},mceEndUndoLevel:()=>{c.undoManager.add()},Undo:()=>{c.undoManager.undo()},Redo:()=>{c.undoManager.redo()}})})(s),(c=>{c.editorCommands.addCommands({mceSelectNodeDepth:(p,m,b)=>{let S=0;c.dom.getParent(c.selection.getNode(),I=>!li(I)||S++!==b||(c.selection.select(I),!1),c.getBody())},mceSelectNode:(p,m,b)=>{c.selection.select(b)},selectAll:()=>{const p=c.dom.getParent(c.selection.getStart(),ba);if(p){const m=c.dom.createRng();m.selectNodeContents(p),c.selection.setRng(m)}}})})(s),(c=>{c.editorCommands.addCommands({mceCleanup:()=>{const p=c.selection.getBookmark();c.setContent(c.getContent()),c.selection.moveToBookmark(p)},insertImage:(p,m,b)=>{Af(c,c.dom.createHTML("img",{src:b}))},insertHorizontalRule:()=>{c.execCommand("mceInsertContent",!1,"<hr>")},insertText:(p,m,b)=>{Af(c,c.dom.encode(b))},insertHTML:(p,m,b)=>{Af(c,b)},mceInsertContent:(p,m,b)=>{Af(c,b)},mceSetContent:(p,m,b)=>{c.setContent(b)},mceReplaceContent:(p,m,b)=>{c.execCommand("mceInsertContent",!1,b.replace(/\{\$selection\}/g,c.selection.getContent({format:"text"})))},mceNewDocument:()=>{c.setContent("")}})})(s),(c=>{const p=(m,b,S)=>{const I=ft(S)?{href:S}:S,E=c.dom.getParent(c.selection.getNode(),"a");It(I)&&ft(I.href)&&(I.href=I.href.replace(/ /g,"%20"),E&&I.href||c.formatter.remove("link"),I.href&&c.formatter.apply("link",I,E))};c.editorCommands.addCommands({unlink:()=>{if(c.selection.isCollapsed()){const m=c.dom.getParent(c.selection.getStart(),"a");m&&c.dom.remove(m,!0)}else c.formatter.remove("link")},mceInsertLink:p,createLink:p})})(s),(c=>{c.editorCommands.addCommands({Indent:()=>{(p=>{QS(p,"indent")})(c)},Outdent:()=>{Ty(c)}}),c.editorCommands.addCommands({Outdent:()=>kT(c)},"state")})(s),(c=>{c.editorCommands.addCommands({insertParagraph:()=>{Hb(pl,c)},mceInsertNewLine:(p,m,b)=>{p2(c,b)},InsertLineBreak:(p,m,b)=>{Hb(Vb,c)}})})(s),(c=>{(p=>{p.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":m=>{p.getDoc().execCommand(m);const b=p.dom.getParent(p.selection.getNode(),"ol,ul");if(b){const S=b.parentNode;if(S&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(S.nodeName)){const I=p.selection.getBookmark();p.dom.split(S,b),p.selection.moveToBookmark(I)}}}})})(c),(p=>{p.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":m=>{const b=p.dom.getParent(p.selection.getNode(),"ul,ol");return b&&(m==="insertunorderedlist"&&b.tagName==="UL"||m==="insertorderedlist"&&b.tagName==="OL")}},"state")})(c)})(s),(c=>{(p=>{const m=(b,S)=>{p.formatter.toggle(b,S),p.nodeChanged()};p.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":b=>{m(b)},"ForeColor,HiliteColor":(b,S,I)=>{m(b,{value:I})},BackColor:(b,S,I)=>{m("hilitecolor",{value:I})},FontName:(b,S,I)=>{((E,F)=>{const W=nI(E,F);E.formatter.toggle("fontname",{value:e0(W)}),E.nodeChanged()})(p,I)},FontSize:(b,S,I)=>{((E,F)=>{E.formatter.toggle("fontsize",{value:nI(E,F)}),E.nodeChanged()})(p,I)},LineHeight:(b,S,I)=>{((E,F)=>{E.formatter.toggle("lineheight",{value:String(F)}),E.nodeChanged()})(p,I)},Lang:(b,S,I)=>{var E;m(b,{value:I.code,customValue:(E=I.customCode)!==null&&E!==void 0?E:null})},RemoveFormat:b=>{p.formatter.remove(b)},mceBlockQuote:()=>{m("blockquote")},FormatBlock:(b,S,I)=>{m(ft(I)?I:"p")},mceToggleFormat:(b,S,I)=>{m(I)}})})(c),(p=>{const m=b=>p.formatter.match(b);p.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":b=>m(b),mceBlockQuote:()=>m("blockquote")},"state"),p.editorCommands.addQueryValueHandler("FontName",()=>(b=>t0(b,S=>yk(b.getBody(),S.dom)).getOr(""))(p)),p.editorCommands.addQueryValueHandler("FontSize",()=>(b=>t0(b,S=>vk(b.getBody(),S.dom)).getOr(""))(p)),p.editorCommands.addQueryValueHandler("LineHeight",()=>(b=>t0(b,S=>{const I=Xe(b.getBody());return gd(S,F=>To(F,"line-height"),De(tr,I)).getOrThunk(()=>{const F=parseFloat(qa(S,"line-height")),W=parseFloat(qa(S,"font-size"));return String(F/W)})}).getOr(""))(p))})(c)})(s),(c=>{c.editorCommands.addCommands({mceRemoveNode:(p,m,b)=>{const S=b??c.selection.getNode();if(S!==c.getBody()){const I=c.selection.getBookmark();c.dom.remove(S,!0),c.selection.moveToBookmark(I)}},mcePrint:()=>{c.getWin().print()},mceFocus:(p,m,b)=>{((S,I)=>{S.removed||(I?cx(S):(E=>{const F=E.selection,W=E.getBody();let $=F.getRng();E.quirks.refreshContentEditable(),Kt(E.bookmark)&&!ld(E)&&sd(E).each(ut=>{E.selection.setRng(ut),$=ut});const tt=((ut,ht)=>ut.dom.getParent(ht,st=>ut.dom.getContentEditable(st)==="true"))(E,F.getNode());if(tt&&E.dom.isChildOf(tt,W))return lx(tt),Vw(E,$),void cx(E);E.inline||(ti.browser.isOpera()||lx(W),E.getWin().focus()),(ti.browser.isFirefox()||E.inline)&&(lx(W),Vw(E,$)),cx(E)})(S))})(c,b===!0)},mceToggleVisualAid:()=>{c.hasVisual=!c.hasVisual,c.addVisual()}})})(s)},iI=["toggleview"],l1=s=>Re(iI,s.toLowerCase());class c1{constructor(c){this.commands={state:{},exec:{},value:{}},this.editor=c}execCommand(c,p=!1,m,b){const S=this.editor,I=c.toLowerCase(),E=b==null?void 0:b.skip_focus;if(S.removed||(I!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(I)||E?(W=>{sd(W).each($=>W.selection.setRng($))})(S):S.focus()),S.dispatch("BeforeExecCommand",{command:c,ui:p,value:m}).isDefaultPrevented()))return!1;const F=this.commands.exec[I];return!!se(F)&&(F(I,p,m),S.dispatch("ExecCommand",{command:c,ui:p,value:m}),!0)}queryCommandState(c){if(!l1(c)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const p=c.toLowerCase(),m=this.commands.state[p];return!!se(m)&&m(p)}queryCommandValue(c){if(!l1(c)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const p=c.toLowerCase(),m=this.commands.value[p];return se(m)?m(p):""}addCommands(c,p="exec"){const m=this.commands;Fe(c,(b,S)=>{he(S.toLowerCase().split(","),I=>{m[p][I]=b})})}addCommand(c,p,m){const b=c.toLowerCase();this.commands.exec[b]=(S,I,E)=>p.call(m??this.editor,I,E)}queryCommandSupported(c){const p=c.toLowerCase();return!!this.commands.exec[p]}addQueryStateHandler(c,p,m){this.commands.state[c.toLowerCase()]=()=>p.call(m??this.editor)}addQueryValueHandler(c,p,m){this.commands.value[c.toLowerCase()]=()=>p.call(m??this.editor)}}const Tm="data-mce-contenteditable",u1=(s,c,p)=>{try{s.getDoc().execCommand(c,!1,String(p))}catch{}},h1=(s,c)=>{s.dom.contentEditable=c?"true":"false"},Im=(s,c)=>{const p=Xe(s.getBody());((m,b,S)=>{Au(m,b)&&!S?Kl(m,b):S&&$d(m,b)})(p,"mce-content-readonly",c),c?(s.selection.controlSelection.hideResizeRect(),s._selectionOverrides.hideFakeCaret(),(m=>{U.from(m.selection.getNode()).each(b=>{b.removeAttribute("data-mce-selected")})})(s),s.readonly=!0,h1(p,!1),he(fa(p,'*[contenteditable="true"]'),m=>{Mo(m,Tm,"true"),h1(m,!1)})):(s.readonly=!1,h1(p,!0),he(fa(p,'*[data-mce-contenteditable="true"]'),m=>{No(m,Tm),h1(m,!0)}),u1(s,"StyleWithCSS",!1),u1(s,"enableInlineTableEditing",!1),u1(s,"enableObjectResizing",!1),(m=>ld(m)||(b=>{const S=qo(Xe(b.getElement()));return Tv(S).filter(I=>!(E=>{const F=E.classList;return F!==void 0&&(F.contains("tox-edit-area")||F.contains("tox-edit-area__iframe")||F.contains("mce-content-body"))})(I.dom)&&zg(b,I.dom)).isSome()})(m))(s)&&s.focus(),(m=>{m.selection.setRng(m.selection.getRng())})(s),s.nodeChanged())},Mf=s=>s.readonly,rI=s=>{s.parser.addAttributeFilter("contenteditable",c=>{Mf(s)&&he(c,p=>{p.attr(Tm,p.attr("contenteditable")),p.attr("contenteditable","false")})}),s.serializer.addAttributeFilter(Tm,c=>{Mf(s)&&he(c,p=>{p.attr("contenteditable",p.attr(Tm))})}),s.serializer.addTempAttr(Tm)},oI=["copy"],xk=Mn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class d1{constructor(c){this.bindings={},this.settings=c||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||oe}static isNative(c){return!!xk[c.toLowerCase()]}fire(c,p){return this.dispatch(c,p)}dispatch(c,p){const m=c.toLowerCase(),b=xp(m,p??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(b);const S=this.bindings[m];if(S)for(let I=0,E=S.length;I<E;I++){const F=S[I];if(!F.removed){if(F.once&&this.off(m,F.func),b.isImmediatePropagationStopped())return b;if(F.func.call(this.scope,b)===!1)return b.preventDefault(),b}}return b}on(c,p,m,b){if(p===!1&&(p=oe),p){const S={func:p,removed:!1};b&&Mn.extend(S,b);const I=c.toLowerCase().split(" ");let E=I.length;for(;E--;){const F=I[E];let W=this.bindings[F];W||(W=[],this.toggleEvent(F,!0)),W=m?[S,...W]:[...W,S],this.bindings[F]=W}}return this}off(c,p){if(c){const m=c.toLowerCase().split(" ");let b=m.length;for(;b--;){const S=m[b];let I=this.bindings[S];if(!S)return Fe(this.bindings,(E,F)=>{this.toggleEvent(F,!1),delete this.bindings[F]}),this;if(I){if(p){const E=kn(I,F=>F.func===p);I=E.fail,this.bindings[S]=I,he(E.pass,F=>{F.removed=!0})}else I.length=0;I.length||(this.toggleEvent(c,!1),delete this.bindings[S])}}}else Fe(this.bindings,(m,b)=>{this.toggleEvent(b,!1)}),this.bindings={};return this}once(c,p,m){return this.on(c,p,m,{once:!0})}has(c){c=c.toLowerCase();const p=this.bindings[c];return!(!p||p.length===0)}}const Tf=s=>(s._eventDispatcher||(s._eventDispatcher=new d1({scope:s,toggleEvent:(c,p)=>{d1.isNative(c)&&s.toggleNativeEvent&&s.toggleNativeEvent(c,p)}})),s._eventDispatcher),bk={fire(s,c,p){return this.dispatch(s,c,p)},dispatch(s,c,p){const m=this;if(m.removed&&s!=="remove"&&s!=="detach")return xp(s.toLowerCase(),c??{},m);const b=Tf(m).dispatch(s,c);if(p!==!1&&m.parent){let S=m.parent();for(;S&&!b.isPropagationStopped();)S.dispatch(s,b,!1),S=S.parent?S.parent():void 0}return b},on(s,c,p){return Tf(this).on(s,c,p)},off(s,c){return Tf(this).off(s,c)},once(s,c){return Tf(this).once(s,c)},hasEventListeners(s){return Tf(this).has(s)}},Dm=kr.DOM;let Bd;const i0=(s,c)=>{if(c==="selectionchange")return s.getDoc();if(!s.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(c))return s.getDoc().documentElement;const p=tw(s);return p?(s.eventRoot||(s.eventRoot=Dm.select(p)[0]),s.eventRoot):s.getBody()},p1=(s,c,p)=>{(m=>!m.hidden&&!Mf(m))(s)?s.dispatch(c,p):Mf(s)&&((m,b)=>{if((S=>S.type==="click")(b)&&!Ai.metaKeyPressed(b)){const S=Xe(b.target);((I,E)=>_l(E,"a",F=>tr(F,Xe(I.getBody()))).bind(F=>Qs(F,"href")))(m,S).each(I=>{if(b.preventDefault(),/^#/.test(I)){const F=m.dom.select(`${I},[name="${E=I,er(E,"#")?((W,$)=>W.substring($))(E,1):E}"]`);F.length&&m.selection.scrollIntoView(F[0],!0)}else window.open(I,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");var E})}else(S=>Re(oI,S.type))(b)&&m.dispatch(b.type,b)})(s,p)},f1=(s,c)=>{if(s.delegates||(s.delegates={}),s.delegates[c]||s.removed)return;const p=i0(s,c);if(tw(s)){if(Bd||(Bd={},s.editorManager.on("removeEditor",()=>{s.editorManager.activeEditor||Bd&&(Fe(Bd,(b,S)=>{s.dom.unbind(i0(s,S))}),Bd=null)})),Bd[c])return;const m=b=>{const S=b.target,I=s.editorManager.get();let E=I.length;for(;E--;){const F=I[E].getBody();(F===S||Dm.isChildOf(S,F))&&p1(I[E],c,b)}};Bd[c]=m,Dm.bind(p,c,m)}else{const m=b=>{p1(s,c,b)};Dm.bind(p,c,m),s.delegates[c]=m}},g1={...bk,bindPendingEventDelegates(){const s=this;Mn.each(s._pendingNativeEvents,c=>{f1(s,c)})},toggleNativeEvent(s,c){const p=this;s!=="focus"&&s!=="blur"&&(p.removed||(c?p.initialized?f1(p,s):p._pendingNativeEvents?p._pendingNativeEvents.push(s):p._pendingNativeEvents=[s]:p.initialized&&p.delegates&&(p.dom.unbind(i0(p,s),s,p.delegates[s]),delete p.delegates[s])))},unbindAllNativeEvents(){const s=this,c=s.getBody(),p=s.dom;s.delegates&&(Fe(s.delegates,(m,b)=>{s.dom.unbind(i0(s,b),b,m)}),delete s.delegates),!s.inline&&c&&p&&(c.onload=null,p.unbind(s.getWin()),p.unbind(s.getDoc())),p&&(p.unbind(c),p.unbind(s.getContainer()))}},aI=s=>ft(s)?{value:s.split(/[ ,]/),valid:!0}:fe(s,ft)?{value:s,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},wk=(s,c)=>s+(C(c.message)?"":`. ${c.message}`),m1=s=>s.valid,r0=(s,c,p="")=>{const m=c(s);return te(m)?m?{value:s,valid:!0}:{valid:!1,message:p}:m},_k=["design","readonly"],v1=(s,c,p,m)=>{const b=p[c.get()],S=p[m];try{S.activate()}catch(I){return void console.error(`problem while activating editor mode ${m}:`,I)}b.deactivate(),b.editorReadOnly!==S.editorReadOnly&&Im(s,S.editorReadOnly),c.set(m),((I,E)=>{I.dispatch("SwitchMode",{mode:E})})(s,m)},zd=Mn.each,o0=Mn.explode,sI={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Sk=Mn.makeMap("alt,ctrl,shift,meta,access"),Ck=s=>{const c={},p=ti.os.isMacOS()||ti.os.isiOS();zd(o0(s.toLowerCase(),"+"),S=>{(I=>I in Sk)(S)?c[S]=!0:/^[0-9]{2,}$/.test(S)?c.keyCode=parseInt(S,10):(c.charCode=S.charCodeAt(0),c.keyCode=sI[S]||S.toUpperCase().charCodeAt(0))});const m=[c.keyCode];let b;for(b in Sk)c[b]?m.push(b):c[b]=!1;return c.id=m.join(","),c.access&&(c.alt=!0,p?c.ctrl=!0:c.shift=!0),c.meta&&(p?c.meta=!0:(c.ctrl=!0,c.meta=!1)),c};class kk{constructor(c){this.shortcuts={},this.pendingPatterns=[],this.editor=c;const p=this;c.on("keyup keypress keydown",m=>{!p.hasModifier(m)&&!p.isFunctionKey(m)||m.isDefaultPrevented()||(zd(p.shortcuts,b=>{p.matchShortcut(m,b)&&(p.pendingPatterns=b.subpatterns.slice(0),m.type==="keydown"&&p.executeShortcutAction(b))}),p.matchShortcut(m,p.pendingPatterns[0])&&(p.pendingPatterns.length===1&&m.type==="keydown"&&p.executeShortcutAction(p.pendingPatterns[0]),p.pendingPatterns.shift()))})}add(c,p,m,b){const S=this,I=S.normalizeCommandFunc(m);return zd(o0(Mn.trim(c)),E=>{const F=S.createShortcut(E,p,I,b);S.shortcuts[F.id]=F}),!0}remove(c){const p=this.createShortcut(c);return!!this.shortcuts[p.id]&&(delete this.shortcuts[p.id],!0)}normalizeCommandFunc(c){const p=this,m=c;return typeof m=="string"?()=>{p.editor.execCommand(m,!1,null)}:Mn.isArray(m)?()=>{p.editor.execCommand(m[0],m[1],m[2])}:m}createShortcut(c,p,m,b){const S=Mn.map(o0(c,">"),Ck);return S[S.length-1]=Mn.extend(S[S.length-1],{func:m,scope:b||this.editor}),Mn.extend(S[0],{desc:this.editor.translate(p),subpatterns:S.slice(1)})}hasModifier(c){return c.altKey||c.ctrlKey||c.metaKey}isFunctionKey(c){return c.type==="keydown"&&c.keyCode>=112&&c.keyCode<=123}matchShortcut(c,p){return!!p&&p.ctrl===c.ctrlKey&&p.meta===c.metaKey&&p.alt===c.altKey&&p.shift===c.shiftKey&&!!(c.keyCode===p.keyCode||c.charCode&&c.charCode===p.charCode)&&(c.preventDefault(),!0)}executeShortcutAction(c){return c.func?c.func.call(c.scope):null}}const NL=()=>{const s=(()=>{const c={},p={},m={},b={},S={},I={},E={},F={},W=($,tt)=>(ut,ht)=>{$[ut.toLowerCase()]={...ht,type:tt}};return{addButton:W(c,"button"),addGroupToolbarButton:W(c,"grouptoolbarbutton"),addToggleButton:W(c,"togglebutton"),addMenuButton:W(c,"menubutton"),addSplitButton:W(c,"splitbutton"),addMenuItem:W(p,"menuitem"),addNestedMenuItem:W(p,"nestedmenuitem"),addToggleMenuItem:W(p,"togglemenuitem"),addAutocompleter:W(m,"autocompleter"),addContextMenu:W(S,"contextmenu"),addContextToolbar:W(I,"contexttoolbar"),addContextForm:W(I,"contextform"),addSidebar:W(E,"sidebar"),addView:W(F,"views"),addIcon:($,tt)=>b[$.toLowerCase()]=tt,getAll:()=>({buttons:c,menuItems:p,icons:b,popups:m,contextMenus:S,contextToolbars:I,sidebars:E,views:F})}})();return{addAutocompleter:s.addAutocompleter,addButton:s.addButton,addContextForm:s.addContextForm,addContextMenu:s.addContextMenu,addContextToolbar:s.addContextToolbar,addIcon:s.addIcon,addMenuButton:s.addMenuButton,addMenuItem:s.addMenuItem,addNestedMenuItem:s.addNestedMenuItem,addSidebar:s.addSidebar,addSplitButton:s.addSplitButton,addToggleButton:s.addToggleButton,addGroupToolbarButton:s.addGroupToolbarButton,addToggleMenuItem:s.addToggleMenuItem,addView:s.addView,getAll:s.getAll}},Yl=kr.DOM,lI=Mn.extend,If=Mn.each;class a0{constructor(c,p,m){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=m,this.documentBaseUrl=m.documentBaseURL,lI(this,g1);const b=this;this.id=c,this.hidden=!1;const S=((ht,st)=>s1(fk||LL,fk,st,ht,st))(m.defaultOptions,p);this.options=((ht,st)=>{const xt={},lt={},_t=(Xt,ce,Ae)=>{const _e=r0(ce,Ae);return m1(_e)?(lt[Xt]=_e.value,!0):(console.warn(wk(`Invalid value passed for the ${Xt} option`,_e)),!1)},Pt=Xt=>gn(xt,Xt);return{register:(Xt,ce)=>{const Ae=(Ye=>ft(Ye.processor))(ce)?(Ye=>{const ze=(()=>{switch(Ye){case"array":return Ct;case"boolean":return te;case"function":return se;case"number":return Me;case"object":return It;case"string":return ft;case"string[]":return aI;case"object[]":return Ge=>fe(Ge,It);case"regexp":return Ge=>gt(Ge,RegExp);default:return Oe}})();return Ge=>r0(Ge,ze,`The value must be a ${Ye}.`)})(ce.processor):ce.processor,_e=((Ye,ze,Ge)=>{if(!At(ze)){const en=r0(ze,Ge);if(m1(en))return en.value;console.error(wk(`Invalid default value passed for the "${Ye}" option`,en))}})(Xt,ce.default,Ae);xt[Xt]={...ce,default:_e,processor:Ae},En(lt,Xt).orThunk(()=>En(st,Xt)).each(Ye=>_t(Xt,Ye,Ae))},isRegistered:Pt,get:Xt=>En(lt,Xt).orThunk(()=>En(xt,Xt).map(ce=>ce.default)).getOrUndefined(),set:(Xt,ce)=>{if(Pt(Xt)){const Ae=xt[Xt];return Ae.immutable?(console.error(`"${Xt}" is an immutable option and cannot be updated`),!1):_t(Xt,ce,Ae.processor)}return console.warn(`"${Xt}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Xt=>{const ce=Pt(Xt);return ce&&delete lt[Xt],ce},isSet:Xt=>gn(lt,Xt)}})(0,S),(ht=>{const st=ht.options.register;st("id",{processor:"string",default:ht.id}),st("selector",{processor:"string"}),st("target",{processor:"object"}),st("suffix",{processor:"string"}),st("cache_suffix",{processor:"string"}),st("base_url",{processor:"string"}),st("referrer_policy",{processor:"string",default:""}),st("language_load",{processor:"boolean",default:!0}),st("inline",{processor:"boolean",default:!1}),st("iframe_attrs",{processor:"object",default:{}}),st("doctype",{processor:"string",default:"<!DOCTYPE html>"}),st("document_base_url",{processor:"string",default:ht.documentBaseUrl}),st("body_id",{processor:Yh(ht,"tinymce"),default:"tinymce"}),st("body_class",{processor:Yh(ht),default:""}),st("content_security_policy",{processor:"string",default:""}),st("br_in_pre",{processor:"boolean",default:!0}),st("forced_root_block",{processor:xt=>{const lt=ft(xt)&&y(xt);return lt?{value:xt,valid:lt}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),st("forced_root_block_attrs",{processor:"object",default:{}}),st("newline_behavior",{processor:xt=>{const lt=Re(["block","linebreak","invert","default"],xt);return lt?{value:xt,valid:lt}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),st("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),st("no_newline_selector",{processor:"string",default:""}),st("keep_styles",{processor:"boolean",default:!0}),st("end_container_on_empty_block",{processor:xt=>te(xt)||ft(xt)?{valid:!0,value:xt}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),st("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),st("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),st("font_size_classes",{processor:"string",default:""}),st("automatic_uploads",{processor:"boolean",default:!0}),st("images_reuse_filename",{processor:"boolean",default:!1}),st("images_replace_blob_uris",{processor:"boolean",default:!0}),st("icons",{processor:"string",default:""}),st("icons_url",{processor:"string",default:""}),st("images_upload_url",{processor:"string",default:""}),st("images_upload_base_path",{processor:"string",default:""}),st("images_upload_credentials",{processor:"boolean",default:!1}),st("images_upload_handler",{processor:"function"}),st("language",{processor:"string",default:"en"}),st("language_url",{processor:"string",default:""}),st("entity_encoding",{processor:"string",default:"named"}),st("indent",{processor:"boolean",default:!0}),st("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),st("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),st("indent_use_margin",{processor:"boolean",default:!1}),st("indentation",{processor:"string",default:"40px"}),st("content_css",{processor:xt=>{const lt=xt===!1||ft(xt)||fe(xt,ft);return lt?ft(xt)?{value:un(xt.split(","),$t),valid:lt}:Ct(xt)?{value:xt,valid:lt}:xt===!1?{value:[],valid:lt}:{value:xt,valid:lt}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:av(ht)?[]:["default"]}),st("content_style",{processor:"string"}),st("content_css_cors",{processor:"boolean",default:!1}),st("font_css",{processor:xt=>{const lt=ft(xt)||fe(xt,ft);return lt?{value:Ct(xt)?xt:un(xt.split(","),$t),valid:lt}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),st("inline_boundaries",{processor:"boolean",default:!0}),st("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),st("object_resizing",{processor:xt=>{const lt=te(xt)||ft(xt);return lt?xt===!1||T0.isiPhone()||T0.isiPad()?{value:"",valid:lt}:{value:xt===!0?"table,img,figure.image,div,video,iframe":xt,valid:lt}:{valid:!1,message:"Must be boolean or a string"}},default:!Uk}),st("resize_img_proportional",{processor:"boolean",default:!0}),st("event_root",{processor:"object"}),st("service_message",{processor:"string"}),st("theme",{processor:xt=>xt===!1||ft(xt)||se(xt),default:"silver"}),st("theme_url",{processor:"string"}),st("formats",{processor:"object"}),st("format_empty_lines",{processor:"boolean",default:!1}),st("format_noneditable_selector",{processor:"string",default:""}),st("preview_styles",{processor:xt=>{const lt=xt===!1||ft(xt);return lt?{value:xt===!1?"":xt,valid:lt}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),st("custom_ui_selector",{processor:"string",default:""}),st("hidden_input",{processor:"boolean",default:!0}),st("submit_patch",{processor:"boolean",default:!0}),st("encoding",{processor:"string"}),st("add_form_submit_trigger",{processor:"boolean",default:!0}),st("add_unload_trigger",{processor:"boolean",default:!0}),st("custom_undo_redo_levels",{processor:"number",default:0}),st("disable_nodechange",{processor:"boolean",default:!1}),st("readonly",{processor:"boolean",default:!1}),st("plugins",{processor:"string[]",default:[]}),st("external_plugins",{processor:"object"}),st("forced_plugins",{processor:"string[]"}),st("model",{processor:"string",default:ht.hasPlugin("rtc")?"plugin":"dom"}),st("model_url",{processor:"string"}),st("block_unsupported_drop",{processor:"boolean",default:!0}),st("visual",{processor:"boolean",default:!0}),st("visual_table_class",{processor:"string",default:"mce-item-table"}),st("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),st("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),st("setup",{processor:"function"}),st("init_instance_callback",{processor:"function"}),st("url_converter",{processor:"function",default:ht.convertURL}),st("url_converter_scope",{processor:"object",default:ht}),st("urlconverter_callback",{processor:"function"}),st("allow_conditional_comments",{processor:"boolean",default:!1}),st("allow_html_data_urls",{processor:"boolean",default:!1}),st("allow_svg_data_urls",{processor:"boolean"}),st("allow_html_in_named_anchor",{processor:"boolean",default:!1}),st("allow_script_urls",{processor:"boolean",default:!1}),st("allow_unsafe_link_target",{processor:"boolean",default:!1}),st("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),st("fix_list_elements",{processor:"boolean",default:!1}),st("preserve_cdata",{processor:"boolean",default:!1}),st("remove_trailing_brs",{processor:"boolean"}),st("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),st("element_format",{processor:"string",default:"html"}),st("entities",{processor:"string"}),st("schema",{processor:"string",default:"html5"}),st("convert_urls",{processor:"boolean",default:!0}),st("relative_urls",{processor:"boolean",default:!0}),st("remove_script_host",{processor:"boolean",default:!0}),st("custom_elements",{processor:"string"}),st("extended_valid_elements",{processor:"string"}),st("invalid_elements",{processor:"string"}),st("invalid_styles",{processor:G1}),st("valid_children",{processor:"string"}),st("valid_classes",{processor:G1}),st("valid_elements",{processor:"string"}),st("valid_styles",{processor:G1}),st("verify_html",{processor:"boolean",default:!0}),st("auto_focus",{processor:xt=>ft(xt)||xt===!0}),st("browser_spellcheck",{processor:"boolean",default:!1}),st("protect",{processor:"array"}),st("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),st("deprecation_warnings",{processor:"boolean",default:!0}),st("a11y_advanced_options",{processor:"boolean",default:!1}),st("api_key",{processor:"string"}),st("paste_block_drop",{processor:"boolean",default:!1}),st("paste_data_images",{processor:"boolean",default:!0}),st("paste_preprocess",{processor:"function"}),st("paste_postprocess",{processor:"function"}),st("paste_webkit_styles",{processor:"string",default:"none"}),st("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),st("paste_merge_formats",{processor:"boolean",default:!0}),st("smart_paste",{processor:"boolean",default:!0}),st("paste_as_text",{processor:"boolean",default:!1}),st("paste_tab_spaces",{processor:"number",default:4}),st("text_patterns",{processor:xt=>fe(xt,It)||xt===!1?{value:j1(xt===!1?[]:xt),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),st("text_patterns_lookup",{processor:xt=>{return se(xt)?{value:(lt=xt,_t=>{const Pt=lt(_t);return j1(Pt)}),valid:!0}:{valid:!1,message:"Must be a single function"};var lt},default:xt=>[]}),st("noneditable_class",{processor:"string",default:"mceNonEditable"}),st("editable_class",{processor:"string",default:"mceEditable"}),st("noneditable_regexp",{processor:xt=>fe(xt,is)?{value:xt,valid:!0}:is(xt)?{value:[xt],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),st("table_tab_navigation",{processor:"boolean",default:!0}),ht.on("ScriptsLoaded",()=>{st("directionality",{processor:"string",default:mo.isRtl()?"rtl":void 0}),st("placeholder",{processor:"string",default:Y1.getAttrib(ht.getElement(),"placeholder")})})})(b);const I=this.options.get;I("deprecation_warnings")&&((ht,st)=>{((xt,lt)=>{const _t=gS(xt),Pt=ZM(lt),Xt=Pt.length>0,ce=_t.length>0,Ae=lt.theme==="mobile";if(Xt||ce||Ae){const _e=`
- `,Ye=Ae?`

Themes:${_e}mobile`:"",ze=Xt?`

Plugins:${_e}${Pt.join(_e)}`:"",Ge=ce?`

Options:${_e}${_t.join(_e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+Ye+ze+Ge)}})(ht,st)})(p,S);const E=I("suffix");E&&(m.suffix=E),this.suffix=m.suffix;const F=I("base_url");F&&m._setBaseUrl(F),this.baseUri=m.baseURI;const W=ov(b);W&&($o.ScriptLoader._setReferrerPolicy(W),kr.DOM.styleSheetLoader._setReferrerPolicy(W));const $=lA(b);Kt($)&&kr.DOM.styleSheetLoader._setContentCssCors($),Zr.languageLoad=I("language_load"),Zr.baseURL=m.baseURL,this.setDirty(!1),this.documentBaseURI=new Ac(iv(b),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=av(b),this.hasVisual=hA(b),this.shortcuts=new kk(this),this.editorCommands=new c1(this),n0(this);const tt=I("cache_suffix");tt&&(ti.cacheSuffix=tt.replace(/^[\?\&]+/,"")),this.ui={registry:NL(),styleSheetLoader:void 0,show:ne,hide:ne,setEnabled:ne,isEnabled:Oe},this.mode=(ht=>{const st=no("design"),xt=no({design:{activate:ne,deactivate:ne,editorReadOnly:!1},readonly:{activate:ne,deactivate:ne,editorReadOnly:!0}});return(lt=>{lt.serializer?rI(lt):lt.on("PreInit",()=>{rI(lt)})})(ht),(lt=>{lt.on("ShowCaret",_t=>{Mf(lt)&&_t.preventDefault()}),lt.on("ObjectSelected",_t=>{Mf(lt)&&_t.preventDefault()})})(ht),{isReadOnly:()=>Mf(ht),set:lt=>((_t,Pt,Xt,ce)=>{if(ce!==Xt.get()){if(!gn(Pt,ce))throw new Error(`Editor mode '${ce}' is invalid`);_t.initialized?v1(_t,Xt,Pt,ce):_t.on("init",()=>v1(_t,Xt,Pt,ce))}})(ht,xt.get(),st,lt),get:()=>st.get(),register:(lt,_t)=>{xt.set(((Pt,Xt,ce)=>{if(Re(_k,Xt))throw new Error(`Cannot override default mode ${Xt}`);return{...Pt,[Xt]:{...ce,deactivate:()=>{try{ce.deactivate()}catch(Ae){console.error(`problem while deactivating editor mode ${Xt}:`,Ae)}}}}})(xt.get(),lt,_t))}}})(b),m.dispatch("SetupEditor",{editor:this});const ut=El(b);se(ut)&&ut.call(b,b)}render(){(c=>{const p=c.id;mo.setCode($1(c));const m=()=>{Rd.unbind(window,"ready",m),c.render()};if(!Kc.Event.domLoaded)return void Rd.bind(window,"ready",m);if(!c.getElement())return;const b=Xe(c.getElement()),S=Ff(b);c.on("remove",()=>{In(b.dom.attributes,E=>No(b,E.name)),Ul(b,S)}),c.ui.styleSheetLoader=((E,F)=>Um.forElement(E,{contentCssCors:lA(F),referrerPolicy:ov(F)}))(b,c),av(c)?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility="hidden");const I=c.getElement().form||Rd.getParent(p,"form");I&&(c.formElement=I,E0(c)&&!ap(c.getElement())&&(Rd.insertAfter(Rd.create("input",{type:"hidden",name:p}),p),c.hasHiddenInput=!0),c.formEventDelegate=E=>{c.dispatch(E.type,E)},Rd.bind(I,"submit reset",c.formEventDelegate),c.on("reset",()=>{c.resetContent()}),!P0(c)||I.submit.nodeType||I.submit.length||I._mceOldSubmit||(I._mceOldSubmit=I.submit,I.submit=()=>(c.editorManager.triggerSave(),c.setDirty(!1),I._mceOldSubmit(I)))),c.windowManager=QM(c),c.notificationManager=yS(c),(E=>E.options.get("encoding")==="xml")(c)&&c.on("GetContent",E=>{E.save&&(E.content=Rd.encode(E.content))}),sv(c)&&c.on("submit",()=>{c.initialized&&c.save()}),aA(c)&&(c._beforeUnload=()=>{!c.initialized||c.destroyed||c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload)),c.editorManager.add(c),DL(c,c.suffix)})(this)}focus(c){this.execCommand("mceFocus",!1,c)}hasFocus(){return ld(this)}translate(c){return mo.translate(c)}getParam(c,p,m){const b=this.options;return b.isRegistered(c)||(Kt(m)?b.register(c,{processor:m,default:p}):b.register(c,{processor:Oe,default:p})),b.isSet(c)||At(p)?b.get(c):p}hasPlugin(c,p){return!(!Re(N0(this),c)||p&&of.get(c)===void 0)}nodeChanged(c){this._nodeChangeDispatcher.nodeChanged(c)}addCommand(c,p,m){this.editorCommands.addCommand(c,p,m)}addQueryStateHandler(c,p,m){this.editorCommands.addQueryStateHandler(c,p,m)}addQueryValueHandler(c,p,m){this.editorCommands.addQueryValueHandler(c,p,m)}addShortcut(c,p,m,b){this.shortcuts.add(c,p,m,b)}execCommand(c,p,m,b){return this.editorCommands.execCommand(c,p,m,b)}queryCommandState(c){return this.editorCommands.queryCommandState(c)}queryCommandValue(c){return this.editorCommands.queryCommandValue(c)}queryCommandSupported(c){return this.editorCommands.queryCommandSupported(c)}show(){const c=this;c.hidden&&(c.hidden=!1,c.inline?c.getBody().contentEditable="true":(Yl.show(c.getContainer()),Yl.hide(c.id)),c.load(),c.dispatch("show"))}hide(){const c=this;c.hidden||(c.save(),c.inline?(c.getBody().contentEditable="false",c===c.editorManager.focusedEditor&&(c.editorManager.focusedEditor=null)):(Yl.hide(c.getContainer()),Yl.setStyle(c.id,"display",c.orgDisplay)),c.hidden=!0,c.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(c,p){this.dispatch("ProgressState",{state:c,time:p})}load(c={}){const p=this,m=p.getElement();if(p.removed)return"";if(m){const b={...c,load:!0},S=ap(m)?m.value:m.innerHTML,I=p.setContent(S,b);return b.no_events||p.dispatch("LoadContent",{...b,element:m}),I}return""}save(c={}){const p=this;let m=p.getElement();if(!m||!p.initialized||p.removed)return"";const b={...c,save:!0,element:m};let S=p.getContent(b);const I={...b,content:S};if(I.no_events||p.dispatch("SaveContent",I),I.format==="raw"&&p.dispatch("RawSaveContent",I),S=I.content,ap(m))m.value=S;else{!c.is_removing&&p.inline||(m.innerHTML=S);const E=Yl.getParent(p.id,"form");E&&If(E.elements,F=>F.name!==p.id||(F.value=S,!1))}return I.element=b.element=m=null,I.set_dirty!==!1&&p.setDirty(!1),S}setContent(c,p){return nf(this,c,p)}getContent(c){return((p,m={})=>{const b=((S,I)=>({...S,format:I,get:!0,getInner:!0}))(m,m.format?m.format:"html");return iy(p,b).fold(Le,S=>{const I=((E,F)=>ly(E).editor.getContent(F))(p,S);return ry(p,I,S)})})(this,c)}insertContent(c,p){p&&(c=lI({content:c},p)),this.execCommand("mceInsertContent",!1,c)}resetContent(c){c===void 0?nf(this,this.startContent,{format:"raw"}):nf(this,c),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(c){const p=!this.isNotDirty;this.isNotDirty=!c,c&&c!==p&&this.dispatch("dirty")}getContainer(){const c=this;return c.container||(c.container=c.editorContainer||Yl.get(c.id+"_parent")),c.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Yl.get(this.id)),this.targetElm}getWin(){const c=this;if(!c.contentWindow){const p=c.iframeElement;p&&(c.contentWindow=p.contentWindow)}return c.contentWindow}getDoc(){const c=this;if(!c.contentDocument){const p=c.getWin();p&&(c.contentDocument=p.document)}return c.contentDocument}getBody(){var c,p;const m=this.getDoc();return(p=(c=this.bodyElement)!==null&&c!==void 0?c:m==null?void 0:m.body)!==null&&p!==void 0?p:null}convertURL(c,p,m){const b=this,S=b.options.get,I=lv(b);return se(I)?I.call(b,c,m,!0,p):!S("convert_urls")||m==="link"||It(m)&&m.nodeName==="LINK"||c.indexOf("file:")===0||c.length===0?c:S("relative_urls")?b.documentBaseURI.toRelative(c):c=b.documentBaseURI.toAbsolute(c,S("remove_script_host"))}addVisual(c){((p,m)=>{((b,S)=>{So(b).editor.addVisual(S)})(p,m)})(this,c)}remove(){(c=>{if(!c.removed){const{_selectionOverrides:p,editorUpload:m}=c,b=c.getBody(),S=c.getElement();b&&c.save({is_removing:!0}),c.removed=!0,c.unbindAllNativeEvents(),c.hasHiddenInput&&Kt(S==null?void 0:S.nextSibling)&&rf.remove(S.nextSibling),(I=>{I.dispatch("remove")})(c),c.editorManager.remove(c),!c.inline&&b&&(I=>{rf.setStyle(I.id,"display",I.orgDisplay)})(c),(I=>{I.dispatch("detach")})(c),rf.remove(c.getContainer()),hh(p),hh(m),c.destroy()}})(this)}destroy(c){((p,m)=>{const{selection:b,dom:S}=p;p.destroyed||(m||p.removed?(m||(p.editorManager.off("beforeunload",p._beforeUnload),p.theme&&p.theme.destroy&&p.theme.destroy(),hh(b),hh(S)),(I=>{const E=I.formElement;E&&(E._mceOldSubmit&&(E.submit=E._mceOldSubmit,delete E._mceOldSubmit),rf.unbind(E,"submit reset",I.formEventDelegate))})(p),(I=>{const E=I;E.contentAreaContainer=E.formElement=E.container=E.editorContainer=null,E.bodyElement=E.contentDocument=E.contentWindow=null,E.iframeElement=E.targetElm=null;const F=I.selection;if(F){const W=F.dom;E.selection=F.win=F.dom=W.doc=null}})(p),p.destroyed=!0):p.remove())})(this,c)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Df=kr.DOM,s0=Mn.each;let y1,cI=!1,ds=[];const x1=s=>{const c=s.type;s0(Fd.get(),p=>{switch(c){case"scroll":p.dispatch("ScrollWindow",s);break;case"resize":p.dispatch("ResizeWindow",s)}})},l0=s=>{if(s!==cI){const c=kr.DOM;s?(c.bind(window,"resize",x1),c.bind(window,"scroll",x1)):(c.unbind(window,"resize",x1),c.unbind(window,"scroll",x1)),cI=s}},uI=s=>{const c=ds;return ds=Gn(ds,p=>s!==p),Fd.activeEditor===s&&(Fd.activeEditor=ds.length>0?ds[0]:null),Fd.focusedEditor===s&&(Fd.focusedEditor=null),c.length!==ds.length},RL=document.compatMode!=="CSS1Compat",Fd={...bk,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"3.2",releaseDate:"2023-02-22",i18n:mo,activeEditor:null,focusedEditor:null,setup(){const s=this;let c="",p="",m=Ac.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/"));const b=window.tinymce||window.tinyMCEPreInit;if(b)c=b.base||b.baseURL,p=b.suffix;else{const I=document.getElementsByTagName("script");for(let E=0;E<I.length;E++){const F=I[E].src||"";if(F==="")continue;const W=F.substring(F.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(F)){W.indexOf(".min")!==-1&&(p=".min"),c=F.substring(0,F.lastIndexOf("/"));break}}if(!c&&document.currentScript){const E=document.currentScript.src;E.indexOf(".min")!==-1&&(p=".min"),c=E.substring(0,E.lastIndexOf("/"))}}var S;s.baseURL=new Ac(m).toAbsolute(c),s.documentBaseURL=m,s.baseURI=new Ac(s.baseURL),s.suffix=p,(S=s).on("AddEditor",De(zw,S)),S.on("RemoveEditor",De(Fw,S))},overrideDefaults(s){const c=s.base_url;c&&this._setBaseUrl(c);const p=s.suffix;p&&(this.suffix=p),this.defaultOptions=s;const m=s.plugin_base_urls;m!==void 0&&Fe(m,(b,S)=>{Zr.PluginManager.urls[S]=b})},init(s){const c=this;let p;const m=Mn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let b=I=>{p=I};const S=()=>{let I=0;const E=[];let F;Df.unbind(window,"ready",S),(W=>{const $=s.onpageload;$&&$.apply(c,[])})(),F=((W,$)=>{const tt=[],ut=se($)?ht=>Be(tt,st=>$(st,ht)):ht=>Re(tt,ht);for(let ht=0,st=W.length;ht<st;ht++){const xt=W[ht];ut(xt)||tt.push(xt)}return tt})((W=>ti.browser.isIE()||ti.browser.isEdge()?(Qx("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):RL?(Qx("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ft(W.selector)?Df.select(W.selector):Kt(W.target)?[W.target]:[])(s)),Mn.each(F,W=>{var $;($=c.get(W.id))&&$.initialized&&!($.getContainer()||$.getBody()).parentNode&&(uI($),$.unbindAllNativeEvents(),$.destroy(!0),$.removed=!0)}),F=Mn.grep(F,W=>!c.get(W.id)),F.length===0?b([]):s0(F,W=>{(($,tt)=>$.inline&&tt.tagName.toLowerCase()in m)(s,W)?Qx("Could not initialize inline editor on invalid inline target element",W):(($,tt,ut)=>{const ht=new a0($,tt,c);E.push(ht),ht.on("init",()=>{++I===F.length&&b(E)}),ht.targetElm=ht.targetElm||ut,ht.render()})(($=>{let tt=$.id;return tt||(tt=En($,"name").filter(ut=>!Df.get(ut)).getOrThunk(Df.uniqueId),$.setAttribute("id",tt)),tt})(W),s,W)})};return Df.bind(window,"ready",S),new Promise(I=>{p?I(p):b=E=>{I(E)}})},get(s){return arguments.length===0?ds.slice(0):ft(s)?Yi(ds,c=>c.id===s).getOr(null):Me(s)&&ds[s]?ds[s]:null},add(s){const c=this,p=c.get(s.id);return p===s||(p===null&&ds.push(s),l0(!0),c.activeEditor=s,c.dispatch("AddEditor",{editor:s}),y1||(y1=m=>{const b=c.dispatch("BeforeUnload");if(b.returnValue)return m.preventDefault(),m.returnValue=b.returnValue,b.returnValue},window.addEventListener("beforeunload",y1))),s},createEditor(s,c){return this.add(new a0(s,c,this))},remove(s){const c=this;let p;if(s){if(!ft(s))return p=s,ct(c.get(p.id))?null:(uI(p)&&c.dispatch("RemoveEditor",{editor:p}),ds.length===0&&window.removeEventListener("beforeunload",y1),p.remove(),l0(ds.length>0),p);s0(Df.select(s),m=>{p=c.get(m.id),p&&c.remove(p)})}else for(let m=ds.length-1;m>=0;m--)c.remove(ds[m])},execCommand(s,c,p){var m;const b=this,S=It(p)?(m=p.id)!==null&&m!==void 0?m:p.index:p;switch(s){case"mceAddEditor":if(!b.get(S)){const I=p.options;new a0(S,I,b).render()}return!0;case"mceRemoveEditor":{const I=b.get(S);return I&&I.remove(),!0}case"mceToggleEditor":{const I=b.get(S);return I?(I.isHidden()?I.show():I.hide(),!0):(b.execCommand("mceAddEditor",!1,p),!0)}}return!!b.activeEditor&&b.activeEditor.execCommand(s,c,p)},triggerSave:()=>{s0(ds,s=>{s.save()})},addI18n:(s,c)=>{mo.add(s,c)},translate:s=>mo.translate(s),setActive(s){const c=this.activeEditor;this.activeEditor!==s&&(c&&c.dispatch("deactivate",{relatedTarget:s}),s.dispatch("activate",{relatedTarget:c})),this.activeEditor=s},_setBaseUrl(s){this.baseURL=new Ac(this.documentBaseURL).toAbsolute(s.replace(/\/+$/,"")),this.baseURI=new Ac(this.baseURL)}};Fd.setup();const BL=(()=>{const s=rl();return{FakeClipboardItem:c=>({items:c,types:Ee(c),getType:p=>En(c,p).getOrUndefined()}),write:c=>{s.set(c)},read:()=>s.get().getOrUndefined(),clear:s.clear}})(),hI=Math.min,Lm=Math.max,b1=Math.round,dI=(s,c,p)=>{let m=c.x,b=c.y;const S=s.w,I=s.h,E=c.w,F=c.h,W=(p||"").split("");return W[0]==="b"&&(b+=F),W[1]==="r"&&(m+=E),W[0]==="c"&&(b+=b1(F/2)),W[1]==="c"&&(m+=b1(E/2)),W[3]==="b"&&(b-=I),W[4]==="r"&&(m-=S),W[3]==="c"&&(b-=b1(I/2)),W[4]==="c"&&(m-=b1(S/2)),Lf(m,b,S,I)},Lf=(s,c,p,m)=>({x:s,y:c,w:p,h:m}),pI={inflate:(s,c,p)=>Lf(s.x-c,s.y-p,s.w+2*c,s.h+2*p),relativePosition:dI,findBestRelativePosition:(s,c,p,m)=>{for(let b=0;b<m.length;b++){const S=dI(s,c,m[b]);if(S.x>=p.x&&S.x+S.w<=p.w+p.x&&S.y>=p.y&&S.y+S.h<=p.h+p.y)return m[b]}return null},intersect:(s,c)=>{const p=Lm(s.x,c.x),m=Lm(s.y,c.y),b=hI(s.x+s.w,c.x+c.w),S=hI(s.y+s.h,c.y+c.h);return b-p<0||S-m<0?null:Lf(p,m,b-p,S-m)},clamp:(s,c,p)=>{let m=s.x,b=s.y,S=s.x+s.w,I=s.y+s.h;const E=c.x+c.w,F=c.y+c.h,W=Lm(0,c.x-m),$=Lm(0,c.y-b),tt=Lm(0,S-E),ut=Lm(0,I-F);return m+=W,b+=$,p&&(S+=W,I+=$,m-=tt,b-=ut),S-=tt,I-=ut,Lf(m,b,S-m,I-b)},create:Lf,fromClientRect:s=>Lf(s.left,s.top,s.width,s.height)},fI=(()=>{const s={},c={};return{load:(p,m)=>{const b=`Script at URL "${m}" failed to load`,S=`Script at URL "${m}" did not call \`tinymce.Resource.add('${p}', data)\` within 1 second`;if(s[p]!==void 0)return s[p];{const I=new Promise((E,F)=>{const W=(($,tt,ut=1e3)=>{let ht=!1,st=null;const xt=Pt=>(...Xt)=>{ht||(ht=!0,st!==null&&(clearTimeout(st),st=null),Pt.apply(null,Xt))},lt=xt($),_t=xt(tt);return{start:(...Pt)=>{ht||st!==null||(st=setTimeout(()=>_t.apply(null,Pt),ut))},resolve:lt,reject:_t}})(E,F);c[p]=W.resolve,$o.ScriptLoader.loadScript(m).then(()=>W.start(S),()=>W.reject(b))});return s[p]=I,I}},add:(p,m)=>{c[p]!==void 0&&(c[p](m),delete c[p]),s[p]=Promise.resolve(m)},unload:p=>{delete s[p]}}})();let Of;try{const s="__storage_test__";Of=window.localStorage,Of.setItem(s,s),Of.removeItem(s)}catch{Of=(()=>{let c={},p=[];const m={getItem:b=>c[b]||null,setItem:(b,S)=>{p.push(b),c[b]=String(S)},key:b=>p[b],removeItem:b=>{p=p.filter(S=>S===b),delete c[b]},clear:()=>{p=[],c={}},length:0};return Object.defineProperty(m,"length",{get:()=>p.length,configurable:!1,enumerable:!1}),m})()}const zL={geom:{Rect:pI},util:{Delay:Xs,Tools:Mn,VK:Ai,URI:Ac,EventDispatcher:d1,Observable:bk,I18n:mo,LocalStorage:Of,ImageUploader:s=>{const c=am(),p=wS(s,c);return{upload:(m,b=!0)=>p.upload(m,b?bS(s):void 0)}}},dom:{EventUtils:Kc,TreeWalker:wo,TextSeeker:O,DOMUtils:kr,ScriptLoader:$o,RangeUtils:rd,Serializer:rm,StyleSheetLoader:qc,ControlSelection:ou,BookmarkManager:Ao,Selection:uy,Event:Kc.Event},html:{Styles:Km,Entities:Tl,Node:Ra,Schema:pc,DomParser:ch,Writer:$w,Serializer:ud},Env:ti,AddOnManager:Zr,Annotator:ed,Formatter:rT,UndoManager:SS,EditorCommands:c1,WindowManager:QM,NotificationManager:yS,EditorObservable:g1,Shortcuts:kk,Editor:a0,FocusManager:Yp,EditorManager:Fd,DOM:kr.DOM,ScriptLoader:$o.ScriptLoader,PluginManager:of,ThemeManager:Cd,ModelManager:om,IconManager:Jx,Resource:fI,FakeClipboard:BL,trim:Mn.trim,isArray:Mn.isArray,is:Mn.is,toArray:Mn.toArray,makeMap:Mn.makeMap,each:Mn.each,map:Mn.map,grep:Mn.grep,inArray:Mn.inArray,extend:Mn.extend,walk:Mn.walk,resolve:Mn.resolve,explode:Mn.explode,_addCacheSuffix:Mn._addCacheSuffix},gI=Mn.extend(Fd,zL);(s=>{window.tinymce=s,window.tinyMCE=s})(gI),(s=>{if(typeof Xl=="object")try{Xl.exports=s}catch{}})(gI)})();(function(){document.querySelectorAll(".php-email-form").forEach(function(qt){qt.addEventListener("submit",function(ke){ke.preventDefault();let Jt=this,re=Jt.getAttribute("action"),Zt=Jt.getAttribute("data-recaptcha-site-key");if(!re){wt(Jt,"The form action property is not set!");return}Jt.querySelector(".loading").classList.add("d-block"),Jt.querySelector(".error-message").classList.remove("d-block"),Jt.querySelector(".sent-message").classList.remove("d-block");let Bt=new FormData(Jt);Zt?typeof grecaptcha<"u"?grecaptcha.ready(function(){try{grecaptcha.execute(Zt,{action:"php_email_form_submit"}).then(yt=>{Bt.set("recaptcha-response",yt),Wt(Jt,re,Bt)})}catch(yt){wt(Jt,yt)}}):wt(Jt,"The reCaptcha javascript API url is not loaded!"):Wt(Jt,re,Bt)})});function Wt(qt,ke,Jt){fetch(ke,{method:"POST",body:Jt,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(re=>{if(re.ok)return re.text();throw new Error(`${re.status} ${re.statusText} ${re.url}`)}).then(re=>{if(qt.querySelector(".loading").classList.remove("d-block"),re.trim()=="OK")qt.querySelector(".sent-message").classList.add("d-block"),qt.reset();else throw new Error(re||"Form submission failed and no error message returned from: "+ke)}).catch(re=>{wt(qt,re)})}function wt(qt,ke){qt.querySelector(".loading").classList.remove("d-block"),qt.querySelector(".error-message").innerHTML=ke,qt.querySelector(".error-message").classList.add("d-block")}})();(function(){const Ve=(gt,ft=!1)=>(gt=gt.trim(),ft?[...document.querySelectorAll(gt)]:document.querySelector(gt)),Wt=(gt,ft,It,Mt=!1)=>{Mt?Ve(ft,Mt).forEach(Ct=>Ct.addEventListener(gt,It)):Ve(ft,Mt).addEventListener(gt,It)},wt=(gt,ft)=>{gt.addEventListener("scroll",ft)};Ve(".toggle-sidebar-btn")&&Wt("click",".toggle-sidebar-btn",function(gt){Ve("body").classList.toggle("toggle-sidebar")});let qt=Ve("#navbar .scrollto",!0);const ke=()=>{let gt=window.scrollY+200;qt.forEach(ft=>{if(!ft.hash)return;let It=Ve(ft.hash);It&&(gt>=It.offsetTop&&gt<=It.offsetTop+It.offsetHeight?ft.classList.add("active"):ft.classList.remove("active"))})};window.addEventListener("load",ke),wt(document,ke);let Jt=Ve("#header");if(Jt){const gt=()=>{window.scrollY>100?Jt.classList.add("header-scrolled"):Jt.classList.remove("header-scrolled")};window.addEventListener("load",gt),wt(document,gt)}let re=Ve(".back-to-top");if(re){const gt=()=>{window.scrollY>100?re.classList.add("active"):re.classList.remove("active")};window.addEventListener("load",gt),wt(document,gt)}var Zt=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));Zt.map(function(gt){return new bootstrap.Tooltip(gt)});var Bt=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(Bt).forEach(function(gt){gt.addEventListener("submit",function(ft){gt.checkValidity()||(ft.preventDefault(),ft.stopPropagation()),gt.classList.add("was-validated")},!1)}),Ve(".datatable",!0).forEach(gt=>{new simpleDatatables.DataTable(gt)});const pt=Ve("#main");pt&&setTimeout(()=>{new ResizeObserver(function(){Ve(".echart",!0).forEach(gt=>{echarts.getInstanceByDom(gt).resize()})}).observe(pt)},200)})()});export default LF();
